import{a as Ui}from"./chunk-W7I3UYYH.js";import{Aa as Fi,D as Vs,Da as or,Ea as Wr,Fa as Qt,Ga as pr,Ja as Xs,Na as ni,Oa as Ni,P as Di,Pa as Rt,Q as ii,Qa as bt,R as Ar,Ra as qt,S as Ii,Sa as Xr,T as Vr,Ta as Bi,Ua as qs,V as Mr,Va as Vt,Wa as _r,Y as nr,a as at,ab as ar,b as It,ba as zr,bb as Jt,c as Gr,ca as si,d as Is,e as Rs,fa as zs,ha as wr,ia as Hs,l as Fs,la as Hr,o as Ns,t as Bs,ua as Nt,wa as Ri,y as Us,ya as Ws,z as Gs,za as fr}from"./chunk-YA72N5MZ.js";var Ks=Is(($s,oi)=>{"use strict";(function(_e,ee){typeof oi=="object"&&oi.exports?(ee.default=ee,oi.exports=_e&&_e.document?ee(_e):ee):typeof define=="function"&&define.amd?define("highcharts/highcharts",function(){return ee(_e)}):(_e.Highcharts&&_e.Highcharts.error(16,!0),_e.Highcharts=ee(_e))})(typeof window<"u"?window:$s,function(_e){"use strict";var ee={};function de(t,X,I,y){t.hasOwnProperty(X)||(t[X]=y.apply(null,I),typeof CustomEvent=="function"&&_e.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:X,module:t[X]}})))}return de(ee,"Core/Globals.js",[],function(){var t,X;return(X=t||(t={})).SVG_NS="http://www.w3.org/2000/svg",X.product="Highcharts",X.version="11.4.6",X.win=_e!==void 0?_e:{},X.doc=X.win.document,X.svg=X.doc&&X.doc.createElementNS&&!!X.doc.createElementNS(X.SVG_NS,"svg").createSVGRect,X.userAgent=X.win.navigator&&X.win.navigator.userAgent||"",X.isChrome=X.win.chrome,X.isFirefox=X.userAgent.indexOf("Firefox")!==-1,X.isMS=/(edge|msie|trident)/i.test(X.userAgent)&&!X.win.opera,X.isSafari=!X.isChrome&&X.userAgent.indexOf("Safari")!==-1,X.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(X.userAgent),X.isWebKit=X.userAgent.indexOf("AppleWebKit")!==-1,X.deg2rad=2*Math.PI/360,X.hasBidiBug=X.isFirefox&&4>parseInt(X.userAgent.split("Firefox/")[1],10),X.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],X.noop=function(){},X.supportsPassiveEvents=function(){let I=!1;if(!X.isMS){let y=Object.defineProperty({},"passive",{get:function(){I=!0}});X.win.addEventListener&&X.win.removeEventListener&&(X.win.addEventListener("testPassive",X.noop,y),X.win.removeEventListener("testPassive",X.noop,y))}return I}(),X.charts=[],X.composed=[],X.dateFormats={},X.seriesTypes={},X.symbolSizes={},X.chartCount=0,t}),de(ee,"Core/Utilities.js",[ee["Core/Globals.js"]],function(t){let X,{charts:I,doc:y,win:b}=t;function h(p,S,O,k){let F=S?"Highcharts error":"Highcharts warning";p===32&&(p=`${F}: Deprecated member`);let B=l(p),L=B?`${F} #${p}: www.highcharts.com/errors/${p}/`:p.toString();if(k!==void 0){let G="";B&&(L+="?"),x(k,function(K,$){G+=`
 - ${$}: ${K}`,B&&(L+=encodeURI($)+"="+encodeURI(K))}),L+=G}_(t,"displayError",{chart:O,code:p,message:L,params:k},function(){if(S)throw Error(L);b.console&&h.messages.indexOf(L)===-1&&console.warn(L)}),h.messages.push(L)}function d(p,S){return parseInt(p,S||10)}function v(p){return typeof p=="string"}function m(p){let S=Object.prototype.toString.call(p);return S==="[object Array]"||S==="[object Array Iterator]"}function n(p,S){return!!p&&typeof p=="object"&&(!S||!m(p))}function i(p){return n(p)&&typeof p.nodeType=="number"}function a(p){let S=p&&p.constructor;return!!(n(p,!0)&&!i(p)&&S&&S.name&&S.name!=="Object")}function l(p){return typeof p=="number"&&!isNaN(p)&&p<1/0&&p>-1/0}function c(p){return p!=null}function r(p,S,O){let k,F=v(S)&&!c(O),B=(L,G)=>{c(L)?p.setAttribute(G,L):F?(k=p.getAttribute(G))||G!=="class"||(k=p.getAttribute(G+"Name")):p.removeAttribute(G)};return v(S)?B(O,S):x(S,B),k}function s(p){return m(p)?p:[p]}function o(p,S){let O;for(O in p||(p={}),S)p[O]=S[O];return p}function u(){let p=arguments,S=p.length;for(let O=0;O<S;O++){let k=p[O];if(k!=null)return k}}function f(p,S){o(p.style,S)}function C(p){return Math.pow(10,Math.floor(Math.log(p)/Math.LN10))}function E(p,S){return p>1e14?p:parseFloat(p.toPrecision(S||14))}(h||(h={})).messages=[],Math.easeInOutSine=function(p){return-.5*(Math.cos(Math.PI*p)-1)};let j=Array.prototype.find?function(p,S){return p.find(S)}:function(p,S){let O,k=p.length;for(O=0;O<k;O++)if(S(p[O],O))return p[O]};function x(p,S,O){for(let k in p)Object.hasOwnProperty.call(p,k)&&S.call(O||p[k],p[k],k,p)}function T(p,S,O){function k(L,G){let K=p.removeEventListener;K&&K.call(p,L,G,!1)}function F(L){let G,K;p.nodeName&&(S?(G={})[S]=!0:G=L,x(G,function($,P){if(L[P])for(K=L[P].length;K--;)k(P,L[P][K].fn)}))}let B=typeof p=="function"&&p.prototype||p;if(Object.hasOwnProperty.call(B,"hcEvents")){let L=B.hcEvents;if(S){let G=L[S]||[];O?(L[S]=G.filter(function(K){return O!==K.fn}),k(S,O)):(F(L),L[S]=[])}else F(L),delete B.hcEvents}}function _(p,S,O,k){if(O=O||{},y.createEvent&&(p.dispatchEvent||p.fireEvent&&p!==t)){let F=y.createEvent("Events");F.initEvent(S,!0,!0),O=o(F,O),p.dispatchEvent?p.dispatchEvent(O):p.fireEvent(S,O)}else if(p.hcEvents){O.target||o(O,{preventDefault:function(){O.defaultPrevented=!0},target:p,type:S});let F=[],B=p,L=!1;for(;B.hcEvents;)Object.hasOwnProperty.call(B,"hcEvents")&&B.hcEvents[S]&&(F.length&&(L=!0),F.unshift.apply(F,B.hcEvents[S])),B=Object.getPrototypeOf(B);L&&F.sort((G,K)=>G.order-K.order),F.forEach(G=>{G.fn.call(p,O)===!1&&O.preventDefault()})}k&&!O.defaultPrevented&&k.call(p,O)}x({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(p,S){t[S]=function(O){return h(32,!1,void 0,{[`Highcharts.${S}`]:`use Array.${p}`}),Array.prototype[p].apply(O,[].slice.call(arguments,1))}});let M=function(){let p=Math.random().toString(36).substring(2,9)+"-",S=0;return function(){return"highcharts-"+(X?"":p)+S++}}();return b.jQuery&&(b.jQuery.fn.highcharts=function(){let p=[].slice.call(arguments);if(this[0])return p[0]?(new t[v(p[0])?p.shift():"Chart"](this[0],p[0],p[1]),this):I[r(this[0],"data-highcharts-chart")]}),{addEvent:function(p,S,O,k={}){let F=typeof p=="function"&&p.prototype||p;Object.hasOwnProperty.call(F,"hcEvents")||(F.hcEvents={});let B=F.hcEvents;t.Point&&p instanceof t.Point&&p.series&&p.series.chart&&(p.series.chart.runTrackerClick=!0);let L=p.addEventListener;L&&L.call(p,S,O,!!t.supportsPassiveEvents&&{passive:k.passive===void 0?S.indexOf("touch")!==-1:k.passive,capture:!1}),B[S]||(B[S]=[]);let G={fn:O,order:typeof k.order=="number"?k.order:1/0};return B[S].push(G),B[S].sort((K,$)=>K.order-$.order),function(){T(p,S,O)}},arrayMax:function(p){let S=p.length,O=p[0];for(;S--;)p[S]>O&&(O=p[S]);return O},arrayMin:function(p){let S=p.length,O=p[0];for(;S--;)p[S]<O&&(O=p[S]);return O},attr:r,clamp:function(p,S,O){return p>S?p<O?p:O:S},clearTimeout:function(p){c(p)&&clearTimeout(p)},correctFloat:E,createElement:function(p,S,O,k,F){let B=y.createElement(p);return S&&o(B,S),F&&f(B,{padding:"0",border:"none",margin:"0"}),O&&f(B,O),k&&k.appendChild(B),B},crisp:(p,S=0,O)=>{let k=S%2/2,F=O?-1:1;return(Math.round(p*F-k)+k)*F},css:f,defined:c,destroyObjectProperties:function(p,S,O){x(p,function(k,F){k!==S&&k?.destroy&&k.destroy(),(k?.destroy||!O)&&delete p[F]})},diffObjects:function(p,S,O,k){let F={};return function B(L,G,K,$){let P=O?G:L;x(L,function(w,D){if(!$&&k&&k.indexOf(D)>-1&&G[D]){w=s(w),K[D]=[];for(let H=0;H<Math.max(w.length,G[D].length);H++)G[D][H]&&(w[H]===void 0?K[D][H]=G[D][H]:(K[D][H]={},B(w[H],G[D][H],K[D][H],$+1)))}else n(w,!0)&&!w.nodeType?(K[D]=m(w)?[]:{},B(w,G[D]||{},K[D],$+1),Object.keys(K[D]).length!==0||D==="colorAxis"&&$===0||delete K[D]):(L[D]!==G[D]||D in L&&!(D in G))&&D!=="__proto__"&&D!=="constructor"&&(K[D]=P[D])})}(p,S,F,0),F},discardElement:function(p){p&&p.parentElement&&p.parentElement.removeChild(p)},erase:function(p,S){let O=p.length;for(;O--;)if(p[O]===S){p.splice(O,1);break}},error:h,extend:o,extendClass:function(p,S){let O=function(){};return O.prototype=new p,o(O.prototype,S),O},find:j,fireEvent:_,getClosestDistance:function(p,S){let O,k,F,B,L=!S;return p.forEach(G=>{if(G.length>1)for(B=k=G.length-1;B>0;B--)(F=G[B]-G[B-1])<0&&!L?(S?.(),S=void 0):F&&(O===void 0||F<O)&&(O=F)}),O},getMagnitude:C,getNestedProperty:function(p,S){let O=p.split(".");for(;O.length&&c(S);){let k=O.shift();if(k===void 0||k==="__proto__")return;if(k==="this"){let B;return n(S)&&(B=S["@this"]),B??S}let F=S[k];if(!c(F)||typeof F=="function"||typeof F.nodeType=="number"||F===b)return;S=F}return S},getStyle:function p(S,O,k){let F;if(O==="width"){let L=Math.min(S.offsetWidth,S.scrollWidth),G=S.getBoundingClientRect&&S.getBoundingClientRect().width;return G<L&&G>=L-1&&(L=Math.floor(G)),Math.max(0,L-(p(S,"padding-left",!0)||0)-(p(S,"padding-right",!0)||0))}if(O==="height")return Math.max(0,Math.min(S.offsetHeight,S.scrollHeight)-(p(S,"padding-top",!0)||0)-(p(S,"padding-bottom",!0)||0));let B=b.getComputedStyle(S,void 0);return B&&(F=B.getPropertyValue(O),u(k,O!=="opacity")&&(F=d(F))),F},inArray:function(p,S,O){return h(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),S.indexOf(p,O)},insertItem:function(p,S){let O,k=p.options.index,F=S.length;for(O=p.options.isInternal?F:0;O<F+1;O++)if(!S[O]||l(k)&&k<u(S[O].options.index,S[O]._i)||S[O].options.isInternal){S.splice(O,0,p);break}return O},isArray:m,isClass:a,isDOMElement:i,isFunction:function(p){return typeof p=="function"},isNumber:l,isObject:n,isString:v,keys:function(p){return h(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(p)},merge:function(){let p,S=arguments,O={},k=function(B,L){return typeof B!="object"&&(B={}),x(L,function(G,K){K!=="__proto__"&&K!=="constructor"&&(!n(G,!0)||a(G)||i(G)?B[K]=L[K]:B[K]=k(B[K]||{},G))}),B};S[0]===!0&&(O=S[1],S=Array.prototype.slice.call(S,2));let F=S.length;for(p=0;p<F;p++)O=k(O,S[p]);return O},normalizeTickInterval:function(p,S,O,k,F){let B,L=p;O=u(O,C(p));let G=p/O;for(!S&&(S=F?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],k===!1&&(O===1?S=S.filter(function(K){return K%1==0}):O<=.1&&(S=[1/O]))),B=0;B<S.length&&(L=S[B],(!F||!(L*O>=p))&&(F||!(G<=(S[B]+(S[B+1]||S[B]))/2)));B++);return E(L*O,-Math.round(Math.log(.001)/Math.LN10))},objectEach:x,offset:function(p){let S=y.documentElement,O=p.parentElement||p.parentNode?p.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:O.top+(b.pageYOffset||S.scrollTop)-(S.clientTop||0),left:O.left+(b.pageXOffset||S.scrollLeft)-(S.clientLeft||0),width:O.width,height:O.height}},pad:function(p,S,O){return Array((S||2)+1-String(p).replace("-","").length).join(O||"0")+p},pick:u,pInt:d,pushUnique:function(p,S){return 0>p.indexOf(S)&&!!p.push(S)},relativeLength:function(p,S,O){return/%$/.test(p)?S*parseFloat(p)/100+(O||0):parseFloat(p)},removeEvent:T,replaceNested:function(p,...S){let O,k;do for(k of(O=p,S))p=p.replace(k[0],k[1]);while(p!==O);return p},splat:s,stableSort:function(p,S){let O,k,F=p.length;for(k=0;k<F;k++)p[k].safeI=k;for(p.sort(function(B,L){return(O=S(B,L))===0?B.safeI-L.safeI:O}),k=0;k<F;k++)delete p[k].safeI},syncTimeout:function(p,S,O){return S>0?setTimeout(p,S,O):(p.call(0,O),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:M,useSerialIds:function(p){return X=u(p,X)},wrap:function(p,S,O){let k=p[S];p[S]=function(){let F=arguments,B=this;return O.apply(this,[function(){return k.apply(B,arguments.length?arguments:F)}].concat([].slice.call(arguments)))}}}}),de(ee,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),de(ee,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),de(ee,"Core/Time.js",[ee["Core/Globals.js"],ee["Core/Utilities.js"]],function(t,X){let{win:I}=t,{defined:y,error:b,extend:h,isNumber:d,isObject:v,merge:m,objectEach:n,pad:i,pick:a,splat:l,timeUnits:c}=X,r=t.isSafari&&I.Intl&&I.Intl.DateTimeFormat.prototype.formatRange,s=t.isSafari&&I.Intl&&!I.Intl.DateTimeFormat.prototype.formatRange;class o{constructor(f){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=I.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(f)}get(f,C){if(this.variableTimezone||this.timezoneOffset){let E=C.getTime(),j=E-this.getTimezoneOffset(C);C.setTime(j);let x=C["getUTC"+f]();return C.setTime(E),x}return this.useUTC?C["getUTC"+f]():C["get"+f]()}set(f,C,E){if(this.variableTimezone||this.timezoneOffset){if(f==="Milliseconds"||f==="Seconds"||f==="Minutes"&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+f](E);let j=this.getTimezoneOffset(C),x=C.getTime()-j;C.setTime(x),C["setUTC"+f](E);let T=this.getTimezoneOffset(C);return x=C.getTime()+T,C.setTime(x)}return this.useUTC||r&&f==="FullYear"?C["setUTC"+f](E):C["set"+f](E)}update(f={}){let C=a(f.useUTC,!0);this.options=f=m(!0,this.options,f),this.Date=f.Date||I.Date||Date,this.useUTC=C,this.timezoneOffset=C&&f.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!!(f.getTimezoneOffset||f.timezone)}makeTime(f,C,E,j,x,T){let _,M,p;return this.useUTC?(_=this.Date.UTC.apply(0,arguments),M=this.getTimezoneOffset(_),_+=M,M!==(p=this.getTimezoneOffset(_))?_+=p-M:M-36e5!==this.getTimezoneOffset(_-36e5)||s||(_-=36e5)):_=new this.Date(f,C,a(E,1),a(j,0),a(x,0),a(T,0)).getTime(),_}timezoneOffsetFunction(){let f=this,C=this.options,E=C.getTimezoneOffset;return this.useUTC?C.timezone?j=>{try{let x=`shortOffset,${C.timezone||""}`,[T,_,M,p,S=0]=(o.formatCache[x]=o.formatCache[x]||Intl.DateTimeFormat("en",{timeZone:C.timezone,timeZoneName:"shortOffset"})).format(j).split(/(GMT|:)/).map(Number),O=-(36e5*(M+S/60));if(d(O))return O}catch{b(34)}return 0}:this.useUTC&&E?j=>6e4*E(j.valueOf()):()=>6e4*(f.timezoneOffset||0):j=>6e4*new Date(j.toString()).getTimezoneOffset()}dateFormat(f,C,E){if(!y(C)||isNaN(C))return t.defaultOptions.lang&&t.defaultOptions.lang.invalidDate||"";f=a(f,"%Y-%m-%d %H:%M:%S");let j=this,x=new this.Date(C),T=this.get("Hours",x),_=this.get("Day",x),M=this.get("Date",x),p=this.get("Month",x),S=this.get("FullYear",x),O=t.defaultOptions.lang,k=O&&O.weekdays,F=O&&O.shortWeekdays;return n(h({a:F?F[_]:k[_].substr(0,3),A:k[_],d:i(M),e:i(M,2," "),w:_,b:O.shortMonths[p],B:O.months[p],m:i(p+1),o:p+1,y:S.toString().substr(2,2),Y:S,H:i(T),k:T,I:i(T%12||12),l:T%12||12,M:i(this.get("Minutes",x)),p:T<12?"AM":"PM",P:T<12?"am":"pm",S:i(this.get("Seconds",x)),L:i(Math.floor(C%1e3),3)},t.dateFormats),function(B,L){for(;f.indexOf("%"+L)!==-1;)f=f.replace("%"+L,typeof B=="function"?B.call(j,C):B)}),E?f.substr(0,1).toUpperCase()+f.substr(1):f}resolveDTLFormat(f){return v(f,!0)?f:{main:(f=l(f))[0],from:f[1],to:f[2]}}getTimeTicks(f,C,E,j){let x,T,_,M,p=this,S=p.Date,O=[],k={},F=new S(C),B=f.unitRange,L=f.count||1;if(j=a(j,1),y(C)){p.set("Milliseconds",F,B>=c.second?0:L*Math.floor(p.get("Milliseconds",F)/L)),B>=c.second&&p.set("Seconds",F,B>=c.minute?0:L*Math.floor(p.get("Seconds",F)/L)),B>=c.minute&&p.set("Minutes",F,B>=c.hour?0:L*Math.floor(p.get("Minutes",F)/L)),B>=c.hour&&p.set("Hours",F,B>=c.day?0:L*Math.floor(p.get("Hours",F)/L)),B>=c.day&&p.set("Date",F,B>=c.month?1:Math.max(1,L*Math.floor(p.get("Date",F)/L))),B>=c.month&&(p.set("Month",F,B>=c.year?0:L*Math.floor(p.get("Month",F)/L)),T=p.get("FullYear",F)),B>=c.year&&(T-=T%L,p.set("FullYear",F,T)),B===c.week&&(M=p.get("Day",F),p.set("Date",F,p.get("Date",F)-M+j+(M<j?-7:0))),T=p.get("FullYear",F);let G=p.get("Month",F),K=p.get("Date",F),$=p.get("Hours",F);C=F.getTime(),(p.variableTimezone||!p.useUTC)&&y(E)&&(_=E-C>4*c.month||p.getTimezoneOffset(C)!==p.getTimezoneOffset(E));let P=F.getTime();for(x=1;P<E;)O.push(P),B===c.year?P=p.makeTime(T+x*L,0):B===c.month?P=p.makeTime(T,G+x*L):_&&(B===c.day||B===c.week)?P=p.makeTime(T,G,K+x*L*(B===c.day?1:7)):_&&B===c.hour&&L>1?P=p.makeTime(T,G,K,$+x*L):P+=B*L,x++;O.push(P),B<=c.hour&&O.length<1e4&&O.forEach(function(w){w%18e5==0&&p.dateFormat("%H%M%S%L",w)==="000000000"&&(k[w]="day")})}return O.info=h(f,{higherRanks:k,totalRange:B*L}),O}getDateFormat(f,C,E,j){let x=this.dateFormat("%m-%d %H:%M:%S.%L",C),T="01-01 00:00:00.000",_={millisecond:15,second:12,minute:9,hour:6,day:3},M="millisecond",p=M;for(M in c){if(f===c.week&&+this.dateFormat("%w",C)===E&&x.substr(6)===T.substr(6)){M="week";break}if(c[M]>f){M=p;break}if(_[M]&&x.substr(_[M])!==T.substr(_[M]))break;M!=="week"&&(p=M)}return this.resolveDTLFormat(j[M]).main}}return o.formatCache={},o}),de(ee,"Core/Defaults.js",[ee["Core/Chart/ChartDefaults.js"],ee["Core/Globals.js"],ee["Core/Color/Palettes.js"],ee["Core/Time.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b){let{isTouchDevice:h}=X,{fireEvent:d,merge:v}=b,m={colors:I.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:t,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:i=>Math.sqrt(1-Math.pow(i-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:h?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};m.chart.styledMode=!1;let n=new y(m.time);return{defaultOptions:m,defaultTime:n,getOptions:function(){return m},setOptions:function(i){return d(X,"setOptions",{options:i}),v(!0,m,i),(i.time||i.global)&&(X.time?X.time.update(v(m.global,m.time,i.global,i.time)):X.time=n),m}}}),de(ee,"Core/Color/Color.js",[ee["Core/Globals.js"],ee["Core/Utilities.js"]],function(t,X){let{isNumber:I,merge:y,pInt:b}=X;class h{static parse(v){return v?new h(v):h.None}constructor(v){let m,n,i,a;this.rgba=[NaN,NaN,NaN,NaN],this.input=v;let l=t.Color;if(l&&l!==h)return new l(v);if(typeof v=="object"&&v.stops!==void 0)this.stops=v.stops.map(c=>new h(c[1]));else if(typeof v=="string"){if(this.input=v=h.names[v.toLowerCase()]||v,v.charAt(0)==="#"){let c=v.length,r=parseInt(v.substr(1),16);c===7?n=[(16711680&r)>>16,(65280&r)>>8,255&r,1]:c===4&&(n=[(3840&r)>>4|(3840&r)>>8,(240&r)>>4|240&r,(15&r)<<4|15&r,1])}if(!n)for(i=h.parsers.length;i--&&!n;)(m=(a=h.parsers[i]).regex.exec(v))&&(n=a.parse(m))}n&&(this.rgba=n)}get(v){let m=this.input,n=this.rgba;if(typeof m=="object"&&this.stops!==void 0){let i=y(m);return i.stops=[].slice.call(i.stops),this.stops.forEach((a,l)=>{i.stops[l]=[i.stops[l][0],a.get(v)]}),i}return n&&I(n[0])?v!=="rgb"&&(v||n[3]!==1)?v==="a"?`${n[3]}`:"rgba("+n.join(",")+")":"rgb("+n[0]+","+n[1]+","+n[2]+")":m}brighten(v){let m=this.rgba;if(this.stops)this.stops.forEach(function(n){n.brighten(v)});else if(I(v)&&v!==0)for(let n=0;n<3;n++)m[n]+=b(255*v),m[n]<0&&(m[n]=0),m[n]>255&&(m[n]=255);return this}setOpacity(v){return this.rgba[3]=v,this}tweenTo(v,m){let n=this.rgba,i=v.rgba;if(!I(n[0])||!I(i[0]))return v.input||"none";let a=i[3]!==1||n[3]!==1;return(a?"rgba(":"rgb(")+Math.round(i[0]+(n[0]-i[0])*(1-m))+","+Math.round(i[1]+(n[1]-i[1])*(1-m))+","+Math.round(i[2]+(n[2]-i[2])*(1-m))+(a?","+(i[3]+(n[3]-i[3])*(1-m)):"")+")"}}return h.names={white:"#ffffff",black:"#000000"},h.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(d){return[b(d[1]),b(d[2]),b(d[3]),parseFloat(d[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(d){return[b(d[1]),b(d[2]),b(d[3]),1]}}],h.None=new h(""),h}),de(ee,"Core/Animation/Fx.js",[ee["Core/Color/Color.js"],ee["Core/Globals.js"],ee["Core/Utilities.js"]],function(t,X,I){let{parse:y}=t,{win:b}=X,{isNumber:h,objectEach:d}=I;class v{constructor(n,i,a){this.pos=NaN,this.options=i,this.elem=n,this.prop=a}dSetter(){let n=this.paths,i=n&&n[0],a=n&&n[1],l=this.now||0,c=[];if(l!==1&&i&&a)if(i.length===a.length&&l<1)for(let r=0;r<a.length;r++){let s=i[r],o=a[r],u=[];for(let f=0;f<o.length;f++){let C=s[f],E=o[f];h(C)&&h(E)&&!(o[0]==="A"&&(f===4||f===5))?u[f]=C+l*(E-C):u[f]=E}c.push(u)}else c=a;else c=this.toD||[];this.elem.attr("d",c,void 0,!0)}update(){let n=this.elem,i=this.prop,a=this.now,l=this.options.step;this[i+"Setter"]?this[i+"Setter"]():n.attr?n.element&&n.attr(i,a,null,!0):n.style[i]=a+this.unit,l&&l.call(n,a,this)}run(n,i,a){let l=this,c=l.options,r=function(u){return!r.stopped&&l.step(u)},s=b.requestAnimationFrame||function(u){setTimeout(u,13)},o=function(){for(let u=0;u<v.timers.length;u++)v.timers[u]()||v.timers.splice(u--,1);v.timers.length&&s(o)};n!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=n,this.end=i,this.unit=a,this.now=this.start,this.pos=0,r.elem=this.elem,r.prop=this.prop,r()&&v.timers.push(r)===1&&s(o)):(delete c.curAnim[this.prop],c.complete&&Object.keys(c.curAnim).length===0&&c.complete.call(this.elem))}step(n){let i,a,l=+new Date,c=this.options,r=this.elem,s=c.complete,o=c.duration,u=c.curAnim;return r.attr&&!r.element?i=!1:n||l>=o+this.startTime?(this.now=this.end,this.pos=1,this.update(),u[this.prop]=!0,a=!0,d(u,function(f){f!==!0&&(a=!1)}),a&&s&&s.call(r),i=!1):(this.pos=c.easing((l-this.startTime)/o),this.now=this.start+(this.end-this.start)*this.pos,this.update(),i=!0),i}initPath(n,i,a){let l=n.startX,c=n.endX,r=a.slice(),s=n.isArea,o=s?2:1,u=i&&a.length>i.length&&a.hasStackedCliffs,f,C,E,j,x=i&&i.slice();if(!x||u)return[r,r];function T(M,p){for(;M.length<C;){let S=M[0],O=p[C-M.length];if(O&&S[0]==="M"&&(O[0]==="C"?M[0]=["C",S[1],S[2],S[1],S[2],S[1],S[2]]:M[0]=["L",S[1],S[2]]),M.unshift(S),s){let k=M.pop();M.push(M[M.length-1],k)}}}function _(M){for(;M.length<C;){let p=M[Math.floor(M.length/o)-1].slice();if(p[0]==="C"&&(p[1]=p[5],p[2]=p[6]),s){let S=M[Math.floor(M.length/o)].slice();M.splice(M.length/2,0,p,S)}else M.push(p)}}if(l&&c&&c.length){for(E=0;E<l.length;E++){if(l[E]===c[0]){f=E;break}if(l[0]===c[c.length-l.length+E]){f=E,j=!0;break}if(l[l.length-1]===c[c.length-l.length+E]){f=l.length-E;break}}f===void 0&&(x=[])}return x.length&&h(f)&&(C=r.length+f*o,j?(T(x,r),_(r)):(T(r,x),_(x))),[x,r]}fillSetter(){v.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,y(this.start).tweenTo(y(this.end),this.pos),void 0,!0)}}return v.timers=[],v}),de(ee,"Core/Animation/AnimationUtilities.js",[ee["Core/Animation/Fx.js"],ee["Core/Utilities.js"]],function(t,X){let{defined:I,getStyle:y,isArray:b,isNumber:h,isObject:d,merge:v,objectEach:m,pick:n}=X;function i(l){return d(l)?v({duration:500,defer:0},l):{duration:l?500:0,defer:0}}function a(l,c){let r=t.timers.length;for(;r--;)t.timers[r].elem!==l||c&&c!==t.timers[r].prop||(t.timers[r].stopped=!0)}return{animate:function(l,c,r){let s,o="",u,f,C;d(r)||(C=arguments,r={duration:C[2],easing:C[3],complete:C[4]}),h(r.duration)||(r.duration=400),r.easing=typeof r.easing=="function"?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=v(c),m(c,function(E,j){a(l,j),f=new t(l,r,j),u=void 0,j==="d"&&b(c.d)?(f.paths=f.initPath(l,l.pathArray,c.d),f.toD=c.d,s=0,u=1):l.attr?s=l.attr(j):(s=parseFloat(y(l,j))||0,j!=="opacity"&&(o="px")),u||(u=E),typeof u=="string"&&u.match("px")&&(u=u.replace(/px/g,"")),f.run(s,u,o)})},animObject:i,getDeferredAnimation:function(l,c,r){let s=i(c),o=r?[r]:l.series,u=0,f=0;return o.forEach(C=>{let E=i(C.options.animation);u=d(c)&&I(c.defer)?s.defer:Math.max(u,E.duration+E.defer),f=Math.min(s.duration,E.duration)}),l.renderer.forExport&&(u=0),{defer:Math.max(0,u-f),duration:Math.min(u,f)}},setAnimation:function(l,c){c.renderer.globalAnimation=n(l,c.options.chart.animation,!0)},stop:a}}),de(ee,"Core/Renderer/HTML/AST.js",[ee["Core/Globals.js"],ee["Core/Utilities.js"]],function(t,X){let{SVG_NS:I,win:y}=t,{attr:b,createElement:h,css:d,error:v,isFunction:m,isString:n,objectEach:i,splat:a}=X,{trustedTypes:l}=y,c=l&&m(l.createPolicy)&&l.createPolicy("highcharts",{createHTML:u=>u}),r=c?c.createHTML(""):"",s=function(){try{return!!new DOMParser().parseFromString(r,"text/html")}catch{return!1}}();class o{static filterUserAttributes(f){return i(f,(C,E)=>{let j=!0;o.allowedAttributes.indexOf(E)===-1&&(j=!1),["background","dynsrc","href","lowsrc","src"].indexOf(E)!==-1&&(j=n(C)&&o.allowedReferences.some(x=>C.indexOf(x)===0)),j||(v(33,!1,void 0,{"Invalid attribute in config":`${E}`}),delete f[E]),n(C)&&f[E]&&(f[E]=C.replace(/</g,"&lt;"))}),f}static parseStyle(f){return f.split(";").reduce((C,E)=>{let j=E.split(":").map(T=>T.trim()),x=j.shift();return x&&j.length&&(C[x.replace(/-([a-z])/g,T=>T[1].toUpperCase())]=j.join(":")),C},{})}static setElementHTML(f,C){f.innerHTML=o.emptyHTML,C&&new o(C).addToDOM(f)}constructor(f){this.nodes=typeof f=="string"?this.parseMarkup(f):f}addToDOM(f){return function C(E,j){let x;return a(E).forEach(function(T){let _,M=T.tagName,p=T.textContent?t.doc.createTextNode(T.textContent):void 0,S=o.bypassHTMLFiltering;if(M)if(M==="#text")_=p;else if(o.allowedTags.indexOf(M)!==-1||S){let O=M==="svg"?I:j.namespaceURI||I,k=t.doc.createElementNS(O,M),F=T.attributes||{};i(T,function(B,L){L!=="tagName"&&L!=="attributes"&&L!=="children"&&L!=="style"&&L!=="textContent"&&(F[L]=B)}),b(k,S?F:o.filterUserAttributes(F)),T.style&&d(k,T.style),p&&k.appendChild(p),C(T.children||[],k),_=k}else v(33,!1,void 0,{"Invalid tagName in config":M});_&&j.appendChild(_),x=_}),x}(this.nodes,f)}parseMarkup(f){let C,E=[];if(f=f.trim().replace(/ style=(["'])/g," data-style=$1"),s)C=new DOMParser().parseFromString(c?c.createHTML(f):f,"text/html");else{let x=h("div");x.innerHTML=f,C={body:x}}let j=(x,T)=>{let _=x.nodeName.toLowerCase(),M={tagName:_};_==="#text"&&(M.textContent=x.textContent||"");let p=x.attributes;if(p){let S={};[].forEach.call(p,O=>{O.name==="data-style"?M.style=o.parseStyle(O.value):S[O.name]=O.value}),M.attributes=S}if(x.childNodes.length){let S=[];[].forEach.call(x.childNodes,O=>{j(O,S)}),S.length&&(M.children=S)}T.push(M)};return[].forEach.call(C.body.childNodes,x=>j(x,E)),E}}return o.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],o.allowedReferences=["https://","http://","mailto:","/","../","./","#"],o.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],o.emptyHTML=r,o.bypassHTMLFiltering=!1,o}),de(ee,"Core/Templating.js",[ee["Core/Defaults.js"],ee["Core/Utilities.js"]],function(t,X){let{defaultOptions:I,defaultTime:y}=t,{extend:b,getNestedProperty:h,isArray:d,isNumber:v,isObject:m,pick:n,pInt:i}=X,a={add:(r,s)=>r+s,divide:(r,s)=>s!==0?r/s:"",eq:(r,s)=>r==s,each:function(r){let s=arguments[arguments.length-1];return!!d(r)&&r.map((o,u)=>l(s.body,b(m(o)?o:{"@this":o},{"@index":u,"@first":u===0,"@last":u===r.length-1}))).join("")},ge:(r,s)=>r>=s,gt:(r,s)=>r>s,if:r=>!!r,le:(r,s)=>r<=s,lt:(r,s)=>r<s,multiply:(r,s)=>r*s,ne:(r,s)=>r!=s,subtract:(r,s)=>r-s,unless:r=>!r};function l(r="",s,o){let u=/\{([\w\:\.\,;\-\/<>%@"'â€™= #\(\)]+)\}/g,f=/\(([\w\:\.\,;\-\/<>%@"'= ]+)\)/g,C=[],E=/f$/,j=/\.(\d)/,x=I.lang,T=o&&o.time||y,_=o&&o.numberFormatter||c,M=(F="")=>{let B;return F==="true"||F!=="false"&&((B=Number(F)).toString()===F?B:h(F,s))},p,S,O=0,k;for(;(p=u.exec(r))!==null;){let F=f.exec(p[1]);F&&(p=F,k=!0),S&&S.isBlock||(S={ctx:s,expression:p[1],find:p[0],isBlock:p[1].charAt(0)==="#",start:p.index,startInner:p.index+p[0].length,length:p[0].length});let B=p[1].split(" ")[0].replace("#","");a[B]&&(S.isBlock&&B===S.fn&&O++,S.fn||(S.fn=B));let L=p[1]==="else";if(S.isBlock&&S.fn&&(p[1]===`/${S.fn}`||L))if(O)!L&&O--;else{let G=S.startInner,K=r.substr(G,p.index-G);S.body===void 0?(S.body=K,S.startInner=p.index+p[0].length):S.elseBody=K,S.find+=K+p[0],L||(C.push(S),S=void 0)}else S.isBlock||C.push(S);if(F&&!S?.isBlock)break}return C.forEach(F=>{let B,L,{body:G,elseBody:K,expression:$,fn:P}=F;if(P){let w=[F],D=$.split(" ");for(L=a[P].length;L--;)w.unshift(M(D[L+1]));B=a[P].apply(s,w),F.isBlock&&typeof B=="boolean"&&(B=l(B?G:K,s,o))}else{let w=$.split(":");if(B=M(w.shift()||""),w.length&&typeof B=="number"){let D=w.join(":");if(E.test(D)){let H=parseInt((D.match(j)||["","-1"])[1],10);B!==null&&(B=_(B,H,x.decimalPoint,D.indexOf(",")>-1?x.thousandsSep:""))}else B=T.dateFormat(D,B)}}r=r.replace(F.find,n(B,""))}),k?l(r,s,o):r}function c(r,s,o,u){let f,C;r=+r||0,s=+s;let E=I.lang,j=(r.toString().split(".")[1]||"").split("e")[0].length,x=r.toString().split("e"),T=s;s===-1?s=Math.min(j,20):v(s)?s&&x[1]&&x[1]<0&&((C=s+ +x[1])>=0?(x[0]=(+x[0]).toExponential(C).split("e")[0],s=C):(x[0]=x[0].split(".")[0]||0,r=s<20?(x[0]*Math.pow(10,x[1])).toFixed(s):0,x[1]=0)):s=2;let _=(Math.abs(x[1]?x[0]:r)+Math.pow(10,-Math.max(s,j)-1)).toFixed(s),M=String(i(_)),p=M.length>3?M.length%3:0;return o=n(o,E.decimalPoint),u=n(u,E.thousandsSep),f=(r<0?"-":"")+(p?M.substr(0,p)+u:""),0>+x[1]&&!T?f="0":f+=M.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+u),s?f+=o+_.slice(-s):+f==0&&(f="0"),x[1]&&+f!=0&&(f+="e"+x[1]),f}return{dateFormat:function(r,s,o){return y.dateFormat(r,s,o)},format:l,helpers:a,numberFormat:c}}),de(ee,"Core/Renderer/RendererRegistry.js",[ee["Core/Globals.js"]],function(t){var X,I;let y;return(I=X||(X={})).rendererTypes={},I.getRendererType=function(b=y){return I.rendererTypes[b]||I.rendererTypes[y]},I.registerRendererType=function(b,h,d){I.rendererTypes[b]=h,(!y||d)&&(y=b,t.Renderer=h)},X}),de(ee,"Core/Renderer/RendererUtilities.js",[ee["Core/Utilities.js"]],function(t){var X;let{clamp:I,pick:y,pushUnique:b,stableSort:h}=t;return(X||(X={})).distribute=function d(v,m,n){let i=v,a=i.reducedLen||m,l=(M,p)=>M.target-p.target,c=[],r=v.length,s=[],o=c.push,u,f,C,E=!0,j,x,T=0,_;for(u=r;u--;)T+=v[u].size;if(T>a){for(h(v,(M,p)=>(p.rank||0)-(M.rank||0)),C=(_=v[0].rank===v[v.length-1].rank)?r/2:-1,f=_?C:r-1;C&&T>a;)j=v[u=Math.floor(f)],b(s,u)&&(T-=j.size),f+=C,_&&f>=v.length&&(C/=2,f=C);s.sort((M,p)=>p-M).forEach(M=>o.apply(c,v.splice(M,1)))}for(h(v,l),v=v.map(M=>({size:M.size,targets:[M.target],align:y(M.align,.5)}));E;){for(u=v.length;u--;)j=v[u],x=(Math.min.apply(0,j.targets)+Math.max.apply(0,j.targets))/2,j.pos=I(x-j.size*j.align,0,m-j.size);for(u=v.length,E=!1;u--;)u>0&&v[u-1].pos+v[u-1].size>v[u].pos&&(v[u-1].size+=v[u].size,v[u-1].targets=v[u-1].targets.concat(v[u].targets),v[u-1].align=.5,v[u-1].pos+v[u-1].size>m&&(v[u-1].pos=m-v[u-1].size),v.splice(u,1),E=!0)}return o.apply(i,c),u=0,v.some(M=>{let p=0;return(M.targets||[]).some(()=>(i[u].pos=M.pos+p,n!==void 0&&Math.abs(i[u].pos-i[u].target)>n?(i.slice(0,u+1).forEach(S=>delete S.pos),i.reducedLen=(i.reducedLen||m)-.1*m,i.reducedLen>.1*m&&d(i,m,n),!0):(p+=i[u].size,u++,!1)))}),h(i,l),i},X}),de(ee,"Core/Renderer/SVG/SVGElement.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Color/Color.js"],ee["Core/Globals.js"],ee["Core/Utilities.js"]],function(t,X,I,y){let{animate:b,animObject:h,stop:d}=t,{deg2rad:v,doc:m,svg:n,SVG_NS:i,win:a}=I,{addEvent:l,attr:c,createElement:r,crisp:s,css:o,defined:u,erase:f,extend:C,fireEvent:E,isArray:j,isFunction:x,isObject:T,isString:_,merge:M,objectEach:p,pick:S,pInt:O,pushUnique:k,replaceNested:F,syncTimeout:B,uniqueKey:L}=y;class G{_defaultGetter($){let P=S(this[$+"Value"],this[$],this.element?this.element.getAttribute($):null,0);return/^-?[\d\.]+$/.test(P)&&(P=parseFloat(P)),P}_defaultSetter($,P,w){w.setAttribute(P,$)}add($){let P,w=this.renderer,D=this.element;return $&&(this.parentGroup=$),this.textStr!==void 0&&this.element.nodeName==="text"&&w.buildText(this),this.added=!0,(!$||$.handleZ||this.zIndex)&&(P=this.zIndexSetter()),P||($?$.element:w.box).appendChild(D),this.onAdd&&this.onAdd(),this}addClass($,P){let w=P?"":this.attr("class")||"";return($=($||"").split(/ /g).reduce(function(D,H){return w.indexOf(H)===-1&&D.push(H),D},w?[w]:[]).join(" "))!==w&&this.attr("class",$),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align($,P,w,D=!0){let H,N,z,W,te={},V=this.renderer,Z=V.alignedObjects,Y=!!$;$?(this.alignOptions=$,this.alignByTranslate=P,this.alignTo=w):($=this.alignOptions||{},P=this.alignByTranslate,w=this.alignTo);let q=!w||_(w)?w||"renderer":void 0;q&&(Y&&k(Z,this),w=void 0);let J=S(w,V[q],V),re=$.align,ue=$.verticalAlign;return H=(J.x||0)+($.x||0),N=(J.y||0)+($.y||0),re==="right"?z=1:re==="center"&&(z=2),z&&(H+=((J.width||0)-($.width||0))/z),te[P?"translateX":"x"]=Math.round(H),ue==="bottom"?W=1:ue==="middle"&&(W=2),W&&(N+=((J.height||0)-($.height||0))/W),te[P?"translateY":"y"]=Math.round(N),D&&(this[this.placed?"animate":"attr"](te),this.placed=!0),this.alignAttr=te,this}alignSetter($){let P={left:"start",center:"middle",right:"end"};P[$]&&(this.alignValue=$,this.element.setAttribute("text-anchor",P[$]))}animate($,P,w){let D=h(S(P,this.renderer.globalAnimation,!0)),H=D.defer;return m.hidden&&(D.duration=0),D.duration!==0?(w&&(D.complete=w),B(()=>{this.element&&b(this,$,D)},H)):(this.attr($,void 0,w||D.complete),p($,function(N,z){D.step&&D.step.call(this,N,{prop:z,pos:1,elem:this})},this)),this}applyTextOutline($){let P=this.element;$.indexOf("contrast")!==-1&&($=$.replace(/contrast/g,this.renderer.getContrast(P.style.fill)));let w=$.split(" "),D=w[w.length-1],H=w[0];if(H&&H!=="none"&&I.svg){this.fakeTS=!0,H=H.replace(/(^[\d\.]+)(.*?)$/g,function(V,Z,Y){return 2*Number(Z)+Y}),this.removeTextOutline();let N=m.createElementNS(i,"tspan");c(N,{class:"highcharts-text-outline",fill:D,stroke:D,"stroke-width":H,"stroke-linejoin":"round"});let z=P.querySelector("textPath")||P;[].forEach.call(z.childNodes,V=>{let Z=V.cloneNode(!0);Z.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(Y=>Z.removeAttribute(Y)),N.appendChild(Z)});let W=0;[].forEach.call(z.querySelectorAll("text tspan"),V=>{W+=Number(V.getAttribute("dy"))});let te=m.createElementNS(i,"tspan");te.textContent="\u200B",c(te,{x:Number(P.getAttribute("x")),dy:-W}),N.appendChild(te),z.insertBefore(N,z.firstChild)}}attr($,P,w,D){let{element:H}=this,N=G.symbolCustomAttribs,z,W,te=this,V;return typeof $=="string"&&P!==void 0&&(z=$,($={})[z]=P),typeof $=="string"?te=(this[$+"Getter"]||this._defaultGetter).call(this,$,H):(p($,function(Z,Y){V=!1,D||d(this,Y),this.symbolName&&N.indexOf(Y)!==-1&&(W||(this.symbolAttr($),W=!0),V=!0),this.rotation&&(Y==="x"||Y==="y")&&(this.doTransform=!0),V||(this[Y+"Setter"]||this._defaultSetter).call(this,Z,Y,H)},this),this.afterSetters()),w&&w.call(this),te}clip($){if($&&!$.clipPath){let P=L()+"-",w=this.renderer.createElement("clipPath").attr({id:P}).add(this.renderer.defs);C($,{clipPath:w,id:P,count:0}),$.add(w)}return this.attr("clip-path",$?`url(${this.renderer.url}#${$.id})`:"none")}crisp($,P){P=Math.round(P||$.strokeWidth||0);let w=$.x||this.x||0,D=$.y||this.y||0,H=($.width||this.width||0)+w,N=($.height||this.height||0)+D,z=s(w,P),W=s(D,P);return C($,{x:z,y:W,width:s(H,P)-z,height:s(N,P)-W}),u($.strokeWidth)&&($.strokeWidth=P),$}complexColor($,P,w){let D=this.renderer,H,N,z,W,te,V,Z,Y,q,J,re=[],ue;E(this.renderer,"complexColor",{args:arguments},function(){if($.radialGradient?N="radialGradient":$.linearGradient&&(N="linearGradient"),N){if(z=$[N],te=D.gradients,V=$.stops,q=w.radialReference,j(z)&&($[N]=z={x1:z[0],y1:z[1],x2:z[2],y2:z[3],gradientUnits:"userSpaceOnUse"}),N==="radialGradient"&&q&&!u(z.gradientUnits)&&(W=z,z=M(z,D.getRadialAttr(q,W),{gradientUnits:"userSpaceOnUse"})),p(z,function(ae,he){he!=="id"&&re.push(he,ae)}),p(V,function(ae){re.push(ae)}),te[re=re.join(",")])J=te[re].attr("id");else{z.id=J=L();let ae=te[re]=D.createElement(N).attr(z).add(D.defs);ae.radAttr=W,ae.stops=[],V.forEach(function(he){he[1].indexOf("rgba")===0?(Z=(H=X.parse(he[1])).get("rgb"),Y=H.get("a")):(Z=he[1],Y=1);let be=D.createElement("stop").attr({offset:he[0],"stop-color":Z,"stop-opacity":Y}).add(ae);ae.stops.push(be)})}ue="url("+D.url+"#"+J+")",w.setAttribute(P,ue),w.gradient=re,$.toString=function(){return ue}}})}css($){let P=this.styles,w={},D=this.element,H,N=!P;if(P&&p($,function(z,W){P&&P[W]!==z&&(w[W]=z,N=!0)}),N){P&&($=C(P,w)),$.width===null||$.width==="auto"?delete this.textWidth:D.nodeName.toLowerCase()==="text"&&$.width&&(H=this.textWidth=O($.width)),C(this.styles,$),H&&!n&&this.renderer.forExport&&delete $.width;let z=M($);D.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(W=>z&&delete z[W]),z.color&&(z.fill=z.color)),o(D,z)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),$.textOutline&&this.applyTextOutline($.textOutline)),this}dashstyleSetter($){let P,w=this["stroke-width"];if(w==="inherit"&&(w=1),$=$&&$.toLowerCase()){let D=$.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(P=D.length;P--;)D[P]=""+O(D[P])*S(w,NaN);$=D.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",$)}}destroy(){let $=this,P=$.element||{},w=$.renderer,D=P.ownerSVGElement,H=P.nodeName==="SPAN"&&$.parentGroup||void 0,N,z;if(P.onclick=P.onmouseout=P.onmouseover=P.onmousemove=P.point=null,d($),$.clipPath&&D){let W=$.clipPath;[].forEach.call(D.querySelectorAll("[clip-path],[CLIP-PATH]"),function(te){te.getAttribute("clip-path").indexOf(W.element.id)>-1&&te.removeAttribute("clip-path")}),$.clipPath=W.destroy()}if($.connector=$.connector?.destroy(),$.stops){for(z=0;z<$.stops.length;z++)$.stops[z].destroy();$.stops.length=0,$.stops=void 0}for($.safeRemoveChild(P);H&&H.div&&H.div.childNodes.length===0;)N=H.parentGroup,$.safeRemoveChild(H.div),delete H.div,H=N;$.alignOptions&&f(w.alignedObjects,$),p($,function(W,te){$[te]&&$[te].parentGroup===$&&$[te].destroy&&$[te].destroy(),delete $[te]})}dSetter($,P,w){j($)&&(typeof $[0]=="string"&&($=this.renderer.pathToSegments($)),this.pathArray=$,$=$.reduce((D,H,N)=>H&&H.join?(N?D+" ":"")+H.join(" "):(H||"").toString(),"")),/(NaN| {2}|^$)/.test($)&&($="M 0 0"),this[P]!==$&&(w.setAttribute(P,$),this[P]=$)}fillSetter($,P,w){typeof $=="string"?w.setAttribute(P,$):$&&this.complexColor($,P,w)}hrefSetter($,P,w){w.setAttributeNS("http://www.w3.org/1999/xlink",P,$)}getBBox($,P){let w,D,H,N,{alignValue:z,element:W,renderer:te,styles:V,textStr:Z}=this,{cache:Y,cacheKeys:q}=te,J=W.namespaceURI===this.SVG_NS,re=S(P,this.rotation,0),ue=te.styledMode?W&&G.prototype.getStyle.call(W,"font-size"):V.fontSize;if(u(Z)&&((N=Z.toString()).indexOf("<")===-1&&(N=N.replace(/\d/g,"0")),N+=["",te.rootFontSize,ue,re,this.textWidth,z,V.textOverflow,V.fontWeight].join(",")),N&&!$&&(w=Y[N]),!w||w.polygon){if(J||te.forExport){try{H=this.fakeTS&&function(he){let be=W.querySelector(".highcharts-text-outline");be&&o(be,{display:he})},x(H)&&H("none"),w=W.getBBox?C({},W.getBBox()):{width:W.offsetWidth,height:W.offsetHeight,x:0,y:0},x(H)&&H("")}catch{}(!w||w.width<0)&&(w={x:0,y:0,width:0,height:0})}else w=this.htmlGetBBox();D=w.height,J&&(w.height=D={"11px,17":14,"13px,20":16}[`${ue||""},${Math.round(D)}`]||D),re&&(w=this.getRotatedBox(w,re));let ae={bBox:w};E(this,"afterGetBBox",ae),w=ae.bBox}if(N&&(Z===""||w.height>0)){for(;q.length>250;)delete Y[q.shift()];Y[N]||q.push(N),Y[N]=w}return w}getRotatedBox($,P){let{x:w,y:D,width:H,height:N}=$,{alignValue:z,translateY:W,rotationOriginX:te=0,rotationOriginY:V=0}=this,Z={right:1,center:.5}[z||0]||0,Y=Number(this.element.getAttribute("y")||0)-(W?0:D),q=P*v,J=(P-90)*v,re=Math.cos(q),ue=Math.sin(q),ae=H*re,he=H*ue,be=Math.cos(J),Me=Math.sin(J),[[le,pe],[ge,ve]]=[te,V].map(Be=>[Be-Be*re,Be*ue]),Se=w+Z*(H-ae)+le+ve+Y*be,je=Se+ae,me=je-N*be,we=me-ae,xe=D+Y-Z*he-pe+ge+Y*Me,oe=xe+he,ce=oe-N*Me,se=ce-he,fe=Math.min(Se,je,me,we),ke=Math.min(xe,oe,ce,se),Ee=Math.max(Se,je,me,we)-fe,Pe=Math.max(xe,oe,ce,se)-ke;return{x:fe,y:ke,width:Ee,height:Pe,polygon:[[Se,xe],[je,oe],[me,ce],[we,se]]}}getStyle($){return a.getComputedStyle(this.element||this,"").getPropertyValue($)}hasClass($){return(""+this.attr("class")).split(" ").indexOf($)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor($,P){this.onEvents={},this.opacity=1,this.SVG_NS=i,this.element=P==="span"||P==="body"?r(P):m.createElementNS(this.SVG_NS,P),this.renderer=$,this.styles={},E(this,"afterInit")}on($,P){let{onEvents:w}=this;return w[$]&&w[$](),w[$]=l(this.element,$,P),this}opacitySetter($,P,w){let D=Number(Number($).toFixed(3));this.opacity=D,w.setAttribute(P,D)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass($){return this.attr("class",(""+this.attr("class")).replace(_($)?RegExp(`(^| )${$}( |$)`):$," ").replace(/ +/g," ").trim())}removeTextOutline(){let $=this.element.querySelector("tspan.highcharts-text-outline");$&&this.safeRemoveChild($)}safeRemoveChild($){let P=$.parentNode;P&&P.removeChild($)}setRadialReference($){let P=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=$,P&&P.radAttr&&P.animate(this.renderer.getRadialAttr($,P.radAttr)),this}shadow($){let{renderer:P}=this,w=M(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},T($)?$:{}),D=P.shadowDefinition(w);return this.attr({filter:$?`url(${P.url}#${D})`:"none"})}show($=!0){return this.attr({visibility:$?"inherit":"visible"})}"stroke-widthSetter"($,P,w){this[P]=$,w.setAttribute(P,$)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let $=this.getStyle("stroke-width"),P=0,w;return/px$/.test($)?P=O($):$!==""&&(c(w=m.createElementNS(i,"rect"),{width:$,"stroke-width":0}),this.element.parentNode.appendChild(w),P=w.getBBox().width,w.parentNode.removeChild(w)),P}symbolAttr($){let P=this;G.symbolCustomAttribs.forEach(function(w){P[w]=S($[w],P[w])}),P.attr({d:P.renderer.symbols[P.symbolName](P.x,P.y,P.width,P.height,P)})}textSetter($){$!==this.textStr&&(delete this.textPxLength,this.textStr=$,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter($){let P=this.element,w=P.getElementsByTagName("title")[0]||m.createElementNS(this.SVG_NS,"title");P.insertBefore?P.insertBefore(w,P.firstChild):P.appendChild(w),w.textContent=F(S($,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let $=this.element;return $.parentNode.appendChild($),this}translate($,P){return this.attr({translateX:$,translateY:P})}updateTransform($="transform"){let{element:P,matrix:w,rotation:D=0,rotationOriginX:H,rotationOriginY:N,scaleX:z,scaleY:W,translateX:te=0,translateY:V=0}=this,Z=["translate("+te+","+V+")"];u(w)&&Z.push("matrix("+w.join(",")+")"),D&&(Z.push("rotate("+D+" "+S(H,P.getAttribute("x"),0)+" "+S(N,P.getAttribute("y")||0)+")"),this.text?.element.tagName==="SPAN"&&this.text.attr({rotation:D,rotationOriginX:(H||0)-this.padding,rotationOriginY:(N||0)-this.padding})),(u(z)||u(W))&&Z.push("scale("+S(z,1)+" "+S(W,1)+")"),Z.length&&!(this.text||this).textPath&&P.setAttribute($,Z.join(" "))}visibilitySetter($,P,w){$==="inherit"?w.removeAttribute(P):this[P]!==$&&w.setAttribute(P,$),this[P]=$}xGetter($){return this.element.nodeName==="circle"&&($==="x"?$="cx":$==="y"&&($="cy")),this._defaultGetter($)}zIndexSetter($,P){let w=this.renderer,D=this.parentGroup,H=(D||w).element||w.box,N=this.element,z=H===w.box,W,te,V,Z=!1,Y,q=this.added,J;if(u($)?(N.setAttribute("data-z-index",$),$=+$,this[P]===$&&(q=!1)):u(this[P])&&N.removeAttribute("data-z-index"),this[P]=$,q){for(($=this.zIndex)&&D&&(D.handleZ=!0),J=(W=H.childNodes).length-1;J>=0&&!Z;J--)Y=!u(V=(te=W[J]).getAttribute("data-z-index")),te!==N&&($<0&&Y&&!z&&!J?(H.insertBefore(N,W[J]),Z=!0):(O(V)<=$||Y&&(!u($)||$>=0))&&(H.insertBefore(N,W[J+1]),Z=!0));Z||(H.insertBefore(N,W[z?3:0]),Z=!0)}return Z}}return G.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],G.prototype.strokeSetter=G.prototype.fillSetter,G.prototype.yGetter=G.prototype.xGetter,G.prototype.matrixSetter=G.prototype.rotationOriginXSetter=G.prototype.rotationOriginYSetter=G.prototype.rotationSetter=G.prototype.scaleXSetter=G.prototype.scaleYSetter=G.prototype.translateXSetter=G.prototype.translateYSetter=G.prototype.verticalAlignSetter=function(K,$){this[$]=K,this.doTransform=!0},G}),de(ee,"Core/Renderer/SVG/SVGLabel.js",[ee["Core/Renderer/SVG/SVGElement.js"],ee["Core/Utilities.js"]],function(t,X){let{defined:I,extend:y,isNumber:b,merge:h,pick:d,removeEvent:v}=X;class m extends t{constructor(i,a,l,c,r,s,o,u,f,C){let E;super(i,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=a,this.x=l,this.y=c,this.anchorX=s,this.anchorY=o,this.baseline=f,this.className=C,this.addClass(C==="button"?"highcharts-no-tooltip":"highcharts-label"),C&&this.addClass("highcharts-"+C),this.text=i.text(void 0,0,0,u).attr({zIndex:1}),typeof r=="string"&&((E=/^url\((.*?)\)$/.test(r))||this.renderer.symbols[r])&&(this.symbolKey=r),this.bBox=m.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=i.styledMode||E,this.deferredAttr={},this.alignFactor=0}alignSetter(i){let a={left:0,center:.5,right:1}[i];a!==this.alignFactor&&(this.alignFactor=a,this.bBox&&b(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(i,a){this.anchorX=i,this.boxAttr(a,Math.round(i)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(i,a){this.anchorY=i,this.boxAttr(a,i-this.ySetting)}boxAttr(i,a){this.box?this.box.attr(i,a):this.deferredAttr[i]=a}css(i){if(i){let a={};i=h(i),m.textProps.forEach(l=>{i[l]!==void 0&&(a[l]=i[l],delete i[l])}),this.text.css(a),"fontSize"in a||"fontWeight"in a?this.updateTextPadding():("width"in a||"textOverflow"in a)&&this.updateBoxSize()}return t.prototype.css.call(this,i)}destroy(){v(this.element,"mouseenter"),v(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)}fillSetter(i,a){i&&(this.needsBox=!0),this.fill=i,this.boxAttr(a,i)}getBBox(i,a){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:l,height:c=0,translateX:r=0,translateY:s=0,width:o=0}=this,u=d(this.paddingLeft,l),f=a??(this.rotation||0),C={width:o,height:c,x:r+this.bBox.x-u,y:s+this.bBox.y-l+this.baselineOffset};return f&&(C=this.getRotatedBox(C,f)),C}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(i){this.heightSetting=i,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:d(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&I(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(i,a){b(i)?i!==this[a]&&(this[a]=i,this.updateTextPadding()):this[a]=void 0}rSetter(i,a){this.boxAttr(a,i)}strokeSetter(i,a){this.stroke=i,this.boxAttr(a,i)}"stroke-widthSetter"(i,a){i&&(this.needsBox=!0),this["stroke-width"]=i,this.boxAttr(a,i)}"text-alignSetter"(i){this.textAlign=i}textSetter(i){i!==void 0&&this.text.attr({text:i}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let i,a=this.text,l={},c=this.padding,r=this.bBox=(!b(this.widthSetting)||!b(this.heightSetting)||this.textAlign)&&I(a.textStr)?a.getBBox(void 0,0):m.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||r.height||0)+2*c;let s=this.renderer.fontMetrics(a);if(this.baselineOffset=c+Math.min((this.text.firstLineMetrics||s).b,r.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-s.h)/2),this.needsBox&&!a.textPath){if(!this.box){let o=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();o.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),o.add(this)}i=this.getCrispAdjust(),l.x=i,l.y=(this.baseline?-this.baselineOffset:0)+i,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(y(l,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let i=this.text;if(!i.textPath){this.updateBoxSize();let a=this.baseline?0:this.baselineOffset,l=d(this.paddingLeft,this.padding);I(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(l+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(l!==i.x||a!==i.y)&&(i.attr("x",l),i.hasBoxWidthChanged&&(this.bBox=i.getBBox(!0)),a!==void 0&&i.attr("y",a)),i.x=l,i.y=a}}widthSetter(i){this.widthSetting=b(i)?i:void 0,this.doUpdate=!0}getPaddedWidth(){let i=this.padding,a=d(this.paddingLeft,i),l=d(this.paddingRight,i);return(this.widthSetting||this.bBox.width||0)+a+l}xSetter(i){this.x=i,this.alignFactor&&(i-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(i),this.attr("translateX",this.xSetting)}ySetter(i){this.ySetting=this.y=Math.round(i),this.attr("translateY",this.ySetting)}}return m.emptyBBox={width:0,height:0,x:0,y:0},m.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],m}),de(ee,"Core/Renderer/SVG/Symbols.js",[ee["Core/Utilities.js"]],function(t){let{defined:X,isNumber:I,pick:y}=t;function b(v,m,n,i,a){let l=[];if(a){let c=a.start||0,r=y(a.r,n),s=y(a.r,i||n),o=2e-4/Math.max(r,1),u=Math.abs((a.end||0)-c-2*Math.PI)<o,f=(a.end||0)-o,C=a.innerR,E=y(a.open,u),j=Math.cos(c),x=Math.sin(c),T=Math.cos(f),_=Math.sin(f),M=y(a.longArc,f-c-Math.PI<o?0:1),p=["A",r,s,0,M,y(a.clockwise,1),v+r*T,m+s*_];p.params={start:c,end:f,cx:v,cy:m},l.push(["M",v+r*j,m+s*x],p),X(C)&&((p=["A",C,C,0,M,X(a.clockwise)?1-a.clockwise:0,v+C*j,m+C*x]).params={start:f,end:c,cx:v,cy:m},l.push(E?["M",v+C*T,m+C*_]:["L",v+C*T,m+C*_],p)),E||l.push(["Z"])}return l}function h(v,m,n,i,a){return a&&a.r?d(v,m,n,i,a):[["M",v,m],["L",v+n,m],["L",v+n,m+i],["L",v,m+i],["Z"]]}function d(v,m,n,i,a){let l=a?.r||0;return[["M",v+l,m],["L",v+n-l,m],["A",l,l,0,0,1,v+n,m+l],["L",v+n,m+i-l],["A",l,l,0,0,1,v+n-l,m+i],["L",v+l,m+i],["A",l,l,0,0,1,v,m+i-l],["L",v,m+l],["A",l,l,0,0,1,v+l,m],["Z"]]}return{arc:b,callout:function(v,m,n,i,a){let l=Math.min(a&&a.r||0,n,i),c=l+6,r=a&&a.anchorX,s=a&&a.anchorY||0,o=d(v,m,n,i,{r:l});if(!I(r)||r<n&&r>0&&s<i&&s>0)return o;if(v+r>n-c)if(s>m+c&&s<m+i-c)o.splice(3,1,["L",v+n,s-6],["L",v+n+6,s],["L",v+n,s+6],["L",v+n,m+i-l]);else if(r<n){let u=s<m+c,f=u?m:m+i;o.splice(u?2:5,0,["L",r,s],["L",v+n-l,f])}else o.splice(3,1,["L",v+n,i/2],["L",r,s],["L",v+n,i/2],["L",v+n,m+i-l]);else if(v+r<c)if(s>m+c&&s<m+i-c)o.splice(7,1,["L",v,s+6],["L",v-6,s],["L",v,s-6],["L",v,m+l]);else if(r>0){let u=s<m+c,f=u?m:m+i;o.splice(u?1:6,0,["L",r,s],["L",v+l,f])}else o.splice(7,1,["L",v,i/2],["L",r,s],["L",v,i/2],["L",v,m+l]);else s>i&&r<n-c?o.splice(5,1,["L",r+6,m+i],["L",r,m+i+6],["L",r-6,m+i],["L",v+l,m+i]):s<0&&r>c&&o.splice(1,1,["L",r-6,m],["L",r,m-6],["L",r+6,m],["L",n-l,m]);return o},circle:function(v,m,n,i){return b(v+n/2,m+i/2,n/2,i/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(v,m,n,i){return[["M",v+n/2,m],["L",v+n,m+i/2],["L",v+n/2,m+i],["L",v,m+i/2],["Z"]]},rect:h,roundedRect:d,square:h,triangle:function(v,m,n,i){return[["M",v+n/2,m],["L",v+n,m+i],["L",v,m+i],["Z"]]},"triangle-down":function(v,m,n,i){return[["M",v,m],["L",v+n,m],["L",v+n/2,m+i],["Z"]]}}}),de(ee,"Core/Renderer/SVG/TextBuilder.js",[ee["Core/Renderer/HTML/AST.js"],ee["Core/Globals.js"],ee["Core/Utilities.js"]],function(t,X,I){let{doc:y,SVG_NS:b,win:h}=X,{attr:d,extend:v,fireEvent:m,isString:n,objectEach:i,pick:a}=I;return class{constructor(l){let c=l.styles;this.renderer=l.renderer,this.svgElement=l,this.width=l.textWidth,this.textLineHeight=c&&c.lineHeight,this.textOutline=c&&c.textOutline,this.ellipsis=!!(c&&c.textOverflow==="ellipsis"),this.noWrap=!!(c&&c.whiteSpace==="nowrap")}buildSVG(){let l=this.svgElement,c=l.element,r=l.renderer,s=a(l.textStr,"").toString(),o=s.indexOf("<")!==-1,u=c.childNodes,f=!l.added&&r.box,C=[s,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,l.getStyle("font-size"),this.width].join(",");if(C!==l.textCache){l.textCache=C,delete l.actualWidth;for(let E=u.length;E--;)c.removeChild(u[E]);if(o||this.ellipsis||this.width||l.textPath||s.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(s))){if(s!==""){f&&f.appendChild(c);let E=new t(s);this.modifyTree(E.nodes),E.addToDOM(c),this.modifyDOM(),this.ellipsis&&(c.textContent||"").indexOf("\u2026")!==-1&&l.attr("title",this.unescapeEntities(l.textStr||"",["&lt;","&gt;"])),f&&f.removeChild(c)}}else c.appendChild(y.createTextNode(this.unescapeEntities(s)));n(this.textOutline)&&l.applyTextOutline&&l.applyTextOutline(this.textOutline)}}modifyDOM(){let l,c=this.svgElement,r=d(c.element,"x");for(c.firstLineMetrics=void 0;(l=c.element.firstChild)&&/^[\s\u200B]*$/.test(l.textContent||" ");)c.element.removeChild(l);[].forEach.call(c.element.querySelectorAll("tspan.highcharts-br"),(f,C)=>{f.nextSibling&&f.previousSibling&&(C===0&&f.previousSibling.nodeType===1&&(c.firstLineMetrics=c.renderer.fontMetrics(f.previousSibling)),d(f,{dy:this.getLineHeight(f.nextSibling),x:r}))});let s=this.width||0;if(!s)return;let o=(f,C)=>{let E=f.textContent||"",j=E.replace(/([^\^])-/g,"$1- ").split(" "),x=!this.noWrap&&(j.length>1||c.element.childNodes.length>1),T=this.getLineHeight(C),_=0,M=c.actualWidth;if(this.ellipsis)E&&this.truncate(f,E,void 0,0,Math.max(0,s-.8*T),(p,S)=>p.substring(0,S)+"\u2026");else if(x){let p=[],S=[];for(;C.firstChild&&C.firstChild!==f;)S.push(C.firstChild),C.removeChild(C.firstChild);for(;j.length;)j.length&&!this.noWrap&&_>0&&(p.push(f.textContent||""),f.textContent=j.join(" ").replace(/- /g,"-")),this.truncate(f,void 0,j,_===0&&M||0,s,(O,k)=>j.slice(0,k).join(" ").replace(/- /g,"-")),M=c.actualWidth,_++;S.forEach(O=>{C.insertBefore(O,f)}),p.forEach(O=>{C.insertBefore(y.createTextNode(O),f);let k=y.createElementNS(b,"tspan");k.textContent="\u200B",d(k,{dy:T,x:r}),C.insertBefore(k,f)})}},u=f=>{[].slice.call(f.childNodes).forEach(C=>{C.nodeType===h.Node.TEXT_NODE?o(C,f):(C.className.baseVal.indexOf("highcharts-br")!==-1&&(c.actualWidth=0),u(C))})};u(c.element)}getLineHeight(l){let c=l.nodeType===h.Node.TEXT_NODE?l.parentElement:l;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(c||this.svgElement.element).h}modifyTree(l){let c=(r,s)=>{let{attributes:o={},children:u,style:f={},tagName:C}=r,E=this.renderer.styledMode;if(C==="b"||C==="strong"?E?o.class="highcharts-strong":f.fontWeight="bold":(C==="i"||C==="em")&&(E?o.class="highcharts-emphasized":f.fontStyle="italic"),f&&f.color&&(f.fill=f.color),C==="br"){o.class="highcharts-br",r.textContent="\u200B";let j=l[s+1];j&&j.textContent&&(j.textContent=j.textContent.replace(/^ +/gm,""))}else C==="a"&&u&&u.some(j=>j.tagName==="#text")&&(r.children=[{children:u,tagName:"tspan"}]);C!=="#text"&&C!=="a"&&(r.tagName="tspan"),v(r,{attributes:o,style:f}),u&&u.filter(j=>j.tagName!=="#text").forEach(c)};l.forEach(c),m(this.svgElement,"afterModifyTree",{nodes:l})}truncate(l,c,r,s,o,u){let f,C,E=this.svgElement,{rotation:j}=E,x=[],T=r?1:0,_=(c||r||"").length,M=_,p=function(S,O){let k=O||S,F=l.parentNode;if(F&&x[k]===void 0&&F.getSubStringLength)try{x[k]=s+F.getSubStringLength(0,r?k+1:k)}catch{}return x[k]};if(E.rotation=0,s+(C=p(l.textContent.length))>o){for(;T<=_;)M=Math.ceil((T+_)/2),r&&(f=u(r,M)),C=p(M,f&&f.length-1),T===_?T=_+1:C>o?_=M-1:T=M;_===0?l.textContent="":c&&_===c.length-1||(l.textContent=f||u(c||r,M))}r&&r.splice(0,M),E.actualWidth=C,E.rotation=j}unescapeEntities(l,c){return i(this.renderer.escapes,function(r,s){c&&c.indexOf(r)!==-1||(l=l.toString().replace(RegExp(r,"g"),s))}),l}}}),de(ee,"Core/Renderer/SVG/SVGRenderer.js",[ee["Core/Renderer/HTML/AST.js"],ee["Core/Defaults.js"],ee["Core/Color/Color.js"],ee["Core/Globals.js"],ee["Core/Renderer/RendererRegistry.js"],ee["Core/Renderer/SVG/SVGElement.js"],ee["Core/Renderer/SVG/SVGLabel.js"],ee["Core/Renderer/SVG/Symbols.js"],ee["Core/Renderer/SVG/TextBuilder.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b,h,d,v,m,n){let i,{defaultOptions:a}=X,{charts:l,deg2rad:c,doc:r,isFirefox:s,isMS:o,isWebKit:u,noop:f,SVG_NS:C,symbolSizes:E,win:j}=y,{addEvent:x,attr:T,createElement:_,crisp:M,css:p,defined:S,destroyObjectProperties:O,extend:k,isArray:F,isNumber:B,isObject:L,isString:G,merge:K,pick:$,pInt:P,replaceNested:w,uniqueKey:D}=n;class H{constructor(z,W,te,V,Z,Y,q){let J,re,ue=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ae=ue.element;q||ue.css(this.getStyle(V||{})),z.appendChild(ae),T(z,"dir","ltr"),z.innerHTML.indexOf("xmlns")===-1&&T(ae,"xmlns",this.SVG_NS),this.box=ae,this.boxWrapper=ue,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(r.createTextNode("Created with Highcharts 11.4.6")),this.defs=this.createElement("defs").add(),this.allowHTML=Y,this.forExport=Z,this.styledMode=q,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=ue.getStyle("font-size"),this.setSize(W,te,!1),s&&z.getBoundingClientRect&&((J=function(){p(z,{left:0,top:0}),re=z.getBoundingClientRect(),p(z,{left:Math.ceil(re.left)-re.left+"px",top:Math.ceil(re.top)-re.top+"px"})})(),this.unSubPixelFix=x(j,"resize",J))}definition(z){return new t([z]).addToDOM(this.defs.element)}getReferenceURL(){if((s||u)&&r.getElementsByTagName("base").length){if(!S(i)){let z=D(),W=new t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:z},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${z})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(r.body);p(W,{position:"fixed",top:0,left:0,zIndex:9e5});let te=r.elementFromPoint(6,6);i=(te&&te.id)==="hitme",r.body.removeChild(W)}if(i)return w(j.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(z){return this.style=k({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},z),this.style}setStyle(z){this.boxWrapper.css(this.getStyle(z))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let z=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),O(this.gradients||{}),this.gradients=null,this.defs=z.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(z){return new this.Element(this,z)}getRadialAttr(z,W){return{cx:z[0]-z[2]/2+(W.cx||0)*z[2],cy:z[1]-z[2]/2+(W.cy||0)*z[2],r:(W.r||0)*z[2]}}shadowDefinition(z){let W=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(z).map(V=>`${V}-${z[V]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),te=K({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},z);return this.defs.element.querySelector(`#${W}`)||this.definition({tagName:"filter",attributes:{id:W,filterUnits:te.filterUnits},children:this.getShadowFilterContent(te)}),W}getShadowFilterContent(z){return[{tagName:"feDropShadow",attributes:{dx:z.offsetX,dy:z.offsetY,"flood-color":z.color,"flood-opacity":Math.min(5*z.opacity,1),stdDeviation:z.width/2}}]}buildText(z){new m(z).buildSVG()}getContrast(z){let W=I.parse(z).rgba.map(V=>{let Z=V/255;return Z<=.03928?Z/12.92:Math.pow((Z+.055)/1.055,2.4)}),te=.2126*W[0]+.7152*W[1]+.0722*W[2];return 1.05/(te+.05)>(te+.05)/.05?"#FFFFFF":"#000000"}button(z,W,te,V,Z={},Y,q,J,re,ue){let ae=this.label(z,W,te,re,void 0,void 0,ue,void 0,"button"),he=this.styledMode,be=arguments,Me=0;Z=K(a.global.buttonTheme,Z),he&&(delete Z.fill,delete Z.stroke,delete Z["stroke-width"]);let le=Z.states||{},pe=Z.style||{};delete Z.states,delete Z.style;let ge=[t.filterUserAttributes(Z)],ve=[pe];return he||["hover","select","disabled"].forEach((Se,je)=>{ge.push(K(ge[0],t.filterUserAttributes(be[je+5]||le[Se]||{}))),ve.push(ge[je+1].style),delete ge[je+1].style}),x(ae.element,o?"mouseover":"mouseenter",function(){Me!==3&&ae.setState(1)}),x(ae.element,o?"mouseout":"mouseleave",function(){Me!==3&&ae.setState(Me)}),ae.setState=(Se=0)=>{if(Se!==1&&(ae.state=Me=Se),ae.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Se]),!he){ae.attr(ge[Se]);let je=ve[Se];L(je)&&ae.css(je)}},ae.attr(ge[0]),!he&&(ae.css(k({cursor:"default"},pe)),ue&&ae.text.css({pointerEvents:"none"})),ae.on("touchstart",Se=>Se.stopPropagation()).on("click",function(Se){Me!==3&&V.call(ae,Se)})}crispLine(z,W){let[te,V]=z;return S(te[1])&&te[1]===V[1]&&(te[1]=V[1]=M(te[1],W)),S(te[2])&&te[2]===V[2]&&(te[2]=V[2]=M(te[2],W)),z}path(z){let W=this.styledMode?{}:{fill:"none"};return F(z)?W.d=z:L(z)&&k(W,z),this.createElement("path").attr(W)}circle(z,W,te){let V=L(z)?z:z===void 0?{}:{x:z,y:W,r:te},Z=this.createElement("circle");return Z.xSetter=Z.ySetter=function(Y,q,J){J.setAttribute("c"+q,Y)},Z.attr(V)}arc(z,W,te,V,Z,Y){let q;L(z)?(W=(q=z).y,te=q.r,V=q.innerR,Z=q.start,Y=q.end,z=q.x):q={innerR:V,start:Z,end:Y};let J=this.symbol("arc",z,W,te,te,q);return J.r=te,J}rect(z,W,te,V,Z,Y){let q=L(z)?z:z===void 0?{}:{x:z,y:W,r:Z,width:Math.max(te||0,0),height:Math.max(V||0,0)},J=this.createElement("rect");return this.styledMode||(Y!==void 0&&(q["stroke-width"]=Y,k(q,J.crisp(q))),q.fill="none"),J.rSetter=function(re,ue,ae){J.r=re,T(ae,{rx:re,ry:re})},J.rGetter=function(){return J.r||0},J.attr(q)}roundedRect(z){return this.symbol("roundedRect").attr(z)}setSize(z,W,te){this.width=z,this.height=W,this.boxWrapper.animate({width:z,height:W},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:$(te,!0)?void 0:0}),this.alignElements()}g(z){let W=this.createElement("g");return z?W.attr({class:"highcharts-"+z}):W}image(z,W,te,V,Z,Y){let q={preserveAspectRatio:"none"};B(W)&&(q.x=W),B(te)&&(q.y=te),B(V)&&(q.width=V),B(Z)&&(q.height=Z);let J=this.createElement("image").attr(q),re=function(ue){J.attr({href:z}),Y.call(J,ue)};if(Y){J.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let ue=new j.Image;x(ue,"load",re),ue.src=z,ue.complete&&re({})}else J.attr({href:z});return J}symbol(z,W,te,V,Z,Y){let q,J,re,ue,ae=this,he=/^url\((.*?)\)$/,be=he.test(z),Me=!be&&(this.symbols[z]?z:"circle"),le=Me&&this.symbols[Me];if(le)typeof W=="number"&&(J=le.call(this.symbols,W||0,te||0,V||0,Z||0,Y)),q=this.path(J),ae.styledMode||q.attr("fill","none"),k(q,{symbolName:Me||void 0,x:W,y:te,width:V,height:Z}),Y&&k(q,Y);else if(be){re=z.match(he)[1];let pe=q=this.image(re);pe.imgwidth=$(Y&&Y.width,E[re]&&E[re].width),pe.imgheight=$(Y&&Y.height,E[re]&&E[re].height),ue=ge=>ge.attr({width:ge.width,height:ge.height}),["width","height"].forEach(ge=>{pe[`${ge}Setter`]=function(ve,Se){this[Se]=ve;let{alignByTranslate:je,element:me,width:we,height:xe,imgwidth:oe,imgheight:ce}=this,se=Se==="width"?oe:ce,fe=1;Y&&Y.backgroundSize==="within"&&we&&xe&&oe&&ce?(fe=Math.min(we/oe,xe/ce),T(me,{width:Math.round(oe*fe),height:Math.round(ce*fe)})):me&&se&&me.setAttribute(Se,se),!je&&oe&&ce&&this.translate(((we||0)-oe*fe)/2,((xe||0)-ce*fe)/2)}}),S(W)&&pe.attr({x:W,y:te}),pe.isImg=!0,S(pe.imgwidth)&&S(pe.imgheight)?ue(pe):(pe.attr({width:0,height:0}),_("img",{onload:function(){let ge=l[ae.chartIndex];this.width===0&&(p(this,{position:"absolute",top:"-999em"}),r.body.appendChild(this)),E[re]={width:this.width,height:this.height},pe.imgwidth=this.width,pe.imgheight=this.height,pe.element&&ue(pe),this.parentNode&&this.parentNode.removeChild(this),ae.imgCount--,ae.imgCount||!ge||ge.hasLoaded||ge.onload()},src:re}),this.imgCount++)}return q}clipRect(z,W,te,V){return this.rect(z,W,te,V,0)}text(z,W,te,V){let Z={};if(V&&(this.allowHTML||!this.forExport))return this.html(z,W,te);Z.x=Math.round(W||0),te&&(Z.y=Math.round(te)),S(z)&&(Z.text=z);let Y=this.createElement("text").attr(Z);return V&&(!this.forExport||this.allowHTML)||(Y.xSetter=function(q,J,re){let ue=re.getElementsByTagName("tspan"),ae=re.getAttribute(J);for(let he=0,be;he<ue.length;he++)(be=ue[he]).getAttribute(J)===ae&&be.setAttribute(J,q);re.setAttribute(J,q)}),Y}fontMetrics(z){let W=P(h.prototype.getStyle.call(z,"font-size")||0),te=W<24?W+3:Math.round(1.2*W),V=Math.round(.8*te);return{h:te,b:V,f:W}}rotCorr(z,W,te){let V=z;return W&&te&&(V=Math.max(V*Math.cos(W*c),4)),{x:-z/3*Math.sin(W*c),y:V}}pathToSegments(z){let W=[],te=[],V={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let Z=0;Z<z.length;Z++)G(te[0])&&B(z[Z])&&te.length===V[te[0].toUpperCase()]&&z.splice(Z,0,te[0].replace("M","L").replace("m","l")),typeof z[Z]=="string"&&(te.length&&W.push(te.slice(0)),te.length=0),te.push(z[Z]);return W.push(te.slice(0)),W}label(z,W,te,V,Z,Y,q,J,re){return new d(this,z,W,te,V,Z,Y,q,J,re)}alignElements(){this.alignedObjects.forEach(z=>z.align())}}return k(H.prototype,{Element:h,SVG_NS:C,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:v,draw:f}),b.registerRendererType("svg",H,!0),H}),de(ee,"Core/Renderer/HTML/HTMLElement.js",[ee["Core/Renderer/HTML/AST.js"],ee["Core/Globals.js"],ee["Core/Renderer/SVG/SVGElement.js"],ee["Core/Utilities.js"]],function(t,X,I,y){let{composed:b}=X,{attr:h,css:d,createElement:v,defined:m,extend:n,pInt:i,pushUnique:a}=y;function l(o,u,f){let C=this.div?.style||f.style;I.prototype[`${u}Setter`].call(this,o,u,f),C&&(C[u]=o)}let c=(o,u)=>{if(!o.div){let f=h(o.element,"class"),C=o.css,E=v("div",f?{className:f}:void 0,It(at({position:"absolute",left:`${o.translateX||0}px`,top:`${o.translateY||0}px`},o.styles),{display:o.display,opacity:o.opacity,visibility:o.visibility}),o.parentGroup?.div||u);o.classSetter=(j,x,T)=>{T.setAttribute("class",j),E.className=j},o.translateXSetter=o.translateYSetter=(j,x)=>{o[x]=j,E.style[x==="translateX"?"left":"top"]=`${j}px`,o.doTransform=!0},o.opacitySetter=o.visibilitySetter=l,o.css=j=>(C.call(o,j),j.cursor&&(E.style.cursor=j.cursor),j.pointerEvents&&(E.style.pointerEvents=j.pointerEvents),o),o.on=function(){return I.prototype.on.apply({element:E,onEvents:o.onEvents},arguments),o},o.div=E}return o.div};class r extends I{static compose(u){a(b,this.compose)&&(u.prototype.html=function(f,C,E){return new r(this,"span").attr({text:f,x:Math.round(C),y:Math.round(E)})})}constructor(u,f){super(u,f),this.css(at({position:"absolute"},u.styledMode?{}:{fontFamily:u.style.fontFamily,fontSize:u.style.fontSize})),this.element.style.whiteSpace="nowrap"}getSpanCorrection(u,f,C){this.xCorr=-u*C,this.yCorr=-f}css(u){let f,{element:C}=this,E=C.tagName==="SPAN"&&u&&"width"in u,j=E&&u.width;return E&&(delete u.width,this.textWidth=i(j)||void 0,f=!0),u?.textOverflow==="ellipsis"&&(u.whiteSpace="nowrap",u.overflow="hidden"),n(this.styles,u),d(C,u),f&&this.updateTransform(),this}htmlGetBBox(){let{element:u}=this;return{x:u.offsetLeft,y:u.offsetTop,width:u.offsetWidth,height:u.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:u,renderer:f,rotation:C,rotationOriginX:E,rotationOriginY:j,styles:x,textAlign:T="left",textWidth:_,translateX:M=0,translateY:p=0,x:S=0,y:O=0}=this,k={left:0,center:.5,right:1}[T],F=x.whiteSpace;if(d(u,{marginLeft:`${M}px`,marginTop:`${p}px`}),u.tagName==="SPAN"){let B=[C,T,u.innerHTML,_,this.textAlign].join(","),L=-(this.parentGroup?.padding*1)||0,G,K=!1;if(_!==this.oldTextWidth){let H=this.textPxLength?this.textPxLength:(d(u,{width:"",whiteSpace:F||"nowrap"}),u.offsetWidth),N=_||0;(N>this.oldTextWidth||H>N)&&(/[ \-]/.test(u.textContent||u.innerText)||u.style.textOverflow==="ellipsis")&&(d(u,{width:H>N||C?_+"px":"auto",display:"block",whiteSpace:F||"normal"}),this.oldTextWidth=_,K=!0)}this.hasBoxWidthChanged=K,B!==this.cTT&&(G=f.fontMetrics(u).b,m(C)&&(C!==(this.oldRotation||0)||T!==this.oldAlign)&&this.setSpanRotation(C,L,L),this.getSpanCorrection(!m(C)&&this.textPxLength||u.offsetWidth,G,k));let{xCorr:$=0,yCorr:P=0}=this,w=(E??S)-$-S-L,D=(j??O)-P-O-L;d(u,{left:`${S+$}px`,top:`${O+P}px`,transformOrigin:`${w}px ${D}px`}),this.cTT=B,this.oldRotation=C,this.oldAlign=T}}setSpanRotation(u,f,C){d(this.element,{transform:`rotate(${u}deg)`,transformOrigin:`${f}% ${C}px`})}add(u){let f,C=this.renderer.box.parentNode,E=[];if(this.parentGroup=u,u&&!(f=u.div)){let j=u;for(;j;)E.push(j),j=j.parentGroup;for(let x of E.reverse())f=c(x,C)}return(f||C).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(u){u!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,t.setElementHTML(this.element,u??""),this.textStr=u,this.doTransform=!0)}alignSetter(u){this.alignValue=this.textAlign=u,this.doTransform=!0}xSetter(u,f){this[f]=u,this.doTransform=!0}}let s=r.prototype;return s.visibilitySetter=s.opacitySetter=l,s.ySetter=s.rotationSetter=s.rotationOriginXSetter=s.rotationOriginYSetter=s.xSetter,r}),de(ee,"Core/Axis/AxisDefaults.js",[],function(){var t,X;return(X=t||(t={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},X.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:I}=this.axis.chart;return I(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},t}),de(ee,"Core/Foundation.js",[ee["Core/Utilities.js"]],function(t){var X;let{addEvent:I,isFunction:y,objectEach:b,removeEvent:h}=t;return(X||(X={})).registerEventOptions=function(d,v){d.eventOptions=d.eventOptions||{},b(v.events,function(m,n){d.eventOptions[n]!==m&&(d.eventOptions[n]&&(h(d,n,d.eventOptions[n]),delete d.eventOptions[n]),y(m)&&(d.eventOptions[n]=m,I(d,n,m,{order:0})))})},X}),de(ee,"Core/Axis/Tick.js",[ee["Core/Templating.js"],ee["Core/Globals.js"],ee["Core/Utilities.js"]],function(t,X,I){let{deg2rad:y}=X,{clamp:b,correctFloat:h,defined:d,destroyObjectProperties:v,extend:m,fireEvent:n,isNumber:i,merge:a,objectEach:l,pick:c}=I;return class{constructor(r,s,o,u,f){this.isNew=!0,this.isNewLabel=!0,this.axis=r,this.pos=s,this.type=o||"",this.parameters=f||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n(this,"init"),o||u||this.addLabel()}addLabel(){let r=this,s=r.axis,o=s.options,u=s.chart,f=s.categories,C=s.logarithmic,E=s.names,j=r.pos,x=c(r.options&&r.options.labels,o.labels),T=s.tickPositions,_=j===T[0],M=j===T[T.length-1],p=(!x.step||x.step===1)&&s.tickInterval===1,S=T.info,O=r.label,k,F,B,L=this.parameters.category||(f?c(f[j],E[j],j):j);C&&i(L)&&(L=h(C.lin2log(L))),s.dateTime&&(S?k=(F=u.time.resolveDTLFormat(o.dateTimeLabelFormats[!o.grid&&S.higherRanks[j]||S.unitName])).main:i(L)&&(k=s.dateTime.getXDateFormat(L,o.dateTimeLabelFormats||{}))),r.isFirst=_,r.isLast=M;let G={axis:s,chart:u,dateTimeLabelFormat:k,isFirst:_,isLast:M,pos:j,tick:r,tickPositionInfo:S,value:L};n(this,"labelFormat",G);let K=w=>x.formatter?x.formatter.call(w,w):x.format?(w.text=s.defaultLabelFormatter.call(w),t.format(x.format,w,u)):s.defaultLabelFormatter.call(w),$=K.call(G,G),P=F&&F.list;P?r.shortenLabel=function(){for(B=0;B<P.length;B++)if(m(G,{dateTimeLabelFormat:P[B]}),O.attr({text:K.call(G,G)}),O.getBBox().width<s.getSlotWidth(r)-2*(x.padding||0))return;O.attr({text:""})}:r.shortenLabel=void 0,p&&s._addedPlotLB&&r.moveLabel($,x),d(O)||r.movedLabel?O&&O.textStr!==$&&!p&&(!O.textWidth||x.style.width||O.styles.width||O.css({width:null}),O.attr({text:$}),O.textPxLength=O.getBBox().width):(r.label=O=r.createLabel($,x),r.rotation=0)}createLabel(r,s,o){let u=this.axis,f=u.chart,C=d(r)&&s.enabled?f.renderer.text(r,o?.x,o?.y,s.useHTML).add(u.labelGroup):void 0;return C&&(f.styledMode||C.css(a(s.style)),C.textPxLength=C.getBBox().width),C}destroy(){v(this,this.axis)}getPosition(r,s,o,u){let f=this.axis,C=f.chart,E=u&&C.oldChartHeight||C.chartHeight,j={x:r?h(f.translate(s+o,void 0,void 0,u)+f.transB):f.left+f.offset+(f.opposite?(u&&C.oldChartWidth||C.chartWidth)-f.right-f.left:0),y:r?E-f.bottom+f.offset-(f.opposite?f.height:0):h(E-f.translate(s+o,void 0,void 0,u)-f.transB)};return j.y=b(j.y,-1e5,1e5),n(this,"afterGetPosition",{pos:j}),j}getLabelPosition(r,s,o,u,f,C,E,j){let x,T,_=this.axis,M=_.transA,p=_.isLinked&&_.linkedParent?_.linkedParent.reversed:_.reversed,S=_.staggerLines,O=_.tickRotCorr||{x:0,y:0},k=u||_.reserveSpaceDefault?0:-_.labelOffset*(_.labelAlign==="center"?.5:1),F=f.distance,B={};return x=_.side===0?o.rotation?-F:-o.getBBox().height:_.side===2?O.y+F:Math.cos(o.rotation*y)*(O.y-o.getBBox(!1,0).height/2),d(f.y)&&(x=_.side===0&&_.horiz?f.y+x:f.y),r=r+c(f.x,[0,1,0,-1][_.side]*F)+k+O.x-(C&&u?C*M*(p?-1:1):0),s=s+x-(C&&!u?C*M*(p?1:-1):0),S&&(T=E/(j||1)%S,_.opposite&&(T=S-T-1),s+=T*(_.labelOffset/S)),B.x=r,B.y=Math.round(s),n(this,"afterGetLabelPosition",{pos:B,tickmarkOffset:C,index:E}),B}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(r,s,o,u,f=!1,C){return C.crispLine([["M",r,s],["L",r+(f?0:-o),s+(f?o:0)]],u)}handleOverflow(r){let s=this.axis,o=s.options.labels,u=r.x,f=s.chart.chartWidth,C=s.chart.spacing,E=c(s.labelLeft,Math.min(s.pos,C[3])),j=c(s.labelRight,Math.max(s.isRadial?0:s.pos+s.len,f-C[1])),x=this.label,T=this.rotation,_={left:0,center:.5,right:1}[s.labelAlign||x.attr("align")],M=x.getBBox().width,p=s.getSlotWidth(this),S={},O=p,k=1,F,B,L;T||o.overflow!=="justify"?T<0&&u-_*M<E?L=Math.round(u/Math.cos(T*y)-E):T>0&&u+_*M>j&&(L=Math.round((f-u)/Math.cos(T*y))):(F=u-_*M,B=u+(1-_)*M,F<E?O=r.x+O*(1-_)-E:B>j&&(O=j-r.x+O*_,k=-1),(O=Math.min(p,O))<p&&s.labelAlign==="center"&&(r.x+=k*(p-O-_*(p-Math.min(M,O)))),(M>O||s.autoRotation&&(x.styles||{}).width)&&(L=O)),L&&(this.shortenLabel?this.shortenLabel():(S.width=Math.floor(L)+"px",(o.style||{}).textOverflow||(S.textOverflow="ellipsis"),x.css(S)))}moveLabel(r,s){let o=this,u=o.label,f=o.axis,C=!1,E;u&&u.textStr===r?(o.movedLabel=u,C=!0,delete o.label):l(f.ticks,function(j){C||j.isNew||j===o||!j.label||j.label.textStr!==r||(o.movedLabel=j.label,C=!0,j.labelPos=o.movedLabel.xy,delete j.label)}),!C&&(o.labelPos||u)&&(E=o.labelPos||u.xy,o.movedLabel=o.createLabel(r,s,E),o.movedLabel&&o.movedLabel.attr({opacity:0}))}render(r,s,o){let u=this.axis,f=u.horiz,C=this.pos,E=c(this.tickmarkOffset,u.tickmarkOffset),j=this.getPosition(f,C,E,s),x=j.x,T=j.y,_=u.pos,M=_+u.len,p=f?x:T;!u.chart.polar&&this.isNew&&(h(p)<_||p>M)&&(o=0);let S=c(o,this.label&&this.label.newOpacity,1);o=c(o,1),this.isActive=!0,this.renderGridLine(s,o),this.renderMark(j,o),this.renderLabel(j,s,S,r),this.isNew=!1,n(this,"afterRender")}renderGridLine(r,s){let o=this.axis,u=o.options,f={},C=this.pos,E=this.type,j=c(this.tickmarkOffset,o.tickmarkOffset),x=o.chart.renderer,T=this.gridLine,_,M=u.gridLineWidth,p=u.gridLineColor,S=u.gridLineDashStyle;this.type==="minor"&&(M=u.minorGridLineWidth,p=u.minorGridLineColor,S=u.minorGridLineDashStyle),T||(o.chart.styledMode||(f.stroke=p,f["stroke-width"]=M||0,f.dashstyle=S),E||(f.zIndex=1),r&&(s=0),this.gridLine=T=x.path().attr(f).addClass("highcharts-"+(E?E+"-":"")+"grid-line").add(o.gridGroup)),T&&(_=o.getPlotLinePath({value:C+j,lineWidth:T.strokeWidth(),force:"pass",old:r,acrossPanes:!1}))&&T[r||this.isNew?"attr":"animate"]({d:_,opacity:s})}renderMark(r,s){let o=this.axis,u=o.options,f=o.chart.renderer,C=this.type,E=o.tickSize(C?C+"Tick":"tick"),j=r.x,x=r.y,T=c(u[C!=="minor"?"tickWidth":"minorTickWidth"],!C&&o.isXAxis?1:0),_=u[C!=="minor"?"tickColor":"minorTickColor"],M=this.mark,p=!M;E&&(o.opposite&&(E[0]=-E[0]),M||(this.mark=M=f.path().addClass("highcharts-"+(C?C+"-":"")+"tick").add(o.axisGroup),o.chart.styledMode||M.attr({stroke:_,"stroke-width":T})),M[p?"attr":"animate"]({d:this.getMarkPath(j,x,E[0],M.strokeWidth(),o.horiz,f),opacity:s}))}renderLabel(r,s,o,u){let f=this.axis,C=f.horiz,E=f.options,j=this.label,x=E.labels,T=x.step,_=c(this.tickmarkOffset,f.tickmarkOffset),M=r.x,p=r.y,S=!0;j&&i(M)&&(j.xy=r=this.getLabelPosition(M,p,j,C,x,_,u,T),(!this.isFirst||this.isLast||E.showFirstLabel)&&(!this.isLast||this.isFirst||E.showLastLabel)?!C||x.step||x.rotation||s||o===0||this.handleOverflow(r):S=!1,T&&u%T&&(S=!1),S&&i(r.y)?(r.opacity=o,j[this.isNewLabel?"attr":"animate"](r).show(!0),this.isNewLabel=!1):(j.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let r=this.label,s=this.axis;r&&!this.isNew&&(r.animate({opacity:0},void 0,r.destroy),delete this.label),s.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),de(ee,"Core/Axis/Axis.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Axis/AxisDefaults.js"],ee["Core/Color/Color.js"],ee["Core/Defaults.js"],ee["Core/Foundation.js"],ee["Core/Globals.js"],ee["Core/Axis/Tick.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b,h,d,v){let{animObject:m}=t,{xAxis:n,yAxis:i}=X,{defaultOptions:a}=y,{registerEventOptions:l}=b,{deg2rad:c}=h,{arrayMax:r,arrayMin:s,clamp:o,correctFloat:u,defined:f,destroyObjectProperties:C,erase:E,error:j,extend:x,fireEvent:T,getClosestDistance:_,insertItem:M,isArray:p,isNumber:S,isString:O,merge:k,normalizeTickInterval:F,objectEach:B,pick:L,relativeLength:G,removeEvent:K,splat:$,syncTimeout:P}=v,w=(H,N)=>F(N,void 0,void 0,L(H.options.allowDecimals,N<.5||H.tickAmount!==void 0),!!H.tickAmount);x(a,{xAxis:n,yAxis:k(n,i)});class D{constructor(N,z,W){this.init(N,z,W)}init(N,z,W=this.coll){let te=W==="xAxis",V=this.isZAxis||(N.inverted?!te:te);this.chart=N,this.horiz=V,this.isXAxis=te,this.coll=W,T(this,"init",{userOptions:z}),this.opposite=L(z.opposite,this.opposite),this.side=L(z.side,this.side,V?this.opposite?0:2:this.opposite?1:3),this.setOptions(z);let Z=this.options,Y=Z.labels,q=Z.type;this.userOptions=z,this.minPixelPadding=0,this.reversed=L(Z.reversed,this.reversed),this.visible=Z.visible,this.zoomEnabled=Z.zoomEnabled,this.hasNames=q==="category"||Z.categories===!0,this.categories=p(Z.categories)&&Z.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=f(Z.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=Z.minRange||Z.maxZoom,this.range=Z.range,this.offset=Z.offset||0,this.max=void 0,this.min=void 0;let J=L(Z.crosshair,$(N.options.tooltip.crosshairs)[te?0:1]);this.crosshair=J===!0?{}:J,N.axes.indexOf(this)===-1&&(te?N.axes.splice(N.xAxis.length,0,this):N.axes.push(this),M(this,N[this.coll])),N.orderItems(this.coll),this.series=this.series||[],N.inverted&&!this.isZAxis&&te&&!f(this.reversed)&&(this.reversed=!0),this.labelRotation=S(Y.rotation)?Y.rotation:void 0,l(this,Z),T(this,"afterInit")}setOptions(N){let z=this.horiz?{labels:{autoRotation:[-45],padding:4},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=k(z,a[this.coll],N),T(this,"afterSetOptions",{userOptions:N})}defaultLabelFormatter(){let N=this.axis,{numberFormatter:z}=this.chart,W=S(this.value)?this.value:NaN,te=N.chart.time,V=N.categories,Z=this.dateTimeLabelFormat,Y=a.lang,q=Y.numericSymbols,J=Y.numericSymbolMagnitude||1e3,re=N.logarithmic?Math.abs(W):N.tickInterval,ue=q&&q.length,ae,he;if(V)he=`${this.value}`;else if(Z)he=te.dateFormat(Z,W);else if(ue&&q&&re>=1e3)for(;ue--&&he===void 0;)re>=(ae=Math.pow(J,ue+1))&&10*W%ae==0&&q[ue]!==null&&W!==0&&(he=z(W/ae,-1)+q[ue]);return he===void 0&&(he=Math.abs(W)>=1e4?z(W,-1):z(W,-1,void 0,"")),he}getSeriesExtremes(){let N,z=this;T(this,"getSeriesExtremes",null,function(){z.hasVisibleSeries=!1,z.dataMin=z.dataMax=z.threshold=void 0,z.softThreshold=!z.isXAxis,z.series.forEach(W=>{if(W.reserveSpace()){let te=W.options,V,Z=te.threshold,Y,q;if(z.hasVisibleSeries=!0,z.positiveValuesOnly&&0>=(Z||0)&&(Z=void 0),z.isXAxis)(V=W.xData)&&V.length&&(V=z.logarithmic?V.filter(J=>J>0):V,Y=(N=W.getXExtremes(V)).min,q=N.max,S(Y)||Y instanceof Date||(V=V.filter(S),Y=(N=W.getXExtremes(V)).min,q=N.max),V.length&&(z.dataMin=Math.min(L(z.dataMin,Y),Y),z.dataMax=Math.max(L(z.dataMax,q),q)));else{let J=W.applyExtremes();S(J.dataMin)&&(Y=J.dataMin,z.dataMin=Math.min(L(z.dataMin,Y),Y)),S(J.dataMax)&&(q=J.dataMax,z.dataMax=Math.max(L(z.dataMax,q),q)),f(Z)&&(z.threshold=Z),(!te.softThreshold||z.positiveValuesOnly)&&(z.softThreshold=!1)}}})}),T(this,"afterGetSeriesExtremes")}translate(N,z,W,te,V,Z){let Y=this.linkedParent||this,q=te&&Y.old?Y.old.min:Y.min;if(!S(q))return NaN;let J=Y.minPixelPadding,re=(Y.isOrdinal||Y.brokenAxis?.hasBreaks||Y.logarithmic&&V)&&Y.lin2val,ue=1,ae=0,he=te&&Y.old?Y.old.transA:Y.transA,be=0;return he||(he=Y.transA),W&&(ue*=-1,ae=Y.len),Y.reversed&&(ue*=-1,ae-=ue*(Y.sector||Y.len)),z?(be=(N=N*ue+ae-J)/he+q,re&&(be=Y.lin2val(be))):(re&&(N=Y.val2lin(N)),be=ue*(N-q)*he+ae+ue*J+(S(Z)?he*Z:0),Y.isRadial||(be=u(be))),be}toPixels(N,z){return this.translate(N,!1,!this.horiz,void 0,!0)+(z?0:this.pos)}toValue(N,z){return this.translate(N-(z?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(N){let z=this,W=z.chart,te=z.left,V=z.top,Z=N.old,Y=N.value,q=N.lineWidth,J=Z&&W.oldChartHeight||W.chartHeight,re=Z&&W.oldChartWidth||W.chartWidth,ue=z.transB,ae=N.translatedValue,he=N.force,be,Me,le,pe,ge;function ve(je,me,we){return he!=="pass"&&(je<me||je>we)&&(he?je=o(je,me,we):ge=!0),je}let Se={value:Y,lineWidth:q,old:Z,force:he,acrossPanes:N.acrossPanes,translatedValue:ae};return T(this,"getPlotLinePath",Se,function(je){be=le=(ae=o(ae=L(ae,z.translate(Y,void 0,void 0,Z)),-1e5,1e5))+ue,Me=pe=J-ae-ue,S(ae)?z.horiz?(Me=V,pe=J-z.bottom+(z.options.isInternal?0:W.scrollablePixelsY||0),be=le=ve(be,te,te+z.width)):(be=te,le=re-z.right+(W.scrollablePixelsX||0),Me=pe=ve(Me,V,V+z.height)):(ge=!0,he=!1),je.path=ge&&!he?void 0:W.renderer.crispLine([["M",be,Me],["L",le,pe]],q||1)}),Se.path}getLinearTickPositions(N,z,W){let te,V,Z,Y=u(Math.floor(z/N)*N),q=u(Math.ceil(W/N)*N),J=[];if(u(Y+N)===Y&&(Z=20),this.single)return[z];for(te=Y;te<=q&&(J.push(te),(te=u(te+N,Z))!==V);)V=te;return J}getMinorTickInterval(){let{minorTicks:N,minorTickInterval:z}=this.options;return N===!0?L(z,"auto"):N!==!1?z:void 0}getMinorTickPositions(){let N=this.options,z=this.tickPositions,W=this.minorTickInterval,te=this.pointRangePadding||0,V=(this.min||0)-te,Z=(this.max||0)+te,Y=Z-V,q=[],J;if(Y&&Y/W<this.len/3){let re=this.logarithmic;if(re)this.paddedTicks.forEach(function(ue,ae,he){ae&&q.push.apply(q,re.getLogTickPositions(W,he[ae-1],he[ae],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")q=q.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(W),V,Z,N.startOfWeek));else for(J=V+(z[0]-V)%W;J<=Z&&J!==q[0];J+=W)q.push(J)}return q.length!==0&&this.trimTicks(q),q}adjustForMinRange(){let N=this.options,z=this.logarithmic,{max:W,min:te,minRange:V}=this,Z,Y,q,J;this.isXAxis&&V===void 0&&!z&&(V=f(N.min)||f(N.max)||f(N.floor)||f(N.ceiling)?null:Math.min(5*(_(this.series.map(re=>(re.xIncrement?re.xData?.slice(0,2):re.xData)||[]))||0),this.dataMax-this.dataMin)),S(W)&&S(te)&&S(V)&&W-te<V&&(Y=this.dataMax-this.dataMin>=V,Z=(V-W+te)/2,q=[te-Z,L(N.min,te-Z)],Y&&(q[2]=z?z.log2lin(this.dataMin):this.dataMin),J=[(te=r(q))+V,L(N.max,te+V)],Y&&(J[2]=z?z.log2lin(this.dataMax):this.dataMax),(W=s(J))-te<V&&(q[0]=W-V,q[1]=L(N.min,W-V),te=r(q))),this.minRange=V,this.min=te,this.max=W}getClosest(){let N,z;if(this.categories)z=1;else{let W=[];this.series.forEach(function(te){let V=te.closestPointRange;te.xData?.length===1?W.push(te.xData[0]):!te.noSharedTooltip&&f(V)&&te.reserveSpace()&&(z=f(z)?Math.min(z,V):V)}),W.length&&(W.sort((te,V)=>te-V),N=_([W]))}return N&&z?Math.min(N,z):N||z}nameToX(N){let z=p(this.options.categories),W=z?this.categories:this.names,te=N.options.x,V;return N.series.requireSorting=!1,f(te)||(te=this.options.uniqueNames&&W?z?W.indexOf(N.name):L(W.keys[N.name],-1):N.series.autoIncrement()),te===-1?!z&&W&&(V=W.length):V=te,V!==void 0?(this.names[V]=N.name,this.names.keys[N.name]=V):N.x&&(V=N.x),V}updateNames(){let N=this,z=this.names;z.length>0&&(Object.keys(z.keys).forEach(function(W){delete z.keys[W]}),z.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(W=>{W.xIncrement=null,(!W.points||W.isDirtyData)&&(N.max=Math.max(N.max,W.xData.length-1),W.processData(),W.generatePoints()),W.data.forEach(function(te,V){let Z;te?.options&&te.name!==void 0&&(Z=N.nameToX(te))!==void 0&&Z!==te.x&&(te.x=Z,W.xData[V]=Z)})}))}setAxisTranslation(){let N=this,z=N.max-N.min,W=N.linkedParent,te=!!N.categories,V=N.isXAxis,Z=N.axisPointRange||0,Y,q=0,J=0,re,ue=N.transA;(V||te||Z)&&(Y=N.getClosest(),W?(q=W.minPointOffset,J=W.pointRangePadding):N.series.forEach(function(ae){let he=te?1:V?L(ae.options.pointRange,Y,0):N.axisPointRange||0,be=ae.options.pointPlacement;if(Z=Math.max(Z,he),!N.single||te){let Me=ae.is("xrange")?!V:V;q=Math.max(q,Me&&O(be)?0:he/2),J=Math.max(J,Me&&be==="on"?0:he)}}),re=N.ordinal&&N.ordinal.slope&&Y?N.ordinal.slope/Y:1,N.minPointOffset=q*=re,N.pointRangePadding=J*=re,N.pointRange=Math.min(Z,N.single&&te?1:z),V&&Y&&(N.closestPointRange=Y)),N.translationSlope=N.transA=ue=N.staticScale||N.len/(z+J||1),N.transB=N.horiz?N.left:N.bottom,N.minPixelPadding=ue*q,T(this,"afterSetAxisTranslation")}minFromRange(){let{max:N,min:z}=this;return S(N)&&S(z)&&N-z||void 0}setTickInterval(N){let{categories:z,chart:W,dataMax:te,dataMin:V,dateTime:Z,isXAxis:Y,logarithmic:q,options:J,softThreshold:re}=this,ue=S(this.threshold)?this.threshold:void 0,ae=this.minRange||0,{ceiling:he,floor:be,linkedTo:Me,softMax:le,softMin:pe}=J,ge=S(Me)&&W[this.coll]?.[Me],ve=J.tickPixelInterval,Se=J.maxPadding,je=J.minPadding,me=0,we,xe=S(J.tickInterval)&&J.tickInterval>=0?J.tickInterval:void 0,oe,ce,se,fe;if(Z||z||ge||this.getTickAmount(),se=L(this.userMin,J.min),fe=L(this.userMax,J.max),ge?(this.linkedParent=ge,we=ge.getExtremes(),this.min=L(we.min,we.dataMin),this.max=L(we.max,we.dataMax),J.type!==ge.options.type&&j(11,!0,W)):(re&&f(ue)&&S(te)&&S(V)&&(V>=ue?(oe=ue,je=0):te<=ue&&(ce=ue,Se=0)),this.min=L(se,oe,V),this.max=L(fe,ce,te)),S(this.max)&&S(this.min)&&(q&&(this.positiveValuesOnly&&!N&&0>=Math.min(this.min,L(V,this.min))&&j(10,!0,W),this.min=u(q.log2lin(this.min),16),this.max=u(q.log2lin(this.max),16)),this.range&&S(V)&&(this.userMin=this.min=se=Math.max(V,this.minFromRange()||0),this.userMax=fe=this.max,this.range=void 0)),T(this,"foundExtremes"),this.adjustForMinRange(),S(this.min)&&S(this.max)){if(!S(this.userMin)&&S(pe)&&pe<this.min&&(this.min=se=pe),!S(this.userMax)&&S(le)&&le>this.max&&(this.max=fe=le),z||this.axisPointRange||this.stacking?.usePercentage||ge||!(me=this.max-this.min)||(!f(se)&&je&&(this.min-=me*je),f(fe)||!Se||(this.max+=me*Se)),!S(this.userMin)&&S(be)&&(this.min=Math.max(this.min,be)),!S(this.userMax)&&S(he)&&(this.max=Math.min(this.max,he)),re&&S(V)&&S(te)){let Ee=ue||0;!f(se)&&this.min<Ee&&V>=Ee?this.min=J.minRange?Math.min(Ee,this.max-ae):Ee:!f(fe)&&this.max>Ee&&te<=Ee&&(this.max=J.minRange?Math.max(Ee,this.min+ae):Ee)}!W.polar&&this.min>this.max&&(f(J.min)?this.max=this.min:f(J.max)&&(this.min=this.max)),me=this.max-this.min}if(this.min!==this.max&&S(this.min)&&S(this.max)?ge&&!xe&&ve===ge.options.tickPixelInterval?this.tickInterval=xe=ge.tickInterval:this.tickInterval=L(xe,this.tickAmount?me/Math.max(this.tickAmount-1,1):void 0,z?1:me*ve/Math.max(this.len,ve)):this.tickInterval=1,Y&&!N){let Ee=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(Pe){Pe.forceCrop=Pe.forceCropping?.(),Pe.processData(Ee)}),T(this,"postProcessData",{hasExtremesChanged:Ee})}this.setAxisTranslation(),T(this,"initialAxisTranslation"),this.pointRange&&!xe&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let ke=L(J.minTickInterval,Z&&!this.series.some(Ee=>Ee.noSharedTooltip)?this.closestPointRange:0);!xe&&this.tickInterval<ke&&(this.tickInterval=ke),Z||q||xe||(this.tickInterval=w(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let N=this.options,z=N.tickPositions,W=N.tickPositioner,te=this.getMinorTickInterval(),V=!this.isPanning,Z=V&&N.startOnTick,Y=V&&N.endOnTick,q=[],J;if(this.tickmarkOffset=this.categories&&N.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=te==="auto"&&this.tickInterval?this.tickInterval/N.minorTicksPerMajor:te,this.single=this.min===this.max&&f(this.min)&&!this.tickAmount&&(this.min%1==0||N.allowDecimals!==!1),z)q=z.slice();else if(S(this.min)&&S(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))q=[this.min,this.max],j(19,!1,this.chart);else if(this.dateTime)q=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,N.units),this.min,this.max,N.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)q=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let re=this.tickInterval,ue=re;for(;ue<=2*re&&(q=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&q.length>this.tickAmount);)this.tickInterval=w(this,ue*=1.1)}q.length>this.len&&(q=[q[0],q[q.length-1]])[0]===q[1]&&(q.length=1),W&&(this.tickPositions=q,(J=W.apply(this,[this.min,this.max]))&&(q=J))}this.tickPositions=q,this.paddedTicks=q.slice(0),this.trimTicks(q,Z,Y),!this.isLinked&&S(this.min)&&S(this.max)&&(this.single&&q.length<2&&!this.categories&&!this.series.some(re=>re.is("heatmap")&&re.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),z||J||this.adjustTickAmount()),T(this,"afterSetTickPositions")}trimTicks(N,z,W){let te=N[0],V=N[N.length-1],Z=!this.isOrdinal&&this.minPointOffset||0;if(T(this,"trimTicks"),!this.isLinked){if(z&&te!==-1/0)this.min=te;else for(;this.min-Z>N[0];)N.shift();if(W)this.max=V;else for(;this.max+Z<N[N.length-1];)N.pop();N.length===0&&f(te)&&!this.options.tickPositions&&N.push((V+te)/2)}}alignToOthers(){let N,z=this,W=z.chart,te=[this],V=z.options,Z=W.options.chart,Y=this.coll==="yAxis"&&Z.alignThresholds,q=[];if(z.thresholdAlignment=void 0,(Z.alignTicks!==!1&&V.alignTicks||Y)&&V.startOnTick!==!1&&V.endOnTick!==!1&&!z.logarithmic){let J=ue=>{let{horiz:ae,options:he}=ue;return[ae?he.left:he.top,he.width,he.height,he.pane].join(",")},re=J(this);W[this.coll].forEach(function(ue){let{series:ae}=ue;ae.length&&ae.some(he=>he.visible)&&ue!==z&&J(ue)===re&&(N=!0,te.push(ue))})}if(N&&Y){te.forEach(re=>{let ue=re.getThresholdAlignment(z);S(ue)&&q.push(ue)});let J=q.length>1?q.reduce((re,ue)=>re+=ue,0)/q.length:void 0;te.forEach(re=>{re.thresholdAlignment=J})}return N}getThresholdAlignment(N){if((!S(this.dataMin)||this!==N&&this.series.some(z=>z.isDirty||z.isDirtyData))&&this.getSeriesExtremes(),S(this.threshold)){let z=o((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(z=1-z),z}}getTickAmount(){let N=this.options,z=N.tickPixelInterval,W=N.tickAmount;f(N.tickInterval)||W||!(this.len<z)||this.isRadial||this.logarithmic||!N.startOnTick||!N.endOnTick||(W=2),!W&&this.alignToOthers()&&(W=Math.ceil(this.len/z)+1),W<4&&(this.finalTickAmt=W,W=5),this.tickAmount=W}adjustTickAmount(){let N=this,{finalTickAmt:z,max:W,min:te,options:V,tickPositions:Z,tickAmount:Y,thresholdAlignment:q}=N,J=Z?.length,re=L(N.threshold,N.softThreshold?0:null),ue,ae,he=N.tickInterval,be,Me=()=>Z.push(u(Z[Z.length-1]+he)),le=()=>Z.unshift(u(Z[0]-he));if(S(q)&&(be=q<.5?Math.ceil(q*(Y-1)):Math.floor(q*(Y-1)),V.reversed&&(be=Y-1-be)),N.hasData()&&S(te)&&S(W)){let pe=()=>{N.transA*=(J-1)/(Y-1),N.min=V.startOnTick?Z[0]:Math.min(te,Z[0]),N.max=V.endOnTick?Z[Z.length-1]:Math.max(W,Z[Z.length-1])};if(S(be)&&S(N.threshold)){for(;Z[be]!==re||Z.length!==Y||Z[0]>te||Z[Z.length-1]<W;){for(Z.length=0,Z.push(N.threshold);Z.length<Y;)Z[be]===void 0||Z[be]>N.threshold?le():Me();if(he>8*N.tickInterval)break;he*=2}pe()}else if(J<Y){for(;Z.length<Y;)Z.length%2||te===re?Me():le();pe()}if(f(z)){for(ae=ue=Z.length;ae--;)(z===3&&ae%2==1||z<=2&&ae>0&&ae<ue-1)&&Z.splice(ae,1);N.finalTickAmt=void 0}}}setScale(){let{coll:N,stacking:z}=this,W=!1,te=!1;this.series.forEach(Z=>{W=W||Z.isDirtyData||Z.isDirty,te=te||Z.xAxis&&Z.xAxis.isDirty||!1}),this.setAxisSize();let V=this.len!==(this.old&&this.old.len);V||W||te||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(z&&N==="yAxis"&&z.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),z&&N==="xAxis"&&z.buildStacks(),this.isDirty||(this.isDirty=V||this.min!==this.old?.min||this.max!==this.old?.max)):z&&z.cleanStacks(),W&&delete this.allExtremes,T(this,"afterSetScale")}setExtremes(N,z,W=!0,te,V){this.series.forEach(Z=>{delete Z.kdTree}),T(this,"setExtremes",V=x(V,{min:N,max:z}),Z=>{this.userMin=Z.min,this.userMax=Z.max,this.eventArgs=Z,W&&this.chart.redraw(te)})}setAxisSize(){let N=this.chart,z=this.options,W=z.offsets||[0,0,0,0],te=this.horiz,V=this.width=Math.round(G(L(z.width,N.plotWidth-W[3]+W[1]),N.plotWidth)),Z=this.height=Math.round(G(L(z.height,N.plotHeight-W[0]+W[2]),N.plotHeight)),Y=this.top=Math.round(G(L(z.top,N.plotTop+W[0]),N.plotHeight,N.plotTop)),q=this.left=Math.round(G(L(z.left,N.plotLeft+W[3]),N.plotWidth,N.plotLeft));this.bottom=N.chartHeight-Z-Y,this.right=N.chartWidth-V-q,this.len=Math.max(te?V:Z,0),this.pos=te?q:Y}getExtremes(){let N=this.logarithmic;return{min:N?u(N.lin2log(this.min)):this.min,max:N?u(N.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(N){let z=this.logarithmic,W=z?z.lin2log(this.min):this.min,te=z?z.lin2log(this.max):this.max;return N===null||N===-1/0?N=W:N===1/0?N=te:W>N?N=W:te<N&&(N=te),this.translate(N,0,1,0,1)}autoLabelAlign(N){let z=(L(N,0)-90*this.side+720)%360,W={align:"center"};return T(this,"autoLabelAlign",W,function(te){z>15&&z<165?te.align="right":z>195&&z<345&&(te.align="left")}),W.align}tickSize(N){let z=this.options,W=L(z[N==="tick"?"tickWidth":"minorTickWidth"],N==="tick"&&this.isXAxis&&!this.categories?1:0),te=z[N==="tick"?"tickLength":"minorTickLength"],V;W&&te&&(z[N+"Position"]==="inside"&&(te=-te),V=[te,W]);let Z={tickSize:V};return T(this,"afterTickSize",Z),Z.tickSize}labelMetrics(){let N=this.chart.renderer,z=this.ticks,W=z[Object.keys(z)[0]]||{};return this.chart.renderer.fontMetrics(W.label||W.movedLabel||N.box)}unsquish(){let N=this.options.labels,z=N.padding||0,W=this.horiz,te=this.tickInterval,V=this.len/(((this.categories?1:0)+this.max-this.min)/te),Z=N.rotation,Y=u(.8*this.labelMetrics().h),q=Math.max(this.max-this.min,0),J=function(be){let Me=(be+2*z)/(V||1);return(Me=Me>1?Math.ceil(Me):1)*te>q&&be!==1/0&&V!==1/0&&q&&(Me=Math.ceil(q/te)),u(Me*te)},re=te,ue,ae=Number.MAX_VALUE,he;if(W){if(!N.staggerLines&&(S(Z)?he=[Z]:V<N.autoRotationLimit&&(he=N.autoRotation)),he){let be,Me;for(let le of he)(le===Z||le&&le>=-90&&le<=90)&&(Me=(be=J(Math.abs(Y/Math.sin(c*le))))+Math.abs(le/360))<ae&&(ae=Me,ue=le,re=be)}}else re=J(.75*Y);return this.autoRotation=he,this.labelRotation=L(ue,S(Z)?Z:0),N.step?te:re}getSlotWidth(N){let z=this.chart,W=this.horiz,te=this.options.labels,V=Math.max(this.tickPositions.length-(this.categories?0:1),1),Z=z.margin[3];if(N&&S(N.slotWidth))return N.slotWidth;if(W&&te.step<2)return te.rotation?0:(this.staggerLines||1)*this.len/V;if(!W){let Y=te.style.width;if(Y!==void 0)return parseInt(String(Y),10);if(Z)return Z-z.spacing[3]}return .33*z.chartWidth}renderUnsquish(){let N=this.chart,z=N.renderer,W=this.tickPositions,te=this.ticks,V=this.options.labels,Z=V.style,Y=this.horiz,q=this.getSlotWidth(),J=Math.max(1,Math.round(q-(Y?2*(V.padding||0):V.distance||0))),re={},ue=this.labelMetrics(),ae=Z.textOverflow,he,be,Me=0,le,pe;if(O(V.rotation)||(re.rotation=V.rotation||0),W.forEach(function(ge){let ve=te[ge];ve.movedLabel&&ve.replaceMovedLabel(),ve&&ve.label&&ve.label.textPxLength>Me&&(Me=ve.label.textPxLength)}),this.maxLabelLength=Me,this.autoRotation)Me>J&&Me>ue.h?re.rotation=this.labelRotation:this.labelRotation=0;else if(q&&(he=J,!ae))for(be="clip",pe=W.length;!Y&&pe--;)(le=te[W[pe]].label)&&(le.styles.textOverflow==="ellipsis"?le.css({textOverflow:"clip"}):le.textPxLength>q&&le.css({width:q+"px"}),le.getBBox().height>this.len/W.length-(ue.h-ue.f)&&(le.specificTextOverflow="ellipsis"));re.rotation&&(he=Me>.5*N.chartHeight?.33*N.chartHeight:Me,ae||(be="ellipsis")),this.labelAlign=V.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(re.align=this.labelAlign),W.forEach(function(ge){let ve=te[ge],Se=ve&&ve.label,je=Z.width,me={};Se&&(Se.attr(re),ve.shortenLabel?ve.shortenLabel():he&&!je&&Z.whiteSpace!=="nowrap"&&(he<Se.textPxLength||Se.element.tagName==="SPAN")?(me.width=he+"px",ae||(me.textOverflow=Se.specificTextOverflow||be),Se.css(me)):!Se.styles.width||me.width||je||Se.css({width:null}),delete Se.specificTextOverflow,ve.rotation=re.rotation)},this),this.tickRotCorr=z.rotCorr(ue.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(N){return N.hasData()})||this.options.showEmpty&&f(this.min)&&f(this.max)}addTitle(N){let z,W=this.chart.renderer,te=this.horiz,V=this.opposite,Z=this.options.title,Y=this.chart.styledMode;this.axisTitle||((z=Z.textAlign)||(z=(te?{low:"left",middle:"center",high:"right"}:{low:V?"right":"left",middle:"center",high:V?"left":"right"})[Z.align]),this.axisTitle=W.text(Z.text||"",0,0,Z.useHTML).attr({zIndex:7,rotation:Z.rotation||0,align:z}).addClass("highcharts-axis-title"),Y||this.axisTitle.css(k(Z.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),Y||Z.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[N?"show":"hide"](N)}generateTick(N){let z=this.ticks;z[N]?z[N].addLabel():z[N]=new d(this,N)}createGroups(){let{axisParent:N,chart:z,coll:W,options:te}=this,V=z.renderer,Z=(Y,q,J)=>V.g(Y).attr({zIndex:J}).addClass(`highcharts-${W.toLowerCase()}${q} `+(this.isRadial?`highcharts-radial-axis${q} `:"")+(te.className||"")).add(N);this.axisGroup||(this.gridGroup=Z("grid","-grid",te.gridZIndex),this.axisGroup=Z("axis","",te.zIndex),this.labelGroup=Z("axis-labels","-labels",te.labels.zIndex))}getOffset(){let N=this,{chart:z,horiz:W,options:te,side:V,ticks:Z,tickPositions:Y,coll:q}=N,J=z.inverted&&!N.isZAxis?[1,0,3,2][V]:V,re=N.hasData(),ue=te.title,ae=te.labels,he=S(te.crossing),be=z.axisOffset,Me=z.clipOffset,le=[-1,1,1,-1][V],pe,ge=0,ve,Se=0,je=0,me,we;if(N.showAxis=pe=re||te.showEmpty,N.staggerLines=N.horiz&&ae.staggerLines||void 0,N.createGroups(),re||N.isLinked?(Y.forEach(function(xe){N.generateTick(xe)}),N.renderUnsquish(),N.reserveSpaceDefault=V===0||V===2||{1:"left",3:"right"}[V]===N.labelAlign,L(ae.reserveSpace,!he&&null,N.labelAlign==="center"||null,N.reserveSpaceDefault)&&Y.forEach(function(xe){je=Math.max(Z[xe].getLabelSize(),je)}),N.staggerLines&&(je*=N.staggerLines),N.labelOffset=je*(N.opposite?-1:1)):B(Z,function(xe,oe){xe.destroy(),delete Z[oe]}),ue?.text&&ue.enabled!==!1&&(N.addTitle(pe),pe&&!he&&ue.reserveSpace!==!1&&(N.titleOffset=ge=N.axisTitle.getBBox()[W?"height":"width"],Se=f(ve=ue.offset)?0:L(ue.margin,W?5:10))),N.renderLine(),N.offset=le*L(te.offset,be[V]?be[V]+(te.margin||0):0),N.tickRotCorr=N.tickRotCorr||{x:0,y:0},we=V===0?-N.labelMetrics().h:V===2?N.tickRotCorr.y:0,me=Math.abs(je)+Se,je&&(me-=we,me+=le*(W?L(ae.y,N.tickRotCorr.y+le*ae.distance):L(ae.x,le*ae.distance))),N.axisTitleMargin=L(ve,me),N.getMaxLabelDimensions&&(N.maxLabelDimensions=N.getMaxLabelDimensions(Z,Y)),q!=="colorAxis"&&Me){let xe=this.tickSize("tick");be[V]=Math.max(be[V],(N.axisTitleMargin||0)+ge+le*N.offset,me,Y&&Y.length&&xe?xe[0]+le*N.offset:0);let oe=!N.axisLine||te.offset?0:N.axisLine.strokeWidth()/2;Me[J]=Math.max(Me[J],oe)}T(this,"afterGetOffset")}getLinePath(N){let z=this.chart,W=this.opposite,te=this.offset,V=this.horiz,Z=this.left+(W?this.width:0)+te,Y=z.chartHeight-this.bottom-(W?this.height:0)+te;return W&&(N*=-1),z.renderer.crispLine([["M",V?this.left:Z,V?Y:this.top],["L",V?z.chartWidth-this.right:Z,V?Y:z.chartHeight-this.bottom]],N)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(N){let z=this.horiz,W=this.left,te=this.top,V=this.len,Z=this.options.title,Y=z?W:te,q=this.opposite,J=this.offset,re=Z.x,ue=Z.y,ae=this.chart.renderer.fontMetrics(N),he=N?Math.max(N.getBBox(!1,0).height-ae.h-1,0):0,be={low:Y+(z?0:V),middle:Y+V/2,high:Y+(z?V:0)}[Z.align],Me=(z?te+this.height:W)+(z?1:-1)*(q?-1:1)*(this.axisTitleMargin||0)+[-he,he,ae.f,-he][this.side],le={x:z?be+re:Me+(q?this.width:0)+J+re,y:z?Me+ue-(q?this.height:0)+J:be+ue};return T(this,"afterGetTitlePosition",{titlePosition:le}),le}renderMinorTick(N,z){let W=this.minorTicks;W[N]||(W[N]=new d(this,N,"minor")),z&&W[N].isNew&&W[N].render(null,!0),W[N].render(null,!1,1)}renderTick(N,z,W){let te=this.isLinked,V=this.ticks;(!te||N>=this.min&&N<=this.max||this.grid&&this.grid.isColumn)&&(V[N]||(V[N]=new d(this,N)),W&&V[N].isNew&&V[N].render(z,!0,-1),V[N].render(z))}render(){let N,z,W=this,te=W.chart,V=W.logarithmic,Z=te.renderer,Y=W.options,q=W.isLinked,J=W.tickPositions,re=W.axisTitle,ue=W.ticks,ae=W.minorTicks,he=W.alternateBands,be=Y.stackLabels,Me=Y.alternateGridColor,le=Y.crossing,pe=W.tickmarkOffset,ge=W.axisLine,ve=W.showAxis,Se=m(Z.globalAnimation);if(W.labelEdge.length=0,W.overlap=!1,[ue,ae,he].forEach(function(je){B(je,function(me){me.isActive=!1})}),S(le)){let je=this.isXAxis?te.yAxis[0]:te.xAxis[0],me=[1,-1,-1,1][this.side];if(je){let we=je.toPixels(le,!0);W.horiz&&(we=je.len-we),W.offset=me*we}}if(W.hasData()||q){let je=W.chart.hasRendered&&W.old&&S(W.old.min);W.minorTickInterval&&!W.categories&&W.getMinorTickPositions().forEach(function(me){W.renderMinorTick(me,je)}),J.length&&(J.forEach(function(me,we){W.renderTick(me,we,je)}),pe&&(W.min===0||W.single)&&(ue[-1]||(ue[-1]=new d(W,-1,null,!0)),ue[-1].render(-1))),Me&&J.forEach(function(me,we){z=J[we+1]!==void 0?J[we+1]+pe:W.max-pe,we%2==0&&me<W.max&&z<=W.max+(te.polar?-pe:pe)&&(he[me]||(he[me]=new h.PlotLineOrBand(W,{})),N=me+pe,he[me].options={from:V?V.lin2log(N):N,to:V?V.lin2log(z):z,color:Me,className:"highcharts-alternate-grid"},he[me].render(),he[me].isActive=!0)}),W._addedPlotLB||(W._addedPlotLB=!0,(Y.plotLines||[]).concat(Y.plotBands||[]).forEach(function(me){W.addPlotBandOrLine(me)}))}[ue,ae,he].forEach(function(je){let me=[],we=Se.duration;B(je,function(xe,oe){xe.isActive||(xe.render(oe,!1,0),xe.isActive=!1,me.push(oe))}),P(function(){let xe=me.length;for(;xe--;)je[me[xe]]&&!je[me[xe]].isActive&&(je[me[xe]].destroy(),delete je[me[xe]])},je!==he&&te.hasRendered&&we?we:0)}),ge&&(ge[ge.isPlaced?"animate":"attr"]({d:this.getLinePath(ge.strokeWidth())}),ge.isPlaced=!0,ge[ve?"show":"hide"](ve)),re&&ve&&(re[re.isNew?"attr":"animate"](W.getTitlePosition(re)),re.isNew=!1),be&&be.enabled&&W.stacking&&W.stacking.renderStackTotals(),W.old={len:W.len,max:W.max,min:W.min,transA:W.transA,userMax:W.userMax,userMin:W.userMin},W.isDirty=!1,T(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(N){N.render()})),this.series.forEach(function(N){N.isDirty=!0})}getKeepProps(){return this.keepProps||D.keepProps}destroy(N){let z=this,W=z.plotLinesAndBands,te=this.eventOptions;if(T(this,"destroy",{keepEvents:N}),N||K(z),[z.ticks,z.minorTicks,z.alternateBands].forEach(function(V){C(V)}),W){let V=W.length;for(;V--;)W[V].destroy()}for(let V in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(Z){z[Z]&&(z[Z]=z[Z].destroy())}),z.plotLinesAndBandsGroups)z.plotLinesAndBandsGroups[V]=z.plotLinesAndBandsGroups[V].destroy();B(z,function(V,Z){z.getKeepProps().indexOf(Z)===-1&&delete z[Z]}),this.eventOptions=te}drawCrosshair(N,z){let W=this.crosshair,te=L(W&&W.snap,!0),V=this.chart,Z,Y,q,J=this.cross,re;if(T(this,"drawCrosshair",{e:N,point:z}),N||(N=this.cross&&this.cross.e),W&&(f(z)||!te)!==!1){if(te?f(z)&&(Y=L(this.coll!=="colorAxis"?z.crosshairPos:null,this.isXAxis?z.plotX:this.len-z.plotY)):Y=N&&(this.horiz?N.chartX-this.pos:this.len-N.chartY+this.pos),f(Y)&&(re={value:z&&(this.isXAxis?z.x:L(z.stackY,z.y)),translatedValue:Y},V.polar&&x(re,{isCrosshair:!0,chartX:N&&N.chartX,chartY:N&&N.chartY,point:z}),Z=this.getPlotLinePath(re)||null),!f(Z)){this.hideCrosshair();return}q=this.categories&&!this.isRadial,J||(this.cross=J=V.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(q?"category ":"thin ")+(W.className||"")).attr({zIndex:L(W.zIndex,2)}).add(),!V.styledMode&&(J.attr({stroke:W.color||(q?I.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":L(W.width,1)}).css({"pointer-events":"none"}),W.dashStyle&&J.attr({dashstyle:W.dashStyle}))),J.show().attr({d:Z}),q&&!W.width&&J.attr({"stroke-width":this.transA}),this.cross.e=N}else this.hideCrosshair();T(this,"afterDrawCrosshair",{e:N,point:z})}hideCrosshair(){this.cross&&this.cross.hide(),T(this,"afterHideCrosshair")}update(N,z){let W=this.chart;N=k(this.userOptions,N),this.destroy(!0),this.init(W,N),W.isDirtyBox=!0,L(z,!0)&&W.redraw()}remove(N){let z=this.chart,W=this.coll,te=this.series,V=te.length;for(;V--;)te[V]&&te[V].remove(!1);E(z.axes,this),E(z[W]||[],this),z.orderItems(W),this.destroy(),z.isDirtyBox=!0,L(N,!0)&&z.redraw()}setTitle(N,z){this.update({title:N},z)}setCategories(N,z){this.update({categories:N},z)}}return D.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],D}),de(ee,"Core/Axis/DateTimeAxis.js",[ee["Core/Utilities.js"]],function(t){var X;let{addEvent:I,getMagnitude:y,normalizeTickInterval:b,timeUnits:h}=t;return function(d){function v(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function m(){if(this.options.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new n(this))}d.compose=function(i){return i.keepProps.includes("dateTime")||(i.keepProps.push("dateTime"),i.prototype.getTimeTicks=v,I(i,"afterSetOptions",m)),i};class n{constructor(a){this.axis=a}normalizeTimeTickInterval(a,l){let c=l||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=c[c.length-1],s=h[r[0]],o=r[1],u;for(u=0;u<c.length&&(s=h[(r=c[u])[0]],o=r[1],!c[u+1]||!(a<=(s*o[o.length-1]+h[c[u+1][0]])/2));u++);s===h.year&&a<5*s&&(o=[1,2,5]);let f=b(a/s,o,r[0]==="year"?Math.max(y(a/s),1):1);return{unitRange:s,count:f,unitName:r[0]}}getXDateFormat(a,l){let{axis:c}=this,r=c.chart.time;return c.closestPointRange?r.getDateFormat(c.closestPointRange,a,c.options.startOfWeek,l)||r.resolveDTLFormat(l.year).main:r.resolveDTLFormat(l.day).main}}d.Additions=n}(X||(X={})),X}),de(ee,"Core/Axis/LogarithmicAxis.js",[ee["Core/Utilities.js"]],function(t){var X;let{addEvent:I,normalizeTickInterval:y,pick:b}=t;return function(h){function d(n){let i=n.userOptions,a=this.logarithmic;i.type!=="logarithmic"?this.logarithmic=void 0:a||(a=this.logarithmic=new m(this))}function v(){let n=this.logarithmic;n&&(this.lin2val=function(i){return n.lin2log(i)},this.val2lin=function(i){return n.log2lin(i)})}h.compose=function(n){return n.keepProps.includes("logarithmic")||(n.keepProps.push("logarithmic"),I(n,"init",d),I(n,"afterInit",v)),n};class m{constructor(i){this.axis=i}getLogTickPositions(i,a,l,c){let r=this.axis,s=r.len,o=r.options,u=[];if(c||(this.minorAutoInterval=void 0),i>=.5)i=Math.round(i),u=r.getLinearTickPositions(i,a,l);else if(i>=.08){let f,C,E,j,x,T,_,M=Math.floor(a);for(f=i>.3?[1,2,4]:i>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],C=M;C<l+1&&!_;C++)for(E=0,j=f.length;E<j&&!_;E++)(x=this.log2lin(this.lin2log(C)*f[E]))>a&&(!c||T<=l)&&T!==void 0&&u.push(T),T>l&&(_=!0),T=x}else{let f=this.lin2log(a),C=this.lin2log(l),E=c?r.getMinorTickInterval():o.tickInterval,j=o.tickPixelInterval/(c?5:1),x=c?s/r.tickPositions.length:s;i=y(i=b(E==="auto"?null:E,this.minorAutoInterval,(C-f)*j/(x||1))),u=r.getLinearTickPositions(i,f,C).map(this.log2lin),c||(this.minorAutoInterval=i/5)}return c||(r.tickInterval=i),u}lin2log(i){return Math.pow(10,i)}log2lin(i){return Math.log(i)/Math.LN10}}h.Additions=m}(X||(X={})),X}),de(ee,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[ee["Core/Utilities.js"]],function(t){var X;let{erase:I,extend:y,isNumber:b}=t;return function(h){let d;function v(r){return this.addPlotBandOrLine(r,"plotBands")}function m(r,s){let o=this.userOptions,u=new d(this,r);if(this.visible&&(u=u.render()),u){if(this._addedPlotLB||(this._addedPlotLB=!0,(o.plotLines||[]).concat(o.plotBands||[]).forEach(f=>{this.addPlotBandOrLine(f)})),s){let f=o[s]||[];f.push(r),o[s]=f}this.plotLinesAndBands.push(u)}return u}function n(r){return this.addPlotBandOrLine(r,"plotLines")}function i(r,s,o){o=o||this.options;let u=this.getPlotLinePath({value:s,force:!0,acrossPanes:o.acrossPanes}),f=[],C=this.horiz,E=!b(this.min)||!b(this.max)||r<this.min&&s<this.min||r>this.max&&s>this.max,j=this.getPlotLinePath({value:r,force:!0,acrossPanes:o.acrossPanes}),x,T=1,_;if(j&&u)for(E&&(_=j.toString()===u.toString(),T=0),x=0;x<j.length;x+=2){let M=j[x],p=j[x+1],S=u[x],O=u[x+1];(M[0]==="M"||M[0]==="L")&&(p[0]==="M"||p[0]==="L")&&(S[0]==="M"||S[0]==="L")&&(O[0]==="M"||O[0]==="L")&&(C&&S[1]===M[1]?(S[1]+=T,O[1]+=T):C||S[2]!==M[2]||(S[2]+=T,O[2]+=T),f.push(["M",M[1],M[2]],["L",p[1],p[2]],["L",O[1],O[2]],["L",S[1],S[2]],["Z"])),f.isFlat=_}return f}function a(r){this.removePlotBandOrLine(r)}function l(r){let s=this.plotLinesAndBands,o=this.options,u=this.userOptions;if(s){let f=s.length;for(;f--;)s[f].id===r&&s[f].destroy();[o.plotLines||[],u.plotLines||[],o.plotBands||[],u.plotBands||[]].forEach(function(C){for(f=C.length;f--;)(C[f]||{}).id===r&&I(C,C[f])})}}function c(r){this.removePlotBandOrLine(r)}h.compose=function(r,s){let o=s.prototype;return o.addPlotBand||(d=r,y(o,{addPlotBand:v,addPlotLine:n,addPlotBandOrLine:m,getPlotBandPath:i,removePlotBand:a,removePlotLine:c,removePlotBandOrLine:l})),s}}(X||(X={})),X}),de(ee,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[ee["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],ee["Core/Utilities.js"]],function(t,X){let{arrayMax:I,arrayMin:y,defined:b,destroyObjectProperties:h,erase:d,fireEvent:v,merge:m,objectEach:n,pick:i}=X;class a{static compose(c){return t.compose(a,c)}constructor(c,r){this.axis=c,this.options=r,this.id=r.id}render(){v(this,"render");let{axis:c,options:r}=this,{horiz:s,logarithmic:o}=c,{color:u,events:f,zIndex:C=0}=r,E={},j=c.chart.renderer,x=r.to,T=r.from,_=r.value,M=r.borderWidth,p=r.label,{label:S,svgElem:O}=this,k=[],F,B=b(T)&&b(x),L=b(_),G=!O,K={class:"highcharts-plot-"+(B?"band ":"line ")+(r.className||"")},$=B?"bands":"lines";if(!c.chart.styledMode&&(L?(K.stroke=u||"#999999",K["stroke-width"]=i(r.width,1),r.dashStyle&&(K.dashstyle=r.dashStyle)):B&&(K.fill=u||"#e6e9ff",M&&(K.stroke=r.borderColor,K["stroke-width"]=M))),E.zIndex=C,$+="-"+C,(F=c.plotLinesAndBandsGroups[$])||(c.plotLinesAndBandsGroups[$]=F=j.g("plot-"+$).attr(E).add()),O||(this.svgElem=O=j.path().attr(K).add(F)),b(_))k=c.getPlotLinePath({value:o?.log2lin(_)??_,lineWidth:O.strokeWidth(),acrossPanes:r.acrossPanes});else{if(!(b(T)&&b(x)))return;k=c.getPlotBandPath(o?.log2lin(T)??T,o?.log2lin(x)??x,r)}return!this.eventsAdded&&f&&(n(f,(P,w)=>{O?.on(w,D=>{f[w].apply(this,[D])})}),this.eventsAdded=!0),(G||!O.d)&&k?.length?O.attr({d:k}):O&&(k?(O.show(),O.animate({d:k})):O.d&&(O.hide(),S&&(this.label=S=S.destroy()))),p&&(b(p.text)||b(p.formatter))&&k?.length&&c.width>0&&c.height>0&&!k.isFlat?(p=m({align:s&&B?"center":void 0,x:s?!B&&4:10,verticalAlign:!s&&B?"middle":void 0,y:s?B?16:10:B?6:-4,rotation:s&&!B?90:0},p),this.renderLabel(p,k,B,C)):S&&S.hide(),this}renderLabel(c,r,s,o){let u=this.axis,f=u.chart.renderer,C=this.label;C||(this.label=C=f.text(this.getLabelText(c),0,0,c.useHTML).attr({align:c.textAlign||c.align,rotation:c.rotation,class:"highcharts-plot-"+(s?"band":"line")+"-label "+(c.className||""),zIndex:o}),u.chart.styledMode||C.css(m({fontSize:"0.8em",textOverflow:"ellipsis"},c.style)),C.add());let E=r.xBounds||[r[0][1],r[1][1],s?r[2][1]:r[0][1]],j=r.yBounds||[r[0][2],r[1][2],s?r[2][2]:r[0][2]],x=y(E),T=y(j);if(C.align(c,!1,{x,y:T,width:I(E)-x,height:I(j)-T}),!C.alignValue||C.alignValue==="left"){let _=c.clip?u.width:u.chart.chartWidth;C.css({width:(C.rotation===90?u.height-(C.alignAttr.y-u.top):_-(C.alignAttr.x-u.left))+"px"})}C.show(!0)}getLabelText(c){return b(c.formatter)?c.formatter.call(this):c.text}destroy(){d(this.axis.plotLinesAndBands,this),delete this.axis,h(this)}}return a}),de(ee,"Core/Tooltip.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Templating.js"],ee["Core/Globals.js"],ee["Core/Renderer/RendererUtilities.js"],ee["Core/Renderer/RendererRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b,h){var d;let{animObject:v}=t,{format:m}=X,{composed:n,doc:i,isSafari:a}=I,{distribute:l}=y,{addEvent:c,clamp:r,css:s,discardElement:o,extend:u,fireEvent:f,isArray:C,isNumber:E,isString:j,merge:x,pick:T,pushUnique:_,splat:M,syncTimeout:p}=h;class S{constructor(k,F,B){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=k,this.init(k,F),this.pointer=B}bodyFormatter(k){return k.map(function(F){let B=F.series.tooltipOptions;return(B[(F.point.formatPrefix||"point")+"Formatter"]||F.point.tooltipFormatter).call(F.point,B[(F.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(k){this.chart.series.forEach(function(F){let B=F&&F.tt;B&&(!B.isActive||k?F.tt=B.destroy():B.isActive=!1)})}defaultFormatter(k){let F,B=this.points||M(this);return(F=(F=[k.tooltipFooterHeaderFormatter(B[0])]).concat(k.bodyFormatter(B))).push(k.tooltipFooterHeaderFormatter(B[0],!0)),F}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),o(this.container)),h.clearTimeout(this.hideTimer)}getAnchor(k,F){let B,{chart:L,pointer:G}=this,K=L.inverted,$=L.plotTop,P=L.plotLeft;if((k=M(k))[0].series&&k[0].series.yAxis&&!k[0].series.yAxis.options.reversedStacks&&(k=k.slice().reverse()),this.followPointer&&F)F.chartX===void 0&&(F=G.normalize(F)),B=[F.chartX-P,F.chartY-$];else if(k[0].tooltipPos)B=k[0].tooltipPos;else{let w=0,D=0;k.forEach(function(H){let N=H.pos(!0);N&&(w+=N[0],D+=N[1])}),w/=k.length,D/=k.length,this.shared&&k.length>1&&F&&(K?w=F.chartX:D=F.chartY),B=[w-P,D-$]}return B.map(Math.round)}getClassName(k,F,B){let L=this.options,G=k.series,K=G.options;return[L.className,"highcharts-label",B&&"highcharts-tooltip-header",F?"highcharts-tooltip-box":"highcharts-tooltip",!B&&"highcharts-color-"+T(k.colorIndex,G.colorIndex),K&&K.className].filter(j).join(" ")}getLabel(){let k=this,F=this.chart.styledMode,B=this.options,L=this.split&&this.allowShared,G=this.container,K=this.chart.renderer;if(this.label){let $=!this.label.hasClass("highcharts-label");(!L&&$||L&&!$)&&this.destroy()}if(!this.label){if(this.outside){let $=this.chart.options.chart.style,P=b.getRendererType();this.container=G=I.doc.createElement("div"),G.className="highcharts-tooltip-container",s(G,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,($&&$.zIndex||0)+3)}),this.renderer=K=new P(G,0,0,$,void 0,void 0,K.styledMode)}if(L?this.label=K.g("tooltip"):(this.label=K.label("",0,0,B.shape,void 0,void 0,B.useHTML,void 0,"tooltip").attr({padding:B.padding,r:B.borderRadius}),F||this.label.attr({fill:B.backgroundColor,"stroke-width":B.borderWidth||0}).css(B.style).css({pointerEvents:B.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),k.outside){let $=this.label;[$.xSetter,$.ySetter].forEach((P,w)=>{$[w?"ySetter":"xSetter"]=D=>{P.call($,k.distance),$[w?"y":"x"]=D,G&&(G.style[w?"top":"left"]=`${D}px`)}})}this.label.attr({zIndex:8}).shadow(B.shadow).add()}return G&&!G.parentElement&&I.doc.body.appendChild(G),this.label}getPlayingField(){let{body:k,documentElement:F}=i,{chart:B,distance:L,outside:G}=this;return{width:G?Math.max(k.scrollWidth,F.scrollWidth,k.offsetWidth,F.offsetWidth,F.clientWidth)-2*L:B.chartWidth,height:G?Math.max(k.scrollHeight,F.scrollHeight,k.offsetHeight,F.offsetHeight,F.clientHeight):B.chartHeight}}getPosition(k,F,B){let{distance:L,chart:G,outside:K,pointer:$}=this,{inverted:P,plotLeft:w,plotTop:D,polar:H}=G,{plotX:N=0,plotY:z=0}=B,W={},te=P&&B.h||0,{height:V,width:Z}=this.getPlayingField(),Y=$.getChartPosition(),q=Se=>Se*Y.scaleX,J=Se=>Se*Y.scaleY,re=Se=>{let je=Se==="x";return[Se,je?Z:V,je?k:F].concat(K?[je?q(k):J(F),je?Y.left-L+q(N+w):Y.top-L+J(z+D),0,je?Z:V]:[je?k:F,je?N+w:z+D,je?w:D,je?w+G.plotWidth:D+G.plotHeight])},ue=re("y"),ae=re("x"),he,be=!!B.negative;!H&&G.hoverSeries?.yAxis?.reversed&&(be=!be);let Me=!this.followPointer&&T(B.ttBelow,!H&&!P===be),le=function(Se,je,me,we,xe,oe,ce){let se=K?Se==="y"?J(L):q(L):L,fe=(me-we)/2,ke=we<xe-L,Ee=xe+L+we<je,Pe=xe-se-me+fe,Be=xe+se-fe;if(Me&&Ee)W[Se]=Be;else if(!Me&&ke)W[Se]=Pe;else if(ke)W[Se]=Math.min(ce-we,Pe-te<0?Pe:Pe-te);else{if(!Ee)return!1;W[Se]=Math.max(oe,Be+te+me>je?Be:Be+te)}},pe=function(Se,je,me,we,xe){if(xe<L||xe>je-L)return!1;xe<me/2?W[Se]=1:xe>je-we/2?W[Se]=je-we-2:W[Se]=xe-me/2},ge=function(Se){[ue,ae]=[ae,ue],he=Se},ve=()=>{le.apply(0,ue)!==!1?pe.apply(0,ae)!==!1||he||(ge(!0),ve()):he?W.x=W.y=0:(ge(!0),ve())};return(P&&!H||this.len>1)&&ge(),ve(),W}hide(k){let F=this;h.clearTimeout(this.hideTimer),k=T(k,this.options.hideDelay),this.isHidden||(this.hideTimer=p(function(){let B=F.getLabel();F.getLabel().animate({opacity:0},{duration:k&&150,complete:()=>{B.hide(),F.container&&F.container.remove()}}),F.isHidden=!0},k))}init(k,F){this.chart=k,this.options=F,this.crosshairs=[],this.isHidden=!0,this.split=F.split&&!k.inverted&&!k.polar,this.shared=F.shared||this.split,this.outside=T(F.outside,!!(k.scrollablePixelsX||k.scrollablePixelsY))}shouldStickOnContact(k){return!!(!this.followPointer&&this.options.stickOnContact&&(!k||this.pointer.inClass(k.target,"highcharts-tooltip")))}move(k,F,B,L){let G=this,K=v(!G.isHidden&&G.options.animation),$=G.followPointer||(G.len||0)>1,P={x:k,y:F};$||(P.anchorX=B,P.anchorY=L),K.step=()=>G.drawTracker(),G.getLabel().animate(P,K)}refresh(k,F){let{chart:B,options:L,pointer:G,shared:K}=this,$=M(k),P=$[0],w=[],D=L.format,H=L.formatter||this.defaultFormatter,N=B.styledMode,z={};if(!L.enabled||!P.series)return;h.clearTimeout(this.hideTimer),this.allowShared=!(!C(k)&&k.series&&k.series.noSharedTooltip),this.followPointer=!this.split&&P.series.tooltipOptions.followPointer;let W=this.getAnchor(k,F),te=W[0],V=W[1];K&&this.allowShared?(G.applyInactiveState($),$.forEach(function(q){q.setState("hover"),w.push(q.getLabelConfig())}),(z=P.getLabelConfig()).points=w):z=P.getLabelConfig(),this.len=w.length;let Z=j(D)?m(D,z,B):H.call(z,this),Y=P.series;if(this.distance=T(Y.tooltipOptions.distance,16),Z===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(Z,$);else{let q=te,J=V;if(F&&G.isDirectTouch&&(q=F.chartX-B.plotLeft,J=F.chartY-B.plotTop),B.polar||Y.options.clip===!1||$.some(re=>G.isDirectTouch||re.series.shouldShowTooltip(q,J))){let re=this.getLabel();(!L.style.width||N)&&re.css({width:(this.outside?this.getPlayingField():B.spacingBox).width+"px"}),re.attr({class:this.getClassName(P),text:Z&&Z.join?Z.join(""):Z}),N||re.attr({stroke:L.borderColor||P.color||Y.color||"#666666"}),this.updatePosition({plotX:te,plotY:V,negative:P.negative,ttBelow:P.ttBelow,h:W[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}f(this,"refresh")}renderSplit(k,F){let B=this,{chart:L,chart:{chartWidth:G,chartHeight:K,plotHeight:$,plotLeft:P,plotTop:w,scrollablePixelsY:D=0,scrollablePixelsX:H,styledMode:N},distance:z,options:W,options:{positioner:te},pointer:V}=B,{scrollLeft:Z=0,scrollTop:Y=0}=L.scrollablePlotArea?.scrollingContainer||{},q=B.outside&&typeof H!="number"?i.documentElement.getBoundingClientRect():{left:Z,right:Z+G,top:Y,bottom:Y+K},J=B.getLabel(),re=this.renderer||L.renderer,ue=!!(L.xAxis[0]&&L.xAxis[0].opposite),{left:ae,top:he}=V.getChartPosition(),be=w+Y,Me=0,le=$-D;function pe(we,xe,oe,ce,se=!0){let fe,ke;return oe?(fe=ue?0:le,ke=r(we-ce/2,q.left,q.right-ce-(B.outside?ae:0))):(fe=xe-be,ke=r(ke=se?we-ce-z:we+z,se?ke:q.left,q.right)),{x:ke,y:fe}}j(k)&&(k=[!1,k]);let ge=k.slice(0,F.length+1).reduce(function(we,xe,oe){if(xe!==!1&&xe!==""){let ce=F[oe-1]||{isHeader:!0,plotX:F[0].plotX,plotY:$,series:{}},se=ce.isHeader,fe=se?B:ce.series,ke=fe.tt=function(He,qe,et){let Qe=He,{isHeader:Ye,series:nt}=qe;if(!Qe){let Je={padding:W.padding,r:W.borderRadius};N||(Je.fill=W.backgroundColor,Je["stroke-width"]=W.borderWidth??1),Qe=re.label("",0,0,W[Ye?"headerShape":"shape"],void 0,void 0,W.useHTML).addClass(B.getClassName(qe,!0,Ye)).attr(Je).add(J)}return Qe.isActive=!0,Qe.attr({text:et}),N||Qe.css(W.style).attr({stroke:W.borderColor||qe.color||nt.color||"#333333"}),Qe}(fe.tt,ce,xe.toString()),Ee=ke.getBBox(),Pe=Ee.width+ke.strokeWidth();se&&(Me=Ee.height,le+=Me,ue&&(be-=Me));let{anchorX:Be,anchorY:Ge}=function(He){let qe,et,{isHeader:Qe,plotX:Ye=0,plotY:nt=0,series:Je}=He;if(Qe)qe=Math.max(P+Ye,P),et=w+$/2;else{let{xAxis:gt,yAxis:pt}=Je;qe=gt.pos+r(Ye,-z,gt.len+z),Je.shouldShowTooltip(0,pt.pos-w+nt,{ignoreX:!0})&&(et=pt.pos+nt)}return{anchorX:qe=r(qe,q.left-z,q.right+z),anchorY:et}}(ce);if(typeof Ge=="number"){let He=Ee.height+1,qe=te?te.call(B,Pe,He,ce):pe(Be,Ge,se,Pe);we.push({align:te?0:void 0,anchorX:Be,anchorY:Ge,boxWidth:Pe,point:ce,rank:T(qe.rank,se?1:0),size:He,target:qe.y,tt:ke,x:qe.x})}else ke.isActive=!1}return we},[]);!te&&ge.some(we=>{let{outside:xe}=B,oe=(xe?ae:0)+we.anchorX;return oe<q.left&&oe+we.boxWidth<q.right||oe<ae-q.left+we.boxWidth&&q.right-oe>oe})&&(ge=ge.map(we=>{let{x:xe,y:oe}=pe(we.anchorX,we.anchorY,we.point.isHeader,we.boxWidth,!1);return u(we,{target:oe,x:xe})})),B.cleanSplit(),l(ge,le);let ve={left:ae,right:ae};ge.forEach(function(we){let{x:xe,boxWidth:oe,isHeader:ce}=we;!ce&&(B.outside&&ae+xe<ve.left&&(ve.left=ae+xe),!ce&&B.outside&&ve.left+oe>ve.right&&(ve.right=ae+xe))}),ge.forEach(function(we){let{x:xe,anchorX:oe,anchorY:ce,pos:se,point:{isHeader:fe}}=we,ke={visibility:se===void 0?"hidden":"inherit",x:xe,y:(se||0)+be,anchorX:oe,anchorY:ce};if(B.outside&&xe<oe){let Ee=ae-ve.left;Ee>0&&(fe||(ke.x=xe+Ee,ke.anchorX=oe+Ee),fe&&(ke.x=(ve.right-ve.left)/2,ke.anchorX=oe+Ee))}we.tt.attr(ke)});let{container:Se,outside:je,renderer:me}=B;if(je&&Se&&me){let{width:we,height:xe,x:oe,y:ce}=J.getBBox();me.setSize(we+oe,xe+ce,!1),Se.style.left=ve.left+"px",Se.style.top=he+"px"}a&&J.attr({opacity:J.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let k=this.chart,F=this.label,B=this.shared?k.hoverPoints:k.hoverPoint;if(!F||!B)return;let L={x:0,y:0,width:0,height:0},G=this.getAnchor(B),K=F.getBBox();G[0]+=k.plotLeft-(F.translateX||0),G[1]+=k.plotTop-(F.translateY||0),L.x=Math.min(0,G[0]),L.y=Math.min(0,G[1]),L.width=G[0]<0?Math.max(Math.abs(G[0]),K.width-G[0]):Math.max(Math.abs(G[0]),K.width),L.height=G[1]<0?Math.max(Math.abs(G[1]),K.height-Math.abs(G[1])):Math.max(Math.abs(G[1]),K.height),this.tracker?this.tracker.attr(L):(this.tracker=F.renderer.rect(L).addClass("highcharts-tracker").add(F),k.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(k){return k.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(k,F){let B=k.series,L=B.tooltipOptions,G=B.xAxis,K=G&&G.dateTime,$={isFooter:F,labelConfig:k},P=L.xDateFormat,w=L[F?"footerFormat":"headerFormat"];return f(this,"headerFormatter",$,function(D){K&&!P&&E(k.key)&&(P=K.getXDateFormat(k.key,L.dateTimeLabelFormats)),K&&P&&(k.point&&k.point.tooltipDateKeys||["key"]).forEach(function(H){w=w.replace("{point."+H+"}","{point."+H+":"+P+"}")}),B.chart.styledMode&&(w=this.styledModeFormat(w)),D.text=m(w,{point:k,series:B},this.chart)}),$.text}update(k){this.destroy(),this.init(this.chart,x(!0,this.options,k))}updatePosition(k){let{chart:F,container:B,distance:L,options:G,pointer:K,renderer:$}=this,{height:P=0,width:w=0}=this.getLabel(),{left:D,top:H,scaleX:N,scaleY:z}=K.getChartPosition(),W=(G.positioner||this.getPosition).call(this,w,P,k),te=(k.plotX||0)+F.plotLeft,V=(k.plotY||0)+F.plotTop,Z;$&&B&&(G.positioner&&(W.x+=D-L,W.y+=H-L),Z=(G.borderWidth||0)+2*L+2,$.setSize(w+Z,P+Z,!1),(N!==1||z!==1)&&(s(B,{transform:`scale(${N}, ${z})`}),te*=N,V*=z),te+=D-W.x,V+=H-W.y),this.move(Math.round(W.x),Math.round(W.y||0),te,V)}}return(d=S||(S={})).compose=function(O){_(n,"Core.Tooltip")&&c(O,"afterInit",function(){let k=this.chart;k.options.tooltip&&(k.tooltip=new d(k,k.options.tooltip,this))})},S}),de(ee,"Core/Series/Point.js",[ee["Core/Renderer/HTML/AST.js"],ee["Core/Animation/AnimationUtilities.js"],ee["Core/Defaults.js"],ee["Core/Templating.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b){let{animObject:h}=X,{defaultOptions:d}=I,{format:v}=y,{addEvent:m,crisp:n,erase:i,extend:a,fireEvent:l,getNestedProperty:c,isArray:r,isFunction:s,isNumber:o,isObject:u,merge:f,pick:C,syncTimeout:E,removeEvent:j,uniqueKey:x}=b;class T{animateBeforeDestroy(){let M=this,p={x:M.startXPos,opacity:0},S=M.getGraphicalProps();S.singular.forEach(function(O){M[O]=M[O].animate(O==="dataLabel"?{x:M[O].startXPos,y:M[O].startYPos,opacity:0}:p)}),S.plural.forEach(function(O){M[O].forEach(function(k){k.element&&k.animate(a({x:M.startXPos},k.startYPos?{x:k.startXPos,y:k.startYPos}:{}))})})}applyOptions(M,p){let S=this.series,O=S.options.pointValKey||S.pointValKey;return a(this,M=T.prototype.optionsToObject.call(this,M)),this.options=this.options?a(this.options,M):M,M.group&&delete this.group,M.dataLabels&&delete this.dataLabels,O&&(this.y=T.prototype.getNestedProperty.call(this,O)),this.selected&&(this.state="select"),"name"in this&&p===void 0&&S.xAxis&&S.xAxis.hasNames&&(this.x=S.xAxis.nameToX(this)),this.x===void 0&&S?this.x=p??S.autoIncrement():o(M.x)&&S.options.relativeXValue&&(this.x=S.autoIncrement(M.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let M=this,p=M.series,S=p.chart,O=p.options.dataSorting,k=S.hoverPoints,F=h(M.series.chart.renderer.globalAnimation),B=()=>{for(let L in(M.graphic||M.graphics||M.dataLabel||M.dataLabels)&&(j(M),M.destroyElements()),M)delete M[L]};M.legendItem&&S.legend.destroyItem(M),k&&(M.setState(),i(k,M),k.length||(S.hoverPoints=null)),M===S.hoverPoint&&M.onMouseOut(),O&&O.enabled?(this.animateBeforeDestroy(),E(B,F.duration)):B(),S.pointCount--}this.destroyed=!0}destroyElements(M){let p=this,S=p.getGraphicalProps(M);S.singular.forEach(function(O){p[O]=p[O].destroy()}),S.plural.forEach(function(O){p[O].forEach(function(k){k&&k.element&&k.destroy()}),delete p[O]})}firePointEvent(M,p,S){let O=this,k=this.series.options;O.manageEvent(M),M==="click"&&k.allowPointSelect&&(S=function(F){!O.destroyed&&O.select&&O.select(null,F.ctrlKey||F.metaKey||F.shiftKey)}),l(O,M,p,S)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(M){let p,S,O=this,k=[],F={singular:[],plural:[]};for((M=M||{graphic:1,dataLabel:1}).graphic&&k.push("graphic","connector"),M.dataLabel&&k.push("dataLabel","dataLabelPath","dataLabelUpper"),S=k.length;S--;)O[p=k[S]]&&F.singular.push(p);return["graphic","dataLabel"].forEach(function(B){let L=B+"s";M[B]&&O[L]&&F.plural.push(L)}),F}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(M){return M?M.indexOf("custom.")===0?c(M,this.options):this[M]:void 0}getZone(){let M=this.series,p=M.zones,S=M.zoneAxis||"y",O,k=0;for(O=p[0];this[S]>=O.value;)O=p[++k];return this.nonZonedColor||(this.nonZonedColor=this.color),O&&O.color&&!this.options.color?this.color=O.color:this.color=this.nonZonedColor,O}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(M,p,S){this.formatPrefix="point",this.visible=!0,this.series=M,this.applyOptions(p,S),this.id??(this.id=x()),this.resolveColor(),M.chart.pointCount++,l(this,"afterInit")}isValid(){return(o(this.x)||this.x instanceof Date)&&o(this.y)}optionsToObject(M){let p=this.series,S=p.options.keys,O=S||p.pointArrayMap||["y"],k=O.length,F={},B,L=0,G=0;if(o(M)||M===null)F[O[0]]=M;else if(r(M))for(!S&&M.length>k&&((B=typeof M[0])=="string"?F.name=M[0]:B==="number"&&(F.x=M[0]),L++);G<k;)S&&M[L]===void 0||(O[G].indexOf(".")>0?T.prototype.setNestedProperty(F,M[L],O[G]):F[O[G]]=M[L]),L++,G++;else typeof M=="object"&&(F=M,M.dataLabels&&(p.hasDataLabels=()=>!0),M.marker&&(p._hasPointMarkers=!0));return F}pos(M,p=this.plotY){if(!this.destroyed){let{plotX:S,series:O}=this,{chart:k,xAxis:F,yAxis:B}=O,L=0,G=0;if(o(S)&&o(p))return M&&(L=F?F.pos:k.plotLeft,G=B?B.pos:k.plotTop),k.inverted&&F&&B?[B.len-p+G,F.len-S+L]:[S+L,p+G]}}resolveColor(){let M=this.series,p=M.chart.options.chart,S=M.chart.styledMode,O,k,F=p.colorCount,B;delete this.nonZonedColor,M.options.colorByPoint?(S||(O=(k=M.options.colors||M.chart.options.colors)[M.colorCounter],F=k.length),B=M.colorCounter,M.colorCounter++,M.colorCounter===F&&(M.colorCounter=0)):(S||(O=M.color),B=M.colorIndex),this.colorIndex=C(this.options.colorIndex,B),this.color=C(this.options.color,O)}setNestedProperty(M,p,S){return S.split(".").reduce(function(O,k,F,B){let L=B.length-1===F;return O[k]=L?p:u(O[k],!0)?O[k]:{},O[k]},M),M}shouldDraw(){return!this.isNull}tooltipFormatter(M){let p=this.series,S=p.tooltipOptions,O=C(S.valueDecimals,""),k=S.valuePrefix||"",F=S.valueSuffix||"";return p.chart.styledMode&&(M=p.chart.tooltip.styledModeFormat(M)),(p.pointArrayMap||["y"]).forEach(function(B){B="{point."+B,(k||F)&&(M=M.replace(RegExp(B+"}","g"),k+B+"}"+F)),M=M.replace(RegExp(B+"}","g"),B+":,."+O+"f}")}),v(M,{point:this,series:this.series},p.chart)}update(M,p,S,O){let k,F=this,B=F.series,L=F.graphic,G=B.chart,K=B.options;function $(){F.applyOptions(M);let P=L&&F.hasMockGraphic,w=F.y===null?!P:P;L&&w&&(F.graphic=L.destroy(),delete F.hasMockGraphic),u(M,!0)&&(L&&L.element&&M&&M.marker&&M.marker.symbol!==void 0&&(F.graphic=L.destroy()),M?.dataLabels&&F.dataLabel&&(F.dataLabel=F.dataLabel.destroy())),k=F.index,B.updateParallelArrays(F,k),K.data[k]=u(K.data[k],!0)||u(M,!0)?F.options:C(M,K.data[k]),B.isDirty=B.isDirtyData=!0,!B.fixedBox&&B.hasCartesianSeries&&(G.isDirtyBox=!0),K.legendType==="point"&&(G.isDirtyLegend=!0),p&&G.redraw(S)}p=C(p,!0),O===!1?$():F.firePointEvent("update",{options:M},$)}remove(M,p){this.series.removePoint(this.series.data.indexOf(this),M,p)}select(M,p){let S=this,O=S.series,k=O.chart;M=C(M,!S.selected),this.selectedStaging=M,S.firePointEvent(M?"select":"unselect",{accumulate:p},function(){S.selected=S.options.selected=M,O.options.data[O.data.indexOf(S)]=S.options,S.setState(M&&"select"),p||k.getSelectedPoints().forEach(function(F){let B=F.series;F.selected&&F!==S&&(F.selected=F.options.selected=!1,B.options.data[B.data.indexOf(F)]=F.options,F.setState(k.hoverPoints&&B.options.inactiveOtherPoints?"inactive":""),F.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(M){let{inverted:p,pointer:S}=this.series.chart;S&&(M=M?S.normalize(M):S.getChartCoordinatesFromPoint(this,p),S.runPointActions(M,this))}onMouseOut(){let M=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(M.hoverPoints||[]).forEach(function(p){p.setState()}),M.hoverPoints=M.hoverPoint=null}manageEvent(M){let p=f(this.series.options.point,this.options),S=p.events?.[M];s(S)&&(!this.hcEvents?.[M]||this.hcEvents?.[M]?.map(O=>O.fn).indexOf(S)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=m(this,M,S)):this.importedUserEvent&&!S&&this.hcEvents?.[M]&&(j(this,M),delete this.hcEvents[M],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(M,p){let S=this.series,O=this.state,k=S.options.states[M||"normal"]||{},F=d.plotOptions[S.type].marker&&S.options.marker,B=F&&F.enabled===!1,L=F&&F.states&&F.states[M||"normal"]||{},G=L.enabled===!1,K=this.marker||{},$=S.chart,P=F&&S.markerAttribs,w=S.halo,D,H,N,z=S.stateMarkerGraphic,W;if((M=M||"")===this.state&&!p||this.selected&&M!=="select"||k.enabled===!1||M&&(G||B&&L.enabled===!1)||M&&K.states&&K.states[M]&&K.states[M].enabled===!1)return;if(this.state=M,P&&(D=S.markerAttribs(this,M)),this.graphic&&!this.hasMockGraphic){if(O&&this.graphic.removeClass("highcharts-point-"+O),M&&this.graphic.addClass("highcharts-point-"+M),!$.styledMode){H=S.pointAttribs(this,M),N=C($.options.chart.animation,k.animation);let Y=H.opacity;S.options.inactiveOtherPoints&&o(Y)&&(this.dataLabels||[]).forEach(function(q){q&&!q.hasClass("highcharts-data-label-hidden")&&(q.animate({opacity:Y},N),q.connector&&q.connector.animate({opacity:Y},N))}),this.graphic.animate(H,N)}D&&this.graphic.animate(D,C($.options.chart.animation,L.animation,F.animation)),z&&z.hide()}else M&&L&&(W=K.symbol||S.symbol,z&&z.currentSymbol!==W&&(z=z.destroy()),D&&(z?z[p?"animate":"attr"]({x:D.x,y:D.y}):W&&(S.stateMarkerGraphic=z=$.renderer.symbol(W,D.x,D.y,D.width,D.height).add(S.markerGroup),z.currentSymbol=W)),!$.styledMode&&z&&this.state!=="inactive"&&z.attr(S.pointAttribs(this,M))),z&&(z[M&&this.isInside?"show":"hide"](),z.element.point=this,z.addClass(this.getClassName(),!0));let te=k.halo,V=this.graphic||z,Z=V&&V.visibility||"inherit";te&&te.size&&V&&Z!=="hidden"&&!this.isCluster?(w||(S.halo=w=$.renderer.path().add(V.parentGroup)),w.show()[p?"animate":"attr"]({d:this.haloPath(te.size)}),w.attr({class:"highcharts-halo highcharts-color-"+C(this.colorIndex,S.colorIndex)+(this.className?" "+this.className:""),visibility:Z,zIndex:-1}),w.point=this,$.styledMode||w.attr(a({fill:this.color||S.color,"fill-opacity":te.opacity},t.filterUserAttributes(te.attributes||{})))):w?.point?.haloPath&&!w.point.destroyed&&w.animate({d:w.point.haloPath(0)},null,w.hide),l(this,"afterSetState",{state:M})}haloPath(M){let p=this.pos();return p?this.series.chart.renderer.symbols.circle(n(p[0],1)-M,p[1]-M,2*M,2*M):[]}}return T}),de(ee,"Core/Pointer.js",[ee["Core/Color/Color.js"],ee["Core/Globals.js"],ee["Core/Utilities.js"]],function(t,X,I){var y;let{parse:b}=t,{charts:h,composed:d,isTouchDevice:v}=X,{addEvent:m,attr:n,css:i,extend:a,find:l,fireEvent:c,isNumber:r,isObject:s,objectEach:o,offset:u,pick:f,pushUnique:C,splat:E}=I;class j{applyInactiveState(T){let _=[],M;(T||[]).forEach(function(p){M=p.series,_.push(M),M.linkedParent&&_.push(M.linkedParent),M.linkedSeries&&(_=_.concat(M.linkedSeries)),M.navigatorSeries&&_.push(M.navigatorSeries)}),this.chart.series.forEach(function(p){_.indexOf(p)===-1?p.setState("inactive",!0):p.options.inactiveOtherPoints&&p.setAllPointsToState("inactive")})}destroy(){let T=this;this.eventsToUnbind.forEach(_=>_()),this.eventsToUnbind=[],!X.chartCount&&(j.unbindDocumentMouseUp&&(j.unbindDocumentMouseUp=j.unbindDocumentMouseUp()),j.unbindDocumentTouchEnd&&(j.unbindDocumentTouchEnd=j.unbindDocumentTouchEnd())),clearInterval(T.tooltipTimeout),o(T,function(_,M){T[M]=void 0})}getSelectionMarkerAttrs(T,_){let M={args:{chartX:T,chartY:_},attrs:{},shapeType:"rect"};return c(this,"getSelectionMarkerAttrs",M,p=>{let S,{chart:O,zoomHor:k,zoomVert:F}=this,{mouseDownX:B=0,mouseDownY:L=0}=O,G=p.attrs;G.x=O.plotLeft,G.y=O.plotTop,G.width=k?1:O.plotWidth,G.height=F?1:O.plotHeight,k&&(S=T-B,G.width=Math.max(1,Math.abs(S)),G.x=(S>0?0:S)+B),F&&(S=_-L,G.height=Math.max(1,Math.abs(S)),G.y=(S>0?0:S)+L)}),M}drag(T){let{chart:_}=this,{mouseDownX:M=0,mouseDownY:p=0}=_,{panning:S,panKey:O,selectionMarkerFill:k}=_.options.chart,F=_.plotLeft,B=_.plotTop,L=_.plotWidth,G=_.plotHeight,K=s(S)?S.enabled:S,$=O&&T[`${O}Key`],P=T.chartX,w=T.chartY,D,H=this.selectionMarker;if((!H||!H.touch)&&(P<F?P=F:P>F+L&&(P=F+L),w<B?w=B:w>B+G&&(w=B+G),this.hasDragged=Math.sqrt(Math.pow(M-P,2)+Math.pow(p-w,2)),this.hasDragged>10)){D=_.isInsidePlot(M-F,p-B,{visiblePlotOnly:!0});let{shapeType:N,attrs:z}=this.getSelectionMarkerAttrs(P,w);(_.hasCartesianSeries||_.mapView)&&this.hasZoom&&D&&!$&&!H&&(this.selectionMarker=H=_.renderer[N](),H.attr({class:"highcharts-selection-marker",zIndex:7}).add(),_.styledMode||H.attr({fill:k||b("#334eff").setOpacity(.25).get()})),H&&H.attr(z),D&&!H&&K&&_.pan(T,S)}}dragStart(T){let _=this.chart;_.mouseIsDown=T.type,_.cancelClick=!1,_.mouseDownX=T.chartX,_.mouseDownY=T.chartY}getSelectionBox(T){let _={args:{marker:T},result:T.getBBox()};return c(this,"getSelectionBox",_),_.result}drop(T){let _,{chart:M,selectionMarker:p}=this;for(let S of M.axes)S.isPanning&&(S.isPanning=!1,(S.options.startOnTick||S.options.endOnTick||S.series.some(O=>O.boosted))&&(S.forceRedraw=!0,S.setExtremes(S.userMin,S.userMax,!1),_=!0));if(_&&M.redraw(),p&&T){if(this.hasDragged){let S=this.getSelectionBox(p);M.transform({axes:M.axes.filter(O=>O.zoomEnabled&&(O.coll==="xAxis"&&this.zoomX||O.coll==="yAxis"&&this.zoomY)),selection:at({originalEvent:T,xAxis:[],yAxis:[]},S),from:S})}r(M.index)&&(this.selectionMarker=p.destroy())}M&&r(M.index)&&(i(M.container,{cursor:M._cursor}),M.cancelClick=this.hasDragged>10,M.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(T,_,M){let p;return T.forEach(function(S){let O=!(S.noSharedTooltip&&_)&&0>S.options.findNearestPointBy.indexOf("y"),k=S.searchPoint(M,O);s(k,!0)&&k.series&&(!s(p,!0)||function(F,B){let L=F.distX-B.distX,G=F.dist-B.dist,K=B.series.group?.zIndex-F.series.group?.zIndex;return L!==0&&_?L:G!==0?G:K!==0?K:F.series.index>B.series.index?-1:1}(p,k)>0)&&(p=k)}),p}getChartCoordinatesFromPoint(T,_){let{xAxis:M,yAxis:p}=T.series,S=T.shapeArgs;if(M&&p){let O=T.clientX??T.plotX??0,k=T.plotY||0;return T.isNode&&S&&r(S.x)&&r(S.y)&&(O=S.x,k=S.y),_?{chartX:p.len+p.pos-k,chartY:M.len+M.pos-O}:{chartX:O+M.pos,chartY:k+p.pos}}if(S&&S.x&&S.y)return{chartX:S.x,chartY:S.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:T}=this.chart,_=u(T);this.chartPosition={left:_.left,top:_.top,scaleX:1,scaleY:1};let{offsetHeight:M,offsetWidth:p}=T;return p>2&&M>2&&(this.chartPosition.scaleX=_.width/p,this.chartPosition.scaleY=_.height/M),this.chartPosition}getCoordinates(T){let _={xAxis:[],yAxis:[]};for(let M of this.chart.axes)_[M.isXAxis?"xAxis":"yAxis"].push({axis:M,value:M.toValue(T[M.horiz?"chartX":"chartY"])});return _}getHoverData(T,_,M,p,S,O){let k=[],F=function($){return $.visible&&!(!S&&$.directTouch)&&f($.options.enableMouseTracking,!0)},B=_,L,G={chartX:O?O.chartX:void 0,chartY:O?O.chartY:void 0,shared:S};c(this,"beforeGetHoverData",G),L=B&&!B.stickyTracking?[B]:M.filter($=>$.stickyTracking&&(G.filter||F)($));let K=p&&T||!O?T:this.findNearestKDPoint(L,S,O);return B=K&&K.series,K&&(S&&!B.noSharedTooltip?(L=M.filter(function($){return G.filter?G.filter($):F($)&&!$.noSharedTooltip})).forEach(function($){let P=l($.points,function(w){return w.x===K.x&&!w.isNull});s(P)&&($.boosted&&$.boost&&(P=$.boost.getPoint(P)),k.push(P))}):k.push(K)),c(this,"afterGetHoverData",G={hoverPoint:K}),{hoverPoint:G.hoverPoint,hoverSeries:B,hoverPoints:k}}getPointFromEvent(T){let _=T.target,M;for(;_&&!M;)M=_.point,_=_.parentNode;return M}onTrackerMouseOut(T){let _=this.chart,M=T.relatedTarget,p=_.hoverSeries;this.isDirectTouch=!1,!p||!M||p.stickyTracking||this.inClass(M,"highcharts-tooltip")||this.inClass(M,"highcharts-series-"+p.index)&&this.inClass(M,"highcharts-tracker")||p.onMouseOut()}inClass(T,_){let M=T,p;for(;M;){if(p=n(M,"class")){if(p.indexOf(_)!==-1)return!0;if(p.indexOf("highcharts-container")!==-1)return!1}M=M.parentElement}}constructor(T,_){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=_,this.chart=T,this.runChartClick=!!_.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),c(this,"afterInit")}normalize(T,_){let M=T.touches,p=M?M.length?M.item(0):f(M.changedTouches,T.changedTouches)[0]:T;_||(_=this.getChartPosition());let S=p.pageX-_.left,O=p.pageY-_.top;return a(T,{chartX:Math.round(S/=_.scaleX),chartY:Math.round(O/=_.scaleY)})}onContainerClick(T){let _=this.chart,M=_.hoverPoint,p=this.normalize(T),S=_.plotLeft,O=_.plotTop;!_.cancelClick&&(M&&this.inClass(p.target,"highcharts-tracker")?(c(M.series,"click",a(p,{point:M})),_.hoverPoint&&M.firePointEvent("click",p)):(a(p,this.getCoordinates(p)),_.isInsidePlot(p.chartX-S,p.chartY-O,{visiblePlotOnly:!0})&&c(_,"click",p)))}onContainerMouseDown(T){let _=(1&(T.buttons||T.button))==1;T=this.normalize(T),X.isFirefox&&T.button!==0&&this.onContainerMouseMove(T),(T.button===void 0||_)&&(this.zoomOption(T),_&&T.preventDefault?.(),this.dragStart(T))}onContainerMouseLeave(T){let{pointer:_}=h[f(j.hoverChartIndex,-1)]||{};T=this.normalize(T),this.onContainerMouseMove(T),_&&!this.inClass(T.relatedTarget,"highcharts-tooltip")&&(_.reset(),_.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(T){let _=this.chart,M=_.tooltip,p=this.normalize(T);this.setHoverChartIndex(T),(_.mouseIsDown==="mousedown"||this.touchSelect(p))&&this.drag(p),!_.openMenu&&(this.inClass(p.target,"highcharts-tracker")||_.isInsidePlot(p.chartX-_.plotLeft,p.chartY-_.plotTop,{visiblePlotOnly:!0}))&&!(M&&M.shouldStickOnContact(p))&&(this.inClass(p.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(p))}onDocumentTouchEnd(T){this.onDocumentMouseUp(T)}onContainerTouchMove(T){this.touchSelect(T)?this.onContainerMouseMove(T):this.touch(T)}onContainerTouchStart(T){this.touchSelect(T)?this.onContainerMouseDown(T):(this.zoomOption(T),this.touch(T,!0))}onDocumentMouseMove(T){let _=this.chart,M=_.tooltip,p=this.chartPosition,S=this.normalize(T,p);!p||_.isInsidePlot(S.chartX-_.plotLeft,S.chartY-_.plotTop,{visiblePlotOnly:!0})||M&&M.shouldStickOnContact(S)||S.target!==_.container.ownerDocument&&this.inClass(S.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(T){h[f(j.hoverChartIndex,-1)]?.pointer?.drop(T)}pinch(T){let _=this,{chart:M,hasZoom:p,lastTouches:S}=_,O=[].map.call(T.touches||[],G=>_.normalize(G)),k=O.length,F=k===1&&(_.inClass(T.target,"highcharts-tracker")&&M.runTrackerClick||_.runChartClick),B=M.tooltip,L=k===1&&f(B?.options.followTouchMove,!0);k>1?_.initiated=!0:L&&(_.initiated=!1),p&&_.initiated&&!F&&T.cancelable!==!1&&T.preventDefault(),T.type==="touchstart"?(_.pinchDown=O,_.res=!0,M.mouseDownX=T.chartX):L?this.runPointActions(_.normalize(T)):S&&(c(M,"touchpan",{originalEvent:T,touches:O},()=>{let G=K=>{let $=K[0],P=K[1]||$;return{x:$.chartX,y:$.chartY,width:P.chartX-$.chartX,height:P.chartY-$.chartY}};M.transform({axes:M.axes.filter(K=>K.zoomEnabled&&(this.zoomHor&&K.horiz||this.zoomVert&&!K.horiz)),to:G(O),from:G(S),trigger:T.type})}),_.res&&(_.res=!1,this.reset(!1,0))),_.lastTouches=O}reset(T,_){let M=this.chart,p=M.hoverSeries,S=M.hoverPoint,O=M.hoverPoints,k=M.tooltip,F=k&&k.shared?O:S;T&&F&&E(F).forEach(function(B){B.series.isCartesian&&B.plotX===void 0&&(T=!1)}),T?k&&F&&E(F).length&&(k.refresh(F),k.shared&&O?O.forEach(function(B){B.setState(B.state,!0),B.series.isCartesian&&(B.series.xAxis.crosshair&&B.series.xAxis.drawCrosshair(null,B),B.series.yAxis.crosshair&&B.series.yAxis.drawCrosshair(null,B))}):S&&(S.setState(S.state,!0),M.axes.forEach(function(B){B.crosshair&&S.series[B.coll]===B&&B.drawCrosshair(null,S)}))):(S&&S.onMouseOut(),O&&O.forEach(function(B){B.setState()}),p&&p.onMouseOut(),k&&k.hide(_),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),M.axes.forEach(function(B){B.hideCrosshair()}),M.hoverPoints=M.hoverPoint=void 0)}runPointActions(T,_,M){let p=this.chart,S=p.series,O=p.tooltip&&p.tooltip.options.enabled?p.tooltip:void 0,k=!!O&&O.shared,F=_||p.hoverPoint,B=F&&F.series||p.hoverSeries,L=(!T||T.type!=="touchmove")&&(!!_||B&&B.directTouch&&this.isDirectTouch),G=this.getHoverData(F,B,S,L,k,T);F=G.hoverPoint,B=G.hoverSeries;let K=G.hoverPoints,$=B&&B.tooltipOptions.followPointer&&!B.tooltipOptions.split,P=k&&B&&!B.noSharedTooltip;if(F&&(M||F!==p.hoverPoint||O&&O.isHidden)){if((p.hoverPoints||[]).forEach(function(w){K.indexOf(w)===-1&&w.setState()}),p.hoverSeries!==B&&B.onMouseOver(),this.applyInactiveState(K),(K||[]).forEach(function(w){w.setState("hover")}),p.hoverPoint&&p.hoverPoint.firePointEvent("mouseOut"),!F.series)return;p.hoverPoints=K,p.hoverPoint=F,F.firePointEvent("mouseOver",void 0,()=>{O&&F&&O.refresh(P?K:F,T)})}else if($&&O&&!O.isHidden){let w=O.getAnchor([{}],T);p.isInsidePlot(w[0],w[1],{visiblePlotOnly:!0})&&O.updatePosition({plotX:w[0],plotY:w[1]})}this.unDocMouseMove||(this.unDocMouseMove=m(p.container.ownerDocument,"mousemove",w=>h[j.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(w)),this.eventsToUnbind.push(this.unDocMouseMove)),p.axes.forEach(function(w){let D,H=f((w.crosshair||{}).snap,!0);!H||(D=p.hoverPoint)&&D.series[w.coll]===w||(D=l(K,N=>N.series&&N.series[w.coll]===w)),D||!H?w.drawCrosshair(T,D):w.hideCrosshair()})}setDOMEvents(){let T=this.chart.container,_=T.ownerDocument;T.onmousedown=this.onContainerMouseDown.bind(this),T.onmousemove=this.onContainerMouseMove.bind(this),T.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(m(T,"mouseenter",this.onContainerMouseEnter.bind(this)),m(T,"mouseleave",this.onContainerMouseLeave.bind(this))),j.unbindDocumentMouseUp||(j.unbindDocumentMouseUp=m(_,"mouseup",this.onDocumentMouseUp.bind(this)));let M=this.chart.renderTo.parentElement;for(;M&&M.tagName!=="BODY";)this.eventsToUnbind.push(m(M,"scroll",()=>{delete this.chartPosition})),M=M.parentElement;this.eventsToUnbind.push(m(T,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),m(T,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),j.unbindDocumentTouchEnd||(j.unbindDocumentTouchEnd=m(_,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),m(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!v)return;let T=this.pointerCaptureEventsToUnbind,_=this.chart,M=_.container,p=f(_.options.tooltip?.followTouchMove,!0)&&_.series.some(S=>S.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&p?(T.push(m(M,"pointerdown",S=>{S.target?.hasPointerCapture(S.pointerId)&&S.target?.releasePointerCapture(S.pointerId)}),m(M,"pointermove",S=>{_.pointer?.getPointFromEvent(S)?.onMouseOver(S)})),_.styledMode||i(M,{"touch-action":"none"}),M.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!p&&(T.forEach(S=>S()),T.length=0,_.styledMode||i(M,{"touch-action":f(_.options.chart.style?.["touch-action"],"manipulation")}),M.className=M.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(T){let _=this.chart,M=X.charts[f(j.hoverChartIndex,-1)];if(M&&M!==_){let p={relatedTarget:_.container};T&&!T?.relatedTarget&&(T=at(at({},p),T)),M.pointer?.onContainerMouseLeave(T||p)}M&&M.mouseIsDown||(j.hoverChartIndex=_.index)}touch(T,_){let M,{chart:p,pinchDown:S=[]}=this;this.setHoverChartIndex(),(T=this.normalize(T)).touches.length===1?p.isInsidePlot(T.chartX-p.plotLeft,T.chartY-p.plotTop,{visiblePlotOnly:!0})&&!p.openMenu?(_&&this.runPointActions(T),T.type==="touchmove"&&(M=!!S[0]&&Math.pow(S[0].chartX-T.chartX,2)+Math.pow(S[0].chartY-T.chartY,2)>=16),f(M,!0)&&this.pinch(T)):_&&this.reset():T.touches.length===2&&this.pinch(T)}touchSelect(T){return!!(this.chart.zooming.singleTouch&&T.touches&&T.touches.length===1)}zoomOption(T){let _=this.chart,M=_.inverted,p=_.zooming.type||"",S,O;/touch/.test(T.type)&&(p=f(_.zooming.pinchType,p)),this.zoomX=S=/x/.test(p),this.zoomY=O=/y/.test(p),this.zoomHor=S&&!M||O&&M,this.zoomVert=O&&!M||S&&M,this.hasZoom=S||O}}return(y=j||(j={})).compose=function(x){C(d,"Core.Pointer")&&m(x,"beforeRender",function(){this.pointer=new y(this,this.options)})},j}),de(ee,"Core/Legend/LegendSymbol.js",[ee["Core/Utilities.js"]],function(t){var X;let{extend:I,merge:y,pick:b}=t;return function(h){function d(v,m,n){let i=this.legendItem=this.legendItem||{},{chart:a,options:l}=this,{baseline:c=0,symbolWidth:r,symbolHeight:s}=v,o=this.symbol||"circle",u=s/2,f=a.renderer,C=i.group,E=c-Math.round(s*(n?.4:.3)),j={},x,T=l.marker,_=0;if(a.styledMode||(j["stroke-width"]=Math.min(l.lineWidth||0,24),l.dashStyle?j.dashstyle=l.dashStyle:l.linecap==="square"||(j["stroke-linecap"]="round")),i.line=f.path().addClass("highcharts-graph").attr(j).add(C),n&&(i.area=f.path().addClass("highcharts-area").add(C)),j["stroke-linecap"]&&(_=Math.min(i.line.strokeWidth(),r)/2),r){let M=[["M",_,E],["L",r-_,E]];i.line.attr({d:M}),i.area?.attr({d:[...M,["L",r-_,c],["L",_,c]]})}if(T&&T.enabled!==!1&&r){let M=Math.min(b(T.radius,u),u);o.indexOf("url")===0&&(T=y(T,{width:s,height:s}),M=0),i.symbol=x=f.symbol(o,r/2-M,E-M,2*M,2*M,I({context:"legend"},T)).addClass("highcharts-point").add(C),x.isMarker=!0}}h.areaMarker=function(v,m){d.call(this,v,m,!0)},h.lineMarker=d,h.rectangle=function(v,m){let n=m.legendItem||{},i=v.options,a=v.symbolHeight,l=i.squareSymbol,c=l?a:v.symbolWidth;n.symbol=this.chart.renderer.rect(l?(v.symbolWidth-a)/2:0,v.baseline-a+1,c,a,b(v.options.symbolRadius,a/2)).addClass("highcharts-point").attr({zIndex:3}).add(n.group)}}(X||(X={})),X}),de(ee,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:t}=this.series.chart;return typeof this.y!="number"?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),de(ee,"Core/Series/SeriesRegistry.js",[ee["Core/Globals.js"],ee["Core/Defaults.js"],ee["Core/Series/Point.js"],ee["Core/Utilities.js"]],function(t,X,I,y){var b;let{defaultOptions:h}=X,{extend:d,extendClass:v,merge:m}=y;return function(n){function i(a,l){let c=h.plotOptions||{},r=l.defaultOptions,s=l.prototype;return s.type=a,s.pointClass||(s.pointClass=I),!n.seriesTypes[a]&&(r&&(c[a]=r),n.seriesTypes[a]=l,!0)}n.seriesTypes=t.seriesTypes,n.registerSeriesType=i,n.seriesType=function(a,l,c,r,s){let o=h.plotOptions||{};if(l=l||"",o[a]=m(o[l],c),delete n.seriesTypes[a],i(a,v(n.seriesTypes[l]||function(){},r)),n.seriesTypes[a].prototype.type=a,s){class u extends I{}d(u.prototype,s),n.seriesTypes[a].prototype.pointClass=u}return n.seriesTypes[a]}}(b||(b={})),b}),de(ee,"Core/Series/Series.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Defaults.js"],ee["Core/Foundation.js"],ee["Core/Globals.js"],ee["Core/Legend/LegendSymbol.js"],ee["Core/Series/Point.js"],ee["Core/Series/SeriesDefaults.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Renderer/SVG/SVGElement.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b,h,d,v,m,n){let{animObject:i,setAnimation:a}=t,{defaultOptions:l}=X,{registerEventOptions:c}=I,{svg:r,win:s}=y,{seriesTypes:o}=v,{arrayMax:u,arrayMin:f,clamp:C,correctFloat:E,crisp:j,defined:x,destroyObjectProperties:T,diffObjects:_,erase:M,error:p,extend:S,find:O,fireEvent:k,getClosestDistance:F,getNestedProperty:B,insertItem:L,isArray:G,isNumber:K,isString:$,merge:P,objectEach:w,pick:D,removeEvent:H,splat:N,syncTimeout:z}=n;class W{constructor(){this.zoneAxis="y"}init(V,Z){let Y;k(this,"init",{options:Z});let q=this,J=V.series;this.eventsToUnbind=[],q.chart=V,q.options=q.setOptions(Z);let re=q.options,ue=re.visible!==!1;q.linkedSeries=[],q.bindAxes(),S(q,{name:re.name,state:"",visible:ue,selected:re.selected===!0}),c(this,re);let ae=re.events;(ae&&ae.click||re.point&&re.point.events&&re.point.events.click||re.allowPointSelect)&&(V.runTrackerClick=!0),q.getColor(),q.getSymbol(),q.parallelArrays.forEach(function(he){q[he+"Data"]||(q[he+"Data"]=[])}),q.isCartesian&&(V.hasCartesianSeries=!0),J.length&&(Y=J[J.length-1]),q._i=D(Y&&Y._i,-1)+1,q.opacity=q.options.opacity,V.orderItems("series",L(this,J)),re.dataSorting&&re.dataSorting.enabled?q.setDataSortingOptions():q.points||q.data||q.setData(re.data,!1),k(this,"afterInit")}is(V){return o[V]&&this instanceof o[V]}bindAxes(){let V,Z=this,Y=Z.options,q=Z.chart;k(this,"bindAxes",null,function(){(Z.axisTypes||[]).forEach(function(J){(q[J]||[]).forEach(function(re){V=re.options,(D(Y[J],0)===re.index||Y[J]!==void 0&&Y[J]===V.id)&&(L(Z,re.series),Z[J]=re,re.isDirty=!0)}),Z[J]||Z.optionalAxis===J||p(18,!0,q)})}),k(this,"afterBindAxes")}updateParallelArrays(V,Z,Y){let q=V.series,J=K(Z)?function(re){let ue=re==="y"&&q.toYData?q.toYData(V):V[re];q[re+"Data"][Z]=ue}:function(re){Array.prototype[Z].apply(q[re+"Data"],Y)};q.parallelArrays.forEach(J)}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(V,Z){let Y=V.marker,q=Z.marker||{};return Y&&(q.enabled&&!Y.enabled||q.symbol!==Y.symbol||q.height!==Y.height||q.width!==Y.width)}autoIncrement(V){let Z=this.options,Y=Z.pointIntervalUnit,q=Z.relativeXValue,J=this.chart.time,re=this.xIncrement,ue,ae;return re=D(re,Z.pointStart,0),this.pointInterval=ae=D(this.pointInterval,Z.pointInterval,1),q&&K(V)&&(ae*=V),Y&&(ue=new J.Date(re),Y==="day"?J.set("Date",ue,J.get("Date",ue)+ae):Y==="month"?J.set("Month",ue,J.get("Month",ue)+ae):Y==="year"&&J.set("FullYear",ue,J.get("FullYear",ue)+ae),ae=ue.getTime()-re),q&&K(V)?re+ae:(this.xIncrement=re+ae,re)}setDataSortingOptions(){let V=this.options;S(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),x(V.pointRange)||(V.pointRange=1)}setOptions(V){let Z,Y=this.chart,q=Y.options.plotOptions,J=Y.userOptions||{},re=P(V),ue=Y.styledMode,ae={plotOptions:q,userOptions:re};k(this,"setOptions",ae);let he=ae.plotOptions[this.type],be=J.plotOptions||{},Me=be.series||{},le=l.plotOptions[this.type]||{},pe=be[this.type]||{};this.userOptions=ae.userOptions;let ge=P(he,q.series,pe,re);this.tooltipOptions=P(l.tooltip,l.plotOptions.series?.tooltip,le?.tooltip,Y.userOptions.tooltip,be.series?.tooltip,pe.tooltip,re.tooltip),this.stickyTracking=D(re.stickyTracking,pe.stickyTracking,Me.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||ge.stickyTracking),he.marker===null&&delete ge.marker,this.zoneAxis=ge.zoneAxis||"y";let ve=this.zones=(ge.zones||[]).map(Se=>at({},Se));return(ge.negativeColor||ge.negativeFillColor)&&!ge.zones&&(Z={value:ge[this.zoneAxis+"Threshold"]||ge.threshold||0,className:"highcharts-negative"},ue||(Z.color=ge.negativeColor,Z.fillColor=ge.negativeFillColor),ve.push(Z)),ve.length&&x(ve[ve.length-1].value)&&ve.push(ue?{}:{color:this.color,fillColor:this.fillColor}),k(this,"afterSetOptions",{options:ge}),ge}getName(){return D(this.options.name,"Series "+(this.index+1))}getCyclic(V,Z,Y){let q,J,re=this.chart,ue=`${V}Index`,ae=`${V}Counter`,he=Y?.length||re.options.chart.colorCount;!Z&&(x(J=D(V==="color"?this.options.colorIndex:void 0,this[ue]))?q=J:(re.series.length||(re[ae]=0),q=re[ae]%he,re[ae]+=1),Y&&(Z=Y[q])),q!==void 0&&(this[ue]=q),this[V]=Z}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||l.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let V=this.options.marker;this.getCyclic("symbol",V.symbol,this.chart.options.symbols)}findPointIndex(V,Z){let Y,q,J,re=V.id,ue=V.x,ae=this.points,he=this.options.dataSorting;if(re){let be=this.chart.get(re);be instanceof h&&(Y=be)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let be=Me=>!Me.touched&&Me.index===V.index;if(he&&he.matchByName?be=Me=>!Me.touched&&Me.name===V.name:this.options.relativeXValue&&(be=Me=>!Me.touched&&Me.options.x===V.x),!(Y=O(ae,be)))return}return Y&&(J=Y&&Y.index)!==void 0&&(q=!0),J===void 0&&K(ue)&&(J=this.xData.indexOf(ue,Z)),J!==-1&&J!==void 0&&this.cropped&&(J=J>=this.cropStart?J-this.cropStart:J),!q&&K(J)&&ae[J]&&ae[J].touched&&(J=void 0),J}updateData(V,Z){let Y=this.options,q=Y.dataSorting,J=this.points,re=[],ue=this.requireSorting,ae=V.length===J.length,he,be,Me,le,pe=!0;if(this.xIncrement=null,V.forEach(function(ge,ve){let Se,je=x(ge)&&this.pointClass.prototype.optionsToObject.call({series:this},ge)||{},me=je.x;je.id||K(me)?((Se=this.findPointIndex(je,le))===-1||Se===void 0?re.push(ge):J[Se]&&ge!==Y.data[Se]?(J[Se].update(ge,!1,null,!1),J[Se].touched=!0,ue&&(le=Se+1)):J[Se]&&(J[Se].touched=!0),(!ae||ve!==Se||q&&q.enabled||this.hasDerivedData)&&(he=!0)):re.push(ge)},this),he)for(be=J.length;be--;)(Me=J[be])&&!Me.touched&&Me.remove&&Me.remove(!1,Z);else!ae||q&&q.enabled?pe=!1:(V.forEach(function(ge,ve){ge===J[ve].y||J[ve].destroyed||J[ve].update(ge,!1,null,!1)}),re.length=0);return J.forEach(function(ge){ge&&(ge.touched=!1)}),!!pe&&(re.forEach(function(ge){this.addPoint(ge,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=u(this.xData),this.autoIncrement()),!0)}setData(V,Z=!0,Y,q){let J=this,re=J.points,ue=re&&re.length||0,ae=J.options,he=J.chart,be=ae.dataSorting,Me=J.xAxis,le=ae.turboThreshold,pe=this.xData,ge=this.yData,ve=J.pointArrayMap,Se=ve&&ve.length,je=ae.keys,me,we,xe,oe=0,ce=1,se;he.options.chart.allowMutatingData||(ae.data&&delete J.options.data,J.userOptions.data&&delete J.userOptions.data,se=P(!0,V));let fe=(V=se||V||[]).length;if(be&&be.enabled&&(V=this.sortData(V)),he.options.chart.allowMutatingData&&q!==!1&&fe&&ue&&!J.cropped&&!J.hasGroupedData&&J.visible&&!J.boosted&&(xe=this.updateData(V,Y)),!xe){J.xIncrement=null,J.colorCounter=0,this.parallelArrays.forEach(function(Ee){J[Ee+"Data"].length=0});let ke=le&&fe>le;if(ke){let Ee=J.getFirstValidPoint(V),Pe=J.getFirstValidPoint(V,fe-1,-1),Be=Ge=>!!(G(Ge)&&(je||K(Ge[0])));if(K(Ee)&&K(Pe))for(me=0;me<fe;me++)pe[me]=this.autoIncrement(),ge[me]=V[me];else if(Be(Ee)&&Be(Pe))if(Se)if(Ee.length===Se)for(me=0;me<fe;me++)pe[me]=this.autoIncrement(),ge[me]=V[me];else for(me=0;me<fe;me++)we=V[me],pe[me]=we[0],ge[me]=we.slice(1,Se+1);else if(je&&(oe=je.indexOf("x"),ce=je.indexOf("y"),oe=oe>=0?oe:0,ce=ce>=0?ce:1),Ee.length===1&&(ce=0),oe===ce)for(me=0;me<fe;me++)pe[me]=this.autoIncrement(),ge[me]=V[me][ce];else for(me=0;me<fe;me++)we=V[me],pe[me]=we[oe],ge[me]=we[ce];else ke=!1}if(!ke)for(me=0;me<fe;me++)we={series:J},J.pointClass.prototype.applyOptions.apply(we,[V[me]]),J.updateParallelArrays(we,me);for(ge&&$(ge[0])&&p(14,!0,he),J.data=[],J.options.data=J.userOptions.data=V,me=ue;me--;)re[me]?.destroy();Me&&(Me.minRange=Me.userMinRange),J.isDirty=he.isDirtyBox=!0,J.isDirtyData=!!re,Y=!1}ae.legendType==="point"&&(this.processData(),this.generatePoints()),Z&&he.redraw(Y)}sortData(V){let Z=this,Y=Z.options.dataSorting.sortKey||"y",q=function(J,re){return x(re)&&J.pointClass.prototype.optionsToObject.call({series:J},re)||{}};return V.forEach(function(J,re){V[re]=q(Z,J),V[re].index=re},this),V.concat().sort((J,re)=>{let ue=B(Y,J),ae=B(Y,re);return ae<ue?-1:ae>ue?1:0}).forEach(function(J,re){J.x=re},this),Z.linkedSeries&&Z.linkedSeries.forEach(function(J){let re=J.options,ue=re.data;re.dataSorting&&re.dataSorting.enabled||!ue||(ue.forEach(function(ae,he){ue[he]=q(J,ae),V[he]&&(ue[he].x=V[he].x,ue[he].index=he)}),J.setData(ue,!1))}),V}getProcessedData(V){let Z=this,Y=Z.xAxis,q=Z.options.cropThreshold,J=Y?.logarithmic,re=Z.isCartesian,ue,ae,he=0,be,Me,le,pe=Z.xData,ge=Z.yData,ve=!1,Se=pe.length;Y&&(Me=(be=Y.getExtremes()).min,le=be.max,ve=!!(Y.categories&&!Y.names.length)),re&&Z.sorted&&!V&&(!q||Se>q||Z.forceCrop)&&(pe[Se-1]<Me||pe[0]>le?(pe=[],ge=[]):Z.yData&&(pe[0]<Me||pe[Se-1]>le)&&(pe=(ue=this.cropData(Z.xData,Z.yData,Me,le)).xData,ge=ue.yData,he=ue.start,ae=!0));let je=F([J?pe.map(J.log2lin):pe],()=>Z.requireSorting&&!ve&&p(15,!1,Z.chart));return{xData:pe,yData:ge,cropped:ae,cropStart:he,closestPointRange:je}}processData(V){let Z=this.xAxis;if(this.isCartesian&&!this.isDirty&&!Z.isDirty&&!this.yAxis.isDirty&&!V)return!1;let Y=this.getProcessedData();this.cropped=Y.cropped,this.cropStart=Y.cropStart,this.processedXData=Y.xData,this.processedYData=Y.yData,this.closestPointRange=this.basePointRange=Y.closestPointRange,k(this,"afterProcessData")}cropData(V,Z,Y,q){let J=V.length,re,ue,ae=0,he=J;for(re=0;re<J;re++)if(V[re]>=Y){ae=Math.max(0,re-1);break}for(ue=re;ue<J;ue++)if(V[ue]>q){he=ue+1;break}return{xData:V.slice(ae,he),yData:Z.slice(ae,he),start:ae,end:he}}generatePoints(){let V=this.options,Z=this.processedData||V.data,Y=this.processedXData,q=this.processedYData,J=this.pointClass,re=Y.length,ue=this.cropStart||0,ae=this.hasGroupedData,he=V.keys,be=[],Me=V.dataGrouping&&V.dataGrouping.groupAll?ue:0,le,pe,ge,ve,Se=this.data;if(!Se&&!ae){let je=[];je.length=Z.length,Se=this.data=je}for(he&&ae&&(this.options.keys=!1),ve=0;ve<re;ve++)pe=ue+ve,ae?((ge=new J(this,[Y[ve]].concat(N(q[ve])))).dataGroup=this.groupMap[Me+ve],ge.dataGroup.options&&(ge.options=ge.dataGroup.options,S(ge,ge.dataGroup.options),delete ge.dataLabels)):(ge=Se[pe])||Z[pe]===void 0||(Se[pe]=ge=new J(this,Z[pe],Y[ve])),ge&&(ge.index=ae?Me+ve:pe,be[ve]=ge);if(this.options.keys=he,Se&&(re!==(le=Se.length)||ae))for(ve=0;ve<le;ve++)ve!==ue||ae||(ve+=re),Se[ve]&&(Se[ve].destroyElements(),Se[ve].plotX=void 0);this.data=Se,this.points=be,k(this,"afterGeneratePoints")}getXExtremes(V){return{min:f(V),max:u(V)}}getExtremes(V,Z){let Y=this.xAxis,q=this.yAxis,J=[],re=this.requireSorting&&!this.is("column")?1:0,ue=!!q&&q.positiveValuesOnly,ae=Z||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:he,processedYData:be}=this,Me,le,pe,ge,ve,Se,je,me=0,we=0,xe=0;if(this.cropped&&ae){let fe=this.getProcessedData(!0);he=fe.xData,be=fe.yData}let oe=(V=V||this.stackedYData||be||[]).length,ce=he||this.xData;for(Y&&(me=(Me=Y.getExtremes()).min,we=Me.max),Se=0;Se<oe;Se++)if(ge=ce[Se],le=(K(ve=V[Se])||G(ve))&&((K(ve)?ve>0:ve.length)||!ue),pe=Z||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!Y||(ce[Se+re]||ge)>=me&&(ce[Se-re]||ge)<=we,le&&pe)if(je=ve.length)for(;je--;)K(ve[je])&&(J[xe++]=ve[je]);else J[xe++]=ve;let se={activeYData:J,dataMin:f(J),dataMax:u(J)};return k(this,"afterGetExtremes",{dataExtremes:se}),se}applyExtremes(){let V=this.getExtremes();return this.dataMin=V.dataMin,this.dataMax=V.dataMax,V}getFirstValidPoint(V,Z=0,Y=1){let q=V.length,J=Z;for(;J>=0&&J<q;){if(x(V[J]))return V[J];J+=Y}}translate(){this.processedXData||this.processData(),this.generatePoints();let V=this.options,Z=V.stacking,Y=this.xAxis,q=Y.categories,J=this.enabledDataSorting,re=this.yAxis,ue=this.points,ae=ue.length,he=this.pointPlacementToXValue(),be=!!he,Me=V.threshold,le=V.startFromThreshold?Me:0,pe,ge,ve,Se,je=Number.MAX_VALUE;function me(we){return C(we,-1e5,1e5)}for(pe=0;pe<ae;pe++){let we,xe=ue[pe],oe=xe.x,ce,se,fe=xe.y,ke=xe.low,Ee=Z&&re.stacking?.stacks[(this.negStacks&&fe<(le?0:Me)?"-":"")+this.stackKey];ge=Y.translate(oe,!1,!1,!1,!0,he),xe.plotX=K(ge)?E(me(ge)):void 0,Z&&this.visible&&Ee&&Ee[oe]&&(Se=this.getStackIndicator(Se,oe,this.index),!xe.isNull&&Se.key&&(se=(ce=Ee[oe]).points[Se.key]),ce&&G(se)&&(ke=se[0],fe=se[1],ke===le&&Se.key===Ee[oe].base&&(ke=D(K(Me)?Me:re.min)),re.positiveValuesOnly&&x(ke)&&ke<=0&&(ke=void 0),xe.total=xe.stackTotal=D(ce.total),xe.percentage=x(xe.y)&&ce.total?xe.y/ce.total*100:void 0,xe.stackY=fe,this.irregularWidths||ce.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),xe.yBottom=x(ke)?me(re.translate(ke,!1,!0,!1,!0)):void 0,this.dataModify&&(fe=this.dataModify.modifyValue(fe,pe)),K(fe)&&xe.plotX!==void 0&&(we=K(we=re.translate(fe,!1,!0,!1,!0))?me(we):void 0),xe.plotY=we,xe.isInside=this.isPointInside(xe),xe.clientX=be?E(Y.translate(oe,!1,!1,!1,!0,he)):ge,xe.negative=(xe.y||0)<(Me||0),xe.category=D(q&&q[xe.x],xe.x),xe.isNull||xe.visible===!1||(ve!==void 0&&(je=Math.min(je,Math.abs(ge-ve))),ve=ge),xe.zone=this.zones.length?xe.getZone():void 0,!xe.graphic&&this.group&&J&&(xe.isNew=!0)}this.closestPointRangePx=je,k(this,"afterTranslate")}getValidPoints(V,Z,Y){let q=this.chart;return(V||this.points||[]).filter(function(J){let{plotX:re,plotY:ue}=J;return!!((Y||!J.isNull&&K(ue))&&(!Z||q.isInsidePlot(re,ue,{inverted:q.inverted})))&&J.visible!==!1})}getClipBox(){let{chart:V,xAxis:Z,yAxis:Y}=this,{x:q,y:J,width:re,height:ue}=P(V.clipBox);return Z&&Z.len!==V.plotSizeX&&(re=Z.len),Y&&Y.len!==V.plotSizeY&&(ue=Y.len),V.inverted&&!this.invertible&&([re,ue]=[ue,re]),{x:q,y:J,width:re,height:ue}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:V,group:Z,markerGroup:Y}=this,q=V.sharedClips,J=V.renderer,re=this.getClipBox(),ue=this.getSharedClipKey(),ae=q[ue];ae?ae.animate(re):q[ue]=ae=J.clipRect(re),Z&&Z.clip(this.options.clip===!1?void 0:ae),Y&&Y.clip()}animate(V){let{chart:Z,group:Y,markerGroup:q}=this,J=Z.inverted,re=i(this.options.animation),ue=[this.getSharedClipKey(),re.duration,re.easing,re.defer].join(","),ae=Z.sharedClips[ue],he=Z.sharedClips[ue+"m"];if(V&&Y){let be=this.getClipBox();if(ae)ae.attr("height",be.height);else{be.width=0,J&&(be.x=Z.plotHeight),ae=Z.renderer.clipRect(be),Z.sharedClips[ue]=ae;let Me={x:-99,y:-99,width:J?Z.plotWidth+199:99,height:J?99:Z.plotHeight+199};he=Z.renderer.clipRect(Me),Z.sharedClips[ue+"m"]=he}Y.clip(ae),q?.clip(he)}else if(ae&&!ae.hasClass("highcharts-animating")){let be=this.getClipBox(),Me=re.step;(q?.element.childNodes.length||Z.series.length>1)&&(re.step=function(le,pe){Me&&Me.apply(pe,arguments),pe.prop==="width"&&he?.element&&he.attr(J?"height":"width",le+99)}),ae.addClass("highcharts-animating").animate(be,re)}}afterAnimate(){this.setClip(),w(this.chart.sharedClips,(V,Z,Y)=>{V&&!this.chart.container.querySelector(`[clip-path="url(#${V.id})"]`)&&(V.destroy(),delete Y[Z])}),this.finishedAnimating=!0,k(this,"afterAnimate")}drawPoints(V=this.points){let Z,Y,q,J,re,ue,ae,he=this.chart,be=he.styledMode,{colorAxis:Me,options:le}=this,pe=le.marker,ge=this[this.specialGroup||"markerGroup"],ve=this.xAxis,Se=D(pe.enabled,!ve||!!ve.isRadial||null,this.closestPointRangePx>=pe.enabledThreshold*pe.radius);if(pe.enabled!==!1||this._hasPointMarkers)for(Z=0;Z<V.length;Z++)if(J=(q=(Y=V[Z]).graphic)?"animate":"attr",re=Y.marker||{},ue=!!Y.marker,(Se&&re.enabled===void 0||re.enabled)&&!Y.isNull&&Y.visible!==!1){let je=D(re.symbol,this.symbol,"rect");ae=this.markerAttribs(Y,Y.selected&&"select"),this.enabledDataSorting&&(Y.startXPos=ve.reversed?-(ae.width||0):ve.width);let me=Y.isInside!==!1;if(!q&&me&&((ae.width||0)>0||Y.hasImage)&&(Y.graphic=q=he.renderer.symbol(je,ae.x,ae.y,ae.width,ae.height,ue?re:pe).add(ge),this.enabledDataSorting&&he.hasRendered&&(q.attr({x:Y.startXPos}),J="animate")),q&&J==="animate"&&q[me?"show":"hide"](me).animate(ae),q){let we=this.pointAttribs(Y,be||!Y.selected?void 0:"select");be?Me&&q.css({fill:we.fill}):q[J](we)}q&&q.addClass(Y.getClassName(),!0)}else q&&(Y.graphic=q.destroy())}markerAttribs(V,Z){let Y=this.options,q=Y.marker,J=V.marker||{},re=J.symbol||q.symbol,ue={},ae,he,be=D(J.radius,q&&q.radius);Z&&(ae=q.states[Z],be=D((he=J.states&&J.states[Z])&&he.radius,ae&&ae.radius,be&&be+(ae&&ae.radiusPlus||0))),V.hasImage=re&&re.indexOf("url")===0,V.hasImage&&(be=0);let Me=V.pos();return K(be)&&Me&&(Y.crisp&&(Me[0]=j(Me[0],V.hasImage?0:re==="rect"?q?.lineWidth||0:1)),ue.x=Me[0]-be,ue.y=Me[1]-be),be&&(ue.width=ue.height=2*be),ue}pointAttribs(V,Z){let Y=this.options.marker,q=V&&V.options,J=q&&q.marker||{},re=q&&q.color,ue=V&&V.color,ae=V&&V.zone&&V.zone.color,he,be,Me=this.color,le,pe,ge=D(J.lineWidth,Y.lineWidth),ve=1;return Me=re||ae||ue||Me,le=J.fillColor||Y.fillColor||Me,pe=J.lineColor||Y.lineColor||Me,Z=Z||"normal",he=Y.states[Z]||{},ge=D((be=J.states&&J.states[Z]||{}).lineWidth,he.lineWidth,ge+D(be.lineWidthPlus,he.lineWidthPlus,0)),le=be.fillColor||he.fillColor||le,{stroke:pe=be.lineColor||he.lineColor||pe,"stroke-width":ge,fill:le,opacity:ve=D(be.opacity,he.opacity,ve)}}destroy(V){let Z,Y,q,J=this,re=J.chart,ue=/AppleWebKit\/533/.test(s.navigator.userAgent),ae=J.data||[];for(k(J,"destroy",{keepEventsForUpdate:V}),this.removeEvents(V),(J.axisTypes||[]).forEach(function(he){(q=J[he])&&q.series&&(M(q.series,J),q.isDirty=q.forceRedraw=!0)}),J.legendItem&&J.chart.legend.destroyItem(J),Z=ae.length;Z--;)(Y=ae[Z])&&Y.destroy&&Y.destroy();for(let he of J.zones)T(he,void 0,!0);n.clearTimeout(J.animationTimeout),w(J,function(he,be){he instanceof m&&!he.survive&&he[ue&&be==="group"?"hide":"destroy"]()}),re.hoverSeries===J&&(re.hoverSeries=void 0),M(re.series,J),re.orderItems("series"),w(J,function(he,be){V&&be==="hcEvents"||delete J[be]})}applyZones(){let{area:V,chart:Z,graph:Y,zones:q,points:J,xAxis:re,yAxis:ue,zoneAxis:ae}=this,{inverted:he,renderer:be}=Z,Me=this[`${ae}Axis`],{isXAxis:le,len:pe=0}=Me||{},ge=(Y?.strokeWidth()||0)/2+1,ve=(Se,je=0,me=0)=>{he&&(me=pe-me);let{translated:we=0,lineClip:xe}=Se,oe=me-we;xe?.push(["L",je,Math.abs(oe)<ge?me-ge*(oe<=0?-1:1):we])};if(q.length&&(Y||V)&&Me&&K(Me.min)){let Se=Me.getExtremes().max,je=xe=>{xe.forEach((oe,ce)=>{(oe[0]==="M"||oe[0]==="L")&&(xe[ce]=[oe[0],le?pe-oe[1]:oe[1],le?oe[2]:pe-oe[2]])})};if(q.forEach(xe=>{xe.lineClip=[],xe.translated=C(Me.toPixels(D(xe.value,Se),!0)||0,0,pe)}),Y&&!this.showLine&&Y.hide(),V&&V.hide(),ae==="y"&&J.length<re.len)for(let xe of J){let{plotX:oe,plotY:ce,zone:se}=xe,fe=se&&q[q.indexOf(se)-1];se&&ve(se,oe,ce),fe&&ve(fe,oe,ce)}let me=[],we=Me.toPixels(Me.getExtremes().min,!0);q.forEach(xe=>{let oe=xe.lineClip||[],ce=Math.round(xe.translated||0);re.reversed&&oe.reverse();let{clip:se,simpleClip:fe}=xe,ke=0,Ee=0,Pe=re.len,Be=ue.len;le?(ke=ce,Pe=we):(Ee=ce,Be=we);let Ge=[["M",ke,Ee],["L",Pe,Ee],["L",Pe,Be],["L",ke,Be],["Z"]],He=[Ge[0],...oe,Ge[1],Ge[2],...me,Ge[3],Ge[4]];me=oe.reverse(),we=ce,he&&(je(He),V&&je(Ge)),se?(se.animate({d:He}),fe?.animate({d:Ge})):(se=xe.clip=be.path(He),V&&(fe=xe.simpleClip=be.path(Ge))),Y&&xe.graph?.clip(se),V&&xe.area?.clip(fe)})}else this.visible&&(Y&&Y.show(),V&&V.show())}plotGroup(V,Z,Y,q,J){let re=this[V],ue=!re,ae={visibility:Y,zIndex:q||.1};return x(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(ae.opacity=this.opacity),re||(this[V]=re=this.chart.renderer.g().add(J)),re.addClass("highcharts-"+Z+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(x(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(re.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),re.attr(ae)[ue?"attr":"animate"](this.getPlotBox(Z)),re}getPlotBox(V){let Z=this.xAxis,Y=this.yAxis,q=this.chart,J=q.inverted&&!q.polar&&Z&&this.invertible&&V==="series";return q.inverted&&(Z=Y,Y=this.xAxis),{translateX:Z?Z.left:q.plotLeft,translateY:Y?Y.top:q.plotTop,rotation:J?90:0,rotationOriginX:J?(Z.len-Y.len)/2:0,rotationOriginY:J?(Z.len+Y.len)/2:0,scaleX:J?-1:1,scaleY:1}}removeEvents(V){let{eventsToUnbind:Z}=this;V||H(this),Z.length&&(Z.forEach(Y=>{Y()}),Z.length=0)}render(){let V=this,{chart:Z,options:Y,hasRendered:q}=V,J=i(Y.animation),re=V.visible?"inherit":"hidden",ue=Y.zIndex,ae=Z.seriesGroup,he=V.finishedAnimating?0:J.duration;k(this,"render"),V.plotGroup("group","series",re,ue,ae),V.markerGroup=V.plotGroup("markerGroup","markers",re,ue,ae),Y.clip!==!1&&V.setClip(),he&&V.animate?.(!0),V.drawGraph&&(V.drawGraph(),V.applyZones()),V.visible&&V.drawPoints(),V.drawDataLabels?.(),V.redrawPoints?.(),Y.enableMouseTracking&&V.drawTracker?.(),he&&V.animate?.(),q||(he&&J.defer&&(he+=J.defer),V.animationTimeout=z(()=>{V.afterAnimate()},he||0)),V.isDirty=!1,V.hasRendered=!0,k(V,"afterRender")}redraw(){let V=this.isDirty||this.isDirtyData;this.translate(),this.render(),V&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(V,Z){let{xAxis:Y,yAxis:q}=this,J=this.chart.inverted;return this.searchKDTree({clientX:J?Y.len-V.chartY+Y.pos:V.chartX-Y.pos,plotY:J?q.len-V.chartX+q.pos:V.chartY-q.pos},Z,V)}buildKDTree(V){this.buildingKdTree=!0;let Z=this,Y=Z.options.findNearestPointBy.indexOf("y")>-1?2:1;delete Z.kdTree,z(function(){Z.kdTree=function q(J,re,ue){let ae,he,be=J?.length;if(be)return ae=Z.kdAxisArray[re%ue],J.sort((Me,le)=>(Me[ae]||0)-(le[ae]||0)),{point:J[he=Math.floor(be/2)],left:q(J.slice(0,he),re+1,ue),right:q(J.slice(he+1),re+1,ue)}}(Z.getValidPoints(void 0,!Z.directTouch),Y,Y),Z.buildingKdTree=!1},Z.options.kdNow||V?.type==="touchstart"?0:1)}searchKDTree(V,Z,Y){let q=this,[J,re]=this.kdAxisArray,ue=Z?"distX":"dist",ae=(q.options.findNearestPointBy||"").indexOf("y")>-1?2:1,he=!!q.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(Y),this.kdTree)return function be(Me,le,pe,ge){let ve=le.point,Se=q.kdAxisArray[pe%ge],je,me,we=ve;(function(se,fe){let ke=se[J],Ee=fe[J],Pe=x(ke)&&x(Ee)?ke-Ee:null,Be=se[re],Ge=fe[re],He=x(Be)&&x(Ge)?Be-Ge:0,qe=he&&fe.marker?.radius||0;fe.dist=Math.sqrt((Pe&&Pe*Pe||0)+He*He)-qe,fe.distX=x(Pe)?Math.abs(Pe)-qe:Number.MAX_VALUE})(Me,ve);let xe=(Me[Se]||0)-(ve[Se]||0)+(he&&ve.marker?.radius||0),oe=xe<0?"left":"right",ce=xe<0?"right":"left";return le[oe]&&(we=(je=be(Me,le[oe],pe+1,ge))[ue]<we[ue]?je:ve),le[ce]&&Math.sqrt(xe*xe)<we[ue]&&(we=(me=be(Me,le[ce],pe+1,ge))[ue]<we[ue]?me:we),we}(V,this.kdTree,ae,ae)}pointPlacementToXValue(){let{options:V,xAxis:Z}=this,Y=V.pointPlacement;return Y==="between"&&(Y=Z.reversed?-.5:.5),K(Y)?Y*(V.pointRange||Z.pointRange):0}isPointInside(V){let{chart:Z,xAxis:Y,yAxis:q}=this,{plotX:J=-1,plotY:re=-1}=V;return re>=0&&re<=(q?q.len:Z.plotHeight)&&J>=0&&J<=(Y?Y.len:Z.plotWidth)}drawTracker(){let V=this,Z=V.options,Y=Z.trackByArea,q=[].concat((Y?V.areaPath:V.graphPath)||[]),J=V.chart,re=J.pointer,ue=J.renderer,ae=J.options.tooltip?.snap||0,he=()=>{Z.enableMouseTracking&&J.hoverSeries!==V&&V.onMouseOver()},be="rgba(192,192,192,"+(r?1e-4:.002)+")",Me=V.tracker;Me?Me.attr({d:q}):V.graph&&(V.tracker=Me=ue.path(q).attr({visibility:V.visible?"inherit":"hidden",zIndex:2}).addClass(Y?"highcharts-tracker-area":"highcharts-tracker-line").add(V.group),J.styledMode||Me.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:be,fill:Y?be:"none","stroke-width":V.graph.strokeWidth()+(Y?0:2*ae)}),[V.tracker,V.markerGroup,V.dataLabelsGroup].forEach(le=>{le&&(le.addClass("highcharts-tracker").on("mouseover",he).on("mouseout",pe=>{re?.onTrackerMouseOut(pe)}),Z.cursor&&!J.styledMode&&le.css({cursor:Z.cursor}),le.on("touchstart",he))})),k(this,"afterDrawTracker")}addPoint(V,Z,Y,q,J){let re,ue,ae=this.options,he=this.data,be=this.chart,Me=this.xAxis,le=Me&&Me.hasNames&&Me.names,pe=ae.data,ge=this.xData;Z=D(Z,!0);let ve={series:this};this.pointClass.prototype.applyOptions.apply(ve,[V]);let Se=ve.x;if(ue=ge.length,this.requireSorting&&Se<ge[ue-1])for(re=!0;ue&&ge[ue-1]>Se;)ue--;this.updateParallelArrays(ve,"splice",[ue,0,0]),this.updateParallelArrays(ve,ue),le&&ve.name&&(le[Se]=ve.name),pe.splice(ue,0,V),(re||this.processedData)&&(this.data.splice(ue,0,null),this.processData()),ae.legendType==="point"&&this.generatePoints(),Y&&(he[0]&&he[0].remove?he[0].remove(!1):(he.shift(),this.updateParallelArrays(ve,"shift"),pe.shift())),J!==!1&&k(this,"addPoint",{point:ve}),this.isDirty=!0,this.isDirtyData=!0,Z&&be.redraw(q)}removePoint(V,Z,Y){let q=this,J=q.data,re=J[V],ue=q.points,ae=q.chart,he=function(){ue&&ue.length===J.length&&ue.splice(V,1),J.splice(V,1),q.options.data.splice(V,1),q.updateParallelArrays(re||{series:q},"splice",[V,1]),re&&re.destroy(),q.isDirty=!0,q.isDirtyData=!0,Z&&ae.redraw()};a(Y,ae),Z=D(Z,!0),re?re.firePointEvent("remove",null,he):he()}remove(V,Z,Y,q){let J=this,re=J.chart;function ue(){J.destroy(q),re.isDirtyLegend=re.isDirtyBox=!0,re.linkSeries(q),D(V,!0)&&re.redraw(Z)}Y!==!1?k(J,"remove",null,ue):ue()}update(V,Z){k(this,"update",{options:V=_(V,this.userOptions)});let Y=this,q=Y.chart,J=Y.userOptions,re=Y.initialType||Y.type,ue=q.options.plotOptions,ae=o[re].prototype,he=Y.finishedAnimating&&{animation:!1},be={},Me,le,pe=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],ge=V.type||J.type||q.options.chart.type,ve=!(this.hasDerivedData||ge&&ge!==this.type||V.pointStart!==void 0||V.pointInterval!==void 0||V.relativeXValue!==void 0||V.joinBy||V.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(je=>Y.hasOptionChanged(je)));ge=ge||re,ve&&(pe.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),V.visible!==!1&&pe.push("area","graph"),Y.parallelArrays.forEach(function(je){pe.push(je+"Data")}),V.data&&(V.dataSorting&&S(Y.options.dataSorting,V.dataSorting),this.setData(V.data,!1))),V=P(J,{index:J.index===void 0?Y.index:J.index,pointStart:ue?.series?.pointStart??J.pointStart??Y.xData?.[0]},!ve&&{data:Y.options.data},V,he),ve&&V.data&&(V.data=Y.options.data),(pe=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(pe)).forEach(function(je){pe[je]=Y[je],delete Y[je]});let Se=!1;if(o[ge]){if(Se=ge!==Y.type,Y.remove(!1,!1,!1,!0),Se)if(q.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(Y,o[ge].prototype);else{let je=Object.hasOwnProperty.call(Y,"hcEvents")&&Y.hcEvents;for(le in ae)Y[le]=void 0;S(Y,o[ge].prototype),je?Y.hcEvents=je:delete Y.hcEvents}}else p(17,!0,q,{missingModuleFor:ge});if(pe.forEach(function(je){Y[je]=pe[je]}),Y.init(q,V),ve&&this.points)for(let je of((Me=Y.options).visible===!1?(be.graphic=1,be.dataLabel=1):(this.hasMarkerChanged(Me,J)&&(be.graphic=1),Y.hasDataLabels?.()||(be.dataLabel=1)),this.points))je&&je.series&&(je.resolveColor(),Object.keys(be).length&&je.destroyElements(be),Me.showInLegend===!1&&je.legendItem&&q.legend.destroyItem(je));Y.initialType=re,q.linkSeries(),q.setSortedData(),Se&&Y.linkedSeries.length&&(Y.isDirtyData=!0),k(this,"afterUpdate"),D(Z,!0)&&q.redraw(!!ve&&void 0)}setName(V){this.name=this.options.name=this.userOptions.name=V,this.chart.isDirtyLegend=!0}hasOptionChanged(V){let Z=this.chart,Y=this.options[V],q=Z.options.plotOptions,J=this.userOptions[V],re=D(q?.[this.type]?.[V],q?.series?.[V]);return J&&!x(re)?Y!==J:Y!==D(re,Y)}onMouseOver(){let V=this.chart,Z=V.hoverSeries;V.pointer?.setHoverChartIndex(),Z&&Z!==this&&Z.onMouseOut(),this.options.events.mouseOver&&k(this,"mouseOver"),this.setState("hover"),V.hoverSeries=this}onMouseOut(){let V=this.options,Z=this.chart,Y=Z.tooltip,q=Z.hoverPoint;Z.hoverSeries=null,q&&q.onMouseOut(),this&&V.events.mouseOut&&k(this,"mouseOut"),Y&&!this.stickyTracking&&(!Y.shared||this.noSharedTooltip)&&Y.hide(),Z.series.forEach(function(J){J.setState("",!0)})}setState(V,Z){let Y=this,q=Y.options,J=Y.graph,re=q.inactiveOtherPoints,ue=q.states,ae=D(ue[V||"normal"]&&ue[V||"normal"].animation,Y.chart.options.chart.animation),he=q.lineWidth,be=q.opacity;if(V=V||"",Y.state!==V&&([Y.group,Y.markerGroup,Y.dataLabelsGroup].forEach(function(Me){Me&&(Y.state&&Me.removeClass("highcharts-series-"+Y.state),V&&Me.addClass("highcharts-series-"+V))}),Y.state=V,!Y.chart.styledMode)){if(ue[V]&&ue[V].enabled===!1)return;if(V&&(he=ue[V].lineWidth||he+(ue[V].lineWidthPlus||0),be=D(ue[V].opacity,be)),J&&!J.dashstyle&&K(he))for(let Me of[J,...this.zones.map(le=>le.graph)])Me?.animate({"stroke-width":he},ae);re||[Y.group,Y.markerGroup,Y.dataLabelsGroup,Y.labelBySeries].forEach(function(Me){Me&&Me.animate({opacity:be},ae)})}Z&&re&&Y.points&&Y.setAllPointsToState(V||void 0)}setAllPointsToState(V){this.points.forEach(function(Z){Z.setState&&Z.setState(V)})}setVisible(V,Z){let Y=this,q=Y.chart,J=q.options.chart.ignoreHiddenSeries,re=Y.visible;Y.visible=V=Y.options.visible=Y.userOptions.visible=V===void 0?!re:V;let ue=V?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(ae=>{Y[ae]?.[ue]()}),(q.hoverSeries===Y||q.hoverPoint?.series===Y)&&Y.onMouseOut(),Y.legendItem&&q.legend.colorizeItem(Y,V),Y.isDirty=!0,Y.options.stacking&&q.series.forEach(ae=>{ae.options.stacking&&ae.visible&&(ae.isDirty=!0)}),Y.linkedSeries.forEach(ae=>{ae.setVisible(V,!1)}),J&&(q.isDirtyBox=!0),k(Y,ue),Z!==!1&&q.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(V){this.selected=V=this.options.selected=V===void 0?!this.selected:V,this.checkbox&&(this.checkbox.checked=V),k(this,V?"select":"unselect")}shouldShowTooltip(V,Z,Y={}){return Y.series=this,Y.visiblePlotOnly=!0,this.chart.isInsidePlot(V,Z,Y)}drawLegendSymbol(V,Z){b[this.options.legendSymbol||"rectangle"]?.call(this,V,Z)}}return W.defaultOptions=d,W.types=v.seriesTypes,W.registerType=v.registerSeriesType,S(W.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:h,requireSorting:!0,sorted:!0}),v.series=W,W}),de(ee,"Core/Legend/Legend.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Foundation.js"],ee["Core/Globals.js"],ee["Core/Series/Series.js"],ee["Core/Series/Point.js"],ee["Core/Renderer/RendererUtilities.js"],ee["Core/Templating.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b,h,d,v){var m;let{animObject:n,setAnimation:i}=t,{registerEventOptions:a}=X,{composed:l,marginNames:c}=I,{distribute:r}=h,{format:s}=d,{addEvent:o,createElement:u,css:f,defined:C,discardElement:E,find:j,fireEvent:x,isNumber:T,merge:_,pick:M,pushUnique:p,relativeLength:S,stableSort:O,syncTimeout:k}=v;class F{constructor(L,G){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=L,this.setOptions(G),G.enabled&&(this.render(),a(this,G),o(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),o(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(L){let G=M(L.padding,8);this.options=L,this.chart.styledMode||(this.itemStyle=L.itemStyle,this.itemHiddenStyle=_(this.itemStyle,L.itemHiddenStyle)),this.itemMarginTop=L.itemMarginTop,this.itemMarginBottom=L.itemMarginBottom,this.padding=G,this.initialItemY=G-5,this.symbolWidth=M(L.symbolWidth,16),this.pages=[],this.proximate=L.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(L,G){let K=this.chart;this.setOptions(_(!0,this.options,L)),"events"in this.options&&a(this,this.options),this.destroy(),K.isDirtyLegend=K.isDirtyBox=!0,M(G,!0)&&K.redraw(),x(this,"afterUpdate",{redraw:G})}colorizeItem(L,G){let{area:K,group:$,label:P,line:w,symbol:D}=L.legendItem||{};if($?.[G?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:H={}}=this,N=H.color,{fillColor:z,fillOpacity:W,lineColor:te,marker:V}=L.options,Z=Y=>(!G&&(Y.fill&&(Y.fill=N),Y.stroke&&(Y.stroke=N)),Y);P?.css(_(G?this.itemStyle:H)),w?.attr(Z({stroke:te||L.color})),D&&D.attr(Z(V&&D.isMarker?L.pointAttribs():{fill:L.color})),K?.attr(Z({fill:z||L.color,"fill-opacity":z?1:W??.75}))}x(this,"afterColorizeItem",{item:L,visible:G})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(L){let{group:G,x:K=0,y:$=0}=L.legendItem||{},P=this.options,w=P.symbolPadding,D=!P.rtl,H=L.checkbox;if(G&&G.element){let N={translateX:D?K:this.legendWidth-K-2*w-4,translateY:$};G[C(G.translateY)?"animate":"attr"](N,void 0,()=>{x(this,"afterPositionItem",{item:L})})}H&&(H.x=K,H.y=$)}destroyItem(L){let G=L.checkbox,K=L.legendItem||{};for(let $ of["group","label","line","symbol"])K[$]&&(K[$]=K[$].destroy());G&&E(G),L.legendItem=void 0}destroy(){for(let L of this.getAllItems())this.destroyItem(L);for(let L of["clipRect","up","down","pager","nav","box","title","group"])this[L]&&(this[L]=this[L].destroy());this.display=null}positionCheckboxes(){let L,G=this.group&&this.group.alignAttr,K=this.clipHeight||this.legendHeight,$=this.titleHeight;G&&(L=G.translateY,this.allItems.forEach(function(P){let w,D=P.checkbox;D&&(w=L+$+D.y+(this.scrollOffset||0)+3,f(D,{left:G.translateX+P.checkboxOffset+D.x-20+"px",top:w+"px",display:this.proximate||w>L-6&&w<L+K-6?"":"none"}))},this))}renderTitle(){let L=this.options,G=this.padding,K=L.title,$,P=0;K.text&&(this.title||(this.title=this.chart.renderer.label(K.text,G-3,G-4,void 0,void 0,void 0,L.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(K.style),this.title.add(this.group)),K.width||this.title.css({width:this.maxLegendWidth+"px"}),P=($=this.title.getBBox()).height,this.offsetWidth=$.width,this.contentGroup.attr({translateY:P})),this.titleHeight=P}setText(L){let G=this.options;L.legendItem.label.attr({text:G.labelFormat?s(G.labelFormat,L,this.chart):G.labelFormatter.call(L)})}renderItem(L){let G=L.legendItem=L.legendItem||{},K=this.chart,$=K.renderer,P=this.options,w=P.layout==="horizontal",D=this.symbolWidth,H=P.symbolPadding||0,N=this.itemStyle,z=this.itemHiddenStyle,W=w?M(P.itemDistance,20):0,te=!P.rtl,V=!L.series,Z=!V&&L.series.drawLegendSymbol?L.series:L,Y=Z.options,q=!!this.createCheckboxForItem&&Y&&Y.showCheckbox,J=P.useHTML,re=L.options.className,ue=G.label,ae=D+H+W+(q?20:0);!ue&&(G.group=$.g("legend-item").addClass("highcharts-"+Z.type+"-series highcharts-color-"+L.colorIndex+(re?" "+re:"")+(V?" highcharts-series-"+L.index:"")).attr({zIndex:1}).add(this.scrollGroup),G.label=ue=$.text("",te?D+H:-H,this.baseline||0,J),K.styledMode||ue.css(_(L.visible?N:z)),ue.attr({align:te?"left":"right",zIndex:2}).add(G.group),!this.baseline&&(this.fontMetrics=$.fontMetrics(ue),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,ue.attr("y",this.baseline),this.symbolHeight=M(P.symbolHeight,this.fontMetrics.f),P.squareSymbol&&(this.symbolWidth=M(P.symbolWidth,Math.max(this.symbolHeight,16)),ae=this.symbolWidth+H+W+(q?20:0),te&&ue.attr("x",this.symbolWidth+H))),Z.drawLegendSymbol(this,L),this.setItemEvents&&this.setItemEvents(L,ue,J)),q&&!L.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(L),this.colorizeItem(L,L.visible),(K.styledMode||!N.width)&&ue.css({width:(P.itemWidth||this.widthOption||K.spacingBox.width)-ae+"px"}),this.setText(L);let he=ue.getBBox(),be=this.fontMetrics&&this.fontMetrics.h||0;L.itemWidth=L.checkboxOffset=P.itemWidth||G.labelWidth||he.width+ae,this.maxItemWidth=Math.max(this.maxItemWidth,L.itemWidth),this.totalItemWidth+=L.itemWidth,this.itemHeight=L.itemHeight=Math.round(G.labelHeight||(he.height>1.5*be?he.height:be))}layoutItem(L){let G=this.options,K=this.padding,$=G.layout==="horizontal",P=L.itemHeight,w=this.itemMarginBottom,D=this.itemMarginTop,H=$?M(G.itemDistance,20):0,N=this.maxLegendWidth,z=G.alignColumns&&this.totalItemWidth>N?this.maxItemWidth:L.itemWidth,W=L.legendItem||{};$&&this.itemX-K+z>N&&(this.itemX=K,this.lastLineHeight&&(this.itemY+=D+this.lastLineHeight+w),this.lastLineHeight=0),this.lastItemY=D+this.itemY+w,this.lastLineHeight=Math.max(P,this.lastLineHeight),W.x=this.itemX,W.y=this.itemY,$?this.itemX+=z:(this.itemY+=D+P+w,this.lastLineHeight=P),this.offsetWidth=this.widthOption||Math.max(($?this.itemX-K-(L.checkbox?0:H):z)+K,this.offsetWidth)}getAllItems(){let L=[];return this.chart.series.forEach(function(G){let K=G&&G.options;G&&M(K.showInLegend,!C(K.linkedTo)&&void 0,!0)&&(L=L.concat((G.legendItem||{}).labels||(K.legendType==="point"?G.data:G)))}),x(this,"afterGetAllItems",{allItems:L}),L}getAlignment(){let L=this.options;return this.proximate?L.align.charAt(0)+"tv":L.floating?"":L.align.charAt(0)+L.verticalAlign.charAt(0)+L.layout.charAt(0)}adjustMargins(L,G){let K=this.chart,$=this.options,P=this.getAlignment();P&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(w,D){w.test(P)&&!C(L[D])&&(K[c[D]]=Math.max(K[c[D]],K.legend[(D+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][D]*$[D%2?"x":"y"]+M($.margin,12)+G[D]+(K.titleOffset[D]||0)))})}proximatePositions(){let L,G=this.chart,K=[],$=this.options.align==="left";for(let P of(this.allItems.forEach(function(w){let D,H,N=$,z,W;w.yAxis&&(w.xAxis.options.reversed&&(N=!N),w.points&&(D=j(N?w.points:w.points.slice(0).reverse(),function(te){return T(te.plotY)})),H=this.itemMarginTop+w.legendItem.label.getBBox().height+this.itemMarginBottom,W=w.yAxis.top-G.plotTop,z=w.visible?(D?D.plotY:w.yAxis.height)+(W-.3*H):W+w.yAxis.height,K.push({target:z,size:H,item:w}))},this),r(K,G.plotHeight)))L=P.item.legendItem||{},T(P.pos)&&(L.y=G.plotTop-G.spacing[0]+P.pos)}render(){let L=this.chart,G=L.renderer,K=this.options,$=this.padding,P=this.getAllItems(),w,D,H,N=this.group,z,W=this.box;this.itemX=$,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=S(K.width,L.spacingBox.width-$),z=L.spacingBox.width-2*$-K.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(z/=2),this.maxLegendWidth=this.widthOption||z,N||(this.group=N=G.g("legend").addClass(K.className||"").attr({zIndex:7}).add(),this.contentGroup=G.g().attr({zIndex:1}).add(N),this.scrollGroup=G.g().add(this.contentGroup)),this.renderTitle(),O(P,(te,V)=>(te.options&&te.options.legendIndex||0)-(V.options&&V.options.legendIndex||0)),K.reversed&&P.reverse(),this.allItems=P,this.display=w=!!P.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,P.forEach(this.renderItem,this),P.forEach(this.layoutItem,this),D=(this.widthOption||this.offsetWidth)+$,H=this.lastItemY+this.lastLineHeight+this.titleHeight,H=this.handleOverflow(H)+$,W||(this.box=W=G.rect().addClass("highcharts-legend-box").attr({r:K.borderRadius}).add(N)),L.styledMode||W.attr({stroke:K.borderColor,"stroke-width":K.borderWidth||0,fill:K.backgroundColor||"none"}).shadow(K.shadow),D>0&&H>0&&W[W.placed?"animate":"attr"](W.crisp.call({},{x:0,y:0,width:D,height:H},W.strokeWidth())),N[w?"show":"hide"](),L.styledMode&&N.getStyle("display")==="none"&&(D=H=0),this.legendWidth=D,this.legendHeight=H,w&&this.align(),this.proximate||this.positionItems(),x(this,"afterRender")}align(L=this.chart.spacingBox){let G=this.chart,K=this.options,$=L.y;/(lth|ct|rth)/.test(this.getAlignment())&&G.titleOffset[0]>0?$+=G.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&G.titleOffset[2]>0&&($-=G.titleOffset[2]),$!==L.y&&(L=_(L,{y:$})),G.hasRendered||(this.group.placed=!1),this.group.align(_(K,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":K.verticalAlign}),!0,L)}handleOverflow(L){let G=this,K=this.chart,$=K.renderer,P=this.options,w=P.y,D=P.verticalAlign==="top",H=this.padding,N=P.maxHeight,z=P.navigation,W=M(z.animation,!0),te=z.arrowSize||12,V=this.pages,Z=this.allItems,Y=function(Me){typeof Me=="number"?be.attr({height:Me}):be&&(G.clipRect=be.destroy(),G.contentGroup.clip()),G.contentGroup.div&&(G.contentGroup.div.style.clip=Me?"rect("+H+"px,9999px,"+(H+Me)+"px,0)":"auto")},q=function(Me){return G[Me]=$.circle(0,0,1.3*te).translate(te/2,te/2).add(he),K.styledMode||G[Me].attr("fill","rgba(0,0,0,0.0001)"),G[Me]},J,re,ue,ae=K.spacingBox.height+(D?-w:w)-H,he=this.nav,be=this.clipRect;return P.layout!=="horizontal"||P.verticalAlign==="middle"||P.floating||(ae/=2),N&&(ae=Math.min(ae,N)),V.length=0,L&&ae>0&&L>ae&&z.enabled!==!1?(this.clipHeight=J=Math.max(ae-20-this.titleHeight-H,0),this.currentPage=M(this.currentPage,1),this.fullHeight=L,Z.forEach((Me,le)=>{let pe=(ue=Me.legendItem||{}).y||0,ge=Math.round(ue.label.getBBox().height),ve=V.length;(!ve||pe-V[ve-1]>J&&(re||pe)!==V[ve-1])&&(V.push(re||pe),ve++),ue.pageIx=ve-1,re&&((Z[le-1].legendItem||{}).pageIx=ve-1),le===Z.length-1&&pe+ge-V[ve-1]>J&&pe>V[ve-1]&&(V.push(pe),ue.pageIx=ve),pe!==re&&(re=pe)}),be||(be=G.clipRect=$.clipRect(0,H-2,9999,0),G.contentGroup.clip(be)),Y(J),he||(this.nav=he=$.g().attr({zIndex:1}).add(this.group),this.up=$.symbol("triangle",0,0,te,te).add(he),q("upTracker").on("click",function(){G.scroll(-1,W)}),this.pager=$.text("",15,10).addClass("highcharts-legend-navigation"),!K.styledMode&&z.style&&this.pager.css(z.style),this.pager.add(he),this.down=$.symbol("triangle-down",0,0,te,te).add(he),q("downTracker").on("click",function(){G.scroll(1,W)})),G.scroll(0),L=ae):he&&(Y(),this.nav=he.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),L}scroll(L,G){let K=this.chart,$=this.pages,P=$.length,w=this.clipHeight,D=this.options.navigation,H=this.pager,N=this.padding,z=this.currentPage+L;z>P&&(z=P),z>0&&(G!==void 0&&i(G,K),this.nav.attr({translateX:N,translateY:w+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(W){W.attr({class:z===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),H.attr({text:z+"/"+P}),[this.down,this.downTracker].forEach(function(W){W.attr({x:18+this.pager.getBBox().width,class:z===P?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),K.styledMode||(this.up.attr({fill:z===1?D.inactiveColor:D.activeColor}),this.upTracker.css({cursor:z===1?"default":"pointer"}),this.down.attr({fill:z===P?D.inactiveColor:D.activeColor}),this.downTracker.css({cursor:z===P?"default":"pointer"})),this.scrollOffset=-$[z-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=z,this.positionCheckboxes(),k(()=>{x(this,"afterScroll",{currentPage:z})},n(M(G,K.renderer.globalAnimation,!0)).duration))}setItemEvents(L,G,K){let $=this,P=L.legendItem||{},w=$.chart.renderer.boxWrapper,D=L instanceof b,H=L instanceof y,N="highcharts-legend-"+(D?"point":"series")+"-active",z=$.chart.styledMode,W=K?[G,P.symbol]:[P.group],te=V=>{$.allItems.forEach(Z=>{L!==Z&&[Z].concat(Z.linkedSeries||[]).forEach(Y=>{Y.setState(V,!D)})})};for(let V of W)V&&V.on("mouseover",function(){L.visible&&te("inactive"),L.setState("hover"),L.visible&&w.addClass(N),z||G.css($.options.itemHoverStyle)}).on("mouseout",function(){$.chart.styledMode||G.css(_(L.visible?$.itemStyle:$.itemHiddenStyle)),te(""),w.removeClass(N),L.setState()}).on("click",function(Z){let Y=function(){L.setVisible&&L.setVisible(),te(L.visible?"inactive":"")};w.removeClass(N),x($,"itemClick",{browserEvent:Z,legendItem:L},Y),D?L.firePointEvent("legendItemClick",{browserEvent:Z}):H&&x(L,"legendItemClick",{browserEvent:Z})})}createCheckboxForItem(L){L.checkbox=u("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:L.selected,defaultChecked:L.selected},this.options.itemCheckboxStyle,this.chart.container),o(L.checkbox,"click",function(G){let K=G.target;x(L.series||L,"checkboxClick",{checked:K.checked,item:L},function(){L.select()})})}}return(m=F||(F={})).compose=function(B){p(l,"Core.Legend")&&o(B,"beforeMargins",function(){this.legend=new m(this,this.options.legend)})},F}),de(ee,"Core/Chart/Chart.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Axis/Axis.js"],ee["Core/Defaults.js"],ee["Core/Templating.js"],ee["Core/Foundation.js"],ee["Core/Globals.js"],ee["Core/Renderer/RendererRegistry.js"],ee["Core/Series/Series.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Renderer/SVG/SVGRenderer.js"],ee["Core/Time.js"],ee["Core/Utilities.js"],ee["Core/Renderer/HTML/AST.js"],ee["Core/Axis/Tick.js"]],function(t,X,I,y,b,h,d,v,m,n,i,a,l,c){let{animate:r,animObject:s,setAnimation:o}=t,{defaultOptions:u,defaultTime:f}=I,{numberFormat:C}=y,{registerEventOptions:E}=b,{charts:j,doc:x,marginNames:T,svg:_,win:M}=h,{seriesTypes:p}=m,{addEvent:S,attr:O,createElement:k,css:F,defined:B,diffObjects:L,discardElement:G,erase:K,error:$,extend:P,find:w,fireEvent:D,getStyle:H,isArray:N,isNumber:z,isObject:W,isString:te,merge:V,objectEach:Z,pick:Y,pInt:q,relativeLength:J,removeEvent:re,splat:ue,syncTimeout:ae,uniqueKey:he}=a;class be{static chart(le,pe,ge){return new be(le,pe,ge)}constructor(le,pe,ge){this.sharedClips={};let ve=[...arguments];(te(le)||le.nodeName)&&(this.renderTo=ve.shift()),this.init(ve[0],ve[1])}setZoomOptions(){let le=this.options.chart,pe=le.zooming;this.zooming=It(at({},pe),{type:Y(le.zoomType,pe.type),key:Y(le.zoomKey,pe.key),pinchType:Y(le.pinchType,pe.pinchType),singleTouch:Y(le.zoomBySingleTouch,pe.singleTouch,!1),resetButton:V(pe.resetButton,le.resetZoomButton)})}init(le,pe){D(this,"init",{args:arguments},function(){let ge=V(u,le),ve=ge.chart;this.userOptions=P({},le),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=pe,this.isResizing=0,this.options=ge,this.axes=[],this.series=[],this.time=le.time&&Object.keys(le.time).length?new i(le.time):h.time,this.numberFormatter=ve.numberFormatter||C,this.styledMode=ve.styledMode,this.hasCartesianSeries=ve.showAxes,this.index=j.length,j.push(this),h.chartCount++,E(this,ve),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),D(this,"afterInit"),this.firstRender()})}initSeries(le){let pe=this.options.chart,ge=le.type||pe.type,ve=p[ge];ve||$(17,!0,this,{missingModuleFor:ge});let Se=new ve;return typeof Se.init=="function"&&Se.init(this,le),Se}setSortedData(){this.getSeriesOrderByLinks().forEach(function(le){le.points||le.data||!le.enabledDataSorting||le.setData(le.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(le,pe){return le.linkedSeries.length||pe.linkedSeries.length?pe.linkedSeries.length-le.linkedSeries.length:0})}orderItems(le,pe=0){let ge=this[le],ve=this.options[le]=ue(this.options[le]).slice(),Se=this.userOptions[le]=this.userOptions[le]?ue(this.userOptions[le]).slice():[];if(this.hasRendered&&(ve.splice(pe),Se.splice(pe)),ge)for(let je=pe,me=ge.length;je<me;++je){let we=ge[je];we&&(we.index=je,we instanceof v&&(we.name=we.getName()),we.options.isInternal||(ve[je]=we.options,Se[je]=we.userOptions))}}isInsidePlot(le,pe,ge={}){let{inverted:ve,plotBox:Se,plotLeft:je,plotTop:me,scrollablePlotBox:we}=this,{scrollLeft:xe=0,scrollTop:oe=0}=ge.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},ce=ge.series,se=ge.visiblePlotOnly&&we||Se,fe=ge.inverted?pe:le,ke=ge.inverted?le:pe,Ee={x:fe,y:ke,isInsidePlot:!0,options:ge};if(!ge.ignoreX){let Pe=ce&&(ve&&!this.polar?ce.yAxis:ce.xAxis)||{pos:je,len:1/0},Be=ge.paneCoordinates?Pe.pos+fe:je+fe;Be>=Math.max(xe+je,Pe.pos)&&Be<=Math.min(xe+je+se.width,Pe.pos+Pe.len)||(Ee.isInsidePlot=!1)}if(!ge.ignoreY&&Ee.isInsidePlot){let Pe=!ve&&ge.axis&&!ge.axis.isXAxis&&ge.axis||ce&&(ve?ce.xAxis:ce.yAxis)||{pos:me,len:1/0},Be=ge.paneCoordinates?Pe.pos+ke:me+ke;Be>=Math.max(oe+me,Pe.pos)&&Be<=Math.min(oe+me+se.height,Pe.pos+Pe.len)||(Ee.isInsidePlot=!1)}return D(this,"afterIsInsidePlot",Ee),Ee.isInsidePlot}redraw(le){D(this,"beforeRedraw");let pe=this.hasCartesianSeries?this.axes:this.colorAxis||[],ge=this.series,ve=this.pointer,Se=this.legend,je=this.userOptions.legend,me=this.renderer,we=me.isHidden(),xe=[],oe,ce,se,fe=this.isDirtyBox,ke=this.isDirtyLegend,Ee;for(me.rootFontSize=me.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),o(!!this.hasRendered&&le,this),we&&this.temporaryDisplay(),this.layOutTitles(!1),se=ge.length;se--;)if(((Ee=ge[se]).options.stacking||Ee.options.centerInCategory)&&(ce=!0,Ee.isDirty)){oe=!0;break}if(oe)for(se=ge.length;se--;)(Ee=ge[se]).options.stacking&&(Ee.isDirty=!0);ge.forEach(function(Pe){Pe.isDirty&&(Pe.options.legendType==="point"?(typeof Pe.updateTotals=="function"&&Pe.updateTotals(),ke=!0):je&&(je.labelFormatter||je.labelFormat)&&(ke=!0)),Pe.isDirtyData&&D(Pe,"updatedData")}),ke&&Se&&Se.options.enabled&&(Se.render(),this.isDirtyLegend=!1),ce&&this.getStacks(),pe.forEach(function(Pe){Pe.updateNames(),Pe.setScale()}),this.getMargins(),pe.forEach(function(Pe){Pe.isDirty&&(fe=!0)}),pe.forEach(function(Pe){let Be=Pe.min+","+Pe.max;Pe.extKey!==Be&&(Pe.extKey=Be,xe.push(function(){D(Pe,"afterSetExtremes",P(Pe.eventArgs,Pe.getExtremes())),delete Pe.eventArgs})),(fe||ce)&&Pe.redraw()}),fe&&this.drawChartBox(),D(this,"predraw"),ge.forEach(function(Pe){(fe||Pe.isDirty)&&Pe.visible&&Pe.redraw(),Pe.isDirtyData=!1}),ve&&ve.reset(!0),me.draw(),D(this,"redraw"),D(this,"render"),we&&this.temporaryDisplay(!0),xe.forEach(function(Pe){Pe.call()})}get(le){let pe=this.series;function ge(Se){return Se.id===le||Se.options&&Se.options.id===le}let ve=w(this.axes,ge)||w(this.series,ge);for(let Se=0;!ve&&Se<pe.length;Se++)ve=w(pe[Se].points||[],ge);return ve}getAxes(){let le=this.userOptions;for(let pe of(D(this,"getAxes"),["xAxis","yAxis"]))for(let ge of le[pe]=ue(le[pe]||{}))new X(this,ge,pe);D(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((le,pe)=>(pe.getPointsCollection().forEach(ge=>{Y(ge.selectedStaging,ge.selected)&&le.push(ge)}),le),[])}getSelectedSeries(){return this.series.filter(function(le){return le.selected})}setTitle(le,pe,ge){this.applyDescription("title",le),this.applyDescription("subtitle",pe),this.applyDescription("caption",void 0),this.layOutTitles(ge)}applyDescription(le,pe){let ge=this,ve=this.options[le]=V(this.options[le],pe),Se=this[le];Se&&pe&&(this[le]=Se=Se.destroy()),ve&&!Se&&((Se=this.renderer.text(ve.text,0,0,ve.useHTML).attr({align:ve.align,class:"highcharts-"+le,zIndex:ve.zIndex||4}).add()).update=function(je,me){ge.applyDescription(le,je),ge.layOutTitles(me)},this.styledMode||Se.css(P(le==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},ve.style)),this[le]=Se)}layOutTitles(le=!0){let pe=[0,0,0],ge=this.renderer,ve=this.spacingBox;["title","subtitle","caption"].forEach(function(je){let me=this[je],we=this.options[je],xe=we.verticalAlign||"top",oe=je==="title"?xe==="top"?-3:0:xe==="top"?pe[0]+2:0;if(me){me.css({width:(we.width||ve.width+(we.widthAdjust||0))+"px"});let ce=ge.fontMetrics(me).b,se=Math.round(me.getBBox(we.useHTML).height);me.align(P({y:xe==="bottom"?ce:oe+ce,height:se},we),!1,"spacingBox"),we.floating||(xe==="top"?pe[0]=Math.ceil(pe[0]+se):xe==="bottom"&&(pe[2]=Math.ceil(pe[2]+se)))}},this),pe[0]&&(this.options.title.verticalAlign||"top")==="top"&&(pe[0]+=this.options.title.margin),pe[2]&&this.options.caption.verticalAlign==="bottom"&&(pe[2]+=this.options.caption.margin);let Se=!this.titleOffset||this.titleOffset.join(",")!==pe.join(",");this.titleOffset=pe,D(this,"afterLayOutTitles"),!this.isDirtyBox&&Se&&(this.isDirtyBox=this.isDirtyLegend=Se,this.hasRendered&&le&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:H(this.renderTo,"width",!0)||0,height:H(this.renderTo,"height",!0)||0}}getChartSize(){let le=this.options.chart,pe=le.width,ge=le.height,ve=this.getContainerBox();this.chartWidth=Math.max(0,pe||ve.width||600),this.chartHeight=Math.max(0,J(ge,this.chartWidth)||(ve.height>1?ve.height:400)),this.containerBox=ve}temporaryDisplay(le){let pe=this.renderTo,ge;if(le)for(;pe&&pe.style;)pe.hcOrigStyle&&(F(pe,pe.hcOrigStyle),delete pe.hcOrigStyle),pe.hcOrigDetached&&(x.body.removeChild(pe),pe.hcOrigDetached=!1),pe=pe.parentNode;else for(;pe&&pe.style&&(x.body.contains(pe)||pe.parentNode||(pe.hcOrigDetached=!0,x.body.appendChild(pe)),(H(pe,"display",!1)==="none"||pe.hcOricDetached)&&(pe.hcOrigStyle={display:pe.style.display,height:pe.style.height,overflow:pe.style.overflow},ge={display:"block",overflow:"hidden"},pe!==this.renderTo&&(ge.height=0),F(pe,ge),pe.offsetWidth||pe.style.setProperty("display","block","important")),(pe=pe.parentNode)!==x.body););}setClassName(le){this.container.className="highcharts-container "+(le||"")}getContainer(){let le=this.options,pe=le.chart,ge="data-highcharts-chart",ve=he(),Se,je=this.renderTo;je||(this.renderTo=je=pe.renderTo),te(je)&&(this.renderTo=je=x.getElementById(je)),je||$(13,!0,this);let me=q(O(je,ge));z(me)&&j[me]&&j[me].hasRendered&&j[me].destroy(),O(je,ge,this.index),je.innerHTML=l.emptyHTML,pe.skipClone||je.offsetWidth||this.temporaryDisplay(),this.getChartSize();let we=this.chartHeight,xe=this.chartWidth;F(je,{overflow:"hidden",pointerEvents:h.isChrome?"fill":"auto"}),this.styledMode||(Se=P({position:"relative",overflow:"hidden",width:xe+"px",height:we+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},pe.style||{}));let oe=k("div",{id:ve},Se,je);this.container=oe,this.getChartSize(),xe===this.chartWidth||(xe=this.chartWidth,this.styledMode||F(oe,{width:Y(pe.style?.width,xe+"px")})),this.containerBox=this.getContainerBox(),this._cursor=oe.style.cursor;let ce=pe.renderer||!_?d.getRendererType(pe.renderer):n;if(this.renderer=new ce(oe,xe,we,void 0,pe.forExport,le.exporting&&le.exporting.allowHTML,this.styledMode),o(void 0,this),this.setClassName(pe.className),this.styledMode)for(let se in le.defs)this.renderer.definition(le.defs[se]);else this.renderer.setStyle(pe.style);this.renderer.chartIndex=this.index,D(this,"afterGetContainer")}getMargins(le){let{spacing:pe,margin:ge,titleOffset:ve}=this;this.resetMargins(),ve[0]&&!B(ge[0])&&(this.plotTop=Math.max(this.plotTop,ve[0]+pe[0])),ve[2]&&!B(ge[2])&&(this.marginBottom=Math.max(this.marginBottom,ve[2]+pe[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ge,pe),D(this,"getMargins"),le||this.getAxisMargins()}getAxisMargins(){let le=this,pe=le.axisOffset=[0,0,0,0],ge=le.colorAxis,ve=le.margin,Se=function(je){je.forEach(function(me){me.visible&&me.getOffset()})};le.hasCartesianSeries?Se(le.axes):ge&&ge.length&&Se(ge),T.forEach(function(je,me){B(ve[me])||(le[je]+=pe[me])}),le.setChartSize()}getOptions(){return L(this.userOptions,u)}reflow(le){let pe=this,ge=pe.containerBox,ve=pe.getContainerBox();delete pe.pointer?.chartPosition,!pe.isPrinting&&!pe.isResizing&&ge&&ve.width&&((ve.width!==ge.width||ve.height!==ge.height)&&(a.clearTimeout(pe.reflowTimeout),pe.reflowTimeout=ae(function(){pe.container&&pe.setSize(void 0,void 0,!1)},le?100:0)),pe.containerBox=ve)}setReflow(){let le=this,pe=ge=>{le.options?.chart.reflow&&le.hasLoaded&&le.reflow(ge)};if(typeof ResizeObserver=="function")new ResizeObserver(pe).observe(le.renderTo);else{let ge=S(M,"resize",pe);S(this,"destroy",ge)}}setSize(le,pe,ge){let ve=this,Se=ve.renderer;ve.isResizing+=1,o(ge,ve);let je=Se.globalAnimation;ve.oldChartHeight=ve.chartHeight,ve.oldChartWidth=ve.chartWidth,le!==void 0&&(ve.options.chart.width=le),pe!==void 0&&(ve.options.chart.height=pe),ve.getChartSize();let{chartWidth:me,chartHeight:we,scrollablePixelsX:xe=0,scrollablePixelsY:oe=0}=ve;(ve.isDirtyBox||me!==ve.oldChartWidth||we!==ve.oldChartHeight)&&(ve.styledMode||(je?r:F)(ve.container,{width:`${me+xe}px`,height:`${we+oe}px`},je),ve.setChartSize(!0),Se.setSize(me,we,je),ve.axes.forEach(function(ce){ce.isDirty=!0,ce.setScale()}),ve.isDirtyLegend=!0,ve.isDirtyBox=!0,ve.layOutTitles(),ve.getMargins(),ve.redraw(je),ve.oldChartHeight=void 0,D(ve,"resize"),setTimeout(()=>{ve&&D(ve,"endResize")},s(je).duration)),ve.isResizing-=1}setChartSize(le){let pe,ge,ve,Se,{chartHeight:je,chartWidth:me,inverted:we,spacing:xe,renderer:oe}=this,ce=this.clipOffset,se=Math[we?"floor":"round"];this.plotLeft=pe=Math.round(this.plotLeft),this.plotTop=ge=Math.round(this.plotTop),this.plotWidth=ve=Math.max(0,Math.round(me-pe-this.marginRight)),this.plotHeight=Se=Math.max(0,Math.round(je-ge-this.marginBottom)),this.plotSizeX=we?Se:ve,this.plotSizeY=we?ve:Se,this.spacingBox=oe.spacingBox={x:xe[3],y:xe[0],width:me-xe[3]-xe[1],height:je-xe[0]-xe[2]},this.plotBox=oe.plotBox={x:pe,y:ge,width:ve,height:Se},ce&&(this.clipBox={x:se(ce[3]),y:se(ce[0]),width:se(this.plotSizeX-ce[1]-ce[3]),height:se(this.plotSizeY-ce[0]-ce[2])}),le||(this.axes.forEach(function(fe){fe.setAxisSize(),fe.setAxisTranslation()}),oe.alignElements()),D(this,"afterSetChartSize",{skipAxes:le})}resetMargins(){D(this,"resetMargins");let le=this,pe=le.options.chart,ge=pe.plotBorderWidth||0,ve=ge/2;["margin","spacing"].forEach(function(Se){let je=pe[Se],me=W(je)?je:[je,je,je,je];["Top","Right","Bottom","Left"].forEach(function(we,xe){le[Se][xe]=Y(pe[Se+we],me[xe])})}),T.forEach(function(Se,je){le[Se]=Y(le.margin[je],le.spacing[je])}),le.axisOffset=[0,0,0,0],le.clipOffset=[ve,ve,ve,ve],le.plotBorderWidth=ge}drawChartBox(){let le=this.options.chart,pe=this.renderer,ge=this.chartWidth,ve=this.chartHeight,Se=this.styledMode,je=this.plotBGImage,me=le.backgroundColor,we=le.plotBackgroundColor,xe=le.plotBackgroundImage,oe=this.plotLeft,ce=this.plotTop,se=this.plotWidth,fe=this.plotHeight,ke=this.plotBox,Ee=this.clipRect,Pe=this.clipBox,Be=this.chartBackground,Ge=this.plotBackground,He=this.plotBorder,qe,et,Qe,Ye="animate";Be||(this.chartBackground=Be=pe.rect().addClass("highcharts-background").add(),Ye="attr"),Se?qe=et=Be.strokeWidth():(et=(qe=le.borderWidth||0)+(le.shadow?8:0),Qe={fill:me||"none"},(qe||Be["stroke-width"])&&(Qe.stroke=le.borderColor,Qe["stroke-width"]=qe),Be.attr(Qe).shadow(le.shadow)),Be[Ye]({x:et/2,y:et/2,width:ge-et-qe%2,height:ve-et-qe%2,r:le.borderRadius}),Ye="animate",Ge||(Ye="attr",this.plotBackground=Ge=pe.rect().addClass("highcharts-plot-background").add()),Ge[Ye](ke),!Se&&(Ge.attr({fill:we||"none"}).shadow(le.plotShadow),xe&&(je?(xe!==je.attr("href")&&je.attr("href",xe),je.animate(ke)):this.plotBGImage=pe.image(xe,oe,ce,se,fe).add())),Ee?Ee.animate({width:Pe.width,height:Pe.height}):this.clipRect=pe.clipRect(Pe),Ye="animate",He||(Ye="attr",this.plotBorder=He=pe.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Se||He.attr({stroke:le.plotBorderColor,"stroke-width":le.plotBorderWidth||0,fill:"none"}),He[Ye](He.crisp({x:oe,y:ce,width:se,height:fe},-He.strokeWidth())),this.isDirtyBox=!1,D(this,"afterDrawChartBox")}propFromSeries(){let le,pe,ge,ve=this,Se=ve.options.chart,je=ve.options.series;["inverted","angular","polar"].forEach(function(me){for(pe=p[Se.type],ge=Se[me]||pe&&pe.prototype[me],le=je&&je.length;!ge&&le--;)(pe=p[je[le].type])&&pe.prototype[me]&&(ge=!0);ve[me]=ge})}linkSeries(le){let pe=this,ge=pe.series;ge.forEach(function(ve){ve.linkedSeries.length=0}),ge.forEach(function(ve){let{linkedTo:Se}=ve.options;if(te(Se)){let je;(je=Se===":previous"?pe.series[ve.index-1]:pe.get(Se))&&je.linkedParent!==ve&&(je.linkedSeries.push(ve),ve.linkedParent=je,je.enabledDataSorting&&ve.setDataSortingOptions(),ve.visible=Y(ve.options.visible,je.options.visible,ve.visible))}}),D(this,"afterLinkSeries",{isUpdating:le})}renderSeries(){this.series.forEach(function(le){le.translate(),le.render()})}render(){let le=this.axes,pe=this.colorAxis,ge=this.renderer,ve=this.options.chart.axisLayoutRuns||2,Se=oe=>{oe.forEach(ce=>{ce.visible&&ce.render()})},je=0,me=!0,we,xe=0;for(let oe of(this.setTitle(),D(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),le)){let{options:ce}=oe,{labels:se}=ce;if(this.hasCartesianSeries&&oe.horiz&&oe.visible&&se.enabled&&oe.series.length&&oe.coll!=="colorAxis"&&!this.polar){je=ce.tickLength,oe.createGroups();let fe=new c(oe,0,"",!0),ke=fe.createLabel("x",se);if(fe.destroy(),ke&&Y(se.reserveSpace,!z(ce.crossing))&&(je=ke.getBBox().height+se.distance+Math.max(ce.offset||0,0)),je){ke?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-je,0);(me||we||ve>1)&&xe<ve;){let oe=this.plotWidth,ce=this.plotHeight;for(let se of le)xe===0?se.setScale():(se.horiz&&me||!se.horiz&&we)&&se.setTickInterval(!0);xe===0?this.getAxisMargins():this.getMargins(),me=oe/this.plotWidth>(xe?1:1.1),we=ce/this.plotHeight>(xe?1:1.05),xe++}this.drawChartBox(),this.hasCartesianSeries?Se(le):pe&&pe.length&&Se(pe),this.seriesGroup||(this.seriesGroup=ge.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(le){let pe=this,ge=V(!0,this.options.credits,le);ge.enabled&&!this.credits&&(this.credits=this.renderer.text(ge.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ge.href&&(M.location.href=ge.href)}).attr({align:ge.position.align,zIndex:8}),pe.styledMode||this.credits.css(ge.style),this.credits.add().align(ge.position),this.credits.update=function(ve){pe.credits=pe.credits.destroy(),pe.addCredits(ve)})}destroy(){let le,pe=this,ge=pe.axes,ve=pe.series,Se=pe.container,je=Se&&Se.parentNode;for(D(pe,"destroy"),pe.renderer.forExport?K(j,pe):j[pe.index]=void 0,h.chartCount--,pe.renderTo.removeAttribute("data-highcharts-chart"),re(pe),le=ge.length;le--;)ge[le]=ge[le].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),le=ve.length;le--;)ve[le]=ve[le].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(me){let we=pe[me];we&&we.destroy&&(pe[me]=we.destroy())}),Se&&(Se.innerHTML=l.emptyHTML,re(Se),je&&G(Se)),Z(pe,function(me,we){delete pe[we]})}firstRender(){let le=this,pe=le.options;le.getContainer(),le.resetMargins(),le.setChartSize(),le.propFromSeries(),le.getAxes();let ge=N(pe.series)?pe.series:[];pe.series=[],ge.forEach(function(ve){le.initSeries(ve)}),le.linkSeries(),le.setSortedData(),D(le,"beforeRender"),le.render(),le.pointer?.getChartPosition(),le.renderer.imgCount||le.hasLoaded||le.onload(),le.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(le){le&&this.index!==void 0&&le.apply(this,[this])},this),D(this,"load"),D(this,"render"),B(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:le,title:pe}=this;!le||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(pe&&pe.element.textContent||"").replace(/</g,"&lt;")}),le.accessibility&&le.accessibility.enabled===!1||$('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(le,pe,ge){let ve,Se=this;return le&&(pe=Y(pe,!0),D(Se,"addSeries",{options:le},function(){ve=Se.initSeries(le),Se.isDirtyLegend=!0,Se.linkSeries(),ve.enabledDataSorting&&ve.setData(le.data,!1),D(Se,"afterAddSeries",{series:ve}),pe&&Se.redraw(ge)})),ve}addAxis(le,pe,ge,ve){return this.createAxis(pe?"xAxis":"yAxis",{axis:le,redraw:ge,animation:ve})}addColorAxis(le,pe,ge){return this.createAxis("colorAxis",{axis:le,redraw:pe,animation:ge})}createAxis(le,pe){let ge=new X(this,pe.axis,le);return Y(pe.redraw,!0)&&this.redraw(pe.animation),ge}showLoading(le){let pe=this,ge=pe.options,ve=ge.loading,Se=function(){je&&F(je,{left:pe.plotLeft+"px",top:pe.plotTop+"px",width:pe.plotWidth+"px",height:pe.plotHeight+"px"})},je=pe.loadingDiv,me=pe.loadingSpan;je||(pe.loadingDiv=je=k("div",{className:"highcharts-loading highcharts-loading-hidden"},null,pe.container)),me||(pe.loadingSpan=me=k("span",{className:"highcharts-loading-inner"},null,je),S(pe,"redraw",Se)),je.className="highcharts-loading",l.setElementHTML(me,Y(le,ge.lang.loading,"")),pe.styledMode||(F(je,P(ve.style,{zIndex:10})),F(me,ve.labelStyle),pe.loadingShown||(F(je,{opacity:0,display:""}),r(je,{opacity:ve.style.opacity||.5},{duration:ve.showDuration||0}))),pe.loadingShown=!0,Se()}hideLoading(){let le=this.options,pe=this.loadingDiv;pe&&(pe.className="highcharts-loading highcharts-loading-hidden",this.styledMode||r(pe,{opacity:0},{duration:le.loading.hideDuration||100,complete:function(){F(pe,{display:"none"})}})),this.loadingShown=!1}update(le,pe,ge,ve){let Se,je,me,we=this,xe={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},oe=le.isResponsiveOptions,ce=[];D(we,"update",{options:le}),oe||we.setResponsive(!1,!0),le=L(le,we.options),we.userOptions=V(we.userOptions,le);let se=le.chart;se&&(V(!0,we.options.chart,se),this.setZoomOptions(),"className"in se&&we.setClassName(se.className),("inverted"in se||"polar"in se||"type"in se)&&(we.propFromSeries(),Se=!0),"alignTicks"in se&&(Se=!0),"events"in se&&E(this,se),Z(se,function(Ee,Pe){we.propsRequireUpdateSeries.indexOf("chart."+Pe)!==-1&&(je=!0),we.propsRequireDirtyBox.indexOf(Pe)!==-1&&(we.isDirtyBox=!0),we.propsRequireReflow.indexOf(Pe)===-1||(we.isDirtyBox=!0,oe||(me=!0))}),!we.styledMode&&se.style&&we.renderer.setStyle(we.options.chart.style||{})),!we.styledMode&&le.colors&&(this.options.colors=le.colors),le.time&&(this.time===f&&(this.time=new i(le.time)),V(!0,we.options.time,le.time)),Z(le,function(Ee,Pe){we[Pe]&&typeof we[Pe].update=="function"?we[Pe].update(Ee,!1):typeof we[xe[Pe]]=="function"?we[xe[Pe]](Ee):Pe!=="colors"&&we.collectionsWithUpdate.indexOf(Pe)===-1&&V(!0,we.options[Pe],le[Pe]),Pe!=="chart"&&we.propsRequireUpdateSeries.indexOf(Pe)!==-1&&(je=!0)}),this.collectionsWithUpdate.forEach(function(Ee){le[Ee]&&(ue(le[Ee]).forEach(function(Pe,Be){let Ge,He=B(Pe.id);He&&(Ge=we.get(Pe.id)),!Ge&&we[Ee]&&(Ge=we[Ee][Y(Pe.index,Be)])&&(He&&B(Ge.options.id)||Ge.options.isInternal)&&(Ge=void 0),Ge&&Ge.coll===Ee&&(Ge.update(Pe,!1),ge&&(Ge.touched=!0)),!Ge&&ge&&we.collectionsWithInit[Ee]&&(we.collectionsWithInit[Ee][0].apply(we,[Pe].concat(we.collectionsWithInit[Ee][1]||[]).concat([!1])).touched=!0)}),ge&&we[Ee].forEach(function(Pe){Pe.touched||Pe.options.isInternal?delete Pe.touched:ce.push(Pe)}))}),ce.forEach(function(Ee){Ee.chart&&Ee.remove&&Ee.remove(!1)}),Se&&we.axes.forEach(function(Ee){Ee.update({},!1)}),je&&we.getSeriesOrderByLinks().forEach(function(Ee){Ee.chart&&Ee.update({},!1)},this);let fe=se&&se.width,ke=se&&(te(se.height)?J(se.height,fe||we.chartWidth):se.height);me||z(fe)&&fe!==we.chartWidth||z(ke)&&ke!==we.chartHeight?we.setSize(fe,ke,ve):Y(pe,!0)&&we.redraw(ve),D(we,"afterUpdate",{options:le,redraw:pe,animation:ve})}setSubtitle(le,pe){this.applyDescription("subtitle",le),this.layOutTitles(pe)}setCaption(le,pe){this.applyDescription("caption",le),this.layOutTitles(pe)}showResetZoom(){let le=this,pe=u.lang,ge=le.zooming.resetButton,ve=ge.theme,Se=ge.relativeTo==="chart"||ge.relativeTo==="spacingBox"?null:"plotBox";function je(){le.zoomOut()}D(this,"beforeShowResetZoom",null,function(){le.resetZoomButton=le.renderer.button(pe.resetZoom,null,null,je,ve).attr({align:ge.position.align,title:pe.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ge.position,!1,Se)}),D(this,"afterShowResetZoom")}zoomOut(){D(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(le,pe){let ge=this,ve=typeof pe=="object"?pe:{enabled:pe,type:"x"},Se=ve.type,je=Se&&ge[{x:"xAxis",xy:"axes",y:"yAxis"}[Se]].filter(we=>we.options.panningEnabled&&!we.options.isInternal),me=ge.options.chart;me?.panning&&(me.panning=ve),D(this,"pan",{originalEvent:le},()=>{ge.transform({axes:je,event:le,to:{x:le.chartX-(ge.mouseDownX||0),y:le.chartY-(ge.mouseDownY||0)},trigger:"pan"}),F(ge.container,{cursor:"move"})})}transform(le){let{axes:pe=this.axes,event:ge,from:ve={},reset:Se,selection:je,to:me={},trigger:we}=le,{inverted:xe}=this,oe=!1,ce,se;for(let fe of(this.hoverPoints?.forEach(ke=>ke.setState()),pe)){let{horiz:ke,len:Ee,minPointOffset:Pe=0,options:Be,reversed:Ge}=fe,He=ke?"width":"height",qe=ke?"x":"y",et=Y(me[He],fe.len),Qe=Y(ve[He],fe.len),Ye=10>Math.abs(et)?1:et/Qe,nt=(ve[qe]||0)+Qe/2-fe.pos,Je=nt-((me[qe]??fe.pos)+et/2-fe.pos)/Ye,gt=Ge&&!xe||!Ge&&xe?-1:1;if(!Se&&(nt<0||nt>fe.len))continue;let pt=fe.toValue(Je,!0)+(je?0:Pe*gt),ft=fe.toValue(Je+Ee/Ye,!0)-(je?0:Pe*gt||0),lt=fe.allExtremes;if(pt>ft&&([pt,ft]=[ft,pt]),Ye===1&&!Se&&fe.coll==="yAxis"&&!lt){for(let Xe of fe.series){let Ze=Xe.getExtremes(Xe.getProcessedData(!0).yData,!0);lt??(lt={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),z(Ze.dataMin)&&z(Ze.dataMax)&&(lt.dataMin=Math.min(Ze.dataMin,lt.dataMin),lt.dataMax=Math.max(Ze.dataMax,lt.dataMax))}fe.allExtremes=lt}let{dataMin:xt,dataMax:ht,min:Ot,max:Et}=P(fe.getExtremes(),lt||{}),yt=xt??Be.min,Pt=ht??Be.max,cr=ft-pt,mr=fe.categories?0:Math.min(cr,Pt-yt),ur=yt-mr*(B(Be.min)?0:Be.minPadding),gr=Pt+mr*(B(Be.max)?0:Be.maxPadding),yr=fe.allowZoomOutside||Ye===1||we!=="zoom"&&Ye>1,er=Math.min(Be.min??ur,ur,yr?Ot:ur),Ae=Math.max(Be.max??gr,gr,yr?Et:gr);(!fe.isOrdinal||Ye!==1||Se)&&(pt<er&&(pt=er,Ye>=1&&(ft=pt+cr)),ft>Ae&&(ft=Ae,Ye>=1&&(pt=ft-cr)),(Se||fe.series.length&&(pt!==Ot||ft!==Et)&&pt>=er&&ft<=Ae)&&(je?je[fe.coll].push({axis:fe,min:pt,max:ft}):(fe.isPanning=we!=="zoom",fe.isPanning&&(se=!0),fe.setExtremes(Se?void 0:pt,Se?void 0:ft,!1,!1,{move:Je,trigger:we,scale:Ye}),!Se&&(pt>er||ft<Ae)&&we!=="mousewheel"&&(ce=!0)),oe=!0),ge&&(this[ke?"mouseDownX":"mouseDownY"]=ge[ke?"chartX":"chartY"]))}return oe&&(je?D(this,"selection",je,()=>{delete le.selection,le.trigger="zoom",this.transform(le)}):(!ce||se||this.resetZoomButton?!ce&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(we==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),oe}}return P(be.prototype,{callbacks:[],collectionsWithInit:{xAxis:[be.prototype.addAxis,[!0]],yAxis:[be.prototype.addAxis,[!1]],series:[be.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),be}),de(ee,"Extensions/ScrollablePlotArea.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Globals.js"],ee["Core/Renderer/RendererRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I,y){let{stop:b}=t,{composed:h}=X,{addEvent:d,createElement:v,css:m,defined:n,merge:i,pushUnique:a}=y;function l(){let s=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!s&&(this.scrollablePlotArea=s=new r(this)),s?.applyFixed()}function c(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class r{static compose(o,u,f){a(h,this.compose)&&(d(o,"afterInit",c),d(u,"afterSetChartSize",C=>this.afterSetSize(C.target,C)),d(u,"render",l),d(f,"show",c))}static afterSetSize(o,u){let f,C,E,{minWidth:j,minHeight:x}=o.options.chart.scrollablePlotArea||{},{clipBox:T,plotBox:_,inverted:M,renderer:p}=o;if(!p.forExport&&(j?(o.scrollablePixelsX=f=Math.max(0,j-o.chartWidth),f&&(o.scrollablePlotBox=i(o.plotBox),_.width=o.plotWidth+=f,T[M?"height":"width"]+=f,E=!0)):x&&(o.scrollablePixelsY=C=Math.max(0,x-o.chartHeight),n(C)&&(o.scrollablePlotBox=i(o.plotBox),_.height=o.plotHeight+=C,T[M?"width":"height"]+=C,E=!1)),n(E)&&!u.skipAxes))for(let S of o.axes)S.horiz===E&&(S.setAxisSize(),S.setAxisTranslation())}constructor(o){let u,f=o.options.chart,C=I.getRendererType(),E=f.scrollablePlotArea||{},j=this.moveFixedElements.bind(this),x={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};o.scrollablePixelsX&&(x.overflowX="auto"),o.scrollablePixelsY&&(x.overflowY="auto"),this.chart=o;let T=this.parentDiv=v("div",{className:"highcharts-scrolling-parent"},{position:"relative"},o.renderTo),_=this.scrollingContainer=v("div",{className:"highcharts-scrolling"},x,T),M=this.innerContainer=v("div",{className:"highcharts-inner-container"},void 0,_),p=this.fixedDiv=v("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(f.style?.zIndex||0)+2,top:0},void 0,!0),S=this.fixedRenderer=new C(p,o.chartWidth,o.chartHeight,f.style);this.mask=S.path().attr({fill:f.backgroundColor||"#fff","fill-opacity":E.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),_.parentNode.insertBefore(p,_),m(o.renderTo,{overflow:"visible"}),d(o,"afterShowResetZoom",j),d(o,"afterApplyDrilldown",j),d(o,"afterLayOutTitles",j),d(_,"scroll",()=>{let{pointer:O,hoverPoint:k}=o;O&&(delete O.chartPosition,k&&(u=k),O.runPointActions(void 0,u,!0))}),M.appendChild(o.container)}applyFixed(){let{chart:o,fixedRenderer:u,isDirty:f,scrollingContainer:C}=this,{axisOffset:E,chartWidth:j,chartHeight:x,container:T,plotHeight:_,plotLeft:M,plotTop:p,plotWidth:S,scrollablePixelsX:O=0,scrollablePixelsY:k=0}=o,{scrollPositionX:F=0,scrollPositionY:B=0}=o.options.chart.scrollablePlotArea||{},L=j+O,G=x+k;u.setSize(j,x),(f??!0)&&(this.isDirty=!1,this.moveFixedElements()),b(o.container),m(T,{width:`${L}px`,height:`${G}px`}),o.renderer.boxWrapper.attr({width:L,height:G,viewBox:[0,0,L,G].join(" ")}),o.chartBackground?.attr({width:L,height:G}),m(C,{width:`${j}px`,height:`${x}px`}),n(f)||(C.scrollLeft=O*F,C.scrollTop=k*B);let K=p-E[0]-1,$=M-E[3]-1,P=p+_+E[2]+1,w=M+S+E[1]+1,D=M+S-O,H=p+_-k,N=[["M",0,0]];O?N=[["M",0,K],["L",M-1,K],["L",M-1,P],["L",0,P],["Z"],["M",D,K],["L",j,K],["L",j,P],["L",D,P],["Z"]]:k&&(N=[["M",$,0],["L",$,p-1],["L",w,p-1],["L",w,0],["Z"],["M",$,H],["L",$,x],["L",w,x],["L",w,H],["Z"]]),o.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:N})}moveFixedElements(){let o,{container:u,inverted:f,scrollablePixelsX:C,scrollablePixelsY:E}=this.chart,j=this.fixedRenderer,x=r.fixedSelectors;for(let T of(C&&!f?o=".highcharts-yaxis":C&&f||E&&!f?o=".highcharts-xaxis":E&&f&&(o=".highcharts-yaxis"),o&&x.push(`${o}:not(.highcharts-radial-axis)`,`${o}-labels:not(.highcharts-radial-axis-labels)`),x))[].forEach.call(u.querySelectorAll(T),_=>{(_.namespaceURI===j.SVG_NS?j.box:j.box.parentNode).appendChild(_),_.style.pointerEvents="auto"})}}return r.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],r}),de(ee,"Core/Axis/Stacking/StackItem.js",[ee["Core/Templating.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I){let{format:y}=t,{series:b}=X,{destroyObjectProperties:h,fireEvent:d,isNumber:v,pick:m}=I;return class{constructor(n,i,a,l,c){let r=n.chart.inverted,s=n.reversed;this.axis=n;let o=this.isNegative=!!a!=!!s;this.options=i=i||{},this.x=l,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=c,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:i.align||(r?o?"left":"right":"center"),verticalAlign:i.verticalAlign||(r?"middle":o?"bottom":"top"),y:i.y,x:i.x},this.textAlign=i.textAlign||(r?o?"right":"left":"center")}destroy(){h(this,this.axis)}render(n){let i=this.axis.chart,a=this.options,l=a.format,c=l?y(l,this,i):a.formatter.call(this);if(this.label)this.label.attr({text:c,visibility:"hidden"});else{this.label=i.renderer.label(c,null,void 0,a.shape,void 0,void 0,a.useHTML,!1,"stack-labels");let r={r:a.borderRadius||0,text:c,padding:m(a.padding,5),visibility:"hidden"};i.styledMode||(r.fill=a.backgroundColor,r.stroke=a.borderColor,r["stroke-width"]=a.borderWidth,this.label.css(a.style||{})),this.label.attr(r),this.label.added||this.label.add(n)}this.label.labelrank=i.plotSizeY,d(this,"afterRender")}setOffset(n,i,a,l,c,r){let{alignOptions:s,axis:o,label:u,options:f,textAlign:C}=this,E=o.chart,j=this.getStackBox({xOffset:n,width:i,boxBottom:a,boxTop:l,defaultX:c,xAxis:r}),{verticalAlign:x}=s;if(u&&j){let T=u.getBBox(void 0,0),_=u.padding,M=m(f.overflow,"justify")==="justify",p;s.x=f.x||0,s.y=f.y||0;let{x:S,y:O}=this.adjustStackPosition({labelBox:T,verticalAlign:x,textAlign:C});j.x-=S,j.y-=O,u.align(s,!1,j),(p=E.isInsidePlot(u.alignAttr.x+s.x+S,u.alignAttr.y+s.y+O))||(M=!1),M&&b.prototype.justifyDataLabel.call(o,u,s,u.alignAttr,T,j),u.attr({x:u.alignAttr.x,y:u.alignAttr.y,rotation:f.rotation,rotationOriginX:T.width*{left:0,center:.5,right:1}[f.textAlign||"center"],rotationOriginY:T.height/2}),m(!M&&f.crop,!0)&&(p=v(u.x)&&v(u.y)&&E.isInsidePlot(u.x-_+(u.width||0),u.y)&&E.isInsidePlot(u.x+_,u.y)),u[p?"show":"hide"]()}d(this,"afterSetOffset",{xOffset:n,width:i})}adjustStackPosition({labelBox:n,verticalAlign:i,textAlign:a}){let l={bottom:0,middle:1,top:2,right:1,center:0,left:-1},c=l[i],r=l[a];return{x:n.width/2+n.width/2*r,y:n.height/2*c}}getStackBox(n){let i=this.axis,a=i.chart,{boxTop:l,defaultX:c,xOffset:r,width:s,boxBottom:o}=n,u=i.stacking.usePercentage?100:m(l,this.total,0),f=i.toPixels(u),C=n.xAxis||a.xAxis[0],E=m(c,C.translate(this.x))+r,j=Math.abs(f-i.toPixels(o||v(i.min)&&i.logarithmic&&i.logarithmic.lin2log(i.min)||0)),x=a.inverted,T=this.isNegative;return x?{x:(T?f:f-j)-a.plotLeft,y:C.height-E-s+C.top-a.plotTop,width:j,height:s}:{x:E+C.transB-a.plotLeft,y:(T?f-j:f)-a.plotTop,width:s,height:j}}}}),de(ee,"Core/Axis/Stacking/StackingAxis.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Axis/Axis.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Axis/Stacking/StackItem.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b){var h;let{getDeferredAnimation:d}=t,{series:{prototype:v}}=I,{addEvent:m,correctFloat:n,defined:i,destroyObjectProperties:a,fireEvent:l,isArray:c,isNumber:r,objectEach:s,pick:o}=b;function u(){let p=this.inverted;this.axes.forEach(S=>{S.stacking&&S.stacking.stacks&&S.hasVisibleSeries&&(S.stacking.oldStacks=S.stacking.stacks)}),this.series.forEach(S=>{let O=S.xAxis&&S.xAxis.options||{};S.options.stacking&&S.reserveSpace()&&(S.stackKey=[S.type,o(S.options.stack,""),p?O.top:O.left,p?O.height:O.width].join(","))})}function f(){let p=this.stacking;if(p){let S=p.stacks;s(S,(O,k)=>{a(O),delete S[k]}),p.stackTotalGroup?.destroy()}}function C(){this.stacking||(this.stacking=new M(this))}function E(p,S,O,k){return!i(p)||p.x!==S||k&&p.stackKey!==k?p={x:S,index:0,key:k,stackKey:k}:p.index++,p.key=[O,S,p.index].join(","),p}function j(){let p,S=this,O=S.yAxis,k=S.stackKey||"",F=O.stacking.stacks,B=S.processedXData,L=S.options.stacking,G=S[L+"Stacker"];G&&[k,"-"+k].forEach(K=>{let $=B.length,P,w,D;for(;$--;)P=B[$],p=S.getStackIndicator(p,P,S.index,K),w=F[K]?.[P],(D=w?.points[p.key||""])&&G.call(S,D,w,$)})}function x(p,S,O){let k=S.total?100/S.total:0;p[0]=n(p[0]*k),p[1]=n(p[1]*k),this.stackedYData[O]=p[1]}function T(p){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?v.setStackedPoints.call(this,p,"group"):p.stacking.resetStacks())}function _(p,S){let O,k,F,B,L,G,K,$,P,w=S||this.options.stacking;if(!w||!this.reserveSpace()||({group:"xAxis"}[w]||"yAxis")!==p.coll)return;let D=this.processedXData,H=this.processedYData,N=[],z=H.length,W=this.options,te=W.threshold||0,V=W.startFromThreshold?te:0,Z=W.stack,Y=S?`${this.type},${w}`:this.stackKey||"",q="-"+Y,J=this.negStacks,re=p.stacking,ue=re.stacks,ae=re.oldStacks;for(re.stacksTouched+=1,K=0;K<z;K++){$=D[K],P=H[K],G=(O=this.getStackIndicator(O,$,this.index)).key||"",ue[L=(k=J&&P<(V?0:te))?q:Y]||(ue[L]={}),ue[L][$]||(ae[L]?.[$]?(ue[L][$]=ae[L][$],ue[L][$].total=null):ue[L][$]=new y(p,p.options.stackLabels,!!k,$,Z)),F=ue[L][$],P!==null?(F.points[G]=F.points[this.index]=[o(F.cumulative,V)],i(F.cumulative)||(F.base=G),F.touched=re.stacksTouched,O.index>0&&this.singleStacks===!1&&(F.points[G][0]=F.points[this.index+","+$+",0"][0])):(delete F.points[G],delete F.points[this.index]);let he=F.total||0;w==="percent"?(B=k?Y:q,he=J&&ue[B]?.[$]?(B=ue[B][$]).total=Math.max(B.total||0,he)+Math.abs(P)||0:n(he+(Math.abs(P)||0))):w==="group"?(c(P)&&(P=P[0]),P!==null&&he++):he=n(he+(P||0)),w==="group"?F.cumulative=(he||1)-1:F.cumulative=n(o(F.cumulative,V)+(P||0)),F.total=he,P!==null&&(F.points[G].push(F.cumulative),N[K]=F.cumulative,F.hasValidPoints=!0)}w==="percent"&&(re.usePercentage=!0),w!=="group"&&(this.stackedYData=N),re.oldStacks={}}class M{constructor(S){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=S}buildStacks(){let S,O,k=this.axis,F=k.series,B=k.coll==="xAxis",L=k.options.reversedStacks,G=F.length;for(this.resetStacks(),this.usePercentage=!1,O=G;O--;)S=F[L?O:G-O-1],B&&S.setGroupedPoints(k),S.setStackedPoints(k);if(!B)for(O=0;O<G;O++)F[O].modifyStacks();l(k,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,s(this.stacks,S=>{s(S,O=>{O.cumulative=O.total})}))}resetStacks(){s(this.stacks,S=>{s(S,(O,k)=>{r(O.touched)&&O.touched<this.stacksTouched?(O.destroy(),delete S[k]):(O.total=null,O.cumulative=null)})})}renderStackTotals(){let S=this.axis,O=S.chart,k=O.renderer,F=this.stacks,B=d(O,S.options.stackLabels?.animation||!1),L=this.stackTotalGroup=this.stackTotalGroup||k.g("stack-labels").attr({zIndex:6,opacity:0}).add();L.translate(O.plotLeft,O.plotTop),s(F,G=>{s(G,K=>{K.render(L)})}),L.animate({opacity:1},B)}}return(h||(h={})).compose=function(p,S,O){let k=S.prototype,F=O.prototype;k.getStacks||(m(p,"init",C),m(p,"destroy",f),k.getStacks=u,F.getStackIndicator=E,F.modifyStacks=j,F.percentStacker=x,F.setGroupedPoints=T,F.setStackedPoints=_)},h}),de(ee,"Series/Line/LineSeries.js",[ee["Core/Series/Series.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I){let{defined:y,merge:b,isObject:h}=I;class d extends t{drawGraph(){let m=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=this.chart.styledMode;[this,...this.zones].forEach((a,l)=>{let c,r=a.graph,s=r?"animate":"attr",o=a.dashStyle||m.dashStyle;r?(r.endX=this.preventGraphAnimation?null:n.xMap,r.animate({d:n})):n.length&&(a.graph=r=this.chart.renderer.path(n).addClass("highcharts-graph"+(l?` highcharts-zone-graph-${l-1} `:" ")+(l&&a.className||"")).attr({zIndex:1}).add(this.group)),r&&!i&&(c={stroke:!l&&m.lineColor||a.color||this.color||"#cccccc","stroke-width":m.lineWidth||0,fill:this.fillGraph&&this.color||"none"},o?c.dashstyle=o:m.linecap!=="square"&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),r[s](c).shadow(l<2&&m.shadow&&b({filterUnits:"userSpaceOnUse"},h(m.shadow)?m.shadow:{}))),r&&(r.startX=n.xMap,r.isArea=n.isArea)})}getGraphPath(m,n,i){let a=this,l=a.options,c=[],r=[],s,o=l.step,u=(m=m||a.points).reversed;return u&&m.reverse(),(o={right:1,center:2}[o]||o&&3)&&u&&(o=4-o),(m=this.getValidPoints(m,!1,!(l.connectNulls&&!n&&!i))).forEach(function(f,C){let E,j=f.plotX,x=f.plotY,T=m[C-1],_=f.isNull||typeof x!="number";(f.leftCliff||T&&T.rightCliff)&&!i&&(s=!0),_&&!y(n)&&C>0?s=!l.connectNulls:_&&!n?s=!0:(C===0||s?E=[["M",f.plotX,f.plotY]]:a.getPointSpline?E=[a.getPointSpline(m,f,C)]:o?(E=o===1?[["L",T.plotX,x]]:o===2?[["L",(T.plotX+j)/2,T.plotY],["L",(T.plotX+j)/2,x]]:[["L",j,T.plotY]]).push(["L",j,x]):E=[["L",j,x]],r.push(f.x),o&&(r.push(f.x),o===2&&r.push(f.x)),c.push.apply(c,E),s=!1)}),c.xMap=r,a.graphPath=c,c}}return d.defaultOptions=b(t.defaultOptions,{legendSymbol:"lineMarker"}),X.registerSeriesType("line",d),d}),de(ee,"Series/Area/AreaSeriesDefaults.js",[],function(){return{threshold:0,legendSymbol:"areaMarker"}}),de(ee,"Series/Area/AreaSeries.js",[ee["Series/Area/AreaSeriesDefaults.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I){let{seriesTypes:{line:y}}=X,{extend:b,merge:h,objectEach:d,pick:v}=I;class m extends y{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:i,options:a}=this;[this,...this.zones].forEach((l,c)=>{let r={},s=l.fillColor||a.fillColor,o=l.area,u=o?"animate":"attr";o?(o.endX=this.preventGraphAnimation?null:i.xMap,o.animate({d:i})):(r.zIndex=0,(o=l.area=this.chart.renderer.path(i).addClass("highcharts-area"+(c?` highcharts-zone-area-${c-1} `:" ")+(c&&l.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(r.fill=s||l.color||this.color,r["fill-opacity"]=s?1:a.fillOpacity??.75,o.css({pointerEvents:this.stickyTracking?"none":"auto"})),o[u](r),o.startX=i.xMap,o.shiftUnit=a.step?2:1})}getGraphPath(i){let a,l,c,r=y.prototype.getGraphPath,s=this.options,o=s.stacking,u=this.yAxis,f=[],C=[],E=this.index,j=u.stacking.stacks[this.stackKey],x=s.threshold,T=Math.round(u.getThreshold(s.threshold)),_=v(s.connectNulls,o==="percent"),M=function(B,L,G){let K=i[B],$=o&&j[K.x].points[E],P=K[G+"Null"]||0,w=K[G+"Cliff"]||0,D,H,N=!0;w||P?(D=(P?$[0]:$[1])+w,H=$[0]+w,N=!!P):!o&&i[L]&&i[L].isNull&&(D=H=x),D!==void 0&&(C.push({plotX:a,plotY:D===null?T:u.getThreshold(D),isNull:N,isCliff:!0}),f.push({plotX:a,plotY:H===null?T:u.getThreshold(H),doCurve:!1}))};i=i||this.points,o&&(i=this.getStackPoints(i));for(let B=0,L=i.length;B<L;++B)o||(i[B].leftCliff=i[B].rightCliff=i[B].leftNull=i[B].rightNull=void 0),l=i[B].isNull,a=v(i[B].rectPlotX,i[B].plotX),c=o?v(i[B].yBottom,T):T,l&&!_||(_||M(B,B-1,"left"),l&&!o&&_||(C.push(i[B]),f.push({x:B,plotX:a,plotY:c})),_||M(B,B+1,"right"));let p=r.call(this,C,!0,!0);f.reversed=!0;let S=r.call(this,f,!0,!0),O=S[0];O&&O[0]==="M"&&(S[0]=["L",O[1],O[2]]);let k=p.concat(S);k.length&&k.push(["Z"]);let F=r.call(this,C,!1,_);return this.chart.series.length>1&&o&&C.some(B=>B.isCliff)&&(k.hasStackedCliffs=F.hasStackedCliffs=!0),k.xMap=p.xMap,this.areaPath=k,F}getStackPoints(i){let a=this,l=[],c=[],r=this.xAxis,s=this.yAxis,o=s.stacking.stacks[this.stackKey],u={},f=s.series,C=f.length,E=s.options.reversedStacks?1:-1,j=f.indexOf(a);if(i=i||this.points,this.options.stacking){for(let T=0;T<i.length;T++)i[T].leftNull=i[T].rightNull=void 0,u[i[T].x]=i[T];d(o,function(T,_){T.total!==null&&c.push(_)}),c.sort(function(T,_){return T-_});let x=f.map(T=>T.visible);c.forEach(function(T,_){let M=0,p,S;if(u[T]&&!u[T].isNull)l.push(u[T]),[-1,1].forEach(function(O){let k=O===1?"rightNull":"leftNull",F=o[c[_+O]],B=0;if(F){let L=j;for(;L>=0&&L<C;){let G=f[L].index;!(p=F.points[G])&&(G===a.index?u[T][k]=!0:x[L]&&(S=o[T].points[G])&&(B-=S[1]-S[0])),L+=E}}u[T][O===1?"rightCliff":"leftCliff"]=B});else{let O=j;for(;O>=0&&O<C;){let k=f[O].index;if(p=o[T].points[k]){M=p[1];break}O+=E}M=v(M,0),M=s.translate(M,0,1,0,1),l.push({isNull:!0,plotX:r.translate(T,0,0,0,1),x:T,plotY:M,yBottom:M})}})}return l}}return m.defaultOptions=h(y.defaultOptions,t),b(m.prototype,{singleStacks:!1}),X.registerSeriesType("area",m),m}),de(ee,"Series/Spline/SplineSeries.js",[ee["Core/Series/SeriesRegistry.js"],ee["Core/Utilities.js"]],function(t,X){let{line:I}=t.seriesTypes,{merge:y,pick:b}=X;class h extends I{getPointSpline(v,m,n){let i,a,l,c,r=m.plotX||0,s=m.plotY||0,o=v[n-1],u=v[n+1];function f(E){return E&&!E.isNull&&E.doCurve!==!1&&!m.isCliff}if(f(o)&&f(u)){let E=o.plotX||0,j=o.plotY||0,x=u.plotX||0,T=u.plotY||0,_=0;i=(1.5*r+E)/2.5,a=(1.5*s+j)/2.5,l=(1.5*r+x)/2.5,c=(1.5*s+T)/2.5,l!==i&&(_=(c-a)*(l-r)/(l-i)+s-c),a+=_,c+=_,a>j&&a>s?(a=Math.max(j,s),c=2*s-a):a<j&&a<s&&(a=Math.min(j,s),c=2*s-a),c>T&&c>s?(c=Math.max(T,s),a=2*s-c):c<T&&c<s&&(c=Math.min(T,s),a=2*s-c),m.rightContX=l,m.rightContY=c,m.controlPoints={low:[i,a],high:[l,c]}}let C=["C",b(o.rightContX,o.plotX,0),b(o.rightContY,o.plotY,0),b(i,r,0),b(a,s,0),r,s];return o.rightContX=o.rightContY=void 0,C}}return h.defaultOptions=y(I.defaultOptions),t.registerSeriesType("spline",h),h}),de(ee,"Series/AreaSpline/AreaSplineSeries.js",[ee["Series/Spline/SplineSeries.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I){let{area:y,area:{prototype:b}}=X.seriesTypes,{extend:h,merge:d}=I;class v extends t{}return v.defaultOptions=d(t.defaultOptions,y.defaultOptions),h(v.prototype,{getGraphPath:b.getGraphPath,getStackPoints:b.getStackPoints,drawGraph:b.drawGraph}),X.registerSeriesType("areaspline",v),v}),de(ee,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),de(ee,"Series/Column/ColumnSeries.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Color/Color.js"],ee["Series/Column/ColumnSeriesDefaults.js"],ee["Core/Globals.js"],ee["Core/Series/Series.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b,h,d){let{animObject:v}=t,{parse:m}=X,{noop:n}=y,{clamp:i,crisp:a,defined:l,extend:c,fireEvent:r,isArray:s,isNumber:o,merge:u,pick:f,objectEach:C}=d;class E extends b{animate(x){let T,_,M=this,p=this.yAxis,S=p.pos,O=p.reversed,k=M.options,{clipOffset:F,inverted:B}=this.chart,L={},G=B?"translateX":"translateY";x&&F?(L.scaleY=.001,_=i(p.toPixels(k.threshold),S,S+p.len),B?(_+=O?-Math.floor(F[0]):Math.ceil(F[2]),L.translateX=_-p.len):(_+=O?Math.ceil(F[0]):-Math.floor(F[2]),L.translateY=_),M.clipBox&&M.setClip(),M.group.attr(L)):(T=Number(M.group.attr(G)),M.group.animate({scaleY:1},c(v(M.options.animation),{step:function(K,$){M.group&&(L[G]=T+$.pos*(S-T),M.group.attr(L))}})))}init(x,T){super.init.apply(this,arguments);let _=this;(x=_.chart).hasRendered&&x.series.forEach(function(M){M.type===_.type&&(M.isDirty=!0)})}getColumnMetrics(){let x=this,T=x.options,_=x.xAxis,M=x.yAxis,p=_.options.reversedStacks,S=_.reversed&&!p||!_.reversed&&p,O={},k,F=0;T.grouping===!1?F=1:x.chart.series.forEach(function(P){let w,D=P.yAxis,H=P.options;P.type===x.type&&P.reserveSpace()&&M.len===D.len&&M.pos===D.pos&&(H.stacking&&H.stacking!=="group"?(O[k=P.stackKey]===void 0&&(O[k]=F++),w=O[k]):H.grouping!==!1&&(w=F++),P.columnIndex=w)});let B=Math.min(Math.abs(_.transA)*(!_.brokenAxis?.hasBreaks&&_.ordinal?.slope||T.pointRange||_.closestPointRange||_.tickInterval||1),_.len),L=B*T.groupPadding,G=(B-2*L)/(F||1),K=Math.min(T.maxPointWidth||_.len,f(T.pointWidth,G*(1-2*T.pointPadding))),$=(x.columnIndex||0)+(S?1:0);return x.columnMetrics={width:K,offset:(G-K)/2+(L+$*G-B/2)*(S?-1:1),paddedWidth:G,columnCount:F},x.columnMetrics}crispCol(x,T,_,M){let p=this.borderWidth,S=this.chart.inverted;return M=a(T+M,p,S)-(T=a(T,p,S)),this.options.crisp&&(_=a(x+_,p)-(x=a(x,p))),{x,y:T,width:_,height:M}}adjustForMissingColumns(x,T,_,M){if(!_.isNull&&M.columnCount>1){let p=this.xAxis.series.filter(F=>F.visible).map(F=>F.index),S=0,O=0;C(this.xAxis.stacking?.stacks,F=>{if(typeof _.x=="number"){let B=F[_.x.toString()];if(B&&s(B.points[this.index])){let L=Object.keys(B.points).filter(G=>!G.match(",")&&B.points[G]&&B.points[G].length>1).map(parseFloat).filter(G=>p.indexOf(G)!==-1).sort((G,K)=>K-G);S=L.indexOf(this.index),O=L.length}}}),S=this.xAxis.reversed?O-1-S:S;let k=(O-1)*M.paddedWidth+T;x=(_.plotX||0)+k/2-T-S*M.paddedWidth}return x}translate(){let x=this,T=x.chart,_=x.options,M=x.dense=x.closestPointRange*x.xAxis.transA<2,p=x.borderWidth=f(_.borderWidth,M?0:1),S=x.xAxis,O=x.yAxis,k=_.threshold,F=f(_.minPointLength,5),B=x.getColumnMetrics(),L=B.width,G=x.pointXOffset=B.offset,K=x.dataMin,$=x.dataMax,P=x.translatedThreshold=O.getThreshold(k),w=x.barW=Math.max(L,1+2*p);_.pointPadding&&(w=Math.ceil(w)),b.prototype.translate.apply(x),x.points.forEach(function(D){let H=f(D.yBottom,P),N=999+Math.abs(H),z=D.plotX||0,W=i(D.plotY,-N,O.len+N),te,V=Math.min(W,H),Z=Math.max(W,H)-V,Y=L,q=z+G,J=w;F&&Math.abs(Z)<F&&(Z=F,te=!O.reversed&&!D.negative||O.reversed&&D.negative,o(k)&&o($)&&D.y===k&&$<=k&&(O.min||0)<k&&(K!==$||(O.max||0)<=k)&&(te=!te,D.negative=!D.negative),V=Math.abs(V-P)>F?H-F:P-(te?F:0)),l(D.options.pointWidth)&&(q-=Math.round(((Y=J=Math.ceil(D.options.pointWidth))-L)/2)),_.centerInCategory&&!_.stacking&&(q=x.adjustForMissingColumns(q,Y,D,B)),D.barX=q,D.pointWidth=Y,D.tooltipPos=T.inverted?[i(O.len+O.pos-T.plotLeft-W,O.pos-T.plotLeft,O.len+O.pos-T.plotLeft),S.len+S.pos-T.plotTop-q-J/2,Z]:[S.left-T.plotLeft+q+J/2,i(W+O.pos-T.plotTop,O.pos-T.plotTop,O.len+O.pos-T.plotTop),Z],D.shapeType=x.pointClass.prototype.shapeType||"roundedRect",D.shapeArgs=x.crispCol(q,D.isNull?P:V,J,D.isNull?0:Z)}),r(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(x,T){let _=this.options,M=this.pointAttrToOptions||{},p=M.stroke||"borderColor",S=M["stroke-width"]||"borderWidth",O,k,F,B=x&&x.color||this.color,L=x&&x[p]||_[p]||B,G=x&&x.options.dashStyle||_.dashStyle,K=x&&x[S]||_[S]||this[S]||0,$=f(x&&x.opacity,_.opacity,1);x&&this.zones.length&&(k=x.getZone(),B=x.options.color||k&&(k.color||x.nonZonedColor)||this.color,k&&(L=k.borderColor||L,G=k.dashStyle||G,K=k.borderWidth||K)),T&&x&&(F=(O=u(_.states[T],x.options.states&&x.options.states[T]||{})).brightness,B=O.color||F!==void 0&&m(B).brighten(O.brightness).get()||B,L=O[p]||L,K=O[S]||K,G=O.dashStyle||G,$=f(O.opacity,$));let P={fill:B,stroke:L,"stroke-width":K,opacity:$};return G&&(P.dashstyle=G),P}drawPoints(x=this.points){let T,_=this,M=this.chart,p=_.options,S=M.renderer,O=p.animationLimit||250;x.forEach(function(k){let F=k.plotY,B=k.graphic,L=!!B,G=B&&M.pointCount<O?"animate":"attr";o(F)&&k.y!==null?(T=k.shapeArgs,B&&k.hasNewShapeType()&&(B=B.destroy()),_.enabledDataSorting&&(k.startXPos=_.xAxis.reversed?-(T&&T.width||0):_.xAxis.width),!B&&(k.graphic=B=S[k.shapeType](T).add(k.group||_.group),B&&_.enabledDataSorting&&M.hasRendered&&M.pointCount<O&&(B.attr({x:k.startXPos}),L=!0,G="animate")),B&&L&&B[G](u(T)),M.styledMode||B[G](_.pointAttribs(k,k.selected&&"select")).shadow(k.allowShadow!==!1&&p.shadow),B&&(B.addClass(k.getClassName(),!0),B.attr({visibility:k.visible?"inherit":"hidden"}))):B&&(k.graphic=B.destroy())})}drawTracker(x=this.points){let T,_=this,M=_.chart,p=M.pointer,S=function(O){let k=p?.getPointFromEvent(O);p&&k&&_.options.enableMouseTracking&&(p.isDirectTouch=!0,k.onMouseOver(O))};x.forEach(function(O){T=s(O.dataLabels)?O.dataLabels:O.dataLabel?[O.dataLabel]:[],O.graphic&&(O.graphic.element.point=O),T.forEach(function(k){(k.div||k.element).point=O})}),_._hasTracking||(_.trackerGroups.forEach(function(O){_[O]&&(_[O].addClass("highcharts-tracker").on("mouseover",S).on("mouseout",function(k){p?.onTrackerMouseOut(k)}).on("touchstart",S),!M.styledMode&&_.options.cursor&&_[O].css({cursor:_.options.cursor}))}),_._hasTracking=!0),r(this,"afterDrawTracker")}remove(){let x=this,T=x.chart;T.hasRendered&&T.series.forEach(function(_){_.type===x.type&&(_.isDirty=!0)}),b.prototype.remove.apply(x,arguments)}}return E.defaultOptions=u(b.defaultOptions,I),c(E.prototype,{directTouch:!0,getSymbol:n,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),h.registerSeriesType("column",E),E}),de(ee,"Core/Series/DataLabel.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Templating.js"],ee["Core/Utilities.js"]],function(t,X,I){var y;let{getDeferredAnimation:b}=t,{format:h}=X,{defined:d,extend:v,fireEvent:m,isArray:n,isString:i,merge:a,objectEach:l,pick:c,pInt:r,splat:s}=I;return function(o){function u(){return _(this).some(p=>p?.enabled)}function f(p,S,O,k,F){let{chart:B,enabledDataSorting:L}=this,G=this.isCartesian&&B.inverted,K=p.plotX,$=p.plotY,P=O.rotation||0,w=d(K)&&d($)&&B.isInsidePlot(K,Math.round($),{inverted:G,paneCoordinates:!0,series:this}),D=P===0&&c(O.overflow,L?"none":"justify")==="justify",H=this.visible&&p.visible!==!1&&d(K)&&(p.series.forceDL||L&&!D||w||c(O.inside,!!this.options.stacking)&&k&&B.isInsidePlot(K,G?k.x+1:k.y+k.height-1,{inverted:G,paneCoordinates:!0,series:this})),N=p.pos();if(H&&N){var z;let W=S.getBBox(),te=S.getBBox(void 0,0),V={right:1,center:.5}[O.align||0]||0,Z={bottom:1,middle:.5}[O.verticalAlign||0]||0;if(k=v({x:N[0],y:Math.round(N[1]),width:0,height:0},k||{}),O.alignTo==="plotEdges"&&this.isCartesian&&(k[G?"x":"y"]=0,k[G?"width":"height"]=this.yAxis?.len||0),v(O,{width:W.width,height:W.height}),z=k,L&&this.xAxis&&!D&&this.setDataLabelStartPos(p,S,F,w,z),S.align(a(O,{width:te.width,height:te.height}),!1,k,!1),S.alignAttr.x+=V*(te.width-W.width),S.alignAttr.y+=Z*(te.height-W.height),S[S.placed?"animate":"attr"]({x:S.alignAttr.x+(W.width-te.width)/2,y:S.alignAttr.y+(W.height-te.height)/2,rotationOriginX:(S.width||0)/2,rotationOriginY:(S.height||0)/2}),D&&k.height>=0)this.justifyDataLabel(S,O,S.alignAttr,W,k,F);else if(c(O.crop,!0)){let{x:Y,y:q}=S.alignAttr;H=B.isInsidePlot(Y,q,{paneCoordinates:!0,series:this})&&B.isInsidePlot(Y+W.width-1,q+W.height-1,{paneCoordinates:!0,series:this})}O.shape&&!P&&S[F?"attr":"animate"]({anchorX:N[0],anchorY:N[1]})}F&&L&&(S.placed=!1),H||L&&!D?(S.show(),S.placed=!0):(S.hide(),S.placed=!1)}function C(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function E(p){let S=this.hasRendered||0,O=this.initDataLabelsGroup().attr({opacity:+S});return!S&&O&&(this.visible&&O.show(),this.options.animation?O.animate({opacity:1},p):O.attr({opacity:1})),O}function j(p){let S;p=p||this.points;let O=this,k=O.chart,F=O.options,B=k.renderer,{backgroundColor:L,plotBackgroundColor:G}=k.options.chart,K=B.getContrast(i(G)&&G||i(L)&&L||"#000000"),$=_(O),{animation:P,defer:w}=$[0],D=w?b(k,P,O):{defer:0,duration:0};m(this,"drawDataLabels"),O.hasDataLabels?.()&&(S=this.initDataLabels(D),p.forEach(H=>{let N=H.dataLabels||[];s(T($,H.dlOptions||H.options?.dataLabels)).forEach((W,te)=>{let V=W.enabled&&(H.visible||H.dataLabelOnHidden)&&(!H.isNull||H.dataLabelOnNull)&&function(ge,ve){let Se=ve.filter;if(Se){let je=Se.operator,me=ge[Se.property],we=Se.value;return je===">"&&me>we||je==="<"&&me<we||je===">="&&me>=we||je==="<="&&me<=we||je==="=="&&me==we||je==="==="&&me===we||je==="!="&&me!=we||je==="!=="&&me!==we}return!0}(H,W),{backgroundColor:Z,borderColor:Y,distance:q,style:J={}}=W,re,ue,ae,he,be={},Me=N[te],le=!Me,pe;V&&(ue=c(W[H.formatPrefix+"Format"],W.format),re=H.getLabelConfig(),ae=d(ue)?h(ue,re,k):(W[H.formatPrefix+"Formatter"]||W.formatter).call(re,W),he=W.rotation,!k.styledMode&&(J.color=c(W.color,J.color,i(O.color)?O.color:void 0,"#000000"),J.color==="contrast"?(Z!=="none"&&(pe=Z),H.contrastColor=B.getContrast(pe!=="auto"&&pe||H.color||O.color),J.color=pe||!d(q)&&W.inside||0>r(q||0)||F.stacking?H.contrastColor:K):delete H.contrastColor,F.cursor&&(J.cursor=F.cursor)),be={r:W.borderRadius||0,rotation:he,padding:W.padding,zIndex:1},k.styledMode||(be.fill=Z==="auto"?H.color:Z,be.stroke=Y==="auto"?H.color:Y,be["stroke-width"]=W.borderWidth),l(be,(ge,ve)=>{ge===void 0&&delete be[ve]})),!Me||V&&d(ae)&&!!Me.div==!!W.useHTML&&(Me.rotation&&W.rotation||Me.rotation===W.rotation)||(Me=void 0,le=!0),V&&d(ae)&&(Me?be.text=ae:(Me=B.label(ae,0,0,W.shape,void 0,void 0,W.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+H.colorIndex+" "+(W.className||"")+(W.useHTML?" highcharts-tracker":"")),Me&&(Me.options=W,Me.attr(be),k.styledMode||Me.css(J).shadow(W.shadow),m(Me,"beforeAddingDataLabel",{labelOptions:W,point:H}),Me.added||Me.add(S),O.alignDataLabel(H,Me,W,void 0,le),Me.isActive=!0,N[te]&&N[te]!==Me&&N[te].destroy(),N[te]=Me))});let z=N.length;for(;z--;)N[z]&&N[z].isActive?N[z].isActive=!1:(N[z]?.destroy(),N.splice(z,1));H.dataLabel=N[0],H.dataLabels=N})),m(this,"afterDrawDataLabels")}function x(p,S,O,k,F,B){let L=this.chart,G=S.align,K=S.verticalAlign,$=p.box?0:p.padding||0,P=L.inverted?this.yAxis:this.xAxis,w=P?P.left-L.plotLeft:0,D=L.inverted?this.xAxis:this.yAxis,H=D?D.top-L.plotTop:0,{x:N=0,y:z=0}=S,W,te;return(W=(O.x||0)+$+w)<0&&(G==="right"&&N>=0?(S.align="left",S.inside=!0):N-=W,te=!0),(W=(O.x||0)+k.width-$+w)>L.plotWidth&&(G==="left"&&N<=0?(S.align="right",S.inside=!0):N+=L.plotWidth-W,te=!0),(W=O.y+$+H)<0&&(K==="bottom"&&z>=0?(S.verticalAlign="top",S.inside=!0):z-=W,te=!0),(W=(O.y||0)+k.height-$+H)>L.plotHeight&&(K==="top"&&z<=0?(S.verticalAlign="bottom",S.inside=!0):z+=L.plotHeight-W,te=!0),te&&(S.x=N,S.y=z,p.placed=!B,p.align(S,void 0,F)),te}function T(p,S){let O=[],k;if(n(p)&&!n(S))O=p.map(function(F){return a(F,S)});else if(n(S)&&!n(p))O=S.map(function(F){return a(p,F)});else if(n(p)||n(S)){if(n(p)&&n(S))for(k=Math.max(p.length,S.length);k--;)O[k]=a(p[k],S[k])}else O=a(p,S);return O}function _(p){let S=p.chart.options.plotOptions;return s(T(T(S?.series?.dataLabels,S?.[p.type]?.dataLabels),p.options.dataLabels))}function M(p,S,O,k,F){let B=this.chart,L=B.inverted,G=this.xAxis,K=G.reversed,$=((L?S.height:S.width)||0)/2,P=p.pointWidth,w=P?P/2:0;S.startXPos=L?F.x:K?-$-w:G.width-$+w,S.startYPos=L?K?this.yAxis.height-$+w:-$-w:F.y,k?S.visibility==="hidden"&&(S.show(),S.attr({opacity:0}).animate({opacity:1})):S.attr({opacity:1}).animate({opacity:0},void 0,S.hide),B.hasRendered&&(O&&S.attr({x:S.startXPos,y:S.startYPos}),S.placed=!0)}o.compose=function(p){let S=p.prototype;S.initDataLabels||(S.initDataLabels=E,S.initDataLabelsGroup=C,S.alignDataLabel=f,S.drawDataLabels=j,S.justifyDataLabel=x,S.setDataLabelStartPos=M,S.hasDataLabels=u)}}(y||(y={})),y}),de(ee,"Series/Column/ColumnDataLabel.js",[ee["Core/Series/DataLabel.js"],ee["Core/Globals.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I,y){var b;let{composed:h}=X,{series:d}=I,{merge:v,pick:m,pushUnique:n}=y;return function(i){function a(l,c,r,s,o){let u=this.chart.inverted,f=l.series,C=(f.xAxis?f.xAxis.len:this.chart.plotSizeX)||0,E=(f.yAxis?f.yAxis.len:this.chart.plotSizeY)||0,j=l.dlBox||l.shapeArgs,x=m(l.below,l.plotY>m(this.translatedThreshold,E)),T=m(r.inside,!!this.options.stacking);if(j){if(s=v(j),!(r.overflow==="allow"&&r.crop===!1)){s.y<0&&(s.height+=s.y,s.y=0);let _=s.y+s.height-E;_>0&&_<s.height-1&&(s.height-=_)}u&&(s={x:E-s.y-s.height,y:C-s.x-s.width,width:s.height,height:s.width}),T||(u?(s.x+=x?0:s.width,s.width=0):(s.y+=x?s.height:0,s.height=0))}r.align=m(r.align,!u||T?"center":x?"right":"left"),r.verticalAlign=m(r.verticalAlign,u||T?"middle":x?"top":"bottom"),d.prototype.alignDataLabel.call(this,l,c,r,s,o),r.inside&&l.contrastColor&&c.css({color:l.contrastColor})}i.compose=function(l){t.compose(d),n(h,"ColumnDataLabel")&&(l.prototype.alignDataLabel=a)}}(b||(b={})),b}),de(ee,"Series/Bar/BarSeries.js",[ee["Series/Column/ColumnSeries.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I){let{extend:y,merge:b}=I;class h extends t{}return h.defaultOptions=b(t.defaultOptions,{}),y(h.prototype,{inverted:!0}),X.registerSeriesType("bar",h),h}),de(ee,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25CF</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),de(ee,"Series/Scatter/ScatterSeries.js",[ee["Series/Scatter/ScatterSeriesDefaults.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I){let{column:y,line:b}=X.seriesTypes,{addEvent:h,extend:d,merge:v}=I;class m extends b{applyJitter(){let i=this,a=this.options.jitter,l=this.points.length;a&&this.points.forEach(function(c,r){["x","y"].forEach(function(s,o){if(a[s]&&!c.isNull){let u=`plot${s.toUpperCase()}`,f=i[`${s}Axis`],C=a[s]*f.transA;if(f&&!f.logarithmic){let E=Math.max(0,(c[u]||0)-C),j=Math.min(f.len,(c[u]||0)+C);c[u]=E+(j-E)*function(x){let T=1e4*Math.sin(x);return T-Math.floor(T)}(r+o*l),s==="x"&&(c.clientX=c.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return m.defaultOptions=v(b.defaultOptions,t),d(m.prototype,{drawTracker:y.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),h(m,"afterTranslate",function(){this.applyJitter()}),X.registerSeriesType("scatter",m),m}),de(ee,"Series/CenteredUtilities.js",[ee["Core/Globals.js"],ee["Core/Series/Series.js"],ee["Core/Utilities.js"]],function(t,X,I){var y,b;let{deg2rad:h}=t,{fireEvent:d,isNumber:v,pick:m,relativeLength:n}=I;return(b=y||(y={})).getCenter=function(){let i=this.options,a=this.chart,l=2*(i.slicedOffset||0),c=a.plotWidth-2*l,r=a.plotHeight-2*l,s=i.center,o=Math.min(c,r),u=i.thickness,f,C=i.size,E=i.innerSize||0,j,x;typeof C=="string"&&(C=parseFloat(C)),typeof E=="string"&&(E=parseFloat(E));let T=[m(s[0],"50%"),m(s[1],"50%"),m(C&&C<0?void 0:i.size,"100%"),m(E&&E<0?void 0:i.innerSize||0,"0%")];for(!a.angular||this instanceof X||(T[3]=0),j=0;j<4;++j)x=T[j],f=j<2||j===2&&/%$/.test(x),T[j]=n(x,[c,r,o,T[2]][j])+(f?l:0);return T[3]>T[2]&&(T[3]=T[2]),v(u)&&2*u<T[2]&&u>0&&(T[3]=T[2]-2*u),d(this,"afterGetCenter",{positions:T}),T},b.getStartAndEndRadians=function(i,a){let l=v(i)?i:0,c=v(a)&&a>l&&a-l<360?a:l+360;return{start:h*(l+-90),end:h*(c+-90)}},y}),de(ee,"Series/Pie/PiePoint.js",[ee["Core/Animation/AnimationUtilities.js"],ee["Core/Series/Point.js"],ee["Core/Utilities.js"]],function(t,X,I){let{setAnimation:y}=t,{addEvent:b,defined:h,extend:d,isNumber:v,pick:m,relativeLength:n}=I;class i extends X{getConnectorPath(l){let c=l.dataLabelPosition,r=l.options||{},s=r.connectorShape,o=this.connectorShapes[s]||s;return c&&o.call(this,It(at({},c.computed),{alignment:c.alignment}),c.connectorPosition,r)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(l){let c=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.x,c.y,c.r+l,c.r+l,{innerR:c.r-1,start:c.start,end:c.end,borderRadius:c.borderRadius})}constructor(l,c,r){super(l,c,r),this.half=0,this.name??(this.name="Slice");let s=o=>{this.slice(o.type==="select")};b(this,"select",s),b(this,"unselect",s)}isValid(){return v(this.y)&&this.y>=0}setVisible(l,c=!0){l!==this.visible&&this.update({visible:l??!this.visible},c,void 0,!1)}slice(l,c,r){let s=this.series;y(r,s.chart),c=m(c,!0),this.sliced=this.options.sliced=l=h(l)?l:!this.sliced,s.options.data[s.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return d(i.prototype,{connectorShapes:{fixedOffset:function(a,l,c){let r=l.breakAt,s=l.touchingSliceAt,o=c.softConnector?["C",a.x+(a.alignment==="left"?-5:5),a.y,2*r.x-s.x,2*r.y-s.y,r.x,r.y]:["L",r.x,r.y];return[["M",a.x,a.y],o,["L",s.x,s.y]]},straight:function(a,l){let c=l.touchingSliceAt;return[["M",a.x,a.y],["L",c.x,c.y]]},crookedLine:function(a,l,c){let{breakAt:r,touchingSliceAt:s}=l,{series:o}=this,[u,f,C]=o.center,E=C/2,{plotLeft:j,plotWidth:x}=o.chart,T=a.alignment==="left",{x:_,y:M}=a,p=r.x;if(c.crookDistance){let O=n(c.crookDistance,1);p=T?u+E+(x+j-u-E)*(1-O):j+(u-E)*O}else p=u+(f-M)*Math.tan((this.angle||0)-Math.PI/2);let S=[["M",_,M]];return(T?p<=_&&p>=r.x:p>=_&&p<=r.x)&&S.push(["L",p,M]),S.push(["L",r.x,r.y],["L",s.x,s.y]),S}}}),i}),de(ee,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),de(ee,"Series/Pie/PieSeries.js",[ee["Series/CenteredUtilities.js"],ee["Series/Column/ColumnSeries.js"],ee["Core/Globals.js"],ee["Series/Pie/PiePoint.js"],ee["Series/Pie/PieSeriesDefaults.js"],ee["Core/Series/Series.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Renderer/SVG/Symbols.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b,h,d,v,m){let{getStartAndEndRadians:n}=t,{noop:i}=I,{clamp:a,extend:l,fireEvent:c,merge:r,pick:s}=m;class o extends h{animate(f){let C=this,E=C.points,j=C.startAngleRad;f||E.forEach(function(x){let T=x.graphic,_=x.shapeArgs;T&&_&&(T.attr({r:s(x.startR,C.center&&C.center[3]/2),start:j,end:j}),T.animate({r:_.r,start:_.start,end:_.end},C.options.animation))})}drawEmpty(){let f,C,E=this.startAngleRad,j=this.endAngleRad,x=this.options;this.total===0&&this.center?(f=this.center[0],C=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(f,C,this.center[1]/2,0,E,j).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:v.arc(f,C,this.center[2]/2,0,{start:E,end:j,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":x.borderWidth,fill:x.fillColor||"none",stroke:x.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let f=this.chart.renderer;this.points.forEach(function(C){C.graphic&&C.hasNewShapeType()&&(C.graphic=C.graphic.destroy()),C.graphic||(C.graphic=f[C.shapeType](C.shapeArgs).add(C.series.group),C.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(f,C,E,j){let x=this.center,T=this.radii?this.radii[E.index]||0:x[2]/2,_=j.dataLabelPosition,M=_?.distance||0,p=Math.asin(a((f-x[1])/(T+M),-1,1));return x[0]+Math.cos(p)*(T+M)*(C?-1:1)+(M>0?(C?-1:1)*(j.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let f,C,E,j,x=this,T=x.chart;this.drawEmpty(),x.group&&!T.styledMode&&x.group.shadow(x.options.shadow),x.points.forEach(function(_){let M={};C=_.graphic,!_.isNull&&C?(j=_.shapeArgs,f=_.getTranslate(),T.styledMode||(E=x.pointAttribs(_,_.selected&&"select")),_.delayedRendering?(C.setRadialReference(x.center).attr(j).attr(f),T.styledMode||C.attr(E).attr({"stroke-linejoin":"round"}),_.delayedRendering=!1):(C.setRadialReference(x.center),T.styledMode||r(!0,M,E),r(!0,M,j,f),C.animate(M)),C.attr({visibility:_.visible?"inherit":"hidden"}),C.addClass(_.getClassName(),!0)):C&&(_.graphic=C.destroy())})}sortByAngle(f,C){f.sort(function(E,j){return E.angle!==void 0&&(j.angle-E.angle)*C})}translate(f){c(this,"translate"),this.generatePoints();let C=this.options,E=C.slicedOffset,j=n(C.startAngle,C.endAngle),x=this.startAngleRad=j.start,T=(this.endAngleRad=j.end)-x,_=this.points,M=C.ignoreHiddenPoint,p=_.length,S,O,k,F,B,L,G,K=0;for(f||(this.center=f=this.getCenter()),L=0;L<p;L++){G=_[L],S=x+K*T,G.isValid()&&(!M||G.visible)&&(K+=G.percentage/100),O=x+K*T;let $={x:f[0],y:f[1],r:f[2]/2,innerR:f[3]/2,start:Math.round(1e3*S)/1e3,end:Math.round(1e3*O)/1e3};G.shapeType="arc",G.shapeArgs=$,(k=(O+S)/2)>1.5*Math.PI?k-=2*Math.PI:k<-Math.PI/2&&(k+=2*Math.PI),G.slicedTranslation={translateX:Math.round(Math.cos(k)*E),translateY:Math.round(Math.sin(k)*E)},F=Math.cos(k)*f[2]/2,B=Math.sin(k)*f[2]/2,G.tooltipPos=[f[0]+.7*F,f[1]+.7*B],G.half=k<-Math.PI/2||k>Math.PI/2?1:0,G.angle=k}c(this,"afterTranslate")}updateTotals(){let f=this.points,C=f.length,E=this.options.ignoreHiddenPoint,j,x,T=0;for(j=0;j<C;j++)(x=f[j]).isValid()&&(!E||x.visible)&&(T+=x.y);for(j=0,this.total=T;j<C;j++)(x=f[j]).percentage=T>0&&(x.visible||!E)?x.y/T*100:0,x.total=T}}return o.defaultOptions=r(h.defaultOptions,b),l(o.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:X.prototype.drawTracker,getCenter:t.getCenter,getSymbol:i,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:X.prototype.pointAttribs,pointClass:y,requireSorting:!1,searchPoint:i,trackerGroups:["group","dataLabelsGroup"]}),d.registerSeriesType("pie",o),o}),de(ee,"Series/Pie/PieDataLabel.js",[ee["Core/Series/DataLabel.js"],ee["Core/Globals.js"],ee["Core/Renderer/RendererUtilities.js"],ee["Core/Series/SeriesRegistry.js"],ee["Core/Utilities.js"]],function(t,X,I,y,b){var h;let{composed:d,noop:v}=X,{distribute:m}=I,{series:n}=y,{arrayMax:i,clamp:a,defined:l,pick:c,pushUnique:r,relativeLength:s}=b;return function(o){let u={radialDistributionY:function(x,T){return(T.dataLabelPosition?.top||0)+x.distributeBox.pos},radialDistributionX:function(x,T,_,M,p){let S=p.dataLabelPosition;return x.getX(_<(S?.top||0)+2||_>(S?.bottom||0)-2?M:_,T.half,T,p)},justify:function(x,T,_,M){return M[0]+(x.half?-1:1)*(_+(T.dataLabelPosition?.distance||0))},alignToPlotEdges:function(x,T,_,M){let p=x.getBBox().width;return T?p+M:_-p-M},alignToConnectors:function(x,T,_,M){let p=0,S;return x.forEach(function(O){(S=O.dataLabel.getBBox().width)>p&&(p=S)}),T?p+M:_-p-M}};function f(x,T){let{center:_,options:M}=this,p=_[2]/2,S=x.angle||0,O=Math.cos(S),k=Math.sin(S),F=_[0]+O*p,B=_[1]+k*p,L=Math.min((M.slicedOffset||0)+(M.borderWidth||0),T/5);return{natural:{x:F+O*T,y:B+k*T},computed:{},alignment:T<0?"center":x.half?"right":"left",connectorPosition:{breakAt:{x:F+O*L,y:B+k*L},touchingSliceAt:{x:F,y:B}},distance:T}}function C(){let x=this,T=x.points,_=x.chart,M=_.plotWidth,p=_.plotHeight,S=_.plotLeft,O=Math.round(_.chartWidth/3),k=x.center,F=k[2]/2,B=k[1],L=[[],[]],G=[0,0,0,0],K=x.dataLabelPositioners,$,P,w,D=0;x.visible&&x.hasDataLabels?.()&&(T.forEach(H=>{(H.dataLabels||[]).forEach(N=>{N.shortened&&(N.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),N.shortened=!1)})}),n.prototype.drawDataLabels.apply(x),T.forEach(H=>{(H.dataLabels||[]).forEach((N,z)=>{let W=k[2]/2,te=N.options,V=s(te?.distance||0,W);z===0&&L[H.half].push(H),!l(te?.style?.width)&&N.getBBox().width>O&&(N.css({width:Math.round(.7*O)+"px"}),N.shortened=!0),N.dataLabelPosition=this.getDataLabelPosition(H,V),D=Math.max(D,V)})}),L.forEach((H,N)=>{let z=H.length,W=[],te,V,Z=0,Y;z&&(x.sortByAngle(H,N-.5),D>0&&(te=Math.max(0,B-F-D),V=Math.min(B+F+D,_.plotHeight),H.forEach(q=>{(q.dataLabels||[]).forEach(J=>{let re=J.dataLabelPosition;re&&re.distance>0&&(re.top=Math.max(0,B-F-re.distance),re.bottom=Math.min(B+F+re.distance,_.plotHeight),Z=J.getBBox().height||21,J.lineHeight=_.renderer.fontMetrics(J.text||J).h+2*J.padding,q.distributeBox={target:(J.dataLabelPosition?.natural.y||0)-re.top+J.lineHeight/2,size:Z,rank:q.y},W.push(q.distributeBox))})}),m(W,Y=V+Z-te,Y/5)),H.forEach(q=>{(q.dataLabels||[]).forEach(J=>{let re=J.options||{},ue=q.distributeBox,ae=J.dataLabelPosition,he=ae?.natural.y||0,be=re.connectorPadding||0,Me=J.lineHeight||21,le=(Me-J.getBBox().height)/2,pe=0,ge=he,ve="inherit";if(ae){if(W&&l(ue)&&ae.distance>0&&(ue.pos===void 0?ve="hidden":(w=ue.size,ge=K.radialDistributionY(q,J))),re.justify)pe=K.justify(q,J,F,k);else switch(re.alignTo){case"connectors":pe=K.alignToConnectors(H,N,M,S);break;case"plotEdges":pe=K.alignToPlotEdges(J,N,M,S);break;default:pe=K.radialDistributionX(x,q,ge-le,he,J)}if(ae.attribs={visibility:ve,align:ae.alignment},ae.posAttribs={x:pe+(re.x||0)+({left:be,right:-be}[ae.alignment]||0),y:ge+(re.y||0)-Me/2},ae.computed.x=pe,ae.computed.y=ge-le,c(re.crop,!0)){let Se;pe-(P=J.getBBox().width)<be&&N===1?(Se=Math.round(P-pe+be),G[3]=Math.max(Se,G[3])):pe+P>M-be&&N===0&&(Se=Math.round(pe+P-M+be),G[1]=Math.max(Se,G[1])),ge-w/2<0?G[0]=Math.max(Math.round(-ge+w/2),G[0]):ge+w/2>p&&(G[2]=Math.max(Math.round(ge+w/2-p),G[2])),ae.sideOverflow=Se}}})}))}),(i(G)===0||this.verifyDataLabelOverflow(G))&&(this.placeDataLabels(),this.points.forEach(H=>{(H.dataLabels||[]).forEach(N=>{let{connectorColor:z,connectorWidth:W=1}=N.options||{},te=N.dataLabelPosition;if(W){let V;$=N.connector,te&&te.distance>0?(V=!$,$||(N.connector=$=_.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+H.colorIndex+(H.className?" "+H.className:"")).add(x.dataLabelsGroup)),_.styledMode||$.attr({"stroke-width":W,stroke:z||H.color||"#666666"}),$[V?"attr":"animate"]({d:H.getConnectorPath(N)}),$.attr({visibility:te.attribs?.visibility})):$&&(N.connector=$.destroy())}})})))}function E(){this.points.forEach(x=>{(x.dataLabels||[]).forEach(T=>{let _=T.dataLabelPosition;_?(_.sideOverflow&&(T.css({width:Math.max(T.getBBox().width-_.sideOverflow,0)+"px",textOverflow:(T.options?.style||{}).textOverflow||"ellipsis"}),T.shortened=!0),T.attr(_.attribs),T[T.moved?"animate":"attr"](_.posAttribs),T.moved=!0):T&&T.attr({y:-9999})}),delete x.distributeBox},this)}function j(x){let T=this.center,_=this.options,M=_.center,p=_.minSize||80,S=p,O=_.size!==null;return!O&&(M[0]!==null?S=Math.max(T[2]-Math.max(x[1],x[3]),p):(S=Math.max(T[2]-x[1]-x[3],p),T[0]+=(x[3]-x[1])/2),M[1]!==null?S=a(S,p,T[2]-Math.max(x[0],x[2])):(S=a(S,p,T[2]-x[0]-x[2]),T[1]+=(x[0]-x[2])/2),S<T[2]?(T[2]=S,T[3]=Math.min(_.thickness?Math.max(0,S-2*_.thickness):Math.max(0,s(_.innerSize||0,S)),S),this.translate(T),this.drawDataLabels&&this.drawDataLabels()):O=!0),O}o.compose=function(x){if(t.compose(n),r(d,"PieDataLabel")){let T=x.prototype;T.dataLabelPositioners=u,T.alignDataLabel=v,T.drawDataLabels=C,T.getDataLabelPosition=f,T.placeDataLabels=E,T.verifyDataLabelOverflow=j}}}(h||(h={})),h}),de(ee,"Core/Geometry/GeometryUtilities.js",[],function(){var t,X;return(X=t||(t={})).getCenterOfPoints=function(I){let y=I.reduce((b,h)=>(b.x+=h.x,b.y+=h.y,b),{x:0,y:0});return{x:y.x/I.length,y:y.y/I.length}},X.getDistanceBetweenPoints=function(I,y){return Math.sqrt(Math.pow(y.x-I.x,2)+Math.pow(y.y-I.y,2))},X.getAngleBetweenPoints=function(I,y){return Math.atan2(y.x-I.x,y.y-I.y)},X.pointInPolygon=function({x:I,y},b){let h=b.length,d,v,m=!1;for(d=0,v=h-1;d<h;v=d++){let[n,i]=b[d],[a,l]=b[v];i>y!=l>y&&I<(a-n)*(y-i)/(l-i)+n&&(m=!m)}return m},t}),de(ee,"Extensions/OverlappingDataLabels.js",[ee["Core/Geometry/GeometryUtilities.js"],ee["Core/Utilities.js"]],function(t,X){let{pointInPolygon:I}=t,{addEvent:y,fireEvent:b,objectEach:h,pick:d}=X;function v(i){let a=i.length,l=(E,j)=>!(j.x>=E.x+E.width||j.x+j.width<=E.x||j.y>=E.y+E.height||j.y+j.height<=E.y),c=(E,j)=>{for(let x of E)if(I({x:x[0],y:x[1]},j))return!0;return!1},r,s,o,u,f,C=!1;for(let E=0;E<a;E++)(r=i[E])&&(r.oldOpacity=r.opacity,r.newOpacity=1,r.absoluteBox=function(j){if(j&&(!j.alignAttr||j.placed)){let x=j.box?0:j.padding||0,T=j.alignAttr||{x:j.attr("x"),y:j.attr("y")},_=j.getBBox();return j.width=_.width,j.height=_.height,{x:T.x+(j.parentGroup?.translateX||0)+x,y:T.y+(j.parentGroup?.translateY||0)+x,width:(j.width||0)-2*x,height:(j.height||0)-2*x,polygon:_?.polygon}}}(r));i.sort((E,j)=>(j.labelrank||0)-(E.labelrank||0));for(let E=0;E<a;++E){u=(s=i[E])&&s.absoluteBox;let j=u?.polygon;for(let x=E+1;x<a;++x){f=(o=i[x])&&o.absoluteBox;let T=!1;if(u&&f&&s!==o&&s.newOpacity!==0&&o.newOpacity!==0&&s.visibility!=="hidden"&&o.visibility!=="hidden"){let _=f.polygon;if(j&&_&&j!==_?c(j,_)&&(T=!0):l(u,f)&&(T=!0),T){let M=s.labelrank<o.labelrank?s:o,p=M.text;M.newOpacity=0,p?.element.querySelector("textPath")&&p.hide()}}}}for(let E of i)m(E,this)&&(C=!0);C&&b(this,"afterHideAllOverlappingLabels")}function m(i,a){let l,c,r=!1;return i&&(c=i.newOpacity,i.oldOpacity!==c&&(i.hasClass("highcharts-data-label")?(i[c?"removeClass":"addClass"]("highcharts-data-label-hidden"),l=function(){a.styledMode||i.css({pointerEvents:c?"auto":"none"})},r=!0,i[i.isOld?"animate":"attr"]({opacity:c},void 0,l),b(a,"afterHideOverlappingLabel")):i.attr({opacity:c})),i.isOld=!0),r}function n(){let i=this,a=[];for(let l of i.labelCollectors||[])a=a.concat(l());for(let l of i.yAxis||[])l.stacking&&l.options.stackLabels&&!l.options.stackLabels.allowOverlap&&h(l.stacking.stacks,c=>{h(c,r=>{r.label&&a.push(r.label)})});for(let l of i.series||[])if(l.visible&&l.hasDataLabels?.()){let c=r=>{for(let s of r)s.visible&&(s.dataLabels||[]).forEach(o=>{let u=o.options||{};o.labelrank=d(u.labelrank,s.labelrank,s.shapeArgs?.height),u.allowOverlap??Number(u.distance)>0?(o.oldOpacity=o.opacity,o.newOpacity=1,m(o,i)):a.push(o)})};c(l.nodes||[]),c(l.points)}this.hideOverlappingLabels(a)}return{compose:function(i){let a=i.prototype;a.hideOverlappingLabels||(a.hideOverlappingLabels=v,y(i,"render",n))}}}),de(ee,"Extensions/BorderRadius.js",[ee["Core/Defaults.js"],ee["Core/Globals.js"],ee["Core/Utilities.js"]],function(t,X,I){let{defaultOptions:y}=t,{noop:b}=X,{addEvent:h,extend:d,isObject:v,merge:m,relativeLength:n}=I,i={radius:0,scope:"stack",where:void 0},a=b,l=b;function c(f,C,E,j,x={}){let T=a(f,C,E,j,x),{innerR:_=0,r:M=E,start:p=0,end:S=0}=x;if(x.open||!x.borderRadius)return T;let O=S-p,k=Math.sin(O/2),F=Math.max(Math.min(n(x.borderRadius||0,M-_),(M-_)/2,M*k/(1+k)),0),B=Math.min(F,O/Math.PI*2*_),L=T.length-1;for(;L--;)(function(G,K,$){let P,w,D,H=G[K],N=G[K+1];if(N[0]==="Z"&&(N=G[0]),(H[0]==="M"||H[0]==="L")&&N[0]==="A"?(P=H,w=N,D=!0):H[0]==="A"&&(N[0]==="M"||N[0]==="L")&&(P=N,w=H),P&&w&&w.params){let z=w[1],W=w[5],te=w.params,{start:V,end:Z,cx:Y,cy:q}=te,J=W?z-$:z+$,re=J?Math.asin($/J):0,ue=W?re:-re,ae=Math.cos(re)*J;D?(te.start=V+ue,P[1]=Y+ae*Math.cos(V),P[2]=q+ae*Math.sin(V),G.splice(K+1,0,["A",$,$,0,0,1,Y+z*Math.cos(te.start),q+z*Math.sin(te.start)])):(te.end=Z-ue,w[6]=Y+z*Math.cos(te.end),w[7]=q+z*Math.sin(te.end),G.splice(K+1,0,["A",$,$,0,0,1,Y+ae*Math.cos(Z),q+ae*Math.sin(Z)])),w[4]=Math.abs(te.end-te.start)<Math.PI?0:1}})(T,L,L>1?B:F);return T}function r(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:f,yAxis:C}=this,E=f.stacking==="percent",j=y.plotOptions?.[this.type]?.borderRadius,x=s(f.borderRadius,v(j)?j:{}),T=C.options.reversed;for(let _ of this.points){let{shapeArgs:M}=_;if(_.shapeType==="roundedRect"&&M){let{width:p=0,height:S=0,y:O=0}=M,k=O,F=S;if(x.scope==="stack"&&_.stackTotal){let K=C.translate(E?100:_.stackTotal,!1,!0,!1,!0),$=C.translate(f.threshold||0,!1,!0,!1,!0),P=this.crispCol(0,Math.min(K,$),0,Math.abs(K-$));k=P.y,F=P.height}let B=(_.negative?-1:1)*(T?-1:1)==-1,L=x.where;!L&&this.is("waterfall")&&Math.abs((_.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(L="all"),L||(L="end");let G=Math.min(n(x.radius,p),p/2,L==="all"?S/2:1/0)||0;L==="end"&&(B&&(k-=G),F+=G),d(M,{brBoxHeight:F,brBoxY:k,r:G})}}}}function s(f,C){return v(f)||(f={radius:f||0}),m(i,C,f)}function o(){let f=s(this.options.borderRadius);for(let C of this.points){let E=C.shapeArgs;E&&(E.borderRadius=n(f.radius,(E.r||0)-(E.innerR||0)))}}function u(f,C,E,j,x={}){let T=l(f,C,E,j,x),{r:_=0,brBoxHeight:M=j,brBoxY:p=C}=x,S=C-p,O=p+M-(C+j),k=S-_>-.1?0:_,F=O-_>-.1?0:_,B=Math.max(k&&S,0),L=Math.max(F&&O,0),G=[f+k,C],K=[f+E-k,C],$=[f+E,C+k],P=[f+E,C+j-F],w=[f+E-F,C+j],D=[f+F,C+j],H=[f,C+j-F],N=[f,C+k],z=(W,te)=>Math.sqrt(Math.pow(W,2)-Math.pow(te,2));if(B){let W=z(k,k-B);G[0]-=W,K[0]+=W,$[1]=N[1]=C+k-B}if(j<k-B){let W=z(k,k-B-j);$[0]=P[0]=f+E-k+W,w[0]=Math.min($[0],w[0]),D[0]=Math.max(P[0],D[0]),H[0]=N[0]=f+k-W,$[1]=N[1]=C+j}if(L){let W=z(F,F-L);w[0]+=W,D[0]-=W,P[1]=H[1]=C+j-F+L}if(j<F-L){let W=z(F,F-L-j);$[0]=P[0]=f+E-F+W,K[0]=Math.min($[0],K[0]),G[0]=Math.max(P[0],G[0]),H[0]=N[0]=f+F-W,P[1]=H[1]=C}return T.length=0,T.push(["M",...G],["L",...K],["A",k,k,0,0,1,...$],["L",...P],["A",F,F,0,0,1,...w],["L",...D],["A",F,F,0,0,1,...H],["L",...N],["A",k,k,0,0,1,...G],["Z"]),T}return{compose:function(f,C,E){let j=f.types.pie;if(!C.symbolCustomAttribs.includes("borderRadius")){let x=E.prototype.symbols;h(f,"afterColumnTranslate",r,{order:9}),h(j,"afterTranslate",o),C.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),a=x.arc,l=x.roundedRect,x.arc=c,x.roundedRect=u}},optionsToObject:s}}),de(ee,"Core/Responsive.js",[ee["Core/Utilities.js"]],function(t){var X;let{diffObjects:I,extend:y,find:b,merge:h,pick:d,uniqueKey:v}=t;return function(m){function n(a,l){let c=a.condition;(c.callback||function(){return this.chartWidth<=d(c.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=d(c.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=d(c.minWidth,0)&&this.chartHeight>=d(c.minHeight,0)}).call(this)&&l.push(a._id)}function i(a,l){let c=this.options.responsive,r=this.currentResponsive,s=[],o;!l&&c&&c.rules&&c.rules.forEach(C=>{C._id===void 0&&(C._id=v()),this.matchResponsiveRule(C,s)},this);let u=h(...s.map(C=>b((c||{}).rules||[],E=>E._id===C)).map(C=>C&&C.chartOptions));u.isResponsiveOptions=!0,s=s.toString()||void 0;let f=r&&r.ruleIds;s===f||(r&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(r.undoOptions,a,!0),this.updatingResponsive=!1),s?((o=I(u,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:s,mergedOptions:u,undoOptions:o},this.updatingResponsive||this.update(u,a,!0)):this.currentResponsive=void 0)}m.compose=function(a){let l=a.prototype;return l.matchResponsiveRule||y(l,{matchResponsiveRule:n,setResponsive:i}),a}}(X||(X={})),X}),de(ee,"masters/highcharts.src.js",[ee["Core/Globals.js"],ee["Core/Utilities.js"],ee["Core/Defaults.js"],ee["Core/Animation/Fx.js"],ee["Core/Animation/AnimationUtilities.js"],ee["Core/Renderer/HTML/AST.js"],ee["Core/Templating.js"],ee["Core/Renderer/RendererRegistry.js"],ee["Core/Renderer/RendererUtilities.js"],ee["Core/Renderer/SVG/SVGElement.js"],ee["Core/Renderer/SVG/SVGRenderer.js"],ee["Core/Renderer/HTML/HTMLElement.js"],ee["Core/Axis/Axis.js"],ee["Core/Axis/DateTimeAxis.js"],ee["Core/Axis/LogarithmicAxis.js"],ee["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],ee["Core/Axis/Tick.js"],ee["Core/Tooltip.js"],ee["Core/Series/Point.js"],ee["Core/Pointer.js"],ee["Core/Legend/Legend.js"],ee["Core/Legend/LegendSymbol.js"],ee["Core/Chart/Chart.js"],ee["Extensions/ScrollablePlotArea.js"],ee["Core/Axis/Stacking/StackingAxis.js"],ee["Core/Axis/Stacking/StackItem.js"],ee["Core/Series/Series.js"],ee["Core/Series/SeriesRegistry.js"],ee["Series/Column/ColumnDataLabel.js"],ee["Series/Pie/PieDataLabel.js"],ee["Core/Series/DataLabel.js"],ee["Extensions/OverlappingDataLabels.js"],ee["Extensions/BorderRadius.js"],ee["Core/Responsive.js"],ee["Core/Color/Color.js"],ee["Core/Time.js"]],function(t,X,I,y,b,h,d,v,m,n,i,a,l,c,r,s,o,u,f,C,E,j,x,T,_,M,p,S,O,k,F,B,L,G,K,$){return t.AST=h,t.Axis=l,t.Chart=x,t.Color=K,t.DataLabel=F,t.Fx=y,t.HTMLElement=a,t.Legend=E,t.LegendSymbol=j,t.OverlappingDataLabels=t.OverlappingDataLabels||B,t.PlotLineOrBand=s,t.Point=f,t.Pointer=C,t.RendererRegistry=v,t.Series=p,t.SeriesRegistry=S,t.StackItem=M,t.SVGElement=n,t.SVGRenderer=i,t.Templating=d,t.Tick=o,t.Time=$,t.Tooltip=u,t.animate=b.animate,t.animObject=b.animObject,t.chart=x.chart,t.color=K.parse,t.dateFormat=d.dateFormat,t.defaultOptions=I.defaultOptions,t.distribute=m.distribute,t.format=d.format,t.getDeferredAnimation=b.getDeferredAnimation,t.getOptions=I.getOptions,t.numberFormat=d.numberFormat,t.seriesType=S.seriesType,t.setAnimation=b.setAnimation,t.setOptions=I.setOptions,t.stop=b.stop,t.time=I.defaultTime,t.timers=y.timers,L.compose(t.Series,t.SVGElement,t.SVGRenderer),O.compose(t.Series.types.column),F.compose(t.Series),c.compose(t.Axis),a.compose(t.SVGRenderer),E.compose(t.Chart),r.compose(t.Axis),B.compose(t.Chart),k.compose(t.Series.types.pie),s.compose(t.Axis),C.compose(t.Chart),G.compose(t.Chart),T.compose(t.Axis,t.Chart,t.Series),_.compose(t.Axis,t.Chart,t.Series),u.compose(t.Pointer),X.extend(t,X),t}),ee["masters/highcharts.src.js"]._modules=ee,ee["masters/highcharts.src.js"]})});var An=Is((En,Ki)=>{"use strict";(function(_e){typeof En=="object"&&typeof Ki<"u"?Ki.exports=_e():typeof define=="function"&&define.amd?define([],_e):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).p5=_e()})(function(){var _e,ee,de;return function t(X,I,y){function b(v,m){if(!I[v]){if(!X[v]){var n=typeof Gr=="function"&&Gr;if(!m&&n)return n(v,!0);if(h)return h(v,!0);throw(m=new Error("Cannot find module '"+v+"'")).code="MODULE_NOT_FOUND",m}n=I[v]={exports:{}},X[v][0].call(n.exports,function(i){return b(X[v][1][i]||i)},n,n.exports,t,X,I,y)}return I[v].exports}for(var h=typeof Gr=="function"&&Gr,d=0;d<y.length;d++)b(y[d]);return b}({1:[function(t,X,I){"use strict";I.byteLength=function(l){var l=n(l),a=l[0],l=l[1];return 3*(a+l)/4-l},I.toByteArray=function(i){var a,l,r=n(i),c=r[0],r=r[1],s=new h(function(f,C){return 3*(f+C)/4-C}(c,r)),o=0,u=0<r?c-4:c;for(l=0;l<u;l+=4)a=b[i.charCodeAt(l)]<<18|b[i.charCodeAt(l+1)]<<12|b[i.charCodeAt(l+2)]<<6|b[i.charCodeAt(l+3)],s[o++]=a>>16&255,s[o++]=a>>8&255,s[o++]=255&a;return r===2&&(a=b[i.charCodeAt(l)]<<2|b[i.charCodeAt(l+1)]>>4,s[o++]=255&a),r===1&&(a=b[i.charCodeAt(l)]<<10|b[i.charCodeAt(l+1)]<<4|b[i.charCodeAt(l+2)]>>2,s[o++]=a>>8&255,s[o++]=255&a),s},I.fromByteArray=function(i){for(var a,l=i.length,c=l%3,r=[],s=0,o=l-c;s<o;s+=16383)r.push(function(u,f,C){for(var E,j=[],x=f;x<C;x+=3)E=(u[x]<<16&16711680)+(u[x+1]<<8&65280)+(255&u[x+2]),j.push(function(T){return y[T>>18&63]+y[T>>12&63]+y[T>>6&63]+y[63&T]}(E));return j.join("")}(i,s,o<s+16383?o:s+16383));return c==1?(a=i[l-1],r.push(y[a>>2]+y[a<<4&63]+"==")):c==2&&(a=(i[l-2]<<8)+i[l-1],r.push(y[a>>10]+y[a>>4&63]+y[a<<2&63]+"=")),r.join("")};for(var y=[],b=[],h=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=0,m=d.length;v<m;++v)y[v]=d[v],b[d.charCodeAt(v)]=v;function n(i){var a=i.length;if(0<a%4)throw new Error("Invalid string. Length must be a multiple of 4");return i=i.indexOf("="),a=(i=i===-1?a:i)===a?0:4-i%4,[i,a]}b[45]=62,b[95]=63},{}],2:[function(t,X,I){},{}],3:[function(t,X,I){},{}],4:[function(t,X,I){(function(n){"use strict";var b=t("base64-js"),h=t("ieee754"),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,v=(I.Buffer=n,I.SlowBuffer=function(P){return+P!=P&&(P=0),n.alloc(+P)},I.INSPECT_MAX_BYTES=50,2147483647);function m(P){if(v<P)throw new RangeError('The value "'+P+'" is invalid for option "size"');return P=new Uint8Array(P),Object.setPrototypeOf(P,n.prototype),P}function n(P,w,D){if(typeof P!="number")return i(P,w,D);if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return l(P)}function i(P,w,D){if(typeof P=="string"){var H=P,N=w;if(n.isEncoding(N=typeof N=="string"&&N!==""?N:"utf8"))return z=0|s(H,N),W=m(z),W=(H=W.write(H,N))!==z?W.slice(0,H):W;throw new TypeError("Unknown encoding: "+N)}if(ArrayBuffer.isView(P))return c(P);if(P!=null){if(G(P,ArrayBuffer)||P&&G(P.buffer,ArrayBuffer)){var z=P,H=w,W=D;if(H<0||z.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<H+(W||0))throw new RangeError('"length" is outside of buffer bounds');return z=H===void 0&&W===void 0?new Uint8Array(z):W===void 0?new Uint8Array(z,H):new Uint8Array(z,H,W),Object.setPrototypeOf(z,n.prototype),z}if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(N=P.valueOf&&P.valueOf(),N!=null&&N!==P)return n.from(N,w,D);var te=function(V){{var Z,Y;if(n.isBuffer(V))return Z=0|r(V.length),(Y=m(Z)).length!==0&&V.copy(Y,0,0,Z),Y}if(V.length!==void 0)return typeof V.length!="number"||K(V.length)?m(0):c(V);if(V.type==="Buffer"&&Array.isArray(V.data))return c(V.data)}(P);if(te)return te;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return n.from(P[Symbol.toPrimitive]("string"),w,D)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function a(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function l(P){return a(P),m(P<0?0:0|r(P))}function c(P){for(var w=P.length<0?0:0|r(P.length),D=m(w),H=0;H<w;H+=1)D[H]=255&P[H];return D}function r(P){if(v<=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v.toString(16)+" bytes");return 0|P}function s(P,w){if(n.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||G(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var D=P.length,H=2<arguments.length&&arguments[2]===!0;if(!H&&D===0)return 0;for(var N=!1;;)switch(w){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":return F(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*D;case"hex":return D>>>1;case"base64":return B(P).length;default:if(N)return H?-1:F(P).length;w=(""+w).toLowerCase(),N=!0}}function o(P,w,D){var H,N=!1;if((w=w===void 0||w<0?0:w)>this.length||(D=D===void 0||D>this.length?this.length:D)<=0||(D>>>=0)<=(w>>>=0))return"";for(P=P||"utf8";;)switch(P){case"hex":var z=this,ae=w,W=D,Y=z.length;(!W||W<0||Y<W)&&(W=Y);for(var te="",V=ae=!ae||ae<0?0:ae;V<W;++V)te+=$[z[V]];return te;case"utf8":case"utf-8":return x(this,w,D);case"ascii":var Z=this,Y=w,q=D,J="";q=Math.min(Z.length,q);for(var re=Y;re<q;++re)J+=String.fromCharCode(127&Z[re]);return J;case"latin1":case"binary":var ue=this,ae=w,he=D,be="";he=Math.min(ue.length,he);for(var Me=ae;Me<he;++Me)be+=String.fromCharCode(ue[Me]);return be;case"base64":return le=this,H=D,(pe=w)===0&&H===le.length?b.fromByteArray(le):b.fromByteArray(le.slice(pe,H));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var le=w,pe=D,ge=this.slice(le,pe),ve="",Se=0;Se<ge.length;Se+=2)ve+=String.fromCharCode(ge[Se]+256*ge[Se+1]);return ve;default:if(N)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),N=!0}}function u(P,w,D){var H=P[w];P[w]=P[D],P[D]=H}function f(P,w,D,H,N){if(P.length===0)return-1;if(typeof D=="string"?(H=D,D=0):2147483647<D?D=2147483647:D<-2147483648&&(D=-2147483648),(D=(D=K(D=+D)?N?0:P.length-1:D)<0?P.length+D:D)>=P.length){if(N)return-1;D=P.length-1}else if(D<0){if(!N)return-1;D=0}if(typeof w=="string"&&(w=n.from(w,H)),n.isBuffer(w))return w.length===0?-1:C(P,w,D,H,N);if(typeof w=="number")return w&=255,typeof Uint8Array.prototype.indexOf=="function"?(N?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(P,w,D):C(P,[w],D,H,N);throw new TypeError("val must be string, number or Buffer")}function C(P,w,D,H,N){var z=1,W=P.length,te=w.length;if(H!==void 0&&((H=String(H).toLowerCase())==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(P.length<2||w.length<2)return-1;W/=z=2,te/=2,D/=2}function V(re,ue){return z===1?re[ue]:re.readUInt16BE(ue*z)}if(N)for(var Z=-1,Y=D;Y<W;Y++)if(V(P,Y)===V(w,Z===-1?0:Y-Z)){if(Y-(Z=Z===-1?Y:Z)+1===te)return Z*z}else Z!==-1&&(Y-=Y-Z),Z=-1;else for(Y=D=W<D+te?W-te:D;0<=Y;Y--){for(var q=!0,J=0;J<te;J++)if(V(P,Y+J)!==V(w,J)){q=!1;break}if(q)return Y}return-1}function E(P,w,D,H){return L(function(N){for(var z=[],W=0;W<N.length;++W)z.push(255&N.charCodeAt(W));return z}(w),P,D,H)}function j(P,w,D,H){return L(function(N,z){for(var W,te,V=[],Z=0;Z<N.length&&!((z-=2)<0);++Z)te=N.charCodeAt(Z),W=te>>8,te=te%256,V.push(te),V.push(W);return V}(w,P.length-D),P,D,H)}function x(P,w,D){D=Math.min(P.length,D);for(var H=[],N=w;N<D;){var z,W,te,V,Z=P[N],Y=null,q=239<Z?4:223<Z?3:191<Z?2:1;if(N+q<=D)switch(q){case 1:Z<128&&(Y=Z);break;case 2:(192&(z=P[N+1]))==128&&127<(V=(31&Z)<<6|63&z)&&(Y=V);break;case 3:z=P[N+1],W=P[N+2],(192&z)==128&&(192&W)==128&&2047<(V=(15&Z)<<12|(63&z)<<6|63&W)&&(V<55296||57343<V)&&(Y=V);break;case 4:z=P[N+1],W=P[N+2],te=P[N+3],(192&z)==128&&(192&W)==128&&(192&te)==128&&65535<(V=(15&Z)<<18|(63&z)<<12|(63&W)<<6|63&te)&&V<1114112&&(Y=V)}Y===null?(Y=65533,q=1):65535<Y&&(Y-=65536,H.push(Y>>>10&1023|55296),Y=56320|1023&Y),H.push(Y),N+=q}var J=H,re=J.length;if(re<=T)return String.fromCharCode.apply(String,J);for(var ue="",ae=0;ae<re;)ue+=String.fromCharCode.apply(String,J.slice(ae,ae+=T));return ue}I.kMaxLength=v,(n.TYPED_ARRAY_SUPPORT=function(){try{var P=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(P,w),P.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=i,Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(P,w,D){return w=w,D=D,a(P=P),!(P<=0)&&w!==void 0?typeof D=="string"?m(P).fill(w,D):m(P).fill(w):m(P)},n.allocUnsafe=l,n.allocUnsafeSlow=l,n.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==n.prototype},n.compare=function(P,w){if(G(P,Uint8Array)&&(P=n.from(P,P.offset,P.byteLength)),G(w,Uint8Array)&&(w=n.from(w,w.offset,w.byteLength)),!n.isBuffer(P)||!n.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===w)return 0;for(var D=P.length,H=w.length,N=0,z=Math.min(D,H);N<z;++N)if(P[N]!==w[N]){D=P[N],H=w[N];break}return D<H?-1:H<D?1:0},n.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(P,w){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return n.alloc(0);if(w===void 0)for(N=w=0;N<P.length;++N)w+=P[N].length;for(var D=n.allocUnsafe(w),H=0,N=0;N<P.length;++N){var z=P[N];if(G(z,Uint8Array)&&(z=n.from(z)),!n.isBuffer(z))throw new TypeError('"list" argument must be an Array of Buffers');z.copy(D,H),H+=z.length}return D},n.byteLength=s,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<P;w+=2)u(this,w,w+1);return this},n.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<P;w+=4)u(this,w,w+3),u(this,w+1,w+2);return this},n.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<P;w+=8)u(this,w,w+7),u(this,w+1,w+6),u(this,w+2,w+5),u(this,w+3,w+4);return this},n.prototype.toLocaleString=n.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?x(this,0,P):o.apply(this,arguments)},n.prototype.equals=function(P){if(n.isBuffer(P))return this===P||n.compare(this,P)===0;throw new TypeError("Argument must be a Buffer")},n.prototype.inspect=function(){var w="",P=I.INSPECT_MAX_BYTES,w=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim();return this.length>P&&(w+=" ... "),"<Buffer "+w+">"},d&&(n.prototype[d]=n.prototype.inspect),n.prototype.compare=function(P,w,D,H,N){if(G(P,Uint8Array)&&(P=n.from(P,P.offset,P.byteLength)),!n.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(D===void 0&&(D=P?P.length:0),H===void 0&&(H=0),N===void 0&&(N=this.length),(w=w===void 0?0:w)<0||D>P.length||H<0||N>this.length)throw new RangeError("out of range index");if(N<=H&&D<=w)return 0;if(N<=H)return-1;if(D<=w)return 1;if(this===P)return 0;for(var z=(N>>>=0)-(H>>>=0),W=(D>>>=0)-(w>>>=0),te=Math.min(z,W),V=this.slice(H,N),Z=P.slice(w,D),Y=0;Y<te;++Y)if(V[Y]!==Z[Y]){z=V[Y],W=Z[Y];break}return z<W?-1:W<z?1:0},n.prototype.includes=function(P,w,D){return this.indexOf(P,w,D)!==-1},n.prototype.indexOf=function(P,w,D){return f(this,P,w,D,!0)},n.prototype.lastIndexOf=function(P,w,D){return f(this,P,w,D,!1)},n.prototype.write=function(P,w,D,H){if(w===void 0)H="utf8",D=this.length,w=0;else if(D===void 0&&typeof w=="string")H=w,D=this.length,w=0;else{if(!isFinite(w))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");w>>>=0,isFinite(D)?(D>>>=0,H===void 0&&(H="utf8")):(H=D,D=void 0)}var N=this.length-w;if((D===void 0||N<D)&&(D=N),0<P.length&&(D<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");H=H||"utf8";for(var z,W,te,V=!1;;)switch(H){case"hex":var Z=this,Y=P,q=w,J=D,re=(q=Number(q)||0,Z.length-q);(!J||re<(J=Number(J)))&&(J=re),(re=Y.length)/2<J&&(J=re/2);for(var ue=0;ue<J;++ue){var ae=parseInt(Y.substr(2*ue,2),16);if(K(ae))return ue;Z[q+ue]=ae}return ue;case"utf8":case"utf-8":return re=w,te=D,L(F(P,(W=this).length-re),W,re,te);case"ascii":return E(this,P,w,D);case"latin1":case"binary":return E(this,P,w,D);case"base64":return W=this,te=w,z=D,L(B(P),W,te,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,P,w,D);default:if(V)throw new TypeError("Unknown encoding: "+H);H=(""+H).toLowerCase(),V=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function _(P,w,D){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(D<P+w)throw new RangeError("Trying to access beyond buffer length")}function M(P,w,D,H,N,z){if(!n.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(N<w||w<z)throw new RangeError('"value" argument is out of bounds');if(D+H>P.length)throw new RangeError("Index out of range")}function p(P,w,D,H){if(D+H>P.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function S(P,w,D,H,N){return w=+w,D>>>=0,N||p(P,0,D,4),h.write(P,w,D,H,23,4),D+4}function O(P,w,D,H,N){return w=+w,D>>>=0,N||p(P,0,D,8),h.write(P,w,D,H,52,8),D+8}n.prototype.slice=function(P,w){var D=this.length,D=((P=~~P)<0?(P+=D)<0&&(P=0):D<P&&(P=D),(w=w===void 0?D:~~w)<0?(w+=D)<0&&(w=0):D<w&&(w=D),w<P&&(w=P),this.subarray(P,w));return Object.setPrototypeOf(D,n.prototype),D},n.prototype.readUIntLE=function(P,w,D){P>>>=0,w>>>=0,D||_(P,w,this.length);for(var H=this[P],N=1,z=0;++z<w&&(N*=256);)H+=this[P+z]*N;return H},n.prototype.readUIntBE=function(P,w,D){P>>>=0,w>>>=0,D||_(P,w,this.length);for(var H=this[P+--w],N=1;0<w&&(N*=256);)H+=this[P+--w]*N;return H},n.prototype.readUInt8=function(P,w){return P>>>=0,w||_(P,1,this.length),this[P]},n.prototype.readUInt16LE=function(P,w){return P>>>=0,w||_(P,2,this.length),this[P]|this[P+1]<<8},n.prototype.readUInt16BE=function(P,w){return P>>>=0,w||_(P,2,this.length),this[P]<<8|this[P+1]},n.prototype.readUInt32LE=function(P,w){return P>>>=0,w||_(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},n.prototype.readUInt32BE=function(P,w){return P>>>=0,w||_(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},n.prototype.readIntLE=function(P,w,D){P>>>=0,w>>>=0,D||_(P,w,this.length);for(var H=this[P],N=1,z=0;++z<w&&(N*=256);)H+=this[P+z]*N;return(N*=128)<=H&&(H-=Math.pow(2,8*w)),H},n.prototype.readIntBE=function(P,w,D){P>>>=0,w>>>=0,D||_(P,w,this.length);for(var H=w,N=1,z=this[P+--H];0<H&&(N*=256);)z+=this[P+--H]*N;return(N*=128)<=z&&(z-=Math.pow(2,8*w)),z},n.prototype.readInt8=function(P,w){return P>>>=0,w||_(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},n.prototype.readInt16LE=function(P,w){return P>>>=0,w||_(P,2,this.length),w=this[P]|this[P+1]<<8,32768&w?4294901760|w:w},n.prototype.readInt16BE=function(P,w){return P>>>=0,w||_(P,2,this.length),w=this[P+1]|this[P]<<8,32768&w?4294901760|w:w},n.prototype.readInt32LE=function(P,w){return P>>>=0,w||_(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},n.prototype.readInt32BE=function(P,w){return P>>>=0,w||_(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},n.prototype.readFloatLE=function(P,w){return P>>>=0,w||_(P,4,this.length),h.read(this,P,!0,23,4)},n.prototype.readFloatBE=function(P,w){return P>>>=0,w||_(P,4,this.length),h.read(this,P,!1,23,4)},n.prototype.readDoubleLE=function(P,w){return P>>>=0,w||_(P,8,this.length),h.read(this,P,!0,52,8)},n.prototype.readDoubleBE=function(P,w){return P>>>=0,w||_(P,8,this.length),h.read(this,P,!1,52,8)},n.prototype.writeUIntLE=function(P,w,D,H){P=+P,w>>>=0,D>>>=0,H||M(this,P,w,D,Math.pow(2,8*D)-1,0);var N=1,z=0;for(this[w]=255&P;++z<D&&(N*=256);)this[w+z]=P/N&255;return w+D},n.prototype.writeUIntBE=function(P,w,D,H){P=+P,w>>>=0,D>>>=0,H||M(this,P,w,D,Math.pow(2,8*D)-1,0);var N=D-1,z=1;for(this[w+N]=255&P;0<=--N&&(z*=256);)this[w+N]=P/z&255;return w+D},n.prototype.writeUInt8=function(P,w,D){return P=+P,w>>>=0,D||M(this,P,w,1,255,0),this[w]=255&P,w+1},n.prototype.writeUInt16LE=function(P,w,D){return P=+P,w>>>=0,D||M(this,P,w,2,65535,0),this[w]=255&P,this[w+1]=P>>>8,w+2},n.prototype.writeUInt16BE=function(P,w,D){return P=+P,w>>>=0,D||M(this,P,w,2,65535,0),this[w]=P>>>8,this[w+1]=255&P,w+2},n.prototype.writeUInt32LE=function(P,w,D){return P=+P,w>>>=0,D||M(this,P,w,4,4294967295,0),this[w+3]=P>>>24,this[w+2]=P>>>16,this[w+1]=P>>>8,this[w]=255&P,w+4},n.prototype.writeUInt32BE=function(P,w,D){return P=+P,w>>>=0,D||M(this,P,w,4,4294967295,0),this[w]=P>>>24,this[w+1]=P>>>16,this[w+2]=P>>>8,this[w+3]=255&P,w+4},n.prototype.writeIntLE=function(P,w,D,H){P=+P,w>>>=0,H||M(this,P,w,D,(H=Math.pow(2,8*D-1))-1,-H);var N=0,z=1,W=0;for(this[w]=255&P;++N<D&&(z*=256);)P<0&&W===0&&this[w+N-1]!==0&&(W=1),this[w+N]=(P/z>>0)-W&255;return w+D},n.prototype.writeIntBE=function(P,w,D,H){P=+P,w>>>=0,H||M(this,P,w,D,(H=Math.pow(2,8*D-1))-1,-H);var N=D-1,z=1,W=0;for(this[w+N]=255&P;0<=--N&&(z*=256);)P<0&&W===0&&this[w+N+1]!==0&&(W=1),this[w+N]=(P/z>>0)-W&255;return w+D},n.prototype.writeInt8=function(P,w,D){return P=+P,w>>>=0,D||M(this,P,w,1,127,-128),this[w]=255&(P=P<0?255+P+1:P),w+1},n.prototype.writeInt16LE=function(P,w,D){return P=+P,w>>>=0,D||M(this,P,w,2,32767,-32768),this[w]=255&P,this[w+1]=P>>>8,w+2},n.prototype.writeInt16BE=function(P,w,D){return P=+P,w>>>=0,D||M(this,P,w,2,32767,-32768),this[w]=P>>>8,this[w+1]=255&P,w+2},n.prototype.writeInt32LE=function(P,w,D){return P=+P,w>>>=0,D||M(this,P,w,4,2147483647,-2147483648),this[w]=255&P,this[w+1]=P>>>8,this[w+2]=P>>>16,this[w+3]=P>>>24,w+4},n.prototype.writeInt32BE=function(P,w,D){return P=+P,w>>>=0,D||M(this,P,w,4,2147483647,-2147483648),this[w]=(P=P<0?4294967295+P+1:P)>>>24,this[w+1]=P>>>16,this[w+2]=P>>>8,this[w+3]=255&P,w+4},n.prototype.writeFloatLE=function(P,w,D){return S(this,P,w,!0,D)},n.prototype.writeFloatBE=function(P,w,D){return S(this,P,w,!1,D)},n.prototype.writeDoubleLE=function(P,w,D){return O(this,P,w,!0,D)},n.prototype.writeDoubleBE=function(P,w,D){return O(this,P,w,!1,D)},n.prototype.copy=function(P,w,D,H){if(!n.isBuffer(P))throw new TypeError("argument should be a Buffer");if(D=D||0,H||H===0||(H=this.length),w>=P.length&&(w=P.length),(H=0<H&&H<D?D:H)===D||P.length===0||this.length===0)return 0;if((w=w||0)<0)throw new RangeError("targetStart out of bounds");if(D<0||D>=this.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("sourceEnd out of bounds");H>this.length&&(H=this.length);var N=(H=P.length-w<H-D?P.length-w+D:H)-D;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(w,D,H);else if(this===P&&D<w&&w<H)for(var z=N-1;0<=z;--z)P[z+w]=this[z+D];else Uint8Array.prototype.set.call(P,this.subarray(D,H),w);return N},n.prototype.fill=function(P,w,D,H){if(typeof P=="string"){if(typeof w=="string"?(H=w,w=0,D=this.length):typeof D=="string"&&(H=D,D=this.length),H!==void 0&&typeof H!="string")throw new TypeError("encoding must be a string");if(typeof H=="string"&&!n.isEncoding(H))throw new TypeError("Unknown encoding: "+H);var N;P.length===1&&(N=P.charCodeAt(0),(H==="utf8"&&N<128||H==="latin1")&&(P=N))}else typeof P=="number"?P&=255:typeof P=="boolean"&&(P=Number(P));if(w<0||this.length<w||this.length<D)throw new RangeError("Out of range index");var z;if(!(D<=w))if(w>>>=0,D=D===void 0?this.length:D>>>0,typeof(P=P||0)=="number")for(z=w;z<D;++z)this[z]=P;else{var W=n.isBuffer(P)?P:n.from(P,H),te=W.length;if(te===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(z=0;z<D-w;++z)this[z+w]=W[z%te]}return this};var k=/[^+/0-9A-Za-z-_]/g;function F(P,w){w=w||1/0;for(var D,H=P.length,N=null,z=[],W=0;W<H;++W){if(55295<(D=P.charCodeAt(W))&&D<57344){if(!N){if(56319<D){-1<(w-=3)&&z.push(239,191,189);continue}if(W+1===H){-1<(w-=3)&&z.push(239,191,189);continue}N=D;continue}if(D<56320){-1<(w-=3)&&z.push(239,191,189),N=D;continue}D=65536+(N-55296<<10|D-56320)}else N&&-1<(w-=3)&&z.push(239,191,189);if(N=null,D<128){if(--w<0)break;z.push(D)}else if(D<2048){if((w-=2)<0)break;z.push(D>>6|192,63&D|128)}else if(D<65536){if((w-=3)<0)break;z.push(D>>12|224,D>>6&63|128,63&D|128)}else{if(!(D<1114112))throw new Error("Invalid code point");if((w-=4)<0)break;z.push(D>>18|240,D>>12&63|128,D>>6&63|128,63&D|128)}}return z}function B(P){return b.toByteArray(function(w){if((w=(w=w.split("=")[0]).trim().replace(k,"")).length<2)return"";for(;w.length%4!=0;)w+="=";return w}(P))}function L(P,w,D,H){for(var N=0;N<H&&!(N+D>=w.length||N>=P.length);++N)w[N+D]=P[N];return N}function G(P,w){return P instanceof w||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===w.name}function K(P){return P!=P}var $=function(){for(var P="0123456789abcdef",w=new Array(256),D=0;D<16;++D)for(var H=16*D,N=0;N<16;++N)w[H+N]=P[D]+P[N];return w}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:251}],5:[function(t,X,I){X.exports=function(y){if(typeof y!="function")throw TypeError(String(y)+" is not a function");return y}},{}],6:[function(t,X,I){var y=t("../internals/is-object");X.exports=function(b){if(y(b)||b===null)return b;throw TypeError("Can't set "+String(b)+" as a prototype")}},{"../internals/is-object":75}],7:[function(h,X,I){var y=h("../internals/well-known-symbol"),b=h("../internals/object-create"),h=h("../internals/object-define-property"),d=y("unscopables"),v=Array.prototype;v[d]==null&&h.f(v,d,{configurable:!0,value:b(null)}),X.exports=function(m){v[d][m]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],8:[function(t,X,I){"use strict";var y=t("../internals/string-multibyte").charAt;X.exports=function(b,h,d){return h+(d?y(b,h).length:1)}},{"../internals/string-multibyte":124}],9:[function(t,X,I){X.exports=function(y,b,h){if(y instanceof b)return y;throw TypeError("Incorrect "+(h?h+" ":"")+"invocation")}},{}],10:[function(t,X,I){var y=t("../internals/is-object");X.exports=function(b){if(y(b))return b;throw TypeError(String(b)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,X,I){X.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(p,X,I){"use strict";function y(O){return m(O)&&n(S,i(O))}var b,h=p("../internals/array-buffer-native"),d=p("../internals/descriptors"),v=p("../internals/global"),m=p("../internals/is-object"),n=p("../internals/has"),i=p("../internals/classof"),a=p("../internals/create-non-enumerable-property"),l=p("../internals/redefine"),c=p("../internals/object-define-property").f,r=p("../internals/object-get-prototype-of"),s=p("../internals/object-set-prototype-of"),T=p("../internals/well-known-symbol"),p=p("../internals/uid"),o=v.Int8Array,u=o&&o.prototype,f=v.Uint8ClampedArray,f=f&&f.prototype,C=o&&r(o),E=u&&r(u),j=Object.prototype,x=j.isPrototypeOf,T=T("toStringTag"),_=p("TYPED_ARRAY_TAG"),M=h&&!!s&&i(v.opera)!=="Opera",p=!1,S={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(b in S)v[b]||(M=!1);if((!M||typeof C!="function"||C===Function.prototype)&&(C=function(){throw TypeError("Incorrect invocation")},M))for(b in S)v[b]&&s(v[b],C);if((!M||!E||E===j)&&(E=C.prototype,M))for(b in S)v[b]&&s(v[b].prototype,E);if(M&&r(f)!==E&&s(f,E),d&&!n(E,T))for(b in p=!0,c(E,T,{get:function(){return m(this)?this[_]:void 0}}),S)v[b]&&a(v[b],_,b);X.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:p&&_,aTypedArray:function(O){if(y(O))return O;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(O){if(s){if(x.call(C,O))return O}else for(var k in S)if(n(S,b)&&(k=v[k],k&&(O===k||x.call(k,O))))return O;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(O,k,F){if(d){if(F)for(var B in S)B=v[B],B&&n(B.prototype,O)&&delete B.prototype[O];E[O]&&!F||l(E,O,!F&&M&&u[O]||k)}},exportTypedArrayStaticMethod:function(O,k,F){var B,L;if(d){if(s){if(F)for(B in S)(L=v[B])&&n(L,O)&&delete L[O];if(C[O]&&!F)return;try{return l(C,O,!F&&M&&o[O]||k)}catch{}}for(B in S)!(L=v[B])||L[O]&&!F||l(L,O,k)}},isView:function(O){return O=i(O),O==="DataView"||n(S,O)},isTypedArray:y,TypedArray:C,TypedArrayPrototype:E}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/uid":146,"../internals/well-known-symbol":149}],13:[function(D,X,I){"use strict";function y(q){return[255&q]}function b(q){return[255&q,q>>8&255]}function h(q){return[255&q,q>>8&255,q>>16&255,q>>24&255]}function d(q){return q[3]<<24|q[2]<<16|q[1]<<8|q[0]}function v(q){return z(q,23,4)}function m(q){return z(q,52,8)}function n(q,J){p(q[G],J,{get:function(){return k(this)[J]}})}function i(be,J,he,ue){if(he=j(he),be=k(be),he+J>be.byteLength)throw N(K);var ae=k(be.buffer).bytes,he=he+be.byteOffset,be=ae.slice(he,he+J);return ue?be:be.reverse()}function a(q,J,re,ue,ae,he){if(re=j(re),q=k(q),re+J>q.byteLength)throw N(K);for(var be=k(q.buffer).bytes,Me=re+q.byteOffset,le=ue(+ae),pe=0;pe<J;pe++)be[Me+pe]=le[he?pe:J-pe-1]}var l=D("../internals/global"),c=D("../internals/descriptors"),r=D("../internals/array-buffer-native"),s=D("../internals/create-non-enumerable-property"),o=D("../internals/redefine-all"),u=D("../internals/fails"),f=D("../internals/an-instance"),C=D("../internals/to-integer"),E=D("../internals/to-length"),j=D("../internals/to-index"),x=D("../internals/ieee754"),T=D("../internals/object-get-prototype-of"),_=D("../internals/object-set-prototype-of"),M=D("../internals/object-get-own-property-names").f,p=D("../internals/object-define-property").f,S=D("../internals/array-fill"),O=D("../internals/set-to-string-tag"),D=D("../internals/internal-state"),k=D.get,F=D.set,B="ArrayBuffer",L="DataView",G="prototype",K="Wrong index",$=l[B],P=$,w=l[L],D=w&&w[G],H=Object.prototype,N=l.RangeError,z=x.pack,W=x.unpack;if(r){if(!u(function(){$(1)})||!u(function(){new $(-1)})||u(function(){return new $,new $(1.5),new $(NaN),$.name!=B})){for(var te,l=(P=function(re){return f(this,P),new $(j(re))})[G]=$[G],V=M($),Z=0;V.length>Z;)(te=V[Z++])in P||s(P,te,$[te]);l.constructor=P}_&&T(D)!==H&&_(D,H);var x=new w(new P(2)),Y=D.setInt8;x.setInt8(0,2147483648),x.setInt8(1,2147483649),!x.getInt8(0)&&x.getInt8(1)||o(D,{setInt8:function(J,re){Y.call(this,J,re<<24>>24)},setUint8:function(J,re){Y.call(this,J,re<<24>>24)}},{unsafe:!0})}else P=function(q){f(this,P,B),q=j(q),F(this,{bytes:S.call(new Array(q),0),byteLength:q}),c||(this.byteLength=q)},w=function(q,ae,re){f(this,w,L),f(q,P,L);var ue=k(q).byteLength,ae=C(ae);if(ae<0||ue<ae)throw N("Wrong offset");if(ue<ae+(re=re===void 0?ue-ae:E(re)))throw N("Wrong length");F(this,{buffer:q,byteLength:re,byteOffset:ae}),c||(this.buffer=q,this.byteLength=re,this.byteOffset=ae)},c&&(n(P,"byteLength"),n(w,"buffer"),n(w,"byteLength"),n(w,"byteOffset")),o(w[G],{getInt8:function(q){return i(this,1,q)[0]<<24>>24},getUint8:function(q){return i(this,1,q)[0]},getInt16:function(q){return q=i(this,2,q,1<arguments.length?arguments[1]:void 0),(q[1]<<8|q[0])<<16>>16},getUint16:function(q){return q=i(this,2,q,1<arguments.length?arguments[1]:void 0),q[1]<<8|q[0]},getInt32:function(q){return d(i(this,4,q,1<arguments.length?arguments[1]:void 0))},getUint32:function(q){return d(i(this,4,q,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(q){return W(i(this,4,q,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(q){return W(i(this,8,q,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(q,J){a(this,1,q,y,J)},setUint8:function(q,J){a(this,1,q,y,J)},setInt16:function(q,J){a(this,2,q,b,J,2<arguments.length?arguments[2]:void 0)},setUint16:function(q,J){a(this,2,q,b,J,2<arguments.length?arguments[2]:void 0)},setInt32:function(q,J){a(this,4,q,h,J,2<arguments.length?arguments[2]:void 0)},setUint32:function(q,J){a(this,4,q,h,J,2<arguments.length?arguments[2]:void 0)},setFloat32:function(q,J){a(this,4,q,v,J,2<arguments.length?arguments[2]:void 0)},setFloat64:function(q,J){a(this,8,q,m,J,2<arguments.length?arguments[2]:void 0)}});O(P,B),O(w,L),X.exports={ArrayBuffer:P,DataView:w}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/to-index":134,"../internals/to-integer":136,"../internals/to-length":137}],14:[function(t,X,I){"use strict";var y=t("../internals/to-object"),b=t("../internals/to-absolute-index"),h=t("../internals/to-length"),d=Math.min;X.exports=[].copyWithin||function(c,m){var n=y(this),i=h(n.length),a=b(c,i),l=b(m,i),c=2<arguments.length?arguments[2]:void 0,r=d((c===void 0?i:b(c,i))-l,i-a),s=1;for(l<a&&a<l+r&&(s=-1,l+=r-1,a+=r-1);0<r--;)l in n?n[a]=n[l]:delete n[a],a+=s,l+=s;return n}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],15:[function(t,X,I){"use strict";var y=t("../internals/to-object"),b=t("../internals/to-absolute-index"),h=t("../internals/to-length");X.exports=function(d){for(var v=y(this),m=h(v.length),i=arguments.length,n=b(1<i?arguments[1]:void 0,m),i=2<i?arguments[2]:void 0,a=i===void 0?m:b(i,m);n<a;)v[n++]=d;return v}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],16:[function(h,X,I){"use strict";var y=h("../internals/array-iteration").forEach,b=h("../internals/array-method-is-strict"),h=h("../internals/array-method-uses-to-length"),b=b("forEach"),h=h("forEach");X.exports=b&&h?[].forEach:function(d){return y(this,d,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,X,I){"use strict";var y=t("../internals/function-bind-context"),b=t("../internals/to-object"),h=t("../internals/call-with-safe-iteration-closing"),d=t("../internals/is-array-iterator-method"),v=t("../internals/to-length"),m=t("../internals/create-property"),n=t("../internals/get-iterator-method");X.exports=function(f){var a,l,c,r,s,o,u=b(f),f=typeof this=="function"?this:Array,C=arguments.length,E=1<C?arguments[1]:void 0,j=E!==void 0,x=n(u),T=0;if(j&&(E=y(E,2<C?arguments[2]:void 0,2)),x==null||f==Array&&d(x))for(l=new f(a=v(u.length));T<a;T++)o=j?E(u[T],T):u[T],m(l,T,o);else for(s=(r=x.call(u)).next,l=new f;!(c=s.call(r)).done;T++)o=j?h(r,E,[c.value,T],!0):c.value,m(l,T,o);return l.length=T,l}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],18:[function(t,X,I){function y(v){return function(m,n,i){var a,l=b(m),c=h(l.length),r=d(i,c);if(v&&n!=n){for(;r<c;)if((a=l[r++])!=a)return!0}else for(;r<c;r++)if((v||r in l)&&l[r]===n)return v||r||0;return!v&&-1}}var b=t("../internals/to-indexed-object"),h=t("../internals/to-length"),d=t("../internals/to-absolute-index");X.exports={includes:y(!0),indexOf:y(!1)}},{"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137}],19:[function(t,X,I){function y(i){var a=i==1,l=i==2,c=i==3,r=i==4,s=i==6,o=i==5||s;return function(u,f,C,E){for(var j,x,T=d(u),_=h(T),M=b(f,C,3),p=v(_.length),S=0,f=E||m,O=a?f(u,p):l?f(u,0):void 0;S<p;S++)if((o||S in _)&&(x=M(j=_[S],S,T),i)){if(a)O[S]=x;else if(x)switch(i){case 3:return!0;case 5:return j;case 6:return S;case 2:n.call(O,j)}else if(r)return!1}return s?-1:c||r?r:O}}var b=t("../internals/function-bind-context"),h=t("../internals/indexed-object"),d=t("../internals/to-object"),v=t("../internals/to-length"),m=t("../internals/array-species-create"),n=[].push;X.exports={forEach:y(0),map:y(1),filter:y(2),some:y(3),every:y(4),find:y(5),findIndex:y(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],20:[function(i,X,I){"use strict";var y=i("../internals/to-indexed-object"),b=i("../internals/to-integer"),h=i("../internals/to-length"),n=i("../internals/array-method-is-strict"),i=i("../internals/array-method-uses-to-length"),d=Math.min,v=[].lastIndexOf,m=!!v&&1/[1].lastIndexOf(1,-0)<0,n=n("lastIndexOf"),i=i("indexOf",{ACCESSORS:!0,1:0});X.exports=m||!n||!i?function(a){if(m)return v.apply(this,arguments)||0;var l=y(this),c=h(l.length),r=c-1;for((r=1<arguments.length?d(r,b(arguments[1])):r)<0&&(r=c+r);0<=r;r--)if(r in l&&l[r]===a)return r||0;return-1}:v},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":135,"../internals/to-integer":136,"../internals/to-length":137}],21:[function(t,X,I){var y=t("../internals/fails"),b=t("../internals/well-known-symbol"),h=t("../internals/engine-v8-version"),d=b("species");X.exports=function(v){return 51<=h||!y(function(){var m=[];return(m.constructor={})[d]=function(){return{foo:1}},m[v](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":149}],22:[function(t,X,I){"use strict";var y=t("../internals/fails");X.exports=function(b,h){var d=[][b];return!!d&&y(function(){d.call(null,h||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,X,I){function y(n){throw n}var b=t("../internals/descriptors"),h=t("../internals/fails"),d=t("../internals/has"),v=Object.defineProperty,m={};X.exports=function(n,i){var a,l,c,r;return d(m,n)?m[n]:(a=[][n],l=!!d(i=i||{},"ACCESSORS")&&i.ACCESSORS,c=d(i,0)?i[0]:y,r=d(i,1)?i[1]:void 0,m[n]=!!a&&!h(function(){if(l&&!b)return!0;var s={length:-1};l?v(s,1,{enumerable:!0,get:y}):s[1]=1,a.call(s,c,r)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,X,I){function y(m){return function(n,i,a,l){b(i);var c=h(n),r=d(c),s=v(c.length),o=m?s-1:0,u=m?-1:1;if(a<2)for(;;){if(o in r){l=r[o],o+=u;break}if(o+=u,m?o<0:s<=o)throw TypeError("Reduce of empty array with no initial value")}for(;m?0<=o:o<s;o+=u)o in r&&(l=i(l,r[o],o,c));return l}}var b=t("../internals/a-function"),h=t("../internals/to-object"),d=t("../internals/indexed-object"),v=t("../internals/to-length");X.exports={left:y(!1),right:y(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],25:[function(t,X,I){var y=t("../internals/is-object"),b=t("../internals/is-array"),h=t("../internals/well-known-symbol")("species");X.exports=function(d,v){var m;return new((m=b(d)&&(typeof(m=d.constructor)=="function"&&(m===Array||b(m.prototype))||y(m)&&(m=m[h])===null)?void 0:m)===void 0?Array:m)(v===0?0:v)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":149}],26:[function(t,X,I){var y=t("../internals/an-object");X.exports=function(b,h,d,v){try{return v?h(y(d)[0],d[1]):h(d)}catch(m){throw v=b.return,v!==void 0&&y(v.call(b)),m}}},{"../internals/an-object":10}],27:[function(t,X,I){var y=t("../internals/well-known-symbol")("iterator"),b=!1;try{var h=0,d={next:function(){return{done:!!h++}},return:function(){b=!0}};d[y]=function(){return this},Array.from(d,function(){throw 2})}catch{}X.exports=function(v,m){if(!m&&!b)return!1;var n=!1;try{var i={};i[y]=function(){return{next:function(){return{done:n=!0}}}},v(i)}catch{}return n}},{"../internals/well-known-symbol":149}],28:[function(t,X,I){var y={}.toString;X.exports=function(b){return y.call(b).slice(8,-1)}},{}],29:[function(t,X,I){var y=t("../internals/to-string-tag-support"),b=t("../internals/classof-raw"),h=t("../internals/well-known-symbol")("toStringTag"),d=b(function(){return arguments}())=="Arguments";X.exports=y?b:function(v){var m;return v===void 0?"Undefined":v===null?"Null":typeof(m=function(n,i){try{return n[i]}catch{}}(v=Object(v),h))=="string"?m:d?b(v):(m=b(v))=="Object"&&typeof v.callee=="function"?"Arguments":m}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":142,"../internals/well-known-symbol":149}],30:[function(c,X,I){"use strict";var y=c("../internals/object-define-property").f,b=c("../internals/object-create"),h=c("../internals/redefine-all"),d=c("../internals/function-bind-context"),v=c("../internals/an-instance"),m=c("../internals/iterate"),n=c("../internals/define-iterator"),i=c("../internals/set-species"),a=c("../internals/descriptors"),l=c("../internals/internal-metadata").fastKey,c=c("../internals/internal-state"),r=c.set,s=c.getterFor;X.exports={getConstructor:function(o,u,f,C){function E(_,M,p){var S,O=T(_),k=j(_,M);return k?k.value=p:(O.last=k={index:S=l(M,!0),key:M,value:p,previous:M=O.last,next:void 0,removed:!1},O.first||(O.first=k),M&&(M.next=k),a?O.size++:_.size++,S!=="F"&&(O.index[S]=k)),_}function j(S,M){var p,S=T(S),O=l(M);if(O!=="F")return S.index[O];for(p=S.first;p;p=p.next)if(p.key==M)return p}var x=o(function(_,M){v(_,x,u),r(_,{type:u,index:b(null),first:void 0,last:void 0,size:0}),a||(_.size=0),M!=null&&m(M,_[C],_,f)}),T=s(u);return h(x.prototype,{clear:function(){for(var _=T(this),M=_.index,p=_.first;p;)p.removed=!0,p.previous&&(p.previous=p.previous.next=void 0),delete M[p.index],p=p.next;_.first=_.last=void 0,a?_.size=0:this.size=0},delete:function(O){var M,p,S=T(this),O=j(this,O);return O&&(M=O.next,p=O.previous,delete S.index[O.index],O.removed=!0,p&&(p.next=M),M&&(M.previous=p),S.first==O&&(S.first=M),S.last==O&&(S.last=p),a?S.size--:this.size--),!!O},forEach:function(_){for(var M,p=T(this),S=d(_,1<arguments.length?arguments[1]:void 0,3);M=M?M.next:p.first;)for(S(M.value,M.key,this);M&&M.removed;)M=M.previous},has:function(_){return!!j(this,_)}}),h(x.prototype,f?{get:function(_){return _=j(this,_),_&&_.value},set:function(_,M){return E(this,_===0?0:_,M)}}:{add:function(_){return E(this,_=_===0?0:_,_)}}),a&&y(x.prototype,"size",{get:function(){return T(this).size}}),x},setStrong:function(o,u,f){var C=u+" Iterator",E=s(u),j=s(C);n(o,u,function(x,T){r(this,{type:C,target:x,state:E(x),kind:T,last:void 0})},function(){for(var x=j(this),T=x.kind,_=x.last;_&&_.removed;)_=_.previous;return x.target&&(x.last=_=_?_.next:x.state.first)?T=="keys"?{value:_.key,done:!1}:T=="values"?{value:_.value,done:!1}:{value:[_.key,_.value],done:!1}:{value:x.target=void 0,done:!0}},f?"entries":"values",!f,!0),i(u)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":108,"../internals/set-species":117}],31:[function(r,X,I){"use strict";function y(E){return E.frozen||(E.frozen=new b)}function b(){this.entries=[]}function h(E,j){return u(E.entries,function(x){return x[0]===j})}var d=r("../internals/redefine-all"),v=r("../internals/internal-metadata").getWeakData,m=r("../internals/an-object"),n=r("../internals/is-object"),i=r("../internals/an-instance"),a=r("../internals/iterate"),l=r("../internals/array-iteration"),c=r("../internals/has"),r=r("../internals/internal-state"),s=r.set,o=r.getterFor,u=l.find,f=l.findIndex,C=0;b.prototype={get:function(E){if(E=h(this,E),E)return E[1]},has:function(E){return!!h(this,E)},set:function(E,j){var x=h(this,E);x?x[1]=j:this.entries.push([E,j])},delete:function(E){var j=f(this.entries,function(x){return x[0]===E});return~j&&this.entries.splice(j,1),!!~j}},X.exports={getConstructor:function(E,j,x,T){function _(S,O,k){var F=p(S),B=v(m(O),!0);return B===!0?y(F).set(O,k):B[F.id]=k,S}var M=E(function(S,O){i(S,M,j),s(S,{type:j,id:C++,frozen:void 0}),O!=null&&a(O,S[T],S,x)}),p=o(j);return d(M.prototype,{delete:function(S){var O,k=p(this);return!!n(S)&&((O=v(S))===!0?y(k).delete(S):O&&c(O,k.id)&&delete O[k.id])},has:function(S){var O,k=p(this);return!!n(S)&&((O=v(S))===!0?y(k).has(S):O&&c(O,k.id))}}),d(M.prototype,x?{get:function(S){var O,k=p(this);if(n(S))return(O=v(S))===!0?y(k).get(S):O?O[k.id]:void 0},set:function(S,O){return _(this,S,O)}}:{add:function(S){return _(this,S,!0)}}),M}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":108}],32:[function(t,X,I){"use strict";var y=t("../internals/export"),b=t("../internals/global"),h=t("../internals/is-forced"),d=t("../internals/redefine"),v=t("../internals/internal-metadata"),m=t("../internals/iterate"),n=t("../internals/an-instance"),i=t("../internals/is-object"),a=t("../internals/fails"),l=t("../internals/check-correctness-of-iteration"),c=t("../internals/set-to-string-tag"),r=t("../internals/inherit-if-required");X.exports=function(s,o,u){function f(B){var L=O[B];d(O,B,B=="add"?function(G){return L.call(this,G===0?0:G),this}:B=="delete"?function(G){return!(M&&!i(G))&&L.call(this,G===0?0:G)}:B=="get"?function(G){return M&&!i(G)?void 0:L.call(this,G===0?0:G)}:B=="has"?function(G){return!(M&&!i(G))&&L.call(this,G===0?0:G)}:function(G,K){return L.call(this,G===0?0:G,K),this})}var C,E,j,x,T,_=s.indexOf("Map")!==-1,M=s.indexOf("Weak")!==-1,p=_?"set":"add",S=b[s],O=S&&S.prototype,k=S,F={};return h(s,typeof S!="function"||!(M||O.forEach&&!a(function(){new S().entries().next()})))?(k=u.getConstructor(o,s,_,p),v.REQUIRED=!0):h(s,!0)&&(E=(C=new k)[p](M?{}:-0,1)!=C,j=a(function(){C.has(1)}),x=l(function(B){new S(B)}),T=!M&&a(function(){for(var B=new S,L=5;L--;)B[p](L,L);return!B.has(-0)}),x||(((k=o(function(B,L){return n(B,k,s),B=r(new S,B,k),L!=null&&m(L,B[p],B,_),B})).prototype=O).constructor=k),(j||T)&&(f("delete"),f("has"),_&&f("get")),(T||E)&&f(p),M&&O.clear&&delete O.clear),F[s]=k,y({global:!0,forced:k!=S},F),c(k,s),M||u.setStrong(k,s,_),k}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":109,"../internals/set-to-string-tag":118}],33:[function(t,X,I){var y=t("../internals/has"),b=t("../internals/own-keys"),h=t("../internals/object-get-own-property-descriptor"),d=t("../internals/object-define-property");X.exports=function(v,m){for(var n=b(m),i=d.f,a=h.f,l=0;l<n.length;l++){var c=n[l];y(v,c)||i(v,c,a(m,c))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":104}],34:[function(t,X,I){var y=t("../internals/well-known-symbol")("match");X.exports=function(b){var h=/./;try{"/./"[b](h)}catch{try{return h[y]=!1,"/./"[b](h)}catch{}}return!1}},{"../internals/well-known-symbol":149}],35:[function(t,X,I){t=t("../internals/fails"),X.exports=!t(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},{"../internals/fails":51}],36:[function(t,X,I){var y=t("../internals/require-object-coercible"),b=/"/g;X.exports=function(n,d,v,m){var n=String(y(n)),i="<"+d;return v!==""&&(i+=" "+v+'="'+String(m).replace(b,"&quot;")+'"'),i+">"+n+"</"+d+">"}},{"../internals/require-object-coercible":114}],37:[function(t,X,I){"use strict";function y(){return this}var b=t("../internals/iterators-core").IteratorPrototype,h=t("../internals/object-create"),d=t("../internals/create-property-descriptor"),v=t("../internals/set-to-string-tag"),m=t("../internals/iterators");X.exports=function(n,i,a){return i+=" Iterator",n.prototype=h(b,{next:d(1,a)}),v(n,i,!1,!0),m[i]=y,n}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":118}],38:[function(t,X,I){var y=t("../internals/descriptors"),b=t("../internals/object-define-property"),h=t("../internals/create-property-descriptor");X.exports=y?function(d,v,m){return b.f(d,v,h(1,m))}:function(d,v,m){return d[v]=m,d}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,X,I){X.exports=function(y,b){return{enumerable:!(1&y),configurable:!(2&y),writable:!(4&y),value:b}}},{}],40:[function(t,X,I){"use strict";var y=t("../internals/to-primitive"),b=t("../internals/object-define-property"),h=t("../internals/create-property-descriptor");X.exports=function(d,v,m){v=y(v),v in d?b.f(d,v,h(0,m)):d[v]=m}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":141}],41:[function(r,X,I){"use strict";function y(){return this}var b=r("../internals/export"),h=r("../internals/create-iterator-constructor"),d=r("../internals/object-get-prototype-of"),v=r("../internals/object-set-prototype-of"),m=r("../internals/set-to-string-tag"),n=r("../internals/create-non-enumerable-property"),i=r("../internals/redefine"),a=r("../internals/well-known-symbol"),l=r("../internals/is-pure"),c=r("../internals/iterators"),r=r("../internals/iterators-core"),s=r.IteratorPrototype,o=r.BUGGY_SAFARI_ITERATORS,u=a("iterator"),f="values",C="entries";X.exports=function(E,j,x,F,_,M,p){h(x,j,F);function S(P){if(P===_&&K)return K;if(!o&&P in L)return L[P];switch(P){case"keys":case f:case C:return function(){return new x(this,P)}}return function(){return new x(this)}}var O,k,F=j+" Iterator",B=!1,L=E.prototype,G=L[u]||L["@@iterator"]||_&&L[_],K=!o&&G||S(_),$=j=="Array"&&L.entries||G;if($&&($=d($.call(new E)),s!==Object.prototype&&$.next&&(l||d($)===s||(v?v($,s):typeof $[u]!="function"&&n($,u,y)),m($,F,!0,!0),l&&(c[F]=y))),_==f&&G&&G.name!==f&&(B=!0,K=function(){return G.call(this)}),l&&!p||L[u]===K||n(L,u,K),c[j]=K,_)if(O={values:S(f),keys:M?K:S("keys"),entries:S(C)},p)for(k in O)!o&&!B&&k in L||i(L,k,O[k]);else b({target:j,proto:!0,forced:o||B},O);return O}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149}],42:[function(t,X,I){var y=t("../internals/path"),b=t("../internals/has"),h=t("../internals/well-known-symbol-wrapped"),d=t("../internals/object-define-property").f;X.exports=function(v){var m=y.Symbol||(y.Symbol={});b(m,v)||d(m,v,{value:h.f(v)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":105,"../internals/well-known-symbol-wrapped":148}],43:[function(t,X,I){t=t("../internals/fails"),X.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(b,X,I){var y=b("../internals/global"),b=b("../internals/is-object"),h=y.document,d=b(h)&&b(h.createElement);X.exports=function(v){return d?h.createElement(v):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,X,I){X.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,X,I){t=t("../internals/engine-user-agent"),X.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,X,I){t=t("../internals/get-built-in"),X.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(h,X,I){var y,b,d=h("../internals/global"),h=h("../internals/engine-user-agent"),d=d.process,d=d&&d.versions,d=d&&d.v8;d?b=(y=d.split("."))[0]+y[1]:h&&(!(y=h.match(/Edge\/(\d+)/))||74<=y[1])&&(y=h.match(/Chrome\/(\d+)/))&&(b=y[1]),X.exports=b&&+b},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,X,I){X.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,X,I){var y=t("../internals/global"),b=t("../internals/object-get-own-property-descriptor").f,h=t("../internals/create-non-enumerable-property"),d=t("../internals/redefine"),v=t("../internals/set-global"),m=t("../internals/copy-constructor-properties"),n=t("../internals/is-forced");X.exports=function(i,a){var l,c,r,s=i.target,o=i.global,u=i.stat,f=o?y:u?y[s]||v(s,{}):(y[s]||{}).prototype;if(f)for(l in a){if(c=a[l],r=i.noTargetGet?(r=b(f,l))&&r.value:f[l],!n(o?l:s+(u?".":"#")+l,i.forced)&&r!==void 0){if(typeof c==typeof r)continue;m(c,r)}(i.sham||r&&r.sham)&&h(c,"sham",!0),d(f,l,c,i)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":109,"../internals/set-global":116}],51:[function(t,X,I){X.exports=function(y){try{return!!y()}catch{return!0}}},{}],52:[function(a,X,I){"use strict";a("../modules/es.regexp.exec");var y=a("../internals/redefine"),b=a("../internals/fails"),h=a("../internals/well-known-symbol"),d=a("../internals/regexp-exec"),v=a("../internals/create-non-enumerable-property"),m=h("species"),n=!b(function(){var r=/./;return r.exec=function(){var s=[];return s.groups={a:"7"},s},"".replace(r,"$<a>")!=="7"}),i="a".replace(/./,"$0")==="$0",a=h("replace"),l=!!/./[a]&&/./[a]("a","$0")==="",c=!b(function(){var s=/(?:)/,r=s.exec,s=(s.exec=function(){return r.apply(this,arguments)},"ab".split(s));return s.length!==2||s[0]!=="a"||s[1]!=="b"});X.exports=function(r,s,o,u){var f,C,E=h(r),j=!b(function(){var T={};return T[E]=function(){return 7},""[r](T)!=7}),x=j&&!b(function(){var T=!1,_=/a/;return r==="split"&&((_={constructor:{}}).constructor[m]=function(){return _},_.flags="",_[E]=/./[E]),_.exec=function(){return T=!0,null},_[E](""),!T});j&&x&&(r!=="replace"||n&&i&&!l)&&(r!=="split"||c)||(f=/./[E],o=(x=o(E,""[r],function(T,_,M,p,S){return _.exec===d?j&&!S?{done:!0,value:f.call(_,M,p)}:{done:!0,value:T.call(M,_,p)}:{done:!1}},{REPLACE_KEEPS_$0:i,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:l}))[0],C=x[1],y(String.prototype,r,o),y(RegExp.prototype,E,s==2?function(T,_){return C.call(T,this,_)}:function(T){return C.call(T,this)})),u&&v(RegExp.prototype[E],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-exec":111,"../internals/well-known-symbol":149,"../modules/es.regexp.exec":192}],53:[function(t,X,I){"use strict";function y(v,m,n,i,a,l,c,r){for(var s,o=a,u=0,f=!!c&&d(c,r,3);u<i;){if(u in n){if(s=f?f(n[u],u,m):n[u],0<l&&b(s))o=y(v,m,s,h(s.length),o,l-1)-1;else{if(9007199254740991<=o)throw TypeError("Exceed the acceptable array length");v[o]=s}o++}u++}return o}var b=t("../internals/is-array"),h=t("../internals/to-length"),d=t("../internals/function-bind-context");X.exports=y},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":137}],54:[function(t,X,I){t=t("../internals/fails"),X.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,X,I){var y=t("../internals/a-function");X.exports=function(b,h,d){if(y(b),h===void 0)return b;switch(d){case 0:return function(){return b.call(h)};case 1:return function(v){return b.call(h,v)};case 2:return function(v,m){return b.call(h,v,m)};case 3:return function(v,m,n){return b.call(h,v,m,n)}}return function(){return b.apply(h,arguments)}}},{"../internals/a-function":5}],56:[function(t,X,I){"use strict";var y=t("../internals/a-function"),b=t("../internals/is-object"),h=[].slice,d={};X.exports=Function.bind||function(v){var m=y(this),n=h.call(arguments,1),i=function(){var a=n.concat(h.call(arguments));if(this instanceof i){var l=m,c=a.length,r=a;if(!(c in d)){for(var s=[],o=0;o<c;o++)s[o]="a["+o+"]";d[c]=Function("C,a","return new C("+s.join(",")+")")}return d[c](l,r)}return m.apply(v,a)};return b(m.prototype)&&(i.prototype=m.prototype),i}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,X,I){function y(d){return typeof d=="function"?d:void 0}var b=t("../internals/path"),h=t("../internals/global");X.exports=function(d,v){return arguments.length<2?y(b[d])||y(h[d]):b[d]&&b[d][v]||h[d]&&h[d][v]}},{"../internals/global":60,"../internals/path":105}],58:[function(t,X,I){var y=t("../internals/classof"),b=t("../internals/iterators"),h=t("../internals/well-known-symbol")("iterator");X.exports=function(d){if(d!=null)return d[h]||d["@@iterator"]||b[y(d)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":149}],59:[function(t,X,I){var y=t("../internals/an-object"),b=t("../internals/get-iterator-method");X.exports=function(h){var d=b(h);if(typeof d!="function")throw TypeError(String(h)+" is not iterable");return y(d.call(h))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,X,I){(function(y){function b(h){return h&&h.Math==Math&&h}X.exports=b(typeof globalThis=="object"&&globalThis)||b(typeof window=="object"&&window)||b(typeof self=="object"&&self)||b(typeof y=="object"&&y)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,X,I){var y={}.hasOwnProperty;X.exports=function(b,h){return y.call(b,h)}},{}],62:[function(t,X,I){X.exports={}},{}],63:[function(t,X,I){var y=t("../internals/global");X.exports=function(b,h){var d=y.console;d&&d.error&&(arguments.length===1?d.error(b):d.error(b,h))}},{"../internals/global":60}],64:[function(t,X,I){t=t("../internals/get-built-in"),X.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,X,I){var y=t("../internals/descriptors"),b=t("../internals/fails"),h=t("../internals/document-create-element");X.exports=!y&&!b(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,X,I){var y=Math.abs,b=Math.pow,h=Math.floor,d=Math.log,v=Math.LN2;X.exports={pack:function(m,n,o){var a,l,c,r=new Array(o),s=8*o-n-1,o=(1<<s)-1,u=o>>1,f=n===23?b(2,-24)-b(2,-77):0,C=m<0||m===0&&1/m<0?1:0,E=0;for((m=y(m))!=m||m===1/0?(l=m!=m?1:0,a=o):(a=h(d(m)/v),m*(c=b(2,-a))<1&&(a--,c*=2),2<=(m+=1<=a+u?f/c:f*b(2,1-u))*c&&(a++,c/=2),o<=a+u?(l=0,a=o):1<=a+u?(l=(m*c-1)*b(2,n),a+=u):(l=m*b(2,u-1)*b(2,n),a=0));8<=n;r[E++]=255&l,l/=256,n-=8);for(a=a<<n|l,s+=n;0<s;r[E++]=255&a,a/=256,s-=8);return r[--E]|=128*C,r},unpack:function(m,n){var i,a=m.length,o=8*a-n-1,l=(1<<o)-1,c=l>>1,r=o-7,s=a-1,o=m[s--],u=127&o;for(o>>=7;0<r;u=256*u+m[s],s--,r-=8);for(i=u&(1<<-r)-1,u>>=-r,r+=n;0<r;i=256*i+m[s],s--,r-=8);if(u===0)u=1-c;else{if(u===l)return i?NaN:o?-1/0:1/0;i+=b(2,n),u-=c}return(o?-1:1)*i*b(2,u-n)}}},{}],67:[function(t,X,I){var y=t("../internals/fails"),b=t("../internals/classof-raw"),h="".split;X.exports=y(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return b(d)=="String"?h.call(d,""):Object(d)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,X,I){var y=t("../internals/is-object"),b=t("../internals/object-set-prototype-of");X.exports=function(h,d,v){return b&&typeof(d=d.constructor)=="function"&&d!==v&&y(d=d.prototype)&&d!==v.prototype&&b(h,d),h}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(y,X,I){var y=y("../internals/shared-store"),b=Function.toString;typeof y.inspectSource!="function"&&(y.inspectSource=function(h){return b.call(h)}),X.exports=y.inspectSource},{"../internals/shared-store":120}],70:[function(t,X,I){function y(r){v(r,i,{value:{objectID:"O"+ ++a,weakData:{}}})}var b=t("../internals/hidden-keys"),h=t("../internals/is-object"),d=t("../internals/has"),v=t("../internals/object-define-property").f,m=t("../internals/uid"),n=t("../internals/freezing"),i=m("meta"),a=0,l=Object.isExtensible||function(){return!0},c=X.exports={REQUIRED:!1,fastKey:function(r,s){if(!h(r))return typeof r=="symbol"?r:(typeof r=="string"?"S":"P")+r;if(!d(r,i)){if(!l(r))return"F";if(!s)return"E";y(r)}return r[i].objectID},getWeakData:function(r,s){if(!d(r,i)){if(!l(r))return!0;if(!s)return!1;y(r)}return r[i].weakData},onFreeze:function(r){return n&&c.REQUIRED&&l(r)&&!d(r,i)&&y(r),r}};b[i]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":146}],71:[function(o,X,I){var y,b,h,d,v,m,n,i,a=o("../internals/native-weak-map"),u=o("../internals/global"),l=o("../internals/is-object"),c=o("../internals/create-non-enumerable-property"),r=o("../internals/has"),s=o("../internals/shared-key"),o=o("../internals/hidden-keys"),u=u.WeakMap;n=a?(y=new u,b=y.get,h=y.has,d=y.set,v=function(f,C){return d.call(y,f,C),C},m=function(f){return b.call(y,f)||{}},function(f){return h.call(y,f)}):(o[i=s("state")]=!0,v=function(f,C){return c(f,i,C),C},m=function(f){return r(f,i)?f[i]:{}},function(f){return r(f,i)}),X.exports={set:v,get:m,has:n,enforce:function(f){return n(f)?m(f):v(f,{})},getterFor:function(f){return function(C){if(l(C)&&(C=m(C)).type===f)return C;throw TypeError("Incompatible receiver, "+f+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":119}],72:[function(t,X,I){var y=t("../internals/well-known-symbol"),b=t("../internals/iterators"),h=y("iterator"),d=Array.prototype;X.exports=function(v){return v!==void 0&&(b.Array===v||d[h]===v)}},{"../internals/iterators":80,"../internals/well-known-symbol":149}],73:[function(t,X,I){var y=t("../internals/classof-raw");X.exports=Array.isArray||function(b){return y(b)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,X,I){function y(i,a){return(i=v[d(i)])==n||i!=m&&(typeof a=="function"?b(a):!!a)}var b=t("../internals/fails"),h=/#|\.prototype\./,d=y.normalize=function(i){return String(i).replace(h,".").toLowerCase()},v=y.data={},m=y.NATIVE="N",n=y.POLYFILL="P";X.exports=y},{"../internals/fails":51}],75:[function(t,X,I){X.exports=function(y){return typeof y=="object"?y!==null:typeof y=="function"}},{}],76:[function(t,X,I){X.exports=!1},{}],77:[function(t,X,I){var y=t("../internals/is-object"),b=t("../internals/classof-raw"),h=t("../internals/well-known-symbol")("match");X.exports=function(d){var v;return y(d)&&((v=d[h])!==void 0?!!v:b(d)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":149}],78:[function(t,X,I){function y(i,a){this.stopped=i,this.result=a}var b=t("../internals/an-object"),h=t("../internals/is-array-iterator-method"),d=t("../internals/to-length"),v=t("../internals/function-bind-context"),m=t("../internals/get-iterator-method"),n=t("../internals/call-with-safe-iteration-closing");(X.exports=function(i,a,l,c,r){var s,o,u,f,C,E,j=v(a,l,c?2:1);if(r)s=i;else{if(typeof(a=m(i))!="function")throw TypeError("Target is not iterable");if(h(a)){for(o=0,u=d(i.length);o<u;o++)if((f=c?j(b(E=i[o])[0],E[1]):j(i[o]))&&f instanceof y)return f;return new y(!1)}s=a.call(i)}for(C=s.next;!(E=C.call(s)).done;)if(typeof(f=n(s,j,E.value,c))=="object"&&f&&f instanceof y)return f;return new y(!1)}).stop=function(i){return new y(!0,i)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137}],79:[function(m,X,I){"use strict";var y,b,h=m("../internals/object-get-prototype-of"),d=m("../internals/create-non-enumerable-property"),v=m("../internals/has"),n=m("../internals/well-known-symbol"),m=m("../internals/is-pure"),n=n("iterator"),i=!1;[].keys&&("next"in(b=[].keys())?(h=h(h(b)))!==Object.prototype&&(y=h):i=!0),y==null&&(y={}),m||v(y,n)||d(y,n,function(){return this}),X.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:i}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":149}],80:[function(t,X,I){X.exports={}},{}],81:[function(t,X,I){X.exports=Math.sign||function(y){return(y=+y)==0||y!=y?y:y<0?-1:1}},{}],82:[function(c,X,I){var y,b,h,d,v,m,n,i,a=c("../internals/global"),C=c("../internals/object-get-own-property-descriptor").f,f=c("../internals/classof-raw"),l=c("../internals/task").set,c=c("../internals/engine-is-ios"),r=a.MutationObserver||a.WebKitMutationObserver,s=a.process,o=a.Promise,u=f(s)=="process",f=C(a,"queueMicrotask"),C=f&&f.value;C||(y=function(){var E,j;for(u&&(E=s.domain)&&E.exit();b;){j=b.fn,b=b.next;try{j()}catch(x){throw b?d():h=void 0,x}}h=void 0,E&&E.enter()},d=u?function(){s.nextTick(y)}:r&&!c?(v=!0,m=document.createTextNode(""),new r(y).observe(m,{characterData:!0}),function(){m.data=v=!v}):o&&o.resolve?(n=o.resolve(void 0),i=n.then,function(){i.call(n,y)}):function(){l.call(a,y)}),X.exports=C||function(E){E={fn:E,next:void 0},h&&(h.next=E),b||(b=E,d()),h=E}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":131}],83:[function(t,X,I){t=t("../internals/global"),X.exports=t.Promise},{"../internals/global":60}],84:[function(t,X,I){t=t("../internals/fails"),X.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,X,I){var y=t("../internals/fails"),b=t("../internals/well-known-symbol"),h=t("../internals/is-pure"),d=b("iterator");X.exports=!y(function(){var v=new URL("b?a=1&b=2&c=3","http://a"),m=v.searchParams,n="";return v.pathname="c%20d",m.forEach(function(i,a){m.delete("b"),n+=a+i}),h&&!v.toJSON||!m.sort||v.href!=="http://a/c%20d?a=1&c=3"||m.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!m[d]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":149}],86:[function(y,X,I){var b=y("../internals/global"),y=y("../internals/inspect-source"),b=b.WeakMap;X.exports=typeof b=="function"&&/native code/.test(y(b))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,X,I){"use strict";function y(h){var d,v;this.promise=new h(function(m,n){if(d!==void 0||v!==void 0)throw TypeError("Bad Promise constructor");d=m,v=n}),this.resolve=b(d),this.reject=b(v)}var b=t("../internals/a-function");X.exports.f=function(h){return new y(h)}},{"../internals/a-function":5}],88:[function(t,X,I){var y=t("../internals/is-regexp");X.exports=function(b){if(y(b))throw TypeError("The method doesn't accept regular expressions");return b}},{"../internals/is-regexp":77}],89:[function(t,X,I){var y=t("../internals/global").isFinite;X.exports=Number.isFinite||function(b){return typeof b=="number"&&y(b)}},{"../internals/global":60}],90:[function(t,X,I){"use strict";var y=t("../internals/descriptors"),b=t("../internals/fails"),h=t("../internals/object-keys"),d=t("../internals/object-get-own-property-symbols"),v=t("../internals/object-property-is-enumerable"),m=t("../internals/to-object"),n=t("../internals/indexed-object"),i=Object.assign,a=Object.defineProperty;X.exports=!i||b(function(){var l,c,r,s;return!(!y||i({b:1},i(a({},"a",{enumerable:!0,get:function(){a(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(c={},s="abcdefghijklmnopqrst",(l={})[r=Symbol()]=7,s.split("").forEach(function(o){c[o]=o}),i({},l)[r]!=7||h(i({},c)).join("")!=s)})?function(l,c){for(var r=m(l),s=arguments.length,o=1,u=d.f,f=v.f;o<s;)for(var C,E=n(arguments[o++]),j=u?h(E).concat(u(E)):h(E),x=j.length,T=0;T<x;)C=j[T++],y&&!f.call(E,C)||(r[C]=E[C]);return r}:i},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":138}],91:[function(a,X,I){function y(){}var b,h=a("../internals/an-object"),d=a("../internals/object-define-properties"),v=a("../internals/enum-bug-keys"),m=a("../internals/hidden-keys"),n=a("../internals/html"),i=a("../internals/document-create-element"),a=a("../internals/shared-key"),l="prototype",c="script",r=a("IE_PROTO"),s=function(u){return"<"+c+">"+u+"</"+c+">"},o=function(){try{b=document.domain&&new ActiveXObject("htmlfile")}catch{}o=b?((u=b).write(s("")),u.close(),f=u.parentWindow.Object,u=null,f):(u=i("iframe"),f="java"+c+":",u.style.display="none",n.appendChild(u),u.src=String(f),(f=u.contentWindow.document).open(),f.write(s("document.F=Object")),f.close(),f.F);for(var u,f,C=v.length;C--;)delete o[l][v[C]];return o()};m[r]=!0,X.exports=Object.create||function(u,f){var C;return u!==null?(y[l]=h(u),C=new y,y[l]=null,C[r]=u):C=o(),f===void 0?C:d(C,f)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":119}],92:[function(t,X,I){var y=t("../internals/descriptors"),b=t("../internals/object-define-property"),h=t("../internals/an-object"),d=t("../internals/object-keys");X.exports=y?Object.defineProperties:function(v,m){h(v);for(var n,i=d(m),a=i.length,l=0;l<a;)b.f(v,n=i[l++],m[n]);return v}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,X,I){var y=t("../internals/descriptors"),b=t("../internals/ie8-dom-define"),h=t("../internals/an-object"),d=t("../internals/to-primitive"),v=Object.defineProperty;I.f=y?v:function(m,n,i){if(h(m),n=d(n,!0),h(i),b)try{return v(m,n,i)}catch{}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(m[n]=i.value),m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":141}],94:[function(t,X,I){var y=t("../internals/descriptors"),b=t("../internals/object-property-is-enumerable"),h=t("../internals/create-property-descriptor"),d=t("../internals/to-indexed-object"),v=t("../internals/to-primitive"),m=t("../internals/has"),n=t("../internals/ie8-dom-define"),i=Object.getOwnPropertyDescriptor;I.f=y?i:function(a,l){if(a=d(a),l=v(l,!0),n)try{return i(a,l)}catch{}if(m(a,l))return h(!b.f.call(a,l),a[l])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":135,"../internals/to-primitive":141}],95:[function(t,X,I){var y=t("../internals/to-indexed-object"),b=t("../internals/object-get-own-property-names").f,h={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];X.exports.f=function(v){if(!d||h.call(v)!="[object Window]")return b(y(v));try{return b(v)}catch{return d.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":135}],96:[function(t,X,I){var y=t("../internals/object-keys-internal"),b=t("../internals/enum-bug-keys").concat("length","prototype");I.f=Object.getOwnPropertyNames||function(h){return y(h,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,X,I){I.f=Object.getOwnPropertySymbols},{}],98:[function(d,X,I){var y=d("../internals/has"),b=d("../internals/to-object"),h=d("../internals/shared-key"),d=d("../internals/correct-prototype-getter"),v=h("IE_PROTO"),m=Object.prototype;X.exports=d?Object.getPrototypeOf:function(n){return n=b(n),y(n,v)?n[v]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?m:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":119,"../internals/to-object":138}],99:[function(t,X,I){var y=t("../internals/has"),b=t("../internals/to-indexed-object"),h=t("../internals/array-includes").indexOf,d=t("../internals/hidden-keys");X.exports=function(v,m){var n,i=b(v),a=0,l=[];for(n in i)!y(d,n)&&y(i,n)&&l.push(n);for(;m.length>a;)!y(i,n=m[a++])||~h(l,n)||l.push(n);return l}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":135}],100:[function(t,X,I){var y=t("../internals/object-keys-internal"),b=t("../internals/enum-bug-keys");X.exports=Object.keys||function(h){return y(h,b)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,X,I){"use strict";var y={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,h=b&&!y.call({1:2},1);I.f=h?function(d){return d=b(this,d),!!d&&d.enumerable}:y},{}],102:[function(t,X,I){var y=t("../internals/an-object"),b=t("../internals/a-possible-prototype");X.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var h,d=!1,v={};try{(h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(v,[]),d=v instanceof Array}catch{}return function(m,n){return y(m),b(n),d?h.call(m,n):m.__proto__=n,m}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,X,I){"use strict";var y=t("../internals/to-string-tag-support"),b=t("../internals/classof");X.exports=y?{}.toString:function(){return"[object "+b(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":142}],104:[function(t,X,I){var y=t("../internals/get-built-in"),b=t("../internals/object-get-own-property-names"),h=t("../internals/object-get-own-property-symbols"),d=t("../internals/an-object");X.exports=y("Reflect","ownKeys")||function(v){var m=b.f(d(v)),n=h.f;return n?m.concat(n(v)):m}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],105:[function(t,X,I){t=t("../internals/global"),X.exports=t},{"../internals/global":60}],106:[function(t,X,I){X.exports=function(y){try{return{error:!1,value:y()}}catch(b){return{error:!0,value:b}}}},{}],107:[function(t,X,I){var y=t("../internals/an-object"),b=t("../internals/is-object"),h=t("../internals/new-promise-capability");X.exports=function(d,v){return y(d),b(v)&&v.constructor===d?v:((0,(d=h.f(d)).resolve)(v),d.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],108:[function(t,X,I){var y=t("../internals/redefine");X.exports=function(b,h,d){for(var v in h)y(b,v,h[v],d);return b}},{"../internals/redefine":109}],109:[function(m,X,I){var y=m("../internals/global"),b=m("../internals/create-non-enumerable-property"),h=m("../internals/has"),d=m("../internals/set-global"),v=m("../internals/inspect-source"),m=m("../internals/internal-state"),n=m.get,i=m.enforce,a=String(String).split("String");(X.exports=function(l,c,r,f){var o=!!f&&!!f.unsafe,u=!!f&&!!f.enumerable,f=!!f&&!!f.noTargetGet;typeof r=="function"&&(typeof c!="string"||h(r,"name")||b(r,"name",c),i(r).source=a.join(typeof c=="string"?c:"")),l===y?u?l[c]=r:d(c,r):(o?!f&&l[c]&&(u=!0):delete l[c],u?l[c]=r:b(l,c,r))})(Function.prototype,"toString",function(){return typeof this=="function"&&n(this).source||v(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":116}],110:[function(t,X,I){var y=t("./classof-raw"),b=t("./regexp-exec");X.exports=function(h,d){var v=h.exec;if(typeof v=="function"){if(v=v.call(h,d),typeof v!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return v}if(y(h)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return b.call(h,d)}},{"./classof-raw":28,"./regexp-exec":111}],111:[function(d,X,I){"use strict";var y,b,h=d("./regexp-flags"),d=d("./regexp-sticky-helpers"),v=RegExp.prototype.exec,m=String.prototype.replace,n=v,i=(y=/a/,b=/b*/g,v.call(y,"a"),v.call(b,"a"),y.lastIndex!==0||b.lastIndex!==0),a=d.UNSUPPORTED_Y||d.BROKEN_CARET,l=/()??/.exec("")[1]!==void 0;X.exports=n=i||l||a?function(c){var r,s,o,u,f=this,C=a&&f.sticky,E=h.call(f),j=f.source,x=0,T=c;return C&&((E=E.replace("y","")).indexOf("g")===-1&&(E+="g"),T=String(c).slice(f.lastIndex),0<f.lastIndex&&(!f.multiline||f.multiline&&c[f.lastIndex-1]!==`
`)&&(j="(?: "+j+")",T=" "+T,x++),s=new RegExp("^(?:"+j+")",E)),l&&(s=new RegExp("^"+j+"$(?!\\s)",E)),i&&(r=f.lastIndex),o=v.call(C?s:f,T),C?o?(o.input=o.input.slice(x),o[0]=o[0].slice(x),o.index=f.lastIndex,f.lastIndex+=o[0].length):f.lastIndex=0:i&&o&&(f.lastIndex=f.global?o.index+o[0].length:r),l&&o&&1<o.length&&m.call(o[0],s,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(o[u]=void 0)}),o}:n},{"./regexp-flags":112,"./regexp-sticky-helpers":113}],112:[function(t,X,I){"use strict";var y=t("../internals/an-object");X.exports=function(){var b=y(this),h="";return b.global&&(h+="g"),b.ignoreCase&&(h+="i"),b.multiline&&(h+="m"),b.dotAll&&(h+="s"),b.unicode&&(h+="u"),b.sticky&&(h+="y"),h}},{"../internals/an-object":10}],113:[function(t,X,I){"use strict";t=t("./fails");function y(b,h){return RegExp(b,h)}I.UNSUPPORTED_Y=t(function(){var b=y("a","y");return b.lastIndex=2,b.exec("abcd")!=null}),I.BROKEN_CARET=t(function(){var b=y("^r","gy");return b.lastIndex=2,b.exec("str")!=null})},{"./fails":51}],114:[function(t,X,I){X.exports=function(y){if(y==null)throw TypeError("Can't call method on "+y);return y}},{}],115:[function(t,X,I){X.exports=Object.is||function(y,b){return y===b?y!==0||1/y==1/b:y!=y&&b!=b}},{}],116:[function(t,X,I){var y=t("../internals/global"),b=t("../internals/create-non-enumerable-property");X.exports=function(h,d){try{b(y,h,d)}catch{y[h]=d}return d}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],117:[function(t,X,I){"use strict";var y=t("../internals/get-built-in"),b=t("../internals/object-define-property"),h=t("../internals/well-known-symbol"),d=t("../internals/descriptors"),v=h("species");X.exports=function(n){var n=y(n),i=b.f;d&&n&&!n[v]&&i(n,v,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],118:[function(t,X,I){var y=t("../internals/object-define-property").f,b=t("../internals/has"),h=t("../internals/well-known-symbol")("toStringTag");X.exports=function(d,v,m){d&&!b(d=m?d:d.prototype,h)&&y(d,h,{configurable:!0,value:v})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],119:[function(t,X,I){var y=t("../internals/shared"),b=t("../internals/uid"),h=y("keys");X.exports=function(d){return h[d]||(h[d]=b(d))}},{"../internals/shared":121,"../internals/uid":146}],120:[function(y,X,I){var h=y("../internals/global"),y=y("../internals/set-global"),b="__core-js_shared__",h=h[b]||y(b,{});X.exports=h},{"../internals/global":60,"../internals/set-global":116}],121:[function(t,X,I){var y=t("../internals/is-pure"),b=t("../internals/shared-store");(X.exports=function(h,d){return b[h]||(b[h]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:y?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":120}],122:[function(t,X,I){var y=t("../internals/an-object"),b=t("../internals/a-function"),h=t("../internals/well-known-symbol")("species");X.exports=function(m,v){var m=y(m).constructor;return m===void 0||(m=y(m)[h])==null?v:b(m)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":149}],123:[function(t,X,I){var y=t("../internals/fails");X.exports=function(b){return y(function(){var h=""[b]('"');return h!==h.toLowerCase()||3<h.split('"').length})}},{"../internals/fails":51}],124:[function(t,X,I){function y(d){return function(i,a){var n,i=String(h(i)),a=b(a),l=i.length;return a<0||l<=a?d?"":void 0:(n=i.charCodeAt(a))<55296||56319<n||a+1===l||(l=i.charCodeAt(a+1))<56320||57343<l?d?i.charAt(a):n:d?i.slice(a,a+2):l-56320+(n-55296<<10)+65536}}var b=t("../internals/to-integer"),h=t("../internals/require-object-coercible");X.exports={codeAt:y(!1),charAt:y(!0)}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],125:[function(t,X,I){t=t("../internals/engine-user-agent"),X.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],126:[function(t,X,I){function y(m){return function(l,s,r){var l=String(d(l)),c=l.length,r=r===void 0?" ":String(r),s=b(s);return s<=c||r==""?l:((c=h.call(r,v((s=s-c)/r.length))).length>s&&(c=c.slice(0,s)),m?l+c:c+l)}}var b=t("../internals/to-length"),h=t("../internals/string-repeat"),d=t("../internals/require-object-coercible"),v=Math.ceil;X.exports={start:y(!1),end:y(!0)}},{"../internals/require-object-coercible":114,"../internals/string-repeat":128,"../internals/to-length":137}],127:[function(t,X,I){"use strict";function y(o){return o+22+75*(o<26)}function b(o){var u,f=[],C=(o=function(G){for(var K=[],$=0,P=G.length;$<P;){var w,D=G.charCodeAt($++);55296<=D&&D<=56319&&$<P?(64512&(w=G.charCodeAt($++)))==56320?K.push(((1023&D)<<10)+(1023&w)+65536):(K.push(D),$--):K.push(D)}return K}(o)).length,E=128,j=0,x=72;for(p=0;p<o.length;p++)(u=o[p])<128&&f.push(s(u));var T=f.length,_=T;for(T&&f.push("-");_<C;){for(var M=h,p=0;p<o.length;p++)E<=(u=o[p])&&u<M&&(M=u);var S=_+1;if(M-E>r((h-j)/S))throw RangeError(l);for(j+=(M-E)*S,E=M,p=0;p<o.length;p++){if((u=o[p])<E&&++j>h)throw RangeError(l);if(u==E){for(var O=j,k=d;;k+=d){var F=k<=x?1:x+v<=k?v:k-x;if(O<F)break;var B=O-F,L=d-F;f.push(s(y(F+B%L))),O=r(B/L)}f.push(s(y(O))),x=function(G,K,$){var P=0;for(G=$?r(G/n):G>>1,G+=r(G/K);c*v>>1<G;P+=d)G=r(G/c);return r(P+(c+1)*G/(G+m))}(j,S,_==T),j=0,++_}}++j,++E}return f.join("")}var h=2147483647,d=36,v=26,m=38,n=700,i=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,l="Overflow: input needs wider integers to process",c=d-1,r=Math.floor,s=String.fromCharCode;X.exports=function(o){for(var u,f=[],C=o.toLowerCase().replace(a,".").split("."),E=0;E<C.length;E++)u=C[E],f.push(i.test(u)?"xn--"+b(u):u);return f.join(".")}},{}],128:[function(t,X,I){"use strict";var y=t("../internals/to-integer"),b=t("../internals/require-object-coercible");X.exports="".repeat||function(h){var d=String(b(this)),v="",m=y(h);if(m<0||m==1/0)throw RangeError("Wrong number of repetitions");for(;0<m;(m>>>=1)&&(d+=d))1&m&&(v+=d);return v}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],129:[function(t,X,I){var y=t("../internals/fails"),b=t("../internals/whitespaces");X.exports=function(h){return y(function(){return!!b[h]()||"\u200B\x85\u180E"[h]()!="\u200B\x85\u180E"||b[h].name!==h})}},{"../internals/fails":51,"../internals/whitespaces":150}],130:[function(h,X,I){function y(m){return function(n){return n=String(b(n)),1&m&&(n=n.replace(d,"")),n=2&m?n.replace(v,""):n}}var b=h("../internals/require-object-coercible"),h="["+h("../internals/whitespaces")+"]",d=RegExp("^"+h+h+"*"),v=RegExp(h+h+"*$");X.exports={start:y(1),end:y(2),trim:y(3)}},{"../internals/require-object-coercible":114,"../internals/whitespaces":150}],131:[function(c,X,I){function y(_){return function(){T(_)}}function b(_){T(_.data)}function h(_){v.postMessage(_+"",r.protocol+"//"+r.host)}var d,v=c("../internals/global"),m=c("../internals/fails"),n=c("../internals/classof-raw"),i=c("../internals/function-bind-context"),a=c("../internals/html"),l=c("../internals/document-create-element"),c=c("../internals/engine-is-ios"),r=v.location,s=v.setImmediate,o=v.clearImmediate,u=v.process,f=v.MessageChannel,C=v.Dispatch,E=0,j={},x="onreadystatechange",T=function(_){var M;j.hasOwnProperty(_)&&(M=j[_],delete j[_],M())};s&&o||(s=function(_){for(var M=[],p=1;p<arguments.length;)M.push(arguments[p++]);return j[++E]=function(){(typeof _=="function"?_:Function(_)).apply(void 0,M)},d(E),E},o=function(_){delete j[_]},n(u)=="process"?d=function(_){u.nextTick(y(_))}:C&&C.now?d=function(_){C.now(y(_))}:f&&!c?(c=(n=new f).port2,n.port1.onmessage=b,d=i(c.postMessage,c,1)):!v.addEventListener||typeof postMessage!="function"||v.importScripts||m(h)||r.protocol==="file:"?d=x in l("script")?function(_){a.appendChild(l("script"))[x]=function(){a.removeChild(this),T(_)}}:function(_){setTimeout(y(_),0)}:(d=h,v.addEventListener("message",b,!1))),X.exports={set:s,clear:o}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],132:[function(t,X,I){var y=t("../internals/classof-raw");X.exports=function(b){if(typeof b!="number"&&y(b)!="Number")throw TypeError("Incorrect invocation");return+b}},{"../internals/classof-raw":28}],133:[function(t,X,I){var y=t("../internals/to-integer"),b=Math.max,h=Math.min;X.exports=function(d,v){return d=y(d),d<0?b(d+v,0):h(d,v)}},{"../internals/to-integer":136}],134:[function(t,X,I){var y=t("../internals/to-integer"),b=t("../internals/to-length");X.exports=function(d){if(d===void 0)return 0;var d=y(d),v=b(d);if(d!==v)throw RangeError("Wrong length or index");return v}},{"../internals/to-integer":136,"../internals/to-length":137}],135:[function(t,X,I){var y=t("../internals/indexed-object"),b=t("../internals/require-object-coercible");X.exports=function(h){return y(b(h))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":114}],136:[function(t,X,I){var y=Math.ceil,b=Math.floor;X.exports=function(h){return isNaN(h=+h)?0:(0<h?b:y)(h)}},{}],137:[function(t,X,I){var y=t("../internals/to-integer"),b=Math.min;X.exports=function(h){return 0<h?b(y(h),9007199254740991):0}},{"../internals/to-integer":136}],138:[function(t,X,I){var y=t("../internals/require-object-coercible");X.exports=function(b){return Object(y(b))}},{"../internals/require-object-coercible":114}],139:[function(t,X,I){var y=t("../internals/to-positive-integer");X.exports=function(b,h){if(b=y(b),b%h)throw RangeError("Wrong offset");return b}},{"../internals/to-positive-integer":140}],140:[function(t,X,I){var y=t("../internals/to-integer");X.exports=function(b){if(b=y(b),b<0)throw RangeError("The argument can't be less than 0");return b}},{"../internals/to-integer":136}],141:[function(t,X,I){var y=t("../internals/is-object");X.exports=function(b,h){if(!y(b))return b;var d,v;if(h&&typeof(d=b.toString)=="function"&&!y(v=d.call(b))||typeof(d=b.valueOf)=="function"&&!y(v=d.call(b))||!h&&typeof(d=b.toString)=="function"&&!y(v=d.call(b)))return v;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],142:[function(t,X,I){var y={};y[t("../internals/well-known-symbol")("toStringTag")]="z",X.exports=String(y)==="[object z]"},{"../internals/well-known-symbol":149}],143:[function(t,X,I){"use strict";function y(ae,he){for(var be=0,Me=he.length,le=new(q(ae))(Me);be<Me;)le[be]=he[be++];return le}function b(ae,he){w(ae,he,{get:function(){return $(this)[he]}})}function h(ae){return ae instanceof z||(ae=T(ae))=="ArrayBuffer"||ae=="SharedArrayBuffer"}function d(ae,he){return J(ae)&&typeof he!="symbol"&&he in ae&&String(+he)==String(he)}function v(ae,he){return d(ae,he=j(he,!0))?o(2,ae[he]):D(ae,he)}function m(ae,he,be){return!(d(ae,he=j(he,!0))&&_(be)&&x(be,"value"))||x(be,"get")||x(be,"set")||be.configurable||x(be,"writable")&&!be.writable||x(be,"enumerable")&&!be.enumerable?w(ae,he,be):(ae[he]=be.value,ae)}var n=t("../internals/export"),i=t("../internals/global"),a=t("../internals/descriptors"),l=t("../internals/typed-array-constructors-require-wrappers"),c=t("../internals/array-buffer-view-core"),r=t("../internals/array-buffer"),s=t("../internals/an-instance"),o=t("../internals/create-property-descriptor"),u=t("../internals/create-non-enumerable-property"),f=t("../internals/to-length"),C=t("../internals/to-index"),E=t("../internals/to-offset"),j=t("../internals/to-primitive"),x=t("../internals/has"),T=t("../internals/classof"),_=t("../internals/is-object"),M=t("../internals/object-create"),p=t("../internals/object-set-prototype-of"),S=t("../internals/object-get-own-property-names").f,O=t("../internals/typed-array-from"),k=t("../internals/array-iteration").forEach,F=t("../internals/set-species"),B=t("../internals/object-define-property"),L=t("../internals/object-get-own-property-descriptor"),G=t("../internals/internal-state"),K=t("../internals/inherit-if-required"),$=G.get,P=G.set,w=B.f,D=L.f,H=Math.round,N=i.RangeError,z=r.ArrayBuffer,W=r.DataView,te=c.NATIVE_ARRAY_BUFFER_VIEWS,V=c.TYPED_ARRAY_TAG,Z=c.TypedArray,Y=c.TypedArrayPrototype,q=c.aTypedArrayConstructor,J=c.isTypedArray,re="BYTES_PER_ELEMENT",ue="Wrong length";a?(te||(L.f=v,B.f=m,b(Y,"buffer"),b(Y,"byteOffset"),b(Y,"byteLength"),b(Y,"length")),n({target:"Object",stat:!0,forced:!te},{getOwnPropertyDescriptor:v,defineProperty:m}),X.exports=function(me,he,be){function Me(xe,oe){w(xe,oe,{get:function(){var ce=this,se=oe;return(ce=$(ce)).view[ge](se*le+ce.byteOffset,!0)},set:function(ce){var se=this,fe=oe;se=$(se),be&&(ce=(ce=H(ce))<0?0:255<ce?255:255&ce),se.view[ve](fe*le+se.byteOffset,ce,!0)},enumerable:!0})}var le=me.match(/\d+$/)[0]/8,pe=me+(be?"Clamped":"")+"Array",ge="get"+me,ve="set"+me,Se=i[pe],je=Se,me=je&&je.prototype,we={};te?l&&(je=he(function(xe,oe,ce,se){return s(xe,je,pe),K(_(oe)?h(oe)?se!==void 0?new Se(oe,E(ce,le),se):ce!==void 0?new Se(oe,E(ce,le)):new Se(oe):J(oe)?y(je,oe):O.call(je,oe):new Se(C(oe)),xe,je)}),p&&p(je,Z),k(S(Se),function(xe){xe in je||u(je,xe,Se[xe])}),je.prototype=me):(je=he(function(xe,oe,ce,se){s(xe,je,pe);var fe,ke,Ee=0,Pe=0;if(_(oe)){if(!h(oe))return J(oe)?y(je,oe):O.call(je,oe);var Be=oe,Pe=E(ce,le),ce=oe.byteLength;if(se===void 0){if(ce%le||(fe=ce-Pe)<0)throw N(ue)}else if(ce<(fe=f(se)*le)+Pe)throw N(ue);ke=fe/le}else ke=C(oe),Be=new z(fe=ke*le);for(P(xe,{buffer:Be,byteOffset:Pe,byteLength:fe,length:ke,view:new W(Be)});Ee<ke;)Me(xe,Ee++)}),p&&p(je,Z),me=je.prototype=M(Y)),me.constructor!==je&&u(me,"constructor",je),V&&u(me,V,pe),we[pe]=je,n({global:!0,forced:je!=Se,sham:!te},we),re in je||u(je,re,le),re in me||u(me,re,le),F(pe)}):X.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":117,"../internals/to-index":134,"../internals/to-length":137,"../internals/to-offset":139,"../internals/to-primitive":141,"../internals/typed-array-constructors-require-wrappers":144,"../internals/typed-array-from":145}],144:[function(d,X,I){var y=d("../internals/global"),b=d("../internals/fails"),h=d("../internals/check-correctness-of-iteration"),d=d("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,v=y.ArrayBuffer,m=y.Int8Array;X.exports=!d||!b(function(){m(1)})||!b(function(){new m(-1)})||!h(function(n){new m,new m(null),new m(1.5),new m(n)},!0)||b(function(){return new m(new v(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],145:[function(t,X,I){var y=t("../internals/to-object"),b=t("../internals/to-length"),h=t("../internals/get-iterator-method"),d=t("../internals/is-array-iterator-method"),v=t("../internals/function-bind-context"),m=t("../internals/array-buffer-view-core").aTypedArrayConstructor;X.exports=function(n){var i,a,l,c,r,s,o=y(n),u=arguments.length,f=1<u?arguments[1]:void 0,C=f!==void 0,E=h(o);if(E!=null&&!d(E))for(s=(r=E.call(o)).next,o=[];!(c=s.call(r)).done;)o.push(c.value);for(C&&2<u&&(f=v(f,arguments[2],2)),a=b(o.length),l=new(m(this))(a),i=0;i<a;i++)l[i]=C?f(o[i],i):o[i];return l}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],146:[function(t,X,I){var y=0,b=Math.random();X.exports=function(h){return"Symbol("+String(h===void 0?"":h)+")_"+(++y+b).toString(36)}},{}],147:[function(t,X,I){t=t("../internals/native-symbol"),X.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],148:[function(t,X,I){t=t("../internals/well-known-symbol"),I.f=t},{"../internals/well-known-symbol":149}],149:[function(m,X,I){var y=m("../internals/global"),b=m("../internals/shared"),h=m("../internals/has"),d=m("../internals/uid"),v=m("../internals/native-symbol"),m=m("../internals/use-symbol-as-uid"),n=b("wks"),i=y.Symbol,a=m?i:i&&i.withoutSetter||d;X.exports=function(l){return h(n,l)||(v&&h(i,l)?n[l]=i[l]:n[l]=a("Symbol."+l)),n[l]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":121,"../internals/uid":146,"../internals/use-symbol-as-uid":147}],150:[function(t,X,I){X.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],151:[function(h,X,I){"use strict";var y=h("../internals/export"),b=h("../internals/global"),v=h("../internals/array-buffer"),h=h("../internals/set-species"),d="ArrayBuffer",v=v[d];y({global:!0,forced:b[d]!==v},{ArrayBuffer:v}),h(d)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":117}],152:[function(o,X,I){"use strict";var y=o("../internals/export"),b=o("../internals/fails"),h=o("../internals/is-array"),d=o("../internals/is-object"),v=o("../internals/to-object"),m=o("../internals/to-length"),n=o("../internals/create-property"),i=o("../internals/array-species-create"),a=o("../internals/array-method-has-species-support"),s=o("../internals/well-known-symbol"),o=o("../internals/engine-v8-version"),l=s("isConcatSpreadable"),c=9007199254740991,r="Maximum allowed index exceeded",s=51<=o||!b(function(){var u=[];return u[l]=!1,u.concat()[0]!==u}),o=a("concat");y({target:"Array",proto:!0,forced:!s||!o},{concat:function(u){for(var f,C,E,j,x,T=v(this),_=i(T,0),M=0,p=-1,S=arguments.length;p<S;p++)if(x=void 0,!d(j=E=p===-1?T:arguments[p])||((x=j[l])!==void 0?!x:!h(j))){if(c<=M)throw TypeError(r);n(_,M++,E)}else{if(C=m(E.length),c<M+C)throw TypeError(r);for(f=0;f<C;f++,M++)f in E&&n(_,M,E[f])}return _.length=M,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":137,"../internals/to-object":138,"../internals/well-known-symbol":149}],153:[function(h,X,I){var y=h("../internals/export"),b=h("../internals/array-copy-within"),h=h("../internals/add-to-unscopables");y({target:"Array",proto:!0},{copyWithin:b}),h("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],154:[function(d,X,I){"use strict";var y=d("../internals/export"),b=d("../internals/array-iteration").every,h=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),h=h("every"),d=d("every");y({target:"Array",proto:!0,forced:!h||!d},{every:function(v){return b(this,v,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],155:[function(h,X,I){var y=h("../internals/export"),b=h("../internals/array-fill"),h=h("../internals/add-to-unscopables");y({target:"Array",proto:!0},{fill:b}),h("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],156:[function(d,X,I){"use strict";var y=d("../internals/export"),b=d("../internals/array-iteration").filter,h=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),h=h("filter"),d=d("filter");y({target:"Array",proto:!0,forced:!h||!d},{filter:function(v){return b(this,v,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(m,X,I){"use strict";var y=m("../internals/export"),b=m("../internals/array-iteration").findIndex,h=m("../internals/add-to-unscopables"),m=m("../internals/array-method-uses-to-length"),d="findIndex",v=!0,m=m(d);d in[]&&Array(1)[d](function(){v=!1}),y({target:"Array",proto:!0,forced:v||!m},{findIndex:function(n){return b(this,n,1<arguments.length?arguments[1]:void 0)}}),h(d)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(t,X,I){"use strict";var y=t("../internals/export"),b=t("../internals/flatten-into-array"),h=t("../internals/to-object"),d=t("../internals/to-length"),v=t("../internals/a-function"),m=t("../internals/array-species-create");y({target:"Array",proto:!0},{flatMap:function(n){var i,a=h(this),l=d(a.length);return v(n),(i=m(a,0)).length=b(i,a,a,l,0,1,n,1<arguments.length?arguments[1]:void 0),i}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":137,"../internals/to-object":138}],159:[function(t,X,I){"use strict";var y=t("../internals/export"),b=t("../internals/flatten-into-array"),h=t("../internals/to-object"),d=t("../internals/to-length"),v=t("../internals/to-integer"),m=t("../internals/array-species-create");y({target:"Array",proto:!0},{flat:function(){var n=arguments.length?arguments[0]:void 0,i=h(this),a=d(i.length),l=m(i,0);return l.length=b(l,i,i,a,0,n===void 0?1:v(n)),l}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],160:[function(b,X,I){"use strict";var y=b("../internals/export"),b=b("../internals/array-for-each");y({target:"Array",proto:!0,forced:[].forEach!=b},{forEach:b})},{"../internals/array-for-each":16,"../internals/export":50}],161:[function(t,X,I){var y=t("../internals/export"),b=t("../internals/array-from");y({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(h){Array.from(h)})},{from:b})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],162:[function(t,X,I){"use strict";var y=t("../internals/export"),b=t("../internals/array-includes").includes,h=t("../internals/add-to-unscopables");y({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(d){return b(this,d,1<arguments.length?arguments[1]:void 0)}}),h("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],163:[function(m,X,I){"use strict";var y=m("../internals/export"),b=m("../internals/array-includes").indexOf,v=m("../internals/array-method-is-strict"),m=m("../internals/array-method-uses-to-length"),h=[].indexOf,d=!!h&&1/[1].indexOf(1,-0)<0,v=v("indexOf"),m=m("indexOf",{ACCESSORS:!0,1:0});y({target:"Array",proto:!0,forced:d||!v||!m},{indexOf:function(n){return d?h.apply(this,arguments)||0:b(this,n,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(v,X,I){"use strict";var y=v("../internals/to-indexed-object"),b=v("../internals/add-to-unscopables"),h=v("../internals/iterators"),d=v("../internals/internal-state"),v=v("../internals/define-iterator"),m="Array Iterator",n=d.set,i=d.getterFor(m);X.exports=v(Array,"Array",function(a,l){n(this,{type:m,target:y(a),index:0,kind:l})},function(){var a=i(this),l=a.target,c=a.kind,r=a.index++;return!l||r>=l.length?{value:a.target=void 0,done:!0}:c=="keys"?{value:r,done:!1}:c=="values"?{value:l[r],done:!1}:{value:[r,l[r]],done:!1}},"values"),h.Arguments=h.Array,b("keys"),b("values"),b("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":135}],165:[function(v,X,I){"use strict";var y=v("../internals/export"),d=v("../internals/indexed-object"),b=v("../internals/to-indexed-object"),v=v("../internals/array-method-is-strict"),h=[].join,d=d!=Object,v=v("join",",");y({target:"Array",proto:!0,forced:d||!v},{join:function(m){return h.call(b(this),m===void 0?",":m)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":135}],166:[function(b,X,I){var y=b("../internals/export"),b=b("../internals/array-last-index-of");y({target:"Array",proto:!0,forced:b!==[].lastIndexOf},{lastIndexOf:b})},{"../internals/array-last-index-of":20,"../internals/export":50}],167:[function(d,X,I){"use strict";var y=d("../internals/export"),b=d("../internals/array-iteration").map,h=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),h=h("map"),d=d("map");y({target:"Array",proto:!0,forced:!h||!d},{map:function(v){return b(this,v,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],168:[function(l,X,I){"use strict";var y=l("../internals/export"),b=l("../internals/is-object"),h=l("../internals/is-array"),d=l("../internals/to-absolute-index"),v=l("../internals/to-length"),m=l("../internals/to-indexed-object"),n=l("../internals/create-property"),i=l("../internals/well-known-symbol"),a=l("../internals/array-method-has-species-support"),l=l("../internals/array-method-uses-to-length"),a=a("slice"),l=l("slice",{ACCESSORS:!0,0:0,1:2}),c=i("species"),r=[].slice,s=Math.max;y({target:"Array",proto:!0,forced:!a||!l},{slice:function(o,u){var f,C,E,j=m(this),x=v(j.length),T=d(o,x),_=d(u===void 0?x:u,x);if(h(j)&&((f=typeof(f=j.constructor)=="function"&&(f===Array||h(f.prototype))||b(f)&&(f=f[c])===null?void 0:f)===Array||f===void 0))return r.call(j,T,_);for(C=new(f===void 0?Array:f)(s(_-T,0)),E=0;T<_;T++,E++)T in j&&n(C,E,j[T]);return C.length=E,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137,"../internals/well-known-symbol":149}],169:[function(d,X,I){"use strict";var y=d("../internals/export"),b=d("../internals/array-iteration").some,h=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),h=h("some"),d=d("some");y({target:"Array",proto:!0,forced:!h||!d},{some:function(v){return b(this,v,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],170:[function(a,X,I){"use strict";var y=a("../internals/export"),b=a("../internals/to-absolute-index"),h=a("../internals/to-integer"),d=a("../internals/to-length"),v=a("../internals/to-object"),m=a("../internals/array-species-create"),n=a("../internals/create-property"),i=a("../internals/array-method-has-species-support"),a=a("../internals/array-method-uses-to-length"),i=i("splice"),a=a("splice",{ACCESSORS:!0,0:0,1:2}),l=Math.max,c=Math.min;y({target:"Array",proto:!0,forced:!i||!a},{splice:function(M,s){var o,u,f,C,E,j,x=v(this),T=d(x.length),_=b(M,T),M=arguments.length;if(M===0?o=u=0:u=M===1?(o=0,T-_):(o=M-2,c(l(h(s),0),T-_)),9007199254740991<T+o-u)throw TypeError("Maximum allowed length exceeded");for(f=m(x,u),C=0;C<u;C++)(E=_+C)in x&&n(f,C,x[E]);if(o<(f.length=u)){for(C=_;C<T-u;C++)j=C+o,(E=C+u)in x?x[j]=x[E]:delete x[j];for(C=T;T-u+o<C;C--)delete x[C-1]}else if(u<o)for(C=T-u;_<C;C--)j=C+o-1,(E=C+u-1)in x?x[j]=x[E]:delete x[j];for(C=0;C<o;C++)x[C+_]=arguments[C+2];return x.length=T-u+o,f}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":133,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],171:[function(t,X,I){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],172:[function(t,X,I){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],173:[function(b,X,I){var y=b("../internals/descriptors"),b=b("../internals/object-define-property").f,h=Function.prototype,d=h.toString,v=/^\s*function ([^ (]*)/;!y||"name"in h||b(h,"name",{configurable:!0,get:function(){try{return d.call(this).match(v)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],174:[function(b,X,I){"use strict";var y=b("../internals/collection"),b=b("../internals/collection-strong");X.exports=y("Map",function(h){return function(){return h(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],175:[function(y,X,I){var y=y("../internals/export"),b=Math.hypot,h=Math.abs,d=Math.sqrt;y({target:"Math",stat:!0,forced:!!b&&b(1/0,NaN)!==1/0},{hypot:function(v,m){for(var n,i,a=0,l=0,c=arguments.length,r=0;l<c;)r<(n=h(arguments[l++]))?(a=a*(i=r/n)*i+1,r=n):a+=0<n?(i=n/r)*i:n;return r===1/0?1/0:r*d(a)}})},{"../internals/export":50}],176:[function(y,X,I){var y=y("../internals/export"),b=Math.log,h=Math.LN2;y({target:"Math",stat:!0},{log2:function(d){return b(d)/h}})},{"../internals/export":50}],177:[function(t,X,I){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],178:[function(t,X,I){"use strict";function y(p){var S,O,k,F,B,L,G,K=a(p,!1);if(typeof K=="string"&&2<K.length){if((p=(K=u(K)).charCodeAt(0))===43||p===45){if((S=K.charCodeAt(2))===88||S===120)return NaN}else if(p===48){switch(K.charCodeAt(1)){case 66:case 98:O=2,k=49;break;case 79:case 111:O=8,k=55;break;default:return+K}for(B=(F=K.slice(2)).length,L=0;L<B;L++)if((G=F.charCodeAt(L))<48||k<G)return NaN;return parseInt(F,O)}}return+K}var b=t("../internals/descriptors"),h=t("../internals/global"),d=t("../internals/is-forced"),v=t("../internals/redefine"),m=t("../internals/has"),n=t("../internals/classof-raw"),i=t("../internals/inherit-if-required"),a=t("../internals/to-primitive"),l=t("../internals/fails"),c=t("../internals/object-create"),r=t("../internals/object-get-own-property-names").f,s=t("../internals/object-get-own-property-descriptor").f,o=t("../internals/object-define-property").f,u=t("../internals/string-trim").trim,f="Number",C=h[f],E=C.prototype,j=n(c(E))==f;if(d(f,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var x,T=function(S){var S=arguments.length<1?0:S,O=this;return O instanceof T&&(j?l(function(){E.valueOf.call(O)}):n(O)!=f)?i(new C(y(S)),O,T):y(S)},_=b?r(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;_.length>M;M++)m(C,x=_[M])&&!m(T,x)&&o(T,x,s(C,x));(T.prototype=E).constructor=T,v(h,f,T)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/string-trim":130,"../internals/to-primitive":141}],179:[function(t,X,I){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],180:[function(m,X,I){"use strict";function y(a,l,c){return l===0?c:l%2==1?y(a,l-1,c*a):y(a*a,l/2,c)}var b=m("../internals/export"),h=m("../internals/to-integer"),d=m("../internals/this-number-value"),v=m("../internals/string-repeat"),m=m("../internals/fails"),n=1 .toFixed,i=Math.floor;b({target:"Number",proto:!0,forced:n&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!m(function(){n.call({})})},{toFixed:function(f){function l(x,T){for(var _=-1,M=T;++_<6;)M+=x*C[_],C[_]=M%1e7,M=i(M/1e7)}function c(x){for(var T=6,_=0;0<=--T;)_+=C[T],C[T]=i(_/x),_=_%x*1e7}function r(){for(var x,T=6,_="";0<=--T;)_===""&&T!==0&&C[T]===0||(x=String(C[T]),_=_===""?x:_+v.call("0",7-x.length)+x);return _}var s,o,u=d(this),f=h(f),C=[0,0,0,0,0,0],E="",j="0";if(f<0||20<f)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||1e21<=u)return String(u);if(u<0&&(E="-",u=-u),1e-21<u)if(u=(s=function(x){for(var T=0,_=x;4096<=_;)T+=12,_/=4096;for(;2<=_;)T+=1,_/=2;return T}(u*y(2,69,1))-69)<0?u*y(2,-s,1):u/y(2,s,1),u*=4503599627370496,0<(s=52-s)){for(l(0,u),o=f;7<=o;)l(1e7,0),o-=7;for(l(y(10,o,1),0),o=s-1;23<=o;)c(1<<23),o-=23;c(1<<o),l(1,1),c(2),j=r()}else l(0,u),l(1<<-s,0),j=r()+v.call("0",f);return j=0<f?E+((u=j.length)<=f?"0."+v.call("0",f-u)+j:j.slice(0,u-f)+"."+j.slice(u-f)):E+j}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":128,"../internals/this-number-value":132,"../internals/to-integer":136}],181:[function(b,X,I){var y=b("../internals/export"),b=b("../internals/object-assign");y({target:"Object",stat:!0,forced:Object.assign!==b},{assign:b})},{"../internals/export":50,"../internals/object-assign":90}],182:[function(t,X,I){var y=t("../internals/export"),b=t("../internals/iterate"),h=t("../internals/create-property");y({target:"Object",stat:!0},{fromEntries:function(d){var v={};return b(d,function(m,n){h(v,m,n)},void 0,!0),v}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],183:[function(d,X,I){var y=d("../internals/export"),v=d("../internals/fails"),b=d("../internals/to-indexed-object"),h=d("../internals/object-get-own-property-descriptor").f,d=d("../internals/descriptors"),v=v(function(){h(1)});y({target:"Object",stat:!0,forced:!d||v,sham:!d},{getOwnPropertyDescriptor:function(m,n){return h(b(m),n)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":135}],184:[function(h,X,I){var y=h("../internals/export"),b=h("../internals/fails"),h=h("../internals/object-get-own-property-names-external").f;y({target:"Object",stat:!0,forced:b(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:h})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],185:[function(v,X,I){var y=v("../internals/export"),b=v("../internals/fails"),h=v("../internals/to-object"),d=v("../internals/object-get-prototype-of"),v=v("../internals/correct-prototype-getter");y({target:"Object",stat:!0,forced:b(function(){d(1)}),sham:!v},{getPrototypeOf:function(m){return d(h(m))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":138}],186:[function(t,X,I){var y=t("../internals/export"),b=t("../internals/to-object"),h=t("../internals/object-keys");y({target:"Object",stat:!0,forced:t("../internals/fails")(function(){h(1)})},{keys:function(d){return h(b(d))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":138}],187:[function(h,X,I){var y=h("../internals/to-string-tag-support"),b=h("../internals/redefine"),h=h("../internals/object-to-string");y||b(Object.prototype,"toString",h,{unsafe:!0})},{"../internals/object-to-string":103,"../internals/redefine":109,"../internals/to-string-tag-support":142}],188:[function(be,X,I){"use strict";var y,b,h,d,v=be("../internals/export"),m=be("../internals/is-pure"),n=be("../internals/global"),i=be("../internals/get-built-in"),a=be("../internals/native-promise-constructor"),l=be("../internals/redefine"),c=be("../internals/redefine-all"),r=be("../internals/set-to-string-tag"),s=be("../internals/set-species"),o=be("../internals/is-object"),u=be("../internals/a-function"),f=be("../internals/an-instance"),C=be("../internals/classof-raw"),E=be("../internals/inspect-source"),j=be("../internals/iterate"),x=be("../internals/check-correctness-of-iteration"),T=be("../internals/species-constructor"),_=be("../internals/task").set,M=be("../internals/microtask"),p=be("../internals/promise-resolve"),S=be("../internals/host-report-errors"),O=be("../internals/new-promise-capability"),k=be("../internals/perform"),F=be("../internals/internal-state"),B=be("../internals/is-forced"),Me=be("../internals/well-known-symbol"),L=be("../internals/engine-v8-version"),G=Me("species"),K="Promise",$=F.get,P=F.set,w=F.getterFor(K),D=a,H=n.TypeError,N=n.document,z=n.process,W=i("fetch"),te=O.f,V=te,Z=C(z)=="process",Y=!!(N&&N.createEvent&&n.dispatchEvent),q="unhandledrejection",J="rejectionhandled",re=1,ue=2,ae=1,he=2,be=B(K,function(){var we,xe;return E(D)===String(D)&&(L===66||!Z&&typeof PromiseRejectionEvent!="function")?!0:!(!m||D.prototype.finally)||!(51<=L&&/native code/.test(D))&&(xe=function(oe){oe(function(){},function(){})},((we=D.resolve(1)).constructor={})[G]=xe,!(we.then(function(){})instanceof xe))}),Me=be||!x(function(we){D.all(we).catch(function(){})}),le=function(we){var xe;return!(!o(we)||typeof(xe=we.then)!="function")&&xe},pe=function(we,xe,oe){var ce;xe.notified||(xe.notified=!0,ce=xe.reactions,M(function(){for(var se,fe,ke=xe.value,Ee=xe.state==re,Pe=0;ce.length>Pe;){var Be,Ge,He,qe=ce[Pe++],et=Ee?qe.ok:qe.fail,Qe=qe.resolve,Ye=qe.reject,nt=qe.domain;try{et?(Ee||(xe.rejection===he&&function(Je,gt){_.call(n,function(){Z?z.emit("rejectionHandled",Je):ge(J,Je,gt.value)})}(we,xe),xe.rejection=ae),et===!0?Be=ke:(nt&&nt.enter(),Be=et(ke),nt&&(nt.exit(),He=!0)),Be===qe.promise?Ye(H("Promise-chain cycle")):(Ge=le(Be))?Ge.call(Be,Qe,Ye):Qe(Be)):Ye(ke)}catch(Je){nt&&!He&&nt.exit(),Ye(Je)}}xe.reactions=[],xe.notified=!1,oe&&!xe.rejection&&(se=we,fe=xe,_.call(n,function(){var Je=fe.value,gt=ve(fe);if(gt&&(gt=k(function(){Z?z.emit("unhandledRejection",Je,se):ge(q,se,Je)}),fe.rejection=Z||ve(fe)?he:ae,gt.error))throw gt.value}))}))},ge=function(we,xe,oe){var ce;Y?((ce=N.createEvent("Event")).promise=xe,ce.reason=oe,ce.initEvent(we,!1,!0),n.dispatchEvent(ce)):ce={promise:xe,reason:oe},(xe=n["on"+we])?xe(ce):we===q&&S("Unhandled promise rejection",oe)},ve=function(we){return we.rejection!==ae&&!we.parent},Se=function(we,xe,oe,ce){return function(se){we(xe,oe,se,ce)}},je=function(we,xe,oe,ce){xe.done||(xe.done=!0,(xe=ce||xe).value=oe,xe.state=ue,pe(we,xe,!0))},me=function(we,xe,oe,ce){if(!xe.done){xe.done=!0,ce&&(xe=ce);try{if(we===oe)throw H("Promise can't be resolved itself");var se=le(oe);se?M(function(){var fe={done:!1};try{se.call(oe,Se(me,we,fe,xe),Se(je,we,fe,xe))}catch(ke){je(we,fe,ke,xe)}}):(xe.value=oe,xe.state=re,pe(we,xe,!1))}catch(fe){je(we,{done:!1},fe,xe)}}};be&&(D=function(we){f(this,D,K),u(we),y.call(this);var xe=$(this);try{we(Se(me,this,xe),Se(je,this,xe))}catch(oe){je(this,xe,oe)}},(y=function(we){P(this,{type:K,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(D.prototype,{then:function(we,xe){var oe=w(this),ce=te(T(this,D));return ce.ok=typeof we!="function"||we,ce.fail=typeof xe=="function"&&xe,ce.domain=Z?z.domain:void 0,oe.parent=!0,oe.reactions.push(ce),oe.state!=0&&pe(this,oe,!1),ce.promise},catch:function(we){return this.then(void 0,we)}}),b=function(){var we=new y,xe=$(we);this.promise=we,this.resolve=Se(me,we,xe),this.reject=Se(je,we,xe)},O.f=te=function(we){return we===D||we===h?new b:V(we)},m||typeof a!="function"||(d=a.prototype.then,l(a.prototype,"then",function(we,xe){var oe=this;return new D(function(ce,se){d.call(oe,ce,se)}).then(we,xe)},{unsafe:!0}),typeof W=="function"&&v({global:!0,enumerable:!0,forced:!0},{fetch:function(we){return p(D,W.apply(n,arguments))}}))),v({global:!0,wrap:!0,forced:be},{Promise:D}),r(D,K,!1,!0),s(K),h=i(K),v({target:K,stat:!0,forced:be},{reject:function(we){var xe=te(this);return xe.reject.call(void 0,we),xe.promise}}),v({target:K,stat:!0,forced:m||be},{resolve:function(we){return p(m&&this===h?D:this,we)}}),v({target:K,stat:!0,forced:Me},{all:function(we){var xe=this,oe=te(xe),ce=oe.resolve,se=oe.reject,fe=k(function(){var ke=u(xe.resolve),Ee=[],Pe=0,Be=1;j(we,function(Ge){var He=Pe++,qe=!1;Ee.push(void 0),Be++,ke.call(xe,Ge).then(function(et){qe||(qe=!0,Ee[He]=et,--Be||ce(Ee))},se)}),--Be||ce(Ee)});return fe.error&&se(fe.value),oe.promise},race:function(we){var xe=this,oe=te(xe),ce=oe.reject,se=k(function(){var fe=u(xe.resolve);j(we,function(ke){fe.call(xe,ke).then(oe.resolve,ce)})});return se.error&&ce(se.value),oe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":106,"../internals/promise-resolve":107,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-species":117,"../internals/set-to-string-tag":118,"../internals/species-constructor":122,"../internals/task":131,"../internals/well-known-symbol":149}],189:[function(n,X,I){var y=n("../internals/export"),c=n("../internals/get-built-in"),b=n("../internals/a-function"),h=n("../internals/an-object"),d=n("../internals/is-object"),v=n("../internals/object-create"),m=n("../internals/function-bind"),n=n("../internals/fails"),i=c("Reflect","construct"),a=n(function(){function r(){}return!(i(function(){},[],r)instanceof r)}),l=!n(function(){i(function(){})}),c=a||l;y({target:"Reflect",stat:!0,forced:c,sham:c},{construct:function(r,s){b(r),h(s);var o=arguments.length<3?r:b(arguments[2]);if(l&&!a)return i(r,s,o);if(r==o){switch(s.length){case 0:return new r;case 1:return new r(s[0]);case 2:return new r(s[0],s[1]);case 3:return new r(s[0],s[1],s[2]);case 4:return new r(s[0],s[1],s[2],s[3])}var u=[null];return u.push.apply(u,s),new(m.apply(r,u))}return u=o.prototype,o=v(d(u)?u:Object.prototype),u=Function.apply.call(r,o,s),d(u)?u:o}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],190:[function(t,X,I){var y=t("../internals/export"),b=t("../internals/is-object"),h=t("../internals/an-object"),d=t("../internals/has"),v=t("../internals/object-get-own-property-descriptor"),m=t("../internals/object-get-prototype-of");y({target:"Reflect",stat:!0},{get:function n(i,a){var l,c=arguments.length<3?i:arguments[2];return h(i)===c?i[a]:(l=v.f(i,a))?d(l,"value")?l.value:l.get===void 0?void 0:l.get.call(c):b(l=m(i))?n(l,a,c):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],191:[function(t,X,I){var y=t("../internals/descriptors"),b=t("../internals/global"),h=t("../internals/is-forced"),d=t("../internals/inherit-if-required"),v=t("../internals/object-define-property").f,m=t("../internals/object-get-own-property-names").f,n=t("../internals/is-regexp"),i=t("../internals/regexp-flags"),a=t("../internals/regexp-sticky-helpers"),l=t("../internals/redefine"),c=t("../internals/fails"),r=t("../internals/internal-state").set,s=t("../internals/set-species"),o=t("../internals/well-known-symbol")("match"),u=b.RegExp,f=u.prototype,C=/a/g,E=/a/g,j=new u(C)!==C,x=a.UNSUPPORTED_Y;if(y&&h("RegExp",!j||x||c(function(){return E[o]=!1,u(C)!=C||u(E)==E||u(C,"i")!="/a/i"}))){for(var T=function(p,S){var O,k=this instanceof T,F=n(p),B=S===void 0;return!k&&F&&p.constructor===T&&B?p:(j?F&&!B&&(p=p.source):p instanceof T&&(B&&(S=i.call(p)),p=p.source),x&&(O=!!S&&-1<S.indexOf("y"))&&(S=S.replace(/y/g,"")),F=d(j?new u(p,S):u(p,S),k?this:f,T),x&&O&&r(F,{sticky:O}),F)},_=m(u),M=0;_.length>M;)(function(p){p in T||v(T,p,{configurable:!0,get:function(){return u[p]},set:function(S){u[p]=S}})})(_[M++]);(f.constructor=T).prototype=f,l(b,"RegExp",T)}s("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/regexp-flags":112,"../internals/regexp-sticky-helpers":113,"../internals/set-species":117,"../internals/well-known-symbol":149}],192:[function(b,X,I){"use strict";var y=b("../internals/export"),b=b("../internals/regexp-exec");y({target:"RegExp",proto:!0,forced:/./.exec!==b},{exec:b})},{"../internals/export":50,"../internals/regexp-exec":111}],193:[function(d,X,I){"use strict";var y=d("../internals/redefine"),b=d("../internals/an-object"),n=d("../internals/fails"),h=d("../internals/regexp-flags"),d="toString",v=RegExp.prototype,m=v[d],n=n(function(){return m.call({source:"a",flags:"b"})!="/a/b"}),i=m.name!=d;(n||i)&&y(RegExp.prototype,d,function(){var a=b(this),l=String(a.source),c=a.flags;return"/"+l+"/"+String(c===void 0&&a instanceof RegExp&&!("flags"in v)?h.call(a):c)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-flags":112}],194:[function(b,X,I){"use strict";var y=b("../internals/collection"),b=b("../internals/collection-strong");X.exports=y("Set",function(h){return function(){return h(this,arguments.length?arguments[0]:void 0)}},b)},{"../internals/collection":32,"../internals/collection-strong":30}],195:[function(m,X,I){"use strict";var y=m("../internals/export"),b=m("../internals/object-get-own-property-descriptor").f,h=m("../internals/to-length"),d=m("../internals/not-a-regexp"),v=m("../internals/require-object-coercible"),a=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),n="".endsWith,i=Math.min,a=a("endsWith");y({target:"String",proto:!0,forced:!!(m||a||!(y=b(String.prototype,"endsWith"))||y.writable)&&!a},{endsWith:function(l){var c=String(v(this)),r=(d(l),1<arguments.length?arguments[1]:void 0),s=h(c.length),r=r===void 0?s:i(h(r),s),s=String(l);return n?n.call(c,s,r):c.slice(r-s.length,r)===s}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],196:[function(t,X,I){"use strict";var y=t("../internals/export"),b=t("../internals/not-a-regexp"),h=t("../internals/require-object-coercible");y({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(d){return!!~String(h(this)).indexOf(b(d),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":114}],197:[function(h,X,I){"use strict";var y=h("../internals/string-multibyte").charAt,b=h("../internals/internal-state"),h=h("../internals/define-iterator"),d="String Iterator",v=b.set,m=b.getterFor(d);h(String,"String",function(n){v(this,{type:d,string:String(n),index:0})},function(){var n=m(this),i=n.string,a=n.index;return a>=i.length?{value:void 0,done:!0}:(i=y(i,a),n.index+=i.length,{value:i,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":124}],198:[function(t,X,I){"use strict";var y=t("../internals/fix-regexp-well-known-symbol-logic"),b=t("../internals/an-object"),h=t("../internals/to-length"),d=t("../internals/require-object-coercible"),v=t("../internals/advance-string-index"),m=t("../internals/regexp-exec-abstract");y("match",1,function(n,i,a){return[function(l){var c=d(this),r=l?.[n];return r!==void 0?r.call(l,c):new RegExp(l)[n](String(c))},function(l){var c=a(i,l,this);if(c.done)return c.value;var r=b(l),s=String(this);if(!r.global)return m(r,s);for(var o=r.unicode,u=[],f=r.lastIndex=0;(C=m(r,s))!==null;){var C=String(C[0]);(u[f]=C)===""&&(r.lastIndex=v(s,h(r.lastIndex),o)),f++}return f===0?null:u}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-length":137}],199:[function(t,X,I){"use strict";var y=t("../internals/export"),b=t("../internals/string-pad").start;y({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(h){return b(this,h,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":126,"../internals/string-pad-webkit-bug":125}],200:[function(t,X,I){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":128}],201:[function(t,X,I){"use strict";var y=t("../internals/fix-regexp-well-known-symbol-logic"),b=t("../internals/an-object"),h=t("../internals/to-object"),d=t("../internals/to-length"),v=t("../internals/to-integer"),m=t("../internals/require-object-coercible"),n=t("../internals/advance-string-index"),i=t("../internals/regexp-exec-abstract"),a=Math.max,l=Math.min,c=Math.floor,r=/\$([$&'`]|\d\d?|<[^>]*>)/g,s=/\$([$&'`]|\d\d?)/g;y("replace",2,function(o,u,f,C){var E=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,j=C.REPLACE_KEEPS_$0,x=E?"$":"$0";return[function(T,_){var M=m(this),p=T?.[o];return p!==void 0?p.call(T,M,_):u.call(String(M),T,_)},function(T,_){if(!E&&j||typeof _=="string"&&_.indexOf(x)===-1){var M=f(u,T,this,_);if(M.done)return M.value}for(var p,S=b(T),O=String(this),k=typeof _=="function",F=(k||(_=String(_)),S.global),B=(F&&(p=S.unicode,S.lastIndex=0),[]);(P=i(S,O))!==null&&(B.push(P),F);)String(P[0])===""&&(S.lastIndex=n(O,d(S.lastIndex),p));for(var L,G="",K=0,$=0;$<B.length;$++){for(var P=B[$],w=String(P[0]),D=a(l(v(P.index),O.length),0),H=[],N=1;N<P.length;N++)H.push((L=P[N])===void 0?L:String(L));var z=P.groups,W=k?(W=[w].concat(H,D,O),z!==void 0&&W.push(z),String(_.apply(void 0,W))):function(te,V,Z,Y,q,J){var re=Z+te.length,ue=Y.length,ae=s;return q!==void 0&&(q=h(q),ae=r),u.call(J,ae,function(he,be){var Me;switch(be.charAt(0)){case"$":return"$";case"&":return te;case"`":return V.slice(0,Z);case"'":return V.slice(re);case"<":Me=q[be.slice(1,-1)];break;default:var le,pe=+be;if(pe==0)return he;if(ue<pe)return(le=c(pe/10))!==0&&le<=ue?Y[le-1]===void 0?be.charAt(1):Y[le-1]+be.charAt(1):he;Me=Y[pe-1]}return Me===void 0?"":Me})}(w,O,D,H,z,_);K<=D&&(G+=O.slice(K,D)+W,K=D+w.length)}return G+O.slice(K)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],202:[function(t,X,I){"use strict";var y=t("../internals/fix-regexp-well-known-symbol-logic"),b=t("../internals/an-object"),h=t("../internals/require-object-coercible"),d=t("../internals/same-value"),v=t("../internals/regexp-exec-abstract");y("search",1,function(m,n,i){return[function(a){var l=h(this),c=a?.[m];return c!==void 0?c.call(a,l):new RegExp(a)[m](String(l))},function(a){var l,c=i(n,a,this);return c.done?c.value:(c=b(a),a=String(this),l=c.lastIndex,d(l,0)||(c.lastIndex=0),a=v(c,a),d(c.lastIndex,l)||(c.lastIndex=l),a===null?-1:a.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/same-value":115}],203:[function(l,X,I){"use strict";var y=l("../internals/fix-regexp-well-known-symbol-logic"),b=l("../internals/is-regexp"),h=l("../internals/an-object"),d=l("../internals/require-object-coercible"),v=l("../internals/species-constructor"),m=l("../internals/advance-string-index"),n=l("../internals/to-length"),i=l("../internals/regexp-exec-abstract"),a=l("../internals/regexp-exec"),l=l("../internals/fails"),c=[].push,r=Math.min,s=4294967295,o=!l(function(){return!RegExp(s,"y")});y("split",2,function(u,f,C){var E="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(j,x){var T=String(d(this)),_=x===void 0?s:x>>>0;if(_==0)return[];if(j===void 0)return[T];if(!b(j))return f.call(T,j,_);for(var M,p,S,O=[],x=(j.ignoreCase?"i":"")+(j.multiline?"m":"")+(j.unicode?"u":"")+(j.sticky?"y":""),k=0,F=new RegExp(j.source,x+"g");(M=a.call(F,T))&&!(k<(p=F.lastIndex)&&(O.push(T.slice(k,M.index)),1<M.length&&M.index<T.length&&c.apply(O,M.slice(1)),S=M[0].length,k=p,O.length>=_));)F.lastIndex===M.index&&F.lastIndex++;return k===T.length?!S&&F.test("")||O.push(""):O.push(T.slice(k)),O.length>_?O.slice(0,_):O}:"0".split(void 0,0).length?function(j,x){return j===void 0&&x===0?[]:f.call(this,j,x)}:f;return[function(j,x){var T=d(this),_=j?.[u];return _!==void 0?_.call(j,T,x):E.call(String(T),j,x)},function(M,x){var T=C(E,M,this,x,E!==f);if(T.done)return T.value;var T=h(M),_=String(this),M=v(T,RegExp),p=T.unicode,S=(T.ignoreCase?"i":"")+(T.multiline?"m":"")+(T.unicode?"u":"")+(o?"y":"g"),O=new M(o?T:"^(?:"+T.source+")",S),k=x===void 0?s:x>>>0;if(k==0)return[];if(_.length===0)return i(O,_)===null?[_]:[];for(var F=0,B=0,L=[];B<_.length;){O.lastIndex=o?B:0;var G,K=i(O,o?_:_.slice(B));if(K===null||(G=r(n(O.lastIndex+(o?0:B)),_.length))===F)B=m(_,B,p);else{if(L.push(_.slice(F,B)),L.length===k)return L;for(var $=1;$<=K.length-1;$++)if(L.push(K[$]),L.length===k)return L;B=F=G}}return L.push(_.slice(F)),L}]},!o)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":111,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/species-constructor":122,"../internals/to-length":137}],204:[function(m,X,I){"use strict";var y=m("../internals/export"),b=m("../internals/object-get-own-property-descriptor").f,h=m("../internals/to-length"),d=m("../internals/not-a-regexp"),v=m("../internals/require-object-coercible"),a=m("../internals/correct-is-regexp-logic"),m=m("../internals/is-pure"),n="".startsWith,i=Math.min,a=a("startsWith");y({target:"String",proto:!0,forced:!!(m||a||!(y=b(String.prototype,"startsWith"))||y.writable)&&!a},{startsWith:function(s){var c=String(v(this)),r=(d(s),h(i(1<arguments.length?arguments[1]:void 0,c.length))),s=String(s);return n?n.call(c,s,r):c.slice(r,r+s.length)===s}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],205:[function(t,X,I){"use strict";var y=t("../internals/export"),b=t("../internals/create-html");y({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return b(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":123}],206:[function(t,X,I){"use strict";var y=t("../internals/export"),b=t("../internals/string-trim").trim;y({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return b(this)}})},{"../internals/export":50,"../internals/string-trim":130,"../internals/string-trim-forced":129}],207:[function(r,X,I){"use strict";var y,b,h,d,v,m=r("../internals/export"),n=r("../internals/descriptors"),i=r("../internals/global"),a=r("../internals/has"),l=r("../internals/is-object"),c=r("../internals/object-define-property").f,r=r("../internals/copy-constructor-properties"),s=i.Symbol;!n||typeof s!="function"||"description"in s.prototype&&s().description===void 0||(y={},r(b=function(){var o=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),u=this instanceof b?new s(o):o===void 0?s():s(o);return o===""&&(y[u]=!0),u},s),(i=b.prototype=s.prototype).constructor=b,h=i.toString,d=String(s("test"))=="Symbol(test)",v=/^Symbol\((.*)\)[^)]+$/,c(i,"description",{configurable:!0,get:function(){var o=l(this)?this.valueOf():this,u=h.call(o);return a(y,o)?"":(o=d?u.slice(7,-1):u.replace(v,"$1"))===""?void 0:o}}),m({global:!0,forced:!0},{Symbol:b}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],208:[function(t,X,I){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],209:[function(V,X,I){"use strict";function y(se,fe){var ke=Me[se]=T(J[te]);return Z(ke,{type:W,tag:se,description:fe}),a||(ke.description=fe),ke}function b(se,Ee){f(se);var ke=E(Ee),Ee=_(ke).concat(ce(ke));return N(Ee,function(Pe){a&&!oe.call(ke,Pe)||xe(se,Pe,ke[Pe])}),se}function h(Ee,Pe){var ke,Ee=E(Ee),Pe=j(Pe,!0);if(Ee!==q||!s(Me,Pe)||s(le,Pe))return!(ke=ue(Ee,Pe))||!s(Me,Pe)||s(Ee,z)&&Ee[z][Pe]||(ke.enumerable=!0),ke}function d(fe){var fe=he(E(fe)),ke=[];return N(fe,function(Ee){s(Me,Ee)||s(K,Ee)||ke.push(Ee)}),ke}var v=V("../internals/export"),m=V("../internals/global"),n=V("../internals/get-built-in"),i=V("../internals/is-pure"),a=V("../internals/descriptors"),l=V("../internals/native-symbol"),c=V("../internals/use-symbol-as-uid"),r=V("../internals/fails"),s=V("../internals/has"),o=V("../internals/is-array"),u=V("../internals/is-object"),f=V("../internals/an-object"),C=V("../internals/to-object"),E=V("../internals/to-indexed-object"),j=V("../internals/to-primitive"),x=V("../internals/create-property-descriptor"),T=V("../internals/object-create"),_=V("../internals/object-keys"),M=V("../internals/object-get-own-property-names"),p=V("../internals/object-get-own-property-names-external"),S=V("../internals/object-get-own-property-symbols"),O=V("../internals/object-get-own-property-descriptor"),k=V("../internals/object-define-property"),F=V("../internals/object-property-is-enumerable"),B=V("../internals/create-non-enumerable-property"),L=V("../internals/redefine"),G=V("../internals/shared"),ve=V("../internals/shared-key"),K=V("../internals/hidden-keys"),$=V("../internals/uid"),P=V("../internals/well-known-symbol"),w=V("../internals/well-known-symbol-wrapped"),D=V("../internals/define-well-known-symbol"),H=V("../internals/set-to-string-tag"),Se=V("../internals/internal-state"),N=V("../internals/array-iteration").forEach,z=ve("hidden"),W="Symbol",te="prototype",V=P("toPrimitive"),Z=Se.set,Y=Se.getterFor(W),q=Object[te],J=m.Symbol,re=n("JSON","stringify"),ue=O.f,ae=k.f,he=p.f,be=F.f,Me=G("symbols"),le=G("op-symbols"),pe=G("string-to-symbol-registry"),ge=G("symbol-to-string-registry"),ve=G("wks"),Se=m.QObject,je=!Se||!Se[te]||!Se[te].findChild,me=a&&r(function(){return T(ae({},"a",{get:function(){return ae(this,"a",{value:7}).a}})).a!=7})?function(se,fe,ke){var Ee=ue(q,fe);Ee&&delete q[fe],ae(se,fe,ke),Ee&&se!==q&&ae(q,fe,Ee)}:ae,we=c?function(se){return typeof se=="symbol"}:function(se){return Object(se)instanceof J},xe=function(se,fe,ke){return se===q&&xe(le,fe,ke),f(se),fe=j(fe,!0),f(ke),(s(Me,fe)?(ke.enumerable?(s(se,z)&&se[z][fe]&&(se[z][fe]=!1),ke=T(ke,{enumerable:x(0,!1)})):(s(se,z)||ae(se,z,x(1,{})),se[z][fe]=!0),me):ae)(se,fe,ke)},oe=function(fe){var fe=j(fe,!0),ke=be.call(this,fe);return!(this===q&&s(Me,fe)&&!s(le,fe))&&(!(ke||!s(this,fe)||!s(Me,fe)||s(this,z)&&this[z][fe])||ke)},ce=function(ke){var fe=ke===q,ke=he(fe?le:E(ke)),Ee=[];return N(ke,function(Pe){!s(Me,Pe)||fe&&!s(q,Pe)||Ee.push(Me[Pe])}),Ee};l||(L((J=function(){if(this instanceof J)throw TypeError("Symbol is not a constructor");var se=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,fe=$(se),ke=function(Ee){this===q&&ke.call(le,Ee),s(this,z)&&s(this[z],fe)&&(this[z][fe]=!1),me(this,fe,x(1,Ee))};return a&&je&&me(q,fe,{configurable:!0,set:ke}),y(fe,se)})[te],"toString",function(){return Y(this).tag}),L(J,"withoutSetter",function(se){return y($(se),se)}),F.f=oe,k.f=xe,O.f=h,M.f=p.f=d,S.f=ce,w.f=function(se){return y(P(se),se)},a&&(ae(J[te],"description",{configurable:!0,get:function(){return Y(this).description}}),i||L(q,"propertyIsEnumerable",oe,{unsafe:!0}))),v({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:J}),N(_(ve),function(se){D(se)}),v({target:W,stat:!0,forced:!l},{for:function(ke){var fe,ke=String(ke);return s(pe,ke)?pe[ke]:(fe=J(ke),pe[ke]=fe,ge[fe]=ke,fe)},keyFor:function(se){if(!we(se))throw TypeError(se+" is not a symbol");if(s(ge,se))return ge[se]},useSetter:function(){je=!0},useSimple:function(){je=!1}}),v({target:"Object",stat:!0,forced:!l,sham:!a},{create:function(se,fe){return fe===void 0?T(se):b(T(se),fe)},defineProperty:xe,defineProperties:b,getOwnPropertyDescriptor:h}),v({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:d,getOwnPropertySymbols:ce}),v({target:"Object",stat:!0,forced:r(function(){S.f(1)})},{getOwnPropertySymbols:function(se){return S.f(C(se))}}),re&&v({target:"JSON",stat:!0,forced:!l||r(function(){var se=J();return re([se])!="[null]"||re({a:se})!="{}"||re(Object(se))!="{}"})},{stringify:function(se,fe,ke){for(var Ee,Pe=[se],Be=1;Be<arguments.length;)Pe.push(arguments[Be++]);if((u(Ee=fe)||se!==void 0)&&!we(se))return o(fe)||(fe=function(Ge,He){if(typeof Ee=="function"&&(He=Ee.call(this,Ge,He)),!we(He))return He}),Pe[1]=fe,re.apply(null,Pe)}}),J[te][V]||B(J[te],V,J[te].valueOf),H(J,W),K[z]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/shared":121,"../internals/shared-key":119,"../internals/to-indexed-object":135,"../internals/to-object":138,"../internals/to-primitive":141,"../internals/uid":146,"../internals/use-symbol-as-uid":147,"../internals/well-known-symbol":149,"../internals/well-known-symbol-wrapped":148}],210:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-copy-within"),h=y.aTypedArray;(0,y.exportTypedArrayMethod)("copyWithin",function(d,v){return b.call(h(this),d,v,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],211:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-iteration").every,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("every",function(d){return b(h(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-fill"),h=y.aTypedArray;(0,y.exportTypedArrayMethod)("fill",function(d){return b.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],213:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-iteration").filter,h=t("../internals/species-constructor"),d=y.aTypedArray,v=y.aTypedArrayConstructor;(0,y.exportTypedArrayMethod)("filter",function(m){for(var n=b(d(this),m,1<arguments.length?arguments[1]:void 0),m=h(this,this.constructor),i=0,a=n.length,l=new(v(m))(a);i<a;)l[i]=n[i++];return l})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],214:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-iteration").findIndex,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("findIndex",function(d){return b(h(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-iteration").find,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("find",function(d){return b(h(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],216:[function(t,X,I){t("../internals/typed-array-constructor")("Float32",function(y){return function(b,h,d){return y(this,b,h,d)}})},{"../internals/typed-array-constructor":143}],217:[function(t,X,I){t("../internals/typed-array-constructor")("Float64",function(y){return function(b,h,d){return y(this,b,h,d)}})},{"../internals/typed-array-constructor":143}],218:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-iteration").forEach,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("forEach",function(d){b(h(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-includes").includes,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("includes",function(d){return b(h(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],220:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-includes").indexOf,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("indexOf",function(d){return b(h(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],221:[function(t,X,I){t("../internals/typed-array-constructor")("Int16",function(y){return function(b,h,d){return y(this,b,h,d)}})},{"../internals/typed-array-constructor":143}],222:[function(t,X,I){t("../internals/typed-array-constructor")("Int32",function(y){return function(b,h,d){return y(this,b,h,d)}})},{"../internals/typed-array-constructor":143}],223:[function(b,X,I){"use strict";function y(){return h.call(m(this))}var a=b("../internals/global"),i=b("../internals/array-buffer-view-core"),n=b("../modules/es.array.iterator"),b=b("../internals/well-known-symbol")("iterator"),a=a.Uint8Array,h=n.values,d=n.keys,v=n.entries,m=i.aTypedArray,n=i.exportTypedArrayMethod,i=a&&a.prototype[b],a=!!i&&(i.name=="values"||i.name==null);n("entries",function(){return v.call(m(this))}),n("keys",function(){return d.call(m(this))}),n("values",y,!a),n(b,y,!a)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],224:[function(b,X,I){"use strict";var b=b("../internals/array-buffer-view-core"),y=b.aTypedArray,b=b.exportTypedArrayMethod,h=[].join;b("join",function(d){return h.apply(y(this),arguments)})},{"../internals/array-buffer-view-core":12}],225:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-last-index-of"),h=y.aTypedArray;(0,y.exportTypedArrayMethod)("lastIndexOf",function(d){return b.apply(h(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],226:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-iteration").map,h=t("../internals/species-constructor"),d=y.aTypedArray,v=y.aTypedArrayConstructor;(0,y.exportTypedArrayMethod)("map",function(m){return b(d(this),m,1<arguments.length?arguments[1]:void 0,function(n,i){return new(v(h(n,n.constructor)))(i)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],227:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-reduce").right,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("reduceRight",function(d){return b(h(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],228:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-reduce").left,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("reduce",function(d){return b(h(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],229:[function(b,X,I){"use strict";var b=b("../internals/array-buffer-view-core"),y=b.aTypedArray,b=b.exportTypedArrayMethod,h=Math.floor;b("reverse",function(){for(var d,v=y(this).length,m=h(v/2),n=0;n<m;)d=this[n],this[n++]=this[--v],this[v]=d;return this})},{"../internals/array-buffer-view-core":12}],230:[function(v,X,I){"use strict";var y=v("../internals/array-buffer-view-core"),b=v("../internals/to-length"),h=v("../internals/to-offset"),d=v("../internals/to-object"),v=v("../internals/fails"),m=y.aTypedArray;(0,y.exportTypedArrayMethod)("set",function(n){m(this);var i=h(1<arguments.length?arguments[1]:void 0,1),a=this.length,l=d(n),c=b(l.length),r=0;if(a<c+i)throw RangeError("Wrong length");for(;r<c;)this[i+r]=l[r++]},v(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":137,"../internals/to-object":138,"../internals/to-offset":139}],231:[function(b,X,I){"use strict";var v=b("../internals/array-buffer-view-core"),y=b("../internals/species-constructor"),b=b("../internals/fails"),h=v.aTypedArray,d=v.aTypedArrayConstructor,v=v.exportTypedArrayMethod,m=[].slice;v("slice",function(n,i){for(var a=m.call(h(this),n,i),n=y(this,this.constructor),l=0,c=a.length,r=new(d(n))(c);l<c;)r[l]=a[l++];return r},b(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":122}],232:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/array-iteration").some,h=y.aTypedArray;(0,y.exportTypedArrayMethod)("some",function(d){return b(h(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],233:[function(b,X,I){"use strict";var b=b("../internals/array-buffer-view-core"),y=b.aTypedArray,b=b.exportTypedArrayMethod,h=[].sort;b("sort",function(d){return h.call(y(this),d)})},{"../internals/array-buffer-view-core":12}],234:[function(t,X,I){"use strict";var y=t("../internals/array-buffer-view-core"),b=t("../internals/to-length"),h=t("../internals/to-absolute-index"),d=t("../internals/species-constructor"),v=y.aTypedArray;(0,y.exportTypedArrayMethod)("subarray",function(l,n){var i=v(this),a=i.length,l=h(l,a);return new(d(i,i.constructor))(i.buffer,i.byteOffset+l*i.BYTES_PER_ELEMENT,b((n===void 0?a:h(n,a))-l))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":122,"../internals/to-absolute-index":133,"../internals/to-length":137}],235:[function(b,X,I){"use strict";var v=b("../internals/global"),y=b("../internals/array-buffer-view-core"),b=b("../internals/fails"),h=v.Int8Array,d=y.aTypedArray,v=y.exportTypedArrayMethod,m=[].toLocaleString,n=[].slice,i=!!h&&b(function(){m.call(new h(1))});v("toLocaleString",function(){return m.apply(i?n.call(d(this)):d(this),arguments)},b(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!b(function(){h.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],236:[function(b,X,I){"use strict";var y=b("../internals/array-buffer-view-core").exportTypedArrayMethod,v=b("../internals/fails"),b=b("../internals/global").Uint8Array,b=b&&b.prototype||{},h=[].toString,d=[].join,v=(v(function(){h.call({})})&&(h=function(){return d.call(this)}),b.toString!=h);y("toString",h,v)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],237:[function(t,X,I){t("../internals/typed-array-constructor")("Uint16",function(y){return function(b,h,d){return y(this,b,h,d)}})},{"../internals/typed-array-constructor":143}],238:[function(t,X,I){t("../internals/typed-array-constructor")("Uint32",function(y){return function(b,h,d){return y(this,b,h,d)}})},{"../internals/typed-array-constructor":143}],239:[function(t,X,I){t("../internals/typed-array-constructor")("Uint8",function(y){return function(b,h,d){return y(this,b,h,d)}})},{"../internals/typed-array-constructor":143}],240:[function(t,X,I){t("../internals/typed-array-constructor")("Uint8",function(y){return function(b,h,d){return y(this,b,h,d)}},!0)},{"../internals/typed-array-constructor":143}],241:[function(s,f,I){"use strict";function y(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}}var b,h,d,v,m,o=s("../internals/global"),n=s("../internals/redefine-all"),i=s("../internals/internal-metadata"),a=s("../internals/collection"),l=s("../internals/collection-weak"),c=s("../internals/is-object"),r=s("../internals/internal-state").enforce,s=s("../internals/native-weak-map"),o=!o.ActiveXObject&&"ActiveXObject"in o,u=Object.isExtensible,f=f.exports=a("WeakMap",y,l);s&&o&&(b=l.getConstructor(y,"WeakMap",!0),i.REQUIRED=!0,a=f.prototype,h=a.delete,d=a.has,v=a.get,m=a.set,n(a,{delete:function(C){var E;return c(C)&&!u(C)?((E=r(this)).frozen||(E.frozen=new b),h.call(this,C)||E.frozen.delete(C)):h.call(this,C)},has:function(C){var E;return c(C)&&!u(C)?((E=r(this)).frozen||(E.frozen=new b),d.call(this,C)||E.frozen.has(C)):d.call(this,C)},get:function(C){var E;return!c(C)||u(C)||((E=r(this)).frozen||(E.frozen=new b),d.call(this,C))?v.call(this,C):E.frozen.get(C)},set:function(C,E){var j;return!c(C)||u(C)||((j=r(this)).frozen||(j.frozen=new b),d.call(this,C))?m.call(this,C,E):j.frozen.set(C,E),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":108}],242:[function(t,X,I){var y,b=t("../internals/global"),h=t("../internals/dom-iterables"),d=t("../internals/array-for-each"),v=t("../internals/create-non-enumerable-property");for(y in h){var m=b[y],m=m&&m.prototype;if(m&&m.forEach!==d)try{v(m,"forEach",d)}catch{m.forEach=d}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],243:[function(m,X,I){var y,b=m("../internals/global"),h=m("../internals/dom-iterables"),d=m("../modules/es.array.iterator"),v=m("../internals/create-non-enumerable-property"),m=m("../internals/well-known-symbol"),n=m("iterator"),i=m("toStringTag"),a=d.values;for(y in h){var l=b[y],c=l&&l.prototype;if(c){if(c[n]!==a)try{v(c,n,a)}catch{c[n]=a}if(c[i]||v(c,i,y),h[y]){for(var r in d)if(c[r]!==d[r])try{v(c,r,d[r])}catch{c[r]=d[r]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],244:[function(z,X,I){"use strict";z("../modules/es.array.iterator");function y(W){try{return decodeURIComponent(W)}catch{return W}}function b(W){return D[W]}function h(W){return encodeURIComponent(W).replace(w,b)}function d(W){this.entries.length=0,H(this.entries,W)}function v(W,te){if(W<te)throw TypeError("Not enough arguments")}function m(){o(this,m,k);var W,te,V,Z,Y,q,J,re,ue=0<arguments.length?arguments[0]:void 0,ae=[];if(B(this,{type:k,entries:ae,updateURL:function(){},updateSearchParams:d}),ue!==void 0)if(j(ue))if(typeof(W=M(ue))=="function")for(V=(te=W.call(ue)).next;!(Z=V.call(te)).done;){if((q=(Y=(Z=_(E(Z.value))).next).call(Z)).done||(J=Y.call(Z)).done||!Y.call(Z).done)throw TypeError("Expected sequence with length 2");ae.push({key:q.value+"",value:J.value+""})}else for(re in ue)u(ue,re)&&ae.push({key:re,value:ue[re]+""});else H(ae,typeof ue=="string"?ue.charAt(0)==="?"?ue.slice(1):ue:ue+"")}var n=z("../internals/export"),O=z("../internals/get-built-in"),i=z("../internals/native-url"),a=z("../internals/redefine"),l=z("../internals/redefine-all"),c=z("../internals/set-to-string-tag"),r=z("../internals/create-iterator-constructor"),s=z("../internals/internal-state"),o=z("../internals/an-instance"),u=z("../internals/has"),f=z("../internals/function-bind-context"),C=z("../internals/classof"),E=z("../internals/an-object"),j=z("../internals/is-object"),x=z("../internals/object-create"),T=z("../internals/create-property-descriptor"),_=z("../internals/get-iterator"),M=z("../internals/get-iterator-method"),z=z("../internals/well-known-symbol"),p=O("fetch"),S=O("Headers"),O=z("iterator"),k="URLSearchParams",F=k+"Iterator",B=s.set,L=s.getterFor(k),G=s.getterFor(F),K=/\+/g,$=Array(4),P=function(W){var te,V=W.replace(K," "),Z=4;try{return decodeURIComponent(V)}catch{for(;Z;)V=V.replace((te=Z--,$[te-1]||($[te-1]=RegExp("((?:%[\\da-f]{2}){"+te+"})","gi"))),y);return V}},w=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H=function(W,te){if(te)for(var V,Z=te.split("&"),Y=0;Y<Z.length;)(V=Z[Y++]).length&&(V=V.split("="),W.push({key:P(V.shift()),value:P(V.join("="))}))},N=r(function(W,te){B(this,{type:F,iterator:_(L(W).entries),kind:te})},"Iterator",function(){var te=G(this),W=te.kind,te=te.iterator.next(),V=te.value;return te.done||(te.value=W==="keys"?V.key:W==="values"?V.value:[V.key,V.value]),te}),z=m.prototype;l(z,{append:function(W,te){v(arguments.length,2);var V=L(this);V.entries.push({key:W+"",value:te+""}),V.updateURL()},delete:function(W){v(arguments.length,1);for(var te=L(this),V=te.entries,Z=W+"",Y=0;Y<V.length;)V[Y].key===Z?V.splice(Y,1):Y++;te.updateURL()},get:function(W){v(arguments.length,1);for(var te=L(this).entries,V=W+"",Z=0;Z<te.length;Z++)if(te[Z].key===V)return te[Z].value;return null},getAll:function(W){v(arguments.length,1);for(var te=L(this).entries,V=W+"",Z=[],Y=0;Y<te.length;Y++)te[Y].key===V&&Z.push(te[Y].value);return Z},has:function(W){v(arguments.length,1);for(var te=L(this).entries,V=W+"",Z=0;Z<te.length;)if(te[Z++].key===V)return!0;return!1},set:function(W,te){v(arguments.length,1);for(var V,Z=L(this),Y=Z.entries,q=!1,J=W+"",re=te+"",ue=0;ue<Y.length;ue++)(V=Y[ue]).key===J&&(q?Y.splice(ue--,1):(q=!0,V.value=re));q||Y.push({key:J,value:re}),Z.updateURL()},sort:function(){for(var W,te,V=L(this),Z=V.entries,Y=Z.slice(),q=Z.length=0;q<Y.length;q++){for(W=Y[q],te=0;te<q;te++)if(Z[te].key>W.key){Z.splice(te,0,W);break}te===q&&Z.push(W)}V.updateURL()},forEach:function(W){for(var te,V=L(this).entries,Z=f(W,1<arguments.length?arguments[1]:void 0,3),Y=0;Y<V.length;)Z((te=V[Y++]).value,te.key,this)},keys:function(){return new N(this,"keys")},values:function(){return new N(this,"values")},entries:function(){return new N(this,"entries")}},{enumerable:!0}),a(z,O,z.entries),a(z,"toString",function(){for(var W,te=L(this).entries,V=[],Z=0;Z<te.length;)W=te[Z++],V.push(h(W.key)+"="+h(W.value));return V.join("&")},{enumerable:!0}),c(m,k),n({global:!0,forced:!i},{URLSearchParams:m}),i||typeof p!="function"||typeof S!="function"||n({global:!0,enumerable:!0,forced:!0},{fetch:function(Y){var te,V,Z,Y=[Y];return 1<arguments.length&&(j(te=arguments[1])&&(V=te.body,C(V)===k&&((Z=te.headers?new S(te.headers):new S).has("content-type")||Z.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),te=x(te,{body:T(0,String(V)),headers:T(0,Z)}))),Y.push(te)),p.apply(this,Y)}}),X.exports={URLSearchParams:m,getState:L}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],245:[function(_,X,I){"use strict";_("../modules/es.string.iterator");function y(Ae){var Xe,Ze,We,ut;if(typeof Ae=="number"){for(Xe=[],Ze=0;Ze<4;Ze++)Xe.unshift(Ae%256),Ae=F(Ae/256);return Xe.join(".")}if(typeof Ae!="object")return Ae;for(Xe="",We=J(Ae),Ze=0;Ze<8;Ze++)ut&&Ae[Ze]===0||(ut=ut&&!1,We===Ze?(Xe+=Ze?":":"::",ut=!0):(Xe+=Ae[Ze].toString(16),Ze<7&&(Xe+=":")));return"["+Xe+"]"}function b(Ae){return!Ae.host||Ae.cannotBeABaseURL||Ae.scheme=="file"}function h(Ae,Xe,Ze,We){var ut,ze,mt,$e=Ze||we,dt=0,Ke="",At=!1,Ft=!1,Tt=!1;for(Ze||(Ae.scheme="",Ae.username="",Ae.password="",Ae.host=null,Ae.port=null,Ae.path=[],Ae.query=null,Ae.fragment=null,Ae.cannotBeABaseURL=!1,Xe=Xe.replace(Z,"")),Xe=Xe.replace(Y,""),ut=C(Xe);dt<=ut.length;){switch(ze=ut[dt],$e){case we:if(!ze||!P.test(ze)){if(Ze)return G;$e=oe;continue}Ke+=ze.toLowerCase(),$e=xe;break;case xe:if(ze&&(w.test(ze)||ze=="+"||ze=="-"||ze=="."))Ke+=ze.toLowerCase();else{if(ze!=":"){if(Ze)return G;Ke="",$e=oe,dt=0;continue}if(Ze&&(le(Ae)!=u(Me,Ke)||Ke=="file"&&(pe(Ae)||Ae.port!==null)||Ae.scheme=="file"&&!Ae.host))return;if(Ae.scheme=Ke,Ze)return void(le(Ae)&&Me[Ae.scheme]==Ae.port&&(Ae.port=null));Ke="",Ae.scheme=="file"?$e=et:le(Ae)&&We&&We.scheme==Ae.scheme?$e=ce:le(Ae)?$e=Ee:ut[dt+1]=="/"?($e=se,dt++):(Ae.cannotBeABaseURL=!0,Ae.path.push(""),$e=gt)}break;case oe:if(!We||We.cannotBeABaseURL&&ze!="#")return G;if(We.cannotBeABaseURL&&ze=="#"){Ae.scheme=We.scheme,Ae.path=We.path.slice(),Ae.query=We.query,Ae.fragment="",Ae.cannotBeABaseURL=!0,$e=ft;break}$e=We.scheme=="file"?et:fe;continue;case ce:if(ze!="/"||ut[dt+1]!="/"){$e=fe;continue}$e=Pe,dt++;break;case se:if(ze=="/"){$e=Be;break}$e=Je;continue;case fe:if(Ae.scheme=We.scheme,ze==m)Ae.username=We.username,Ae.password=We.password,Ae.host=We.host,Ae.port=We.port,Ae.path=We.path.slice(),Ae.query=We.query;else if(ze=="/"||ze=="\\"&&le(Ae))$e=ke;else if(ze=="?")Ae.username=We.username,Ae.password=We.password,Ae.host=We.host,Ae.port=We.port,Ae.path=We.path.slice(),Ae.query="",$e=pt;else{if(ze!="#"){Ae.username=We.username,Ae.password=We.password,Ae.host=We.host,Ae.port=We.port,Ae.path=We.path.slice(),Ae.path.pop(),$e=Je;continue}Ae.username=We.username,Ae.password=We.password,Ae.host=We.host,Ae.port=We.port,Ae.path=We.path.slice(),Ae.query=We.query,Ae.fragment="",$e=ft}break;case ke:if(!le(Ae)||ze!="/"&&ze!="\\"){if(ze!="/"){Ae.username=We.username,Ae.password=We.password,Ae.host=We.host,Ae.port=We.port,$e=Je;continue}$e=Be}else $e=Pe;break;case Ee:if($e=Pe,ze!="/"||Ke.charAt(dt+1)!="/")continue;dt++;break;case Pe:if(ze=="/"||ze=="\\")break;$e=Be;continue;case Be:if(ze=="@"){At&&(Ke="%40"+Ke);for(var At=!0,Bt=C(Ke),tr=0;tr<Bt.length;tr++){var Yt=Bt[tr];Yt!=":"||Tt?(Yt=be(Yt,he),Tt?Ae.password+=Yt:Ae.username+=Yt):Tt=!0}Ke=""}else if(ze==m||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&le(Ae)){if(At&&Ke=="")return L;dt-=C(Ke).length+1,Ke="",$e=Ge}else Ke+=ze;break;case Ge:case He:if(Ze&&Ae.scheme=="file"){$e=Ye;continue}if(ze!=":"||Ft){if(ze==m||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&le(Ae)){if(le(Ae)&&Ke=="")return K;if(Ze&&Ke==""&&(pe(Ae)||Ae.port!==null))return;if(mt=q(Ae,Ke))return mt;if(Ke="",$e=nt,Ze)return;continue}ze=="["?Ft=!0:ze=="]"&&(Ft=!1),Ke+=ze}else{if(Ke=="")return K;if(mt=q(Ae,Ke))return mt;if(Ke="",$e=qe,Ze==He)return}break;case qe:if(!D.test(ze)){if(ze==m||ze=="/"||ze=="?"||ze=="#"||ze=="\\"&&le(Ae)||Ze){if(Ke!=""){var rr=parseInt(Ke,10);if(65535<rr)return $;Ae.port=le(Ae)&&rr===Me[Ae.scheme]?null:rr,Ke=""}if(Ze)return;$e=nt;continue}return $}Ke+=ze;break;case et:if(Ae.scheme="file",ze=="/"||ze=="\\")$e=Qe;else{if(!We||We.scheme!="file"){$e=Je;continue}if(ze==m)Ae.host=We.host,Ae.path=We.path.slice(),Ae.query=We.query;else if(ze=="?")Ae.host=We.host,Ae.path=We.path.slice(),Ae.query="",$e=pt;else{if(ze!="#"){ve(ut.slice(dt).join(""))||(Ae.host=We.host,Ae.path=We.path.slice(),Se(Ae)),$e=Je;continue}Ae.host=We.host,Ae.path=We.path.slice(),Ae.query=We.query,Ae.fragment="",$e=ft}}break;case Qe:if(ze=="/"||ze=="\\"){$e=Ye;break}We&&We.scheme=="file"&&!ve(ut.slice(dt).join(""))&&(ge(We.path[0],!0)?Ae.path.push(We.path[0]):Ae.host=We.host),$e=Je;continue;case Ye:if(ze==m||ze=="/"||ze=="\\"||ze=="?"||ze=="#"){if(!Ze&&ge(Ke))$e=Je;else{if(Ke==""){if(Ae.host="",Ze)return}else{if(mt=q(Ae,Ke))return mt;if(Ae.host=="localhost"&&(Ae.host=""),Ze)return;Ke=""}$e=nt}continue}Ke+=ze;break;case nt:if(le(Ae)){if($e=Je,ze!="/"&&ze!="\\")continue}else if(Ze||ze!="?")if(Ze||ze!="#"){if(ze!=m&&($e=Je,ze!="/"))continue}else Ae.fragment="",$e=ft;else Ae.query="",$e=pt;break;case Je:if(ze==m||ze=="/"||ze=="\\"&&le(Ae)||!Ze&&(ze=="?"||ze=="#")){if(me(Ke)?(Se(Ae),ze=="/"||ze=="\\"&&le(Ae)||Ae.path.push("")):je(Ke)?ze=="/"||ze=="\\"&&le(Ae)||Ae.path.push(""):(Ae.scheme=="file"&&!Ae.path.length&&ge(Ke)&&(Ae.host&&(Ae.host=""),Ke=Ke.charAt(0)+":"),Ae.path.push(Ke)),Ke="",Ae.scheme=="file"&&(ze==m||ze=="?"||ze=="#"))for(;1<Ae.path.length&&Ae.path[0]==="";)Ae.path.shift();ze=="?"?(Ae.query="",$e=pt):ze=="#"&&(Ae.fragment="",$e=ft)}else Ke+=be(ze,ae);break;case gt:ze=="?"?(Ae.query="",$e=pt):ze=="#"?(Ae.fragment="",$e=ft):ze!=m&&(Ae.path[0]+=be(ze,re));break;case pt:Ze||ze!="#"?ze!=m&&(ze=="'"&&le(Ae)?Ae.query+="%27":Ae.query+=ze=="#"?"%23":be(ze,re)):(Ae.fragment="",$e=ft);break;case ft:ze!=m&&(Ae.fragment+=be(ze,ue))}dt++}}function d(ze){var Xe,Ze,We=o(this,d,"URL"),ut=1<arguments.length?arguments[1]:void 0,ze=String(ze),mt=O(We,{type:"URL"});if(ut!==void 0){if(ut instanceof d)Xe=k(ut);else if(Ze=h(Xe={},String(ut)))throw TypeError(Ze)}if(Ze=h(mt,ze,null,Xe))throw TypeError(Ze);var $e=mt.searchParams=new p;(ut=S($e)).updateSearchParams(mt.query),ut.updateURL=function(){mt.query=String($e)||null},l||(We.href=xt.call(We),We.origin=ht.call(We),We.protocol=Ot.call(We),We.username=Et.call(We),We.password=yt.call(We),We.host=Pt.call(We),We.hostname=cr.call(We),We.port=mr.call(We),We.pathname=ur.call(We),We.search=gr.call(We),We.searchParams=yr.call(We),We.hash=er.call(We))}function v(Ae,Xe){return{get:Ae,set:Xe,configurable:!0,enumerable:!0}}var m,n,i,a=_("../internals/export"),l=_("../internals/descriptors"),c=_("../internals/native-url"),lt=_("../internals/global"),r=_("../internals/object-define-properties"),s=_("../internals/redefine"),o=_("../internals/an-instance"),u=_("../internals/has"),f=_("../internals/object-assign"),C=_("../internals/array-from"),E=_("../internals/string-multibyte").codeAt,j=_("../internals/string-punycode-to-ascii"),x=_("../internals/set-to-string-tag"),T=_("../modules/web.url-search-params"),_=_("../internals/internal-state"),M=lt.URL,p=T.URLSearchParams,S=T.getState,O=_.set,k=_.getterFor("URL"),F=Math.floor,B=Math.pow,L="Invalid authority",G="Invalid scheme",K="Invalid host",$="Invalid port",P=/[A-Za-z]/,w=/[\d+-.A-Za-z]/,D=/\d/,H=/^(0x|0X)/,N=/^[0-7]+$/,z=/^\d+$/,W=/^[\dA-Fa-f]+$/,te=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,V=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Z=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Y=/[\u0009\u000A\u000D]/g,q=function(Ae,Xe){var Ze,We,ut;if(Xe.charAt(0)=="[")return Xe.charAt(Xe.length-1)=="]"&&(Ze=function(ze){var mt=[0,0,0,0,0,0,0,0],$e=0,dt=null,Ke=0,At,Ft,Tt,Bt,tr,Yt,rr,Ut=function(){return ze.charAt(Ke)};if(Ut()==":"){if(ze.charAt(1)!=":")return;Ke+=2,$e++,dt=$e}for(;Ut();){if($e==8)return;if(Ut()==":"){if(dt!==null)return;Ke++,$e++,dt=$e;continue}for(At=Ft=0;Ft<4&&W.test(Ut());)At=At*16+parseInt(Ut(),16),Ke++,Ft++;if(Ut()=="."){if(Ft==0||(Ke-=Ft,$e>6))return;for(Tt=0;Ut();){if(Bt=null,Tt>0)if(Ut()=="."&&Tt<4)Ke++;else return;if(!D.test(Ut()))return;for(;D.test(Ut());){if(tr=parseInt(Ut(),10),Bt===null)Bt=tr;else{if(Bt==0)return;Bt=Bt*10+tr}if(Bt>255)return;Ke++}mt[$e]=mt[$e]*256+Bt,Tt++,(Tt==2||Tt==4)&&$e++}if(Tt!=4)return;break}else if(Ut()==":"){if(Ke++,!Ut())return}else if(Ut())return;mt[$e++]=At}if(dt!==null)for(Yt=$e-dt,$e=7;$e!=0&&Yt>0;)rr=mt[$e],mt[$e--]=mt[dt+Yt-1],mt[dt+--Yt]=rr;else if($e!=8)return;return mt}(Xe.slice(1,-1)))?void(Ae.host=Ze):K;if(le(Ae))return Xe=j(Xe),te.test(Xe)||(Ze=function(ze){var mt=ze.split("."),$e,dt,Ke,At,Ft,Tt,Bt;if(mt.length&&mt[mt.length-1]==""&&mt.pop(),($e=mt.length)>4)return ze;for(dt=[],Ke=0;Ke<$e;Ke++){if(At=mt[Ke],At=="")return ze;if(Ft=10,At.length>1&&At.charAt(0)=="0"&&(Ft=H.test(At)?16:8,At=At.slice(Ft==8?1:2)),At==="")Tt=0;else{if(!(Ft==10?z:Ft==8?N:W).test(At))return ze;Tt=parseInt(At,Ft)}dt.push(Tt)}for(Ke=0;Ke<$e;Ke++)if(Tt=dt[Ke],Ke==$e-1){if(Tt>=B(256,5-$e))return null}else if(Tt>255)return null;for(Bt=dt.pop(),Ke=0;Ke<dt.length;Ke++)Bt+=dt[Ke]*B(256,3-Ke);return Bt}(Xe))===null?K:void(Ae.host=Ze);if(V.test(Xe))return K;for(Ze="",We=C(Xe),ut=0;ut<We.length;ut++)Ze+=be(We[ut],re);Ae.host=Ze},J=function(Ae){for(var Xe=null,Ze=1,We=null,ut=0,ze=0;ze<8;ze++)Ae[ze]!==0?(Ze<ut&&(Xe=We,Ze=ut),We=null,ut=0):(We===null&&(We=ze),++ut);return Ze<ut&&(Xe=We,Ze=ut),Xe},re={},ue=f({},re,{" ":1,'"':1,"<":1,">":1,"`":1}),ae=f({},ue,{"#":1,"?":1,"{":1,"}":1}),he=f({},ae,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),be=function(Ae,Xe){var Ze=E(Ae,0);return 32<Ze&&Ze<127&&!u(Xe,Ae)?Ae:encodeURIComponent(Ae)},Me={ftp:21,file:null,http:80,https:443,ws:80,wss:443},le=function(Ae){return u(Me,Ae.scheme)},pe=function(Ae){return Ae.username!=""||Ae.password!=""},ge=function(Ae,Xe){return Ae.length==2&&P.test(Ae.charAt(0))&&((Ae=Ae.charAt(1))==":"||!Xe&&Ae=="|")},ve=function(Ae){return 1<Ae.length&&ge(Ae.slice(0,2))&&(Ae.length==2||(Ae=Ae.charAt(2))==="/"||Ae==="\\"||Ae==="?"||Ae==="#")},Se=function(Ae){var Xe=Ae.path,Ze=Xe.length;!Ze||Ae.scheme=="file"&&Ze==1&&ge(Xe[0],!0)||Xe.pop()},je=function(Ae){return Ae==="."||Ae.toLowerCase()==="%2e"},me=function(Ae){return(Ae=Ae.toLowerCase())===".."||Ae==="%2e."||Ae===".%2e"||Ae==="%2e%2e"},we={},xe={},oe={},ce={},se={},fe={},ke={},Ee={},Pe={},Be={},Ge={},He={},qe={},et={},Qe={},Ye={},nt={},Je={},gt={},pt={},ft={},lt=d.prototype,xt=function(){var Ae=k(this),Xe=Ae.scheme,Ze=Ae.username,We=Ae.password,ut=Ae.host,ze=Ae.port,mt=Ae.path,$e=Ae.query,dt=Ae.fragment,Ke=Xe+":";return ut!==null?(Ke+="//",pe(Ae)&&(Ke+=Ze+(We?":"+We:"")+"@"),Ke+=y(ut),ze!==null&&(Ke+=":"+ze)):Xe=="file"&&(Ke+="//"),Ke+=Ae.cannotBeABaseURL?mt[0]:mt.length?"/"+mt.join("/"):"",$e!==null&&(Ke+="?"+$e),dt!==null&&(Ke+="#"+dt),Ke},ht=function(){var Ae=k(this),Xe=Ae.scheme,Ze=Ae.port;if(Xe=="blob")try{return new URL(Xe.path[0]).origin}catch{return"null"}return Xe!="file"&&le(Ae)?Xe+"://"+y(Ae.host)+(Ze!==null?":"+Ze:""):"null"},Ot=function(){return k(this).scheme+":"},Et=function(){return k(this).username},yt=function(){return k(this).password},Pt=function(){var Xe=k(this),Ae=Xe.host,Xe=Xe.port;return Ae===null?"":Xe===null?y(Ae):y(Ae)+":"+Xe},cr=function(){var Ae=k(this).host;return Ae===null?"":y(Ae)},mr=function(){var Ae=k(this).port;return Ae===null?"":String(Ae)},ur=function(){var Ae=k(this),Xe=Ae.path;return Ae.cannotBeABaseURL?Xe[0]:Xe.length?"/"+Xe.join("/"):""},gr=function(){var Ae=k(this).query;return Ae?"?"+Ae:""},yr=function(){return k(this).searchParams},er=function(){var Ae=k(this).fragment;return Ae?"#"+Ae:""};l&&r(lt,{href:v(xt,function(Ze){var Xe=k(this),Ze=String(Ze),Ze=h(Xe,Ze);if(Ze)throw TypeError(Ze);S(Xe.searchParams).updateSearchParams(Xe.query)}),origin:v(ht),protocol:v(Ot,function(Ae){var Xe=k(this);h(Xe,String(Ae)+":",we)}),username:v(Et,function(Ae){var Xe=k(this),Ze=C(String(Ae));if(!b(Xe)){Xe.username="";for(var We=0;We<Ze.length;We++)Xe.username+=be(Ze[We],he)}}),password:v(yt,function(Ae){var Xe=k(this),Ze=C(String(Ae));if(!b(Xe)){Xe.password="";for(var We=0;We<Ze.length;We++)Xe.password+=be(Ze[We],he)}}),host:v(Pt,function(Ae){var Xe=k(this);Xe.cannotBeABaseURL||h(Xe,String(Ae),Ge)}),hostname:v(cr,function(Ae){var Xe=k(this);Xe.cannotBeABaseURL||h(Xe,String(Ae),He)}),port:v(mr,function(Ae){var Xe=k(this);b(Xe)||((Ae=String(Ae))==""?Xe.port=null:h(Xe,Ae,qe))}),pathname:v(ur,function(Ae){var Xe=k(this);Xe.cannotBeABaseURL||(Xe.path=[],h(Xe,Ae+"",nt))}),search:v(gr,function(Ae){var Xe=k(this);(Ae=String(Ae))==""?Xe.query=null:(Ae.charAt(0)=="?"&&(Ae=Ae.slice(1)),Xe.query="",h(Xe,Ae,pt)),S(Xe.searchParams).updateSearchParams(Xe.query)}),searchParams:v(yr),hash:v(er,function(Ae){var Xe=k(this);(Ae=String(Ae))==""?Xe.fragment=null:(Ae.charAt(0)=="#"&&(Ae=Ae.slice(1)),Xe.fragment="",h(Xe,Ae,ft))})}),s(lt,"toJSON",function(){return xt.call(this)},{enumerable:!0}),s(lt,"toString",function(){return xt.call(this)},{enumerable:!0}),M&&(n=M.createObjectURL,i=M.revokeObjectURL,n&&s(d,"createObjectURL",function(Ae){return n.apply(M,arguments)}),i&&s(d,"revokeObjectURL",function(Ae){return i.apply(M,arguments)})),x(d,"URL"),a({global:!0,forced:!c,sham:!l},{URL:d})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/string-multibyte":124,"../internals/string-punycode-to-ascii":127,"../modules/es.string.iterator":197,"../modules/web.url-search-params":244}],246:[function(t,X,I){"use strict";X.exports=t("./").polyfill()},{"./":247}],247:[function(t,X,I){(function(y,b){var h,d;h=this,d=function(){"use strict";function v(q){return typeof q=="function"}var m=Array.isArray||function(q){return Object.prototype.toString.call(q)==="[object Array]"},n=0,i=void 0,a=void 0,l=function(q,J){f[n]=q,f[n+1]=J,(n+=2)===2&&(a?a(C):p())},c=typeof window<"u"?window:void 0,r=c||{},r=r.MutationObserver||r.WebKitMutationObserver,s=typeof self>"u"&&y!==void 0&&{}.toString.call(y)==="[object process]",o=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function u(){var q=setTimeout;return function(){return q(C,1)}}var f=new Array(1e3);function C(){for(var q=0;q<n;q+=2)(0,f[q])(f[q+1]),f[q]=void 0,f[q+1]=void 0;n=0}function E(){try{var q=Function("return this")().require("vertx");return(i=q.runOnLoop||q.runOnContext)!==void 0?function(){i(C)}:u()}catch{return u()}}var j,x,T,p=void 0;function _(q,J){var re,ue=this,ae=new this.constructor(O),he=(ae[S]===void 0&&W(ae),ue._state);return he?(re=arguments[he-1],l(function(){return N(he,ae,re,ue._result)})):D(ue,ae,q,J),ae}function M(q){var J;return q&&typeof q=="object"&&q.constructor===this?q:(K(J=new this(O),q),J)}var p=s?function(){return y.nextTick(C)}:r?(x=0,s=new r(C),T=document.createTextNode(""),s.observe(T,{characterData:!0}),function(){T.data=x=++x%2}):o?((j=new MessageChannel).port1.onmessage=C,function(){return j.port2.postMessage(0)}):(c===void 0&&typeof t=="function"?E:u)(),S=Math.random().toString(36).substring(2);function O(){}var k=void 0,F=1,B=2;function L(q,J,re){l(function(ue){var ae=!1,he=function(be,Me,le,pe){try{be.call(Me,le,pe)}catch(ge){return ge}}(re,J,function(be){ae||(ae=!0,(J!==be?K:P)(ue,be))},function(be){ae||(ae=!0,w(ue,be))},ue._label);!ae&&he&&(ae=!0,w(ue,he))},q)}function G(q,J,re){var ue,ae;J.constructor===q.constructor&&re===_&&J.constructor.resolve===M?(ue=q,(ae=J)._state===F?P(ue,ae._result):ae._state===B?w(ue,ae._result):D(ae,void 0,function(he){return K(ue,he)},function(he){return w(ue,he)})):re!==void 0&&v(re)?L(q,J,re):P(q,J)}function K(q,J){if(q===J)w(q,new TypeError("You cannot resolve a promise with itself"));else if(re=typeof J,J===null||re!="object"&&re!="function")P(q,J);else{re=void 0;try{re=J.then}catch(ue){return void w(q,ue)}G(q,J,re)}var re}function $(q){q._onerror&&q._onerror(q._result),H(q)}function P(q,J){q._state===k&&(q._result=J,q._state=F,q._subscribers.length!==0&&l(H,q))}function w(q,J){q._state===k&&(q._state=B,q._result=J,l($,q))}function D(q,J,re,ue){var ae=q._subscribers,he=ae.length;q._onerror=null,ae[he]=J,ae[he+F]=re,ae[he+B]=ue,he===0&&q._state&&l(H,q)}function H(q){var J=q._subscribers,re=q._state;if(J.length!==0){for(var ue,ae=void 0,he=q._result,be=0;be<J.length;be+=3)ue=J[be],ae=J[be+re],ue?N(re,ue,ae,he):ae(he);q._subscribers.length=0}}function N(q,J,re,ue){var ae=v(re),he=void 0,be=void 0,Me=!0;if(ae){try{he=re(ue)}catch(le){Me=!1,be=le}if(J===he)return void w(J,new TypeError("A promises callback cannot return that same promise."))}else he=ue;J._state===k&&(ae&&Me?K(J,he):Me===!1?w(J,be):q===F?P(J,he):q===B&&w(J,he))}var z=0;function W(q){q[S]=z++,q._state=void 0,q._result=void 0,q._subscribers=[]}V.prototype._enumerate=function(q){for(var J=0;this._state===k&&J<q.length;J++)this._eachEntry(q[J],J)},V.prototype._eachEntry=function(q,J){var re=this._instanceConstructor,ue=re.resolve;if(ue===M){var ae,he=void 0,be=void 0,Me=!1;try{he=q.then}catch(le){Me=!0,be=le}he===_&&q._state!==k?this._settledAt(q._state,J,q._result):typeof he!="function"?(this._remaining--,this._result[J]=q):re===Z?(ae=new re(O),Me?w(ae,be):G(ae,q,he),this._willSettleAt(ae,J)):this._willSettleAt(new re(function(le){return le(q)}),J)}else this._willSettleAt(ue(q),J)},V.prototype._settledAt=function(q,J,re){var ue=this.promise;ue._state===k&&(this._remaining--,q===B?w(ue,re):this._result[J]=re),this._remaining===0&&P(ue,this._result)},V.prototype._willSettleAt=function(q,J){var re=this;D(q,void 0,function(ue){return re._settledAt(F,J,ue)},function(ue){return re._settledAt(B,J,ue)})};var te=V;function V(q,J){this._instanceConstructor=q,this.promise=new q(O),this.promise[S]||W(this.promise),m(J)?(this.length=J.length,this._remaining=J.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(J),this._remaining!==0)||P(this.promise,this._result)):w(this.promise,new Error("Array Methods must be provided an Array"))}Y.prototype.catch=function(q){return this.then(null,q)},Y.prototype.finally=function(q){var J=this.constructor;return v(q)?this.then(function(re){return J.resolve(q()).then(function(){return re})},function(re){return J.resolve(q()).then(function(){throw re})}):this.then(q,q)};var Z=Y;function Y(q){if(this[S]=z++,this._result=this._state=void 0,this._subscribers=[],O!==q){if(typeof q!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Y))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var J=this;try{q(function(re){K(J,re)},function(re){w(J,re)})}catch(re){w(J,re)}}}return Z.prototype.then=_,Z.all=function(q){return new te(this,q).promise},Z.race=function(q){var J=this;return m(q)?new J(function(re,ue){for(var ae=q.length,he=0;he<ae;he++)J.resolve(q[he]).then(re,ue)}):new J(function(re,ue){return ue(new TypeError("You must pass an array to race."))})},Z.resolve=M,Z.reject=function(q){var J=new this(O);return w(J,q),J},Z._setScheduler=function(q){a=q},Z._setAsap=function(q){l=q},Z._asap=l,Z.polyfill=function(){var q=void 0;if(b!==void 0)q=b;else if(typeof self<"u")q=self;else try{q=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var J=q.Promise;if(J){var re=null;try{re=Object.prototype.toString.call(J.resolve())}catch{}if(re==="[object Promise]"&&!J.cast)return}q.Promise=Z},Z.Promise=Z},typeof I=="object"&&X!==void 0?X.exports=d():typeof _e=="function"&&_e.amd?_e(d):h.ES6Promise=d()}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:256}],248:[function(t,X,I){var y,b;y=this,b=function(h,d){"use strict";var v=5e3,m="callback";function n(a){try{delete window[a]}catch{window[a]=void 0}}function i(a){a=document.getElementById(a),a&&document.getElementsByTagName("head")[0].removeChild(a)}d.exports=function(a){var l=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],c=a,r=l.timeout||v,s=l.jsonpCallback||m,o=void 0;return new Promise(function(u,f){var C=l.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),E=s+"_"+C,j=(window[C]=function(x){u({ok:!0,json:function(){return Promise.resolve(x)}}),o&&clearTimeout(o),i(E),n(C)},c+=c.indexOf("?")===-1?"?":"&",document.createElement("script"));j.setAttribute("src",""+c+s+"="+C),l.charset&&j.setAttribute("charset",l.charset),j.id=E,document.getElementsByTagName("head")[0].appendChild(j),o=setTimeout(function(){f(new Error("JSONP request to "+a+" timed out")),n(C),i(E),window[C]=function(){n(C)}},r),j.onerror=function(){f(new Error("JSONP request to "+a+" failed")),n(C),i(E),o&&clearTimeout(o)}})}},typeof _e=="function"&&_e.amd?_e(["exports","module"],b):I!==void 0&&X!==void 0?b(0,X):(b(b={exports:{}},b),y.fetchJsonp=b.exports)},{}],249:[function(t,X,I){var y=function(b){"use strict";var h,d,v,m,n,i,a,l,c,r,s;if(!(b===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return s=b.document,h=function(){return b.URL||b.webkitURL||b},d=s.createElementNS("http://www.w3.org/1999/xhtml","a"),v="download"in d,m=/constructor/i.test(b.HTMLElement)||b.safari,n=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(o){(b.setImmediate||b.setTimeout)(function(){throw o},0)},a=4e4,l=function(o){setTimeout(function(){typeof o=="string"?h().revokeObjectURL(o):o.remove()},a)},c=function(o){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o},s=(r=function(o,u,x){x||(o=c(o));var C,E,j=this,x=o.type==="application/octet-stream",T=function(){for(var _=j,M="writestart progress write writeend".split(" "),p=void 0,S=(M=[].concat(M)).length;S--;){var O=_["on"+M[S]];if(typeof O=="function")try{O.call(_,p||_)}catch(k){i(k)}}};j.readyState=j.INIT,v?(C=h().createObjectURL(o),setTimeout(function(){var _,M;d.href=C,d.download=u,_=d,M=new MouseEvent("click"),_.dispatchEvent(M),T(),l(C),j.readyState=j.DONE})):(n||x&&m)&&b.FileReader?((E=new FileReader).onloadend=function(){var _=n?E.result:E.result.replace(/^data:[^;]*;/,"data:attachment/file;");b.open(_,"_blank")||(b.location.href=_),_=void 0,j.readyState=j.DONE,T()},E.readAsDataURL(o),j.readyState=j.INIT):(C=C||h().createObjectURL(o),!x&&b.open(C,"_blank")||(b.location.href=C),j.readyState=j.DONE,T(),l(C))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(o,u,f){return u=u||o.name||"download",f||(o=c(o)),navigator.msSaveOrOpenBlob(o,u)}:(s.abort=function(){},s.readyState=s.INIT=0,s.WRITING=1,s.DONE=2,s.error=s.onwritestart=s.onprogress=s.onwrite=s.onabort=s.onerror=s.onwriteend=null,function(o,u,f){return new r(o,u||o.name||"download",f)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);X!==void 0&&X.exports?X.exports.saveAs=y:_e!=null&&_e.amd!==null&&_e("FileSaver.js",function(){return y})},{}],250:[function(t,X,I){var y,b=Object.defineProperty,h=(b(I,"__esModule",{value:!0}),I),d={GIFEncoder:()=>T,applyPalette:()=>function(k,F,B="rgb565"){if(!k||!k.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(k instanceof Uint8Array||k instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<F.length)throw new Error("applyPalette() only works with 256 colors or less");let L=new Uint32Array(k.buffer),G=L.length,K=B==="rgb444"?4096:65536,$=new Uint8Array(G),P=new Array(K);if(B==="rgba4444")for(let Y=0;Y<G;Y++){var N=L[Y],w=N>>24&255,D=N>>16&255,H=N>>8&255,N=255&N,z=l(N,H,D,w),z=z in P?P[z]:P[z]=function(q,J,re,ue,ae){let he=0,be=1e100;for(let ge=0;ge<ae.length;ge++){var Me,le=ae[ge],pe=E(le[3]-ue);pe>be||(Me=le[0],(pe+=E(Me-q))>be||(Me=le[1],(pe+=E(Me-J))>be||(Me=le[2],(pe+=E(Me-re))>be||(be=pe,he=ge))))}return he}(N,H,D,w,F);$[Y]=z}else{let Y=B==="rgb444"?c:a;for(let q=0;q<G;q++){var V=L[q],W=V>>16&255,te=V>>8&255,V=255&V,Z=Y(V,te,W),Z=Z in P?P[Z]:P[Z]=function(J,re,ue,ae){let he=0,be=1e100;for(let ge=0;ge<ae.length;ge++){var Me,le=ae[ge],pe=E(le[0]-J);pe>be||(Me=le[1],(pe+=E(Me-re))>be||(Me=le[2],(pe+=E(Me-ue))>be||(be=pe,he=ge)))}return he}(V,te,W,F);$[q]=Z}}return $},default:()=>O,nearestColor:()=>function(k,F,B=f){return k[j(k,F,B)]},nearestColorIndex:()=>j,nearestColorIndexWithDistance:()=>x,prequantize:()=>function(k,{roundRGB:F=5,roundAlpha:B=10,oneBitAlpha:L=null}={}){let G=new Uint32Array(k.buffer);for(let D=0;D<G.length;D++){var w=G[D];let H=w>>24&255;var K,$=w>>16&255,P=w>>8&255,w=255&w;H=C(H,B),L&&(K=typeof L=="number"?L:127,H=H<=K?0:255),w=C(w,F),P=C(P,F),$=C($,F),G[D]=H<<24|$<<16|P<<8|w<<0}},quantize:()=>function(k,F,B={}){var{format:L="rgb565",clearAlpha:G=!0,clearAlphaColor:K=0,clearAlphaThreshold:$=0,oneBitAlpha:P=!1}=B;if(!k||!k.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(k instanceof Uint8Array||k instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");k=new Uint32Array(k.buffer);let w=B.useSqrt!==!1,D=L==="rgba4444",H=function(ve,Se){let je=Se==="rgb444"?4096:65536,me=new Array(je),we=ve.length;if(Se==="rgba4444")for(let Qe=0;Qe<we;++Qe){var se=ve[Qe],xe=se>>24&255,oe=se>>16&255,ce=se>>8&255,se=255&se,fe=l(se,ce,oe,xe);let Ye=fe in me?me[fe]:me[fe]=u();Ye.rc+=se,Ye.gc+=ce,Ye.bc+=oe,Ye.ac+=xe,Ye.cnt++}else if(Se==="rgb444")for(let Qe=0;Qe<we;++Qe){var Pe=ve[Qe],ke=Pe>>16&255,Ee=Pe>>8&255,Pe=255&Pe,Be=c(Pe,Ee,ke);let Ye=Be in me?me[Be]:me[Be]=u();Ye.rc+=Pe,Ye.gc+=Ee,Ye.bc+=ke,Ye.cnt++}else for(let Qe=0;Qe<we;++Qe){var qe=ve[Qe],Ge=qe>>16&255,He=qe>>8&255,qe=255&qe,et=a(qe,He,Ge);let Ye=et in me?me[et]:me[et]=u();Ye.rc+=qe,Ye.gc+=He,Ye.bc+=Ge,Ye.cnt++}return me}(k,L),N=H.length,z=N-1,W=new Uint32Array(N+1);for(var te=0,V=0;V<N;++V){let ve=H[V];ve!=null&&(le=1/ve.cnt,D&&(ve.ac*=le),ve.rc*=le,ve.gc*=le,ve.bc*=le,H[te++]=ve)}s(F)/te<.022&&(w=!1);for(var Z,Y,q,V=0;V<te-1;++V)H[V].fw=V+1,H[V+1].bk=V,w&&(H[V].cnt=Math.sqrt(H[V].cnt));for(w&&(H[V].cnt=Math.sqrt(H[V].cnt)),V=0;V<te;++V){o(H,V,!1);var J=H[V].err;for(Y=++W[0];1<Y&&(q=Y>>1,!(H[Z=W[q]].err<=J));Y=q)W[Y]=Z;W[Y]=V}var re,ue=te-F;for(V=0;V<ue;){for(;;){var ae=W[1];if((re=H[ae]).tm>=re.mtm&&H[re.nn].mtm<=re.tm)break;for(re.mtm==z?ae=W[1]=W[W[0]--]:(o(H,ae,!1),re.tm=V),J=H[ae].err,Y=1;(q=Y+Y)<=W[0]&&(q<W[0]&&H[W[q]].err>H[W[q+1]].err&&q++,!(J<=H[Z=W[q]].err));Y=q)W[Y]=Z;W[Y]=ae}var he=H[re.nn],be=re.cnt,Me=he.cnt,le=1/(be+Me);D&&(re.ac=le*(be*re.ac+Me*he.ac)),re.rc=le*(be*re.rc+Me*he.rc),re.gc=le*(be*re.gc+Me*he.gc),re.bc=le*(be*re.bc+Me*he.bc),re.cnt+=he.cnt,re.mtm=++V,H[he.bk].fw=he.fw,H[he.fw].bk=he.bk,he.mtm=z}let pe=[];for(V=0;;0){let ve=r(Math.round(H[V].rc),0,255),Se=r(Math.round(H[V].gc),0,255),je=r(Math.round(H[V].bc),0,255),me=255;D&&(me=r(Math.round(H[V].ac),0,255),P&&(ge=typeof P=="number"?P:127,me=me<=ge?0:255),G&&me<=$&&(ve=Se=je=K,me=0));var ge=D?[ve,Se,je,me]:[ve,Se,je];if(function(we,xe){for(let se=0;se<we.length;se++){var ce=we[se],oe=ce[0]===xe[0]&&ce[1]===xe[1]&&ce[2]===xe[2],ce=!(4<=ce.length&&4<=xe.length)||ce[3]===xe[3];if(oe&&ce)return!0}return!1}(pe,ge)||pe.push(ge),(V=H[V].fw)==0)break}return pe},snapColorsToPalette:()=>function(k,F,B=5){if(k.length&&F.length){var L=k.map(w=>w.slice(0,3)),G=B*B,K=k[0].length;for(let w=0;w<F.length;w++){let D=F[w];D=D.length<K?[D[0],D[1],D[2],255]:D.length>K?D.slice(0,3):D.slice();var P=x(L,D.slice(0,3),f),$=P[0],P=P[1];0<P&&P<=G&&(k[$]=D)}}}};for(y in d)b(h,y,{get:d[y],enumerable:!0});var v={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function m(k=256){let F=0,B=new Uint8Array(k);return{get buffer(){return B.buffer},reset(){F=0},bytesView(){return B.subarray(0,F)},bytes(){return B.slice(0,F)},writeByte(G){L(F+1),B[F]=G,F++},writeBytes(G,K=0,$=G.length){L(F+$);for(let P=0;P<$;P++)B[F++]=G[P+K]},writeBytesView(G,K=0,$=G.byteLength){L(F+$),B.set(G.subarray(K,K+$),F),F+=$}};function L(G){var K=B.length;if(!(G<=K)){G=Math.max(G,K*(K<1048576?2:1.125)>>>0),K!=0&&(G=Math.max(G,256));let $=B;B=new Uint8Array(G),0<F&&B.set($.subarray(0,F),0)}}}var n=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],i=function(k,F,B,D,G=m(512),K=new Uint8Array(256),$=new Int32Array(5003),P=new Int32Array(5003)){var w=$.length,D=Math.max(2,D);K.fill(0),P.fill(0),$.fill(-1);let H=0,N=0;var z=D+1;let W=z,te=!1,V=W,Z=(1<<V)-1;var Y=1<<z-1;let q=1+Y,J=2+Y,re=0,ue=B[0],ae=0;for(let ge=w;ge<65536;ge*=2)++ae;ae=8-ae,G.writeByte(D),pe(Y);var he=B.length;for(let ge=1;ge<he;ge++)e:{var be=B[ge],Me=(be<<12)+ue;let ve=be<<ae^ue;if($[ve]===Me)ue=P[ve];else{for(var le=ve===0?1:w-ve;0<=$[ve];)if((ve-=le)<0&&(ve+=w),$[ve]===Me){ue=P[ve];break e}pe(ue),ue=be,J<4096?(P[ve]=J++,$[ve]=Me):($.fill(-1),J=2+Y,te=!0,pe(Y))}}return pe(ue),pe(q),G.writeByte(0),G.bytesView();function pe(ge){for(H&=n[N],0<N?H|=ge<<N:H=ge,N+=V;8<=N;)K[re++]=255&H,254<=re&&(G.writeByte(re),G.writeBytesView(K,0,re),re=0),H>>=8,N-=8;if((J>Z||te)&&(te?(V=W,Z=(1<<V)-1,te=!1):(++V,Z=V===12?1<<V:(1<<V)-1)),ge==q){for(;0<N;)K[re++]=255&H,254<=re&&(G.writeByte(re),G.writeBytesView(K,0,re),re=0),H>>=8,N-=8;0<re&&(G.writeByte(re),G.writeBytesView(K,0,re),re=0)}}};function a(k,F,B){return k<<8&63488|F<<2&992|B>>3}function l(k,F,B,L){return k>>4|240&F|(240&B)<<4|(240&L)<<8}function c(k,F,B){return k>>4<<8|240&F|B>>4}function r(k,F,B){return k<F?F:B<k?B:k}function s(k){return k*k}function o(k,F,B){var L=0,G=1e100;let K=k[F];for(var $=K.cnt,P=K.ac,w=K.rc,D=K.gc,H=K.bc,N=K.fw;N!=0;N=k[N].fw){var z,W=k[N],te=W.cnt,te=$*te/($+te);G<=te||(z=0,B&&G<=(z+=te*s(W.ac-P))||G<=(z+=te*s(W.rc-w))||G<=(z+=te*s(W.gc-D))||G<=(z+=te*s(W.bc-H))||(G=z,L=N))}K.err=G,K.nn=L}function u(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function f(k,F){for(var B=0,L=0;L<k.length;L++){var G=k[L]-F[L];B+=G*G}return B}function C(k,F){return 1<F?Math.round(k/F)*F:k}function E(k){return k*k}function j(k,F,B=f){let L=1/0,G=-1;for(let $=0;$<k.length;$++){var K=B(F,k[$]);K<L&&(L=K,G=$)}return G}function x(k,F,B=f){let L=1/0,G=-1;for(let $=0;$<k.length;$++){var K=B(F,k[$]);K<L&&(L=K,G=$)}return[G,L]}function T(k={}){let{initialCapacity:F=4096,auto:B=!0}=k,L=m(F),G=new Uint8Array(256),K=new Int32Array(5003),$=new Int32Array(5003),P=!1;return{reset(){L.reset(),P=!1},finish(){L.writeByte(v.trailer)},bytes(){return L.bytes()},bytesView(){return L.bytesView()},get buffer(){return L.buffer},get stream(){return L},writeHeader:w,writeFrame(D,H,N,ue={}){var{transparent:W=!1,transparentIndex:te=0,delay:le=0,palette:V=null,repeat:he=0,colorDepth:Z=8,dispose:Y=-1}=ue;let q=!1;if(B?P||(q=!0,w(),P=!0):q=!!ue.first,H=Math.max(0,Math.floor(H)),N=Math.max(0,Math.floor(N)),q){if(!V)throw new Error("First frame must include a { palette } option");var[ue,be,re,Me,ae=8]=[L,H,N,V,Z];Me=S(Me.length)-1,ae=128|ae-1<<4|Me,M(ue,be),M(ue,re),ue.writeBytes([ae,0,0]),_(L,V),0<=he&&(Me=L,be=he,Me.writeByte(33),Me.writeByte(255),Me.writeByte(11),p(Me,"NETSCAPE2.0"),Me.writeByte(3),Me.writeByte(1),M(Me,be),Me.writeByte(0))}var J,re=Math.round(le/10),ue=L,ae=Y,he=re,be=W,Me=te,le=(ue.writeByte(33),ue.writeByte(249),ue.writeByte(4),Me<0&&(Me=0,be=!1),be=be?(J=1,2):J=0,0<=ae&&(be=7&ae),be<<=2,ue.writeByte(0|be|J),M(ue,he),ue.writeByte(Me||0),ue.writeByte(0),!!V&&!q);Y=L,W=H,te=N,J=le?V:null,Y.writeByte(44),M(Y,0),M(Y,0),M(Y,W),M(Y,te),J?(W=S(J.length)-1,Y.writeByte(128|W)):Y.writeByte(0),le&&_(L,V),[he,ue,te,W,Y=8,le,V,D]=[L,D,H,N,Z,G,K,$],i(te,W,ue,Y,he,le,V,D)}};function w(){p(L,"GIF89a")}}function _(k,F){var B=1<<S(F.length);for(let L=0;L<B;L++){let G=[0,0,0];L<F.length&&(G=F[L]),k.writeByte(G[0]),k.writeByte(G[1]),k.writeByte(G[2])}}function M(k,F){k.writeByte(255&F),k.writeByte(F>>8&255)}function p(k,F){for(var B=0;B<F.length;B++)k.writeByte(F.charCodeAt(B))}function S(k){return Math.max(Math.ceil(Math.log2(k)),1)}var O=T},{}],251:[function(t,X,I){I.read=function(y,b,h,d,o){var m,n,i=8*o-d-1,a=(1<<i)-1,l=a>>1,c=-7,r=h?o-1:0,s=h?-1:1,o=y[b+r];for(r+=s,m=o&(1<<-c)-1,o>>=-c,c+=i;0<c;m=256*m+y[b+r],r+=s,c-=8);for(n=m&(1<<-c)-1,m>>=-c,c+=d;0<c;n=256*n+y[b+r],r+=s,c-=8);if(m===0)m=1-l;else{if(m===a)return n?NaN:1/0*(o?-1:1);n+=Math.pow(2,d),m-=l}return(o?-1:1)*n*Math.pow(2,m-d)},I.write=function(y,b,h,d,v,u){var n,i,a=8*u-v-1,l=(1<<a)-1,c=l>>1,r=v===23?Math.pow(2,-24)-Math.pow(2,-77):0,s=d?0:u-1,o=d?1:-1,u=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(i=isNaN(b)?1:0,n=l):(n=Math.floor(Math.log(b)/Math.LN2),b*(d=Math.pow(2,-n))<1&&(n--,d*=2),2<=(b+=1<=n+c?r/d:r*Math.pow(2,1-c))*d&&(n++,d/=2),l<=n+c?(i=0,n=l):1<=n+c?(i=(b*d-1)*Math.pow(2,v),n+=c):(i=b*Math.pow(2,c-1)*Math.pow(2,v),n=0));8<=v;y[h+s]=255&i,s+=o,i/=256,v-=8);for(n=n<<v|i,a+=v;0<a;y[h+s]=255&n,s+=o,n/=256,a-=8);y[h+s-o]|=128*u}},{}],252:[function(t,X,I){"use strict";var y;function b(oe,ce){return oe.b===ce.b&&oe.a===ce.a}function h(oe,ce){return oe.b<ce.b||oe.b===ce.b&&oe.a<=ce.a}function d(oe,ce,se){var fe=ce.b-oe.b,ke=se.b-ce.b;return 0<fe+ke?fe<ke?ce.a-oe.a+fe/(fe+ke)*(oe.a-se.a):ce.a-se.a+ke/(fe+ke)*(se.a-oe.a):0}function v(oe,ce,se){var fe=ce.b-oe.b,ke=se.b-ce.b;return 0<fe+ke?(ce.a-se.a)*fe+(ce.a-oe.a)*ke:0}function m(oe,ce){return oe.a<ce.a||oe.a===ce.a&&oe.b<=ce.b}function n(oe,ce,se){var fe=ce.a-oe.a,ke=se.a-ce.a;return 0<fe+ke?fe<ke?ce.b-oe.b+fe/(fe+ke)*(oe.b-se.b):ce.b-se.b+ke/(fe+ke)*(se.b-oe.b):0}function i(oe,ce,se){var fe=ce.a-oe.a,ke=se.a-ce.a;return 0<fe+ke?(ce.b-se.b)*fe+(ce.b-oe.b)*ke:0}function a(oe,ce,se,fe){return(oe=oe<0?0:oe)<=(se=se<0?0:se)?se===0?(ce+fe)/2:ce+oe/(oe+se)*(fe-ce):fe+se/(oe+se)*(ce-fe)}function l(oe){var ce=u(oe.b);return C(ce,oe.c),C(ce.b,oe.c),E(ce,oe.a),ce}function c(oe,ce){var se=!1,fe=!1;oe!==ce&&(ce.a!==oe.a&&(fe=!0,x(ce.a,oe.a)),ce.d!==oe.d&&(se=!0,T(ce.d,oe.d)),f(ce,oe),fe||(C(ce,oe.a),oe.a.c=oe),se||(E(ce,oe.d),oe.d.a=oe))}function r(oe){var ce=oe.b,se=!1;oe.d!==oe.b.d&&(se=!0,T(oe.d,oe.b.d)),oe.c===oe?x(oe.a,null):(oe.b.d.a=oe.b.e,oe.a.c=oe.c,f(oe,oe.b.e),se||E(oe,oe.d)),ce.c===ce?(x(ce.a,null),T(ce.d,null)):(oe.d.a=ce.b.e,ce.a.c=ce.c,f(ce,ce.b.e)),j(oe)}function s(oe){var ce=u(oe),se=ce.b;return f(ce,oe.e),ce.a=oe.b.a,C(se,ce.a),ce.d=se.d=oe.d,ce=ce.b,f(oe.b,oe.b.b.e),f(oe.b,ce),oe.b.a=ce.a,ce.b.a.c=ce.b,ce.b.d=oe.b.d,ce.f=oe.f,ce.b.f=oe.b.f,ce}function o(oe,ce){var se=!1,fe=u(oe),ke=fe.b;return ce.d!==oe.d&&(se=!0,T(ce.d,oe.d)),f(fe,oe.e),f(ke,ce),fe.a=oe.b.a,ke.a=ce.a,fe.d=ke.d=oe.d,oe.d.a=ke,se||E(fe,oe.d),fe}function u(oe){var ce=new re,se=new re,fe=oe.b.h;return(((se.h=fe).b.h=ce).h=oe).b.h=se,ce.b=se,((ce.c=ce).e=se).b=ce,(se.c=se).e=ce}function f(oe,ce){var se=oe.c,fe=ce.c;se.b.e=ce,(fe.b.e=oe).c=fe,ce.c=se}function C(oe,ce){var se=ce.f,fe=new ae(ce,se);for(se.e=fe,se=(ce.f=fe).c=oe;se.a=fe,(se=se.c)!==oe;);}function E(oe,ce){var se=ce.d,fe=new J(ce,se);for(se.b=fe,(ce.d=fe).a=oe,fe.c=ce.c,se=oe;se.d=fe,(se=se.e)!==oe;);}function j(oe){var ce=oe.h;oe=oe.b.h,(ce.b.h=oe).b.h=ce}function x(oe,ce){for(var se=oe.c,fe=se;fe.a=ce,(fe=fe.c)!==se;);se=oe.f,((fe=oe.e).f=se).e=fe}function T(oe,ce){for(var se=oe.a,fe=se;fe.d=ce,(fe=fe.e)!==se;);se=oe.d,((fe=oe.b).d=se).b=fe}function _(oe){var ce=0;return Math.abs(oe[1])>Math.abs(oe[0])&&(ce=1),ce=Math.abs(oe[2])>Math.abs(oe[ce])?2:ce}function M(oe,ce){oe.f+=ce.f,oe.b.f+=ce.b.f}function p(oe,ce,se){return oe=oe.a,ce=ce.a,se=se.a,ce.b.a===oe?se.b.a===oe?h(ce.a,se.a)?v(se.b.a,ce.a,se.a)<=0:0<=v(ce.b.a,se.a,ce.a):v(se.b.a,oe,se.a)<=0:se.b.a===oe?0<=v(ce.b.a,oe,ce.a):(ce=d(ce.b.a,oe,ce.a),(oe=d(se.b.a,oe,se.a))<=ce)}function S(oe){oe.a.i=null;var ce=oe.e;ce.a.c=ce.c,ce.c.a=ce.a,oe.e=null}function O(oe,ce){r(oe.a),oe.c=!1,(oe.a=ce).i=oe}function k(oe){for(var ce=oe.a.a;(oe=xe(oe)).a.a===ce;);return oe.c&&(O(oe,ce=o(we(oe).a.b,oe.a.e)),oe=xe(oe)),oe}function F(oe,ce,se){var fe=new me;return fe.a=se,fe.e=te(oe.f,ce.e,fe),se.i=fe}function B(oe,ce){switch(oe.s){case 100130:return(1&ce)!=0;case 100131:return ce!==0;case 100132:return 0<ce;case 100133:return ce<0;case 100134:return 2<=ce||ce<=-2}return!1}function L(oe){var ce=oe.a,se=ce.d;se.c=oe.d,se.a=ce,S(oe)}function G(oe,ce,se){for(ce=(oe=ce).a;oe!==se;){oe.c=!1;var fe=we(oe),ke=fe.a;if(ke.a!==ce.a){if(!fe.c){L(oe);break}O(fe,ke=o(ce.c.b,ke.b))}ce.c!==ke&&(c(ke.b.e,ke),c(ce,ke)),L(oe),ce=fe.a,oe=fe}return ce}function K(oe,ce,se,fe,ke,Ee){for(var Pe=!0;F(oe,ce,se.b),(se=se.c)!==fe;);for(ke===null&&(ke=we(ce).a.b.c);(se=(fe=we(ce)).a.b).a===ke.a;)se.c!==ke&&(c(se.b.e,se),c(ke.b.e,se)),fe.f=ce.f-se.f,fe.d=B(oe,fe.f),ce.b=!0,!Pe&&D(oe,ce)&&(M(se,ke),S(ce),r(ke)),Pe=!1,ce=fe,ke=se;ce.b=!0,Ee&&N(oe,ce)}function $(oe,ce,se,fe,ke){var Ee=[ce.g[0],ce.g[1],ce.g[2]];ce.d=null,ce.d=oe.o&&oe.o(Ee,se,fe,oe.c)||null,ce.d===null&&(ke?oe.n||(q(oe,100156),oe.n=!0):ce.d=se[0])}function P(oe,ce,se){var fe=[null,null,null,null];fe[0]=ce.a.d,fe[1]=se.a.d,$(oe,ce.a,fe,[.5,.5,0,0],!1),c(ce,se)}function w(oe,ce,se,fe,ke){var Ee=Math.abs(ce.b-oe.b)+Math.abs(ce.a-oe.a),Pe=Math.abs(se.b-oe.b)+Math.abs(se.a-oe.a),Be=ke+1;fe[ke]=.5*Pe/(Ee+Pe),fe[Be]=.5*Ee/(Ee+Pe),oe.g[0]+=fe[ke]*ce.g[0]+fe[Be]*se.g[0],oe.g[1]+=fe[ke]*ce.g[1]+fe[Be]*se.g[1],oe.g[2]+=fe[ke]*ce.g[2]+fe[Be]*se.g[2]}function D(oe,ce){var se=we(ce),fe=ce.a,ke=se.a;if(h(fe.a,ke.a)){if(0<v(ke.b.a,fe.a,ke.a))return;if(b(fe.a,ke.a)){if(fe.a!==ke.a){var se=oe.e,Ee=fe.a.h;if(0<=Ee){var Pe=(se=se.b).d,Be=se.e,Ge=se.c,He=Ge[Ee];Pe[He]=Pe[se.a],(Ge[Pe[He]]=He)<=--se.a&&(He<=1||h(Be[Pe[He>>1]],Be[Pe[He]])?Se:je)(se,He),Be[Ee]=null,Ge[Ee]=se.b,se.b=Ee}else for(se.c[-(Ee+1)]=null;0<se.a&&se.c[se.d[se.a-1]]===null;)--se.a;P(oe,ke.b.e,fe)}}else s(ke.b),c(fe,ke.b.e),ce.b=se.b=!0}else{if(v(fe.b.a,ke.a,fe.a)<0)return;xe(ce).b=ce.b=!0,s(fe.b),c(ke.b.e,fe)}return 1}function H(oe,ce){var se=we(ce),fe=ce.a,ke=se.a,Ee=fe.a,Pe=ke.a,Be=fe.b.a,Ge=ke.b.a,He=new ae;if(v(Be,oe.a,Ee),v(Ge,oe.a,Pe),!(Ee===Pe||Math.min(Ee.a,Be.a)>Math.max(Pe.a,Ge.a))){if(h(Ee,Pe)){if(0<v(Ge,Ee,Pe))return}else if(v(Be,Pe,Ee)<0)return;var qe,et,Qe=Be,Ye=Ee,nt=Ge,Je=Pe;if(h(Qe,Ye)||(qe=Qe,Qe=Ye,Ye=qe),h(nt,Je)||(qe=nt,nt=Je,Je=qe),h(Qe,nt)||(qe=Qe,Qe=nt,nt=qe,qe=Ye,Ye=Je,Je=qe),h(nt,Ye)?h(Ye,Je)?((qe=d(Qe,nt,Ye))+(et=d(nt,Ye,Je))<0&&(qe=-qe,et=-et),He.b=a(qe,nt.b,et,Ye.b)):((qe=v(Qe,nt,Ye))+(et=-v(Qe,Je,Ye))<0&&(qe=-qe,et=-et),He.b=a(qe,nt.b,et,Je.b)):He.b=(nt.b+Ye.b)/2,m(Qe,Ye)||(qe=Qe,Qe=Ye,Ye=qe),m(nt,Je)||(qe=nt,nt=Je,Je=qe),m(Qe,nt)||(qe=Qe,Qe=nt,nt=qe,qe=Ye,Ye=Je,Je=qe),m(nt,Ye)?m(Ye,Je)?((qe=n(Qe,nt,Ye))+(et=n(nt,Ye,Je))<0&&(qe=-qe,et=-et),He.a=a(qe,nt.a,et,Ye.a)):((qe=i(Qe,nt,Ye))+(et=-i(Qe,Je,Ye))<0&&(qe=-qe,et=-et),He.a=a(qe,nt.a,et,Je.a)):He.a=(nt.a+Ye.a)/2,h(He,oe.a)&&(He.b=oe.a.b,He.a=oe.a.a),Qe=h(Ee,Pe)?Ee:Pe,h(Qe,He)&&(He.b=Qe.b,He.a=Qe.a),b(He,Ee)||b(He,Pe))return D(oe,ce),0;if(!b(Be,oe.a)&&0<=v(Be,oe.a,He)||!b(Ge,oe.a)&&v(Ge,oe.a,He)<=0){if(Ge===oe.a)s(fe.b),c(ke.b,fe),fe=we(ce=k(ce)).a,G(oe,we(ce),se),K(oe,ce,fe.b.e,fe,fe,!0);else{if(Be!==oe.a)return 0<=v(Be,oe.a,He)&&(xe(ce).b=ce.b=!0,s(fe.b),fe.a.b=oe.a.b,fe.a.a=oe.a.a),void(v(Ge,oe.a,He)<=0&&(ce.b=se.b=!0,s(ke.b),ke.a.b=oe.a.b,ke.a.a=oe.a.a));for(s(ke.b),c(fe.e,ke.b.e),Pe=(Ee=se=ce).a.b.a;(Ee=xe(Ee)).a.b.a===Pe;);Ee=we(ce=Ee).a.b.c,se.a=ke.b.e,K(oe,ce,(ke=G(oe,se,null)).c,fe.b.c,Ee,!0)}return 1}s(fe.b),s(ke.b),c(ke.b.e,fe),fe.a.b=He.b,fe.a.a=He.a,fe.a.h=be(oe.e,fe.a),fe=fe.a,ke=[0,0,0,0],He=[Ee.d,Be.d,Pe.d,Ge.d],fe.g[0]=fe.g[1]=fe.g[2]=0,w(fe,Ee,Be,ke,0),w(fe,Pe,Ge,ke,2),$(oe,fe,He,ke,!0),xe(ce).b=ce.b=se.b=!0}}function N(oe,ce){for(var se=we(ce);;){for(;se.b;)se=we(ce=se);if(!ce.b&&((ce=xe(se=ce))===null||!ce.b))break;ce.b=!1;var fe=ce.a,ke=se.a;if(Ee=fe.b.a!==ke.b.a)e:{var Ee,Pe=we(Ee=ce),Be=Ee.a,Ge=Pe.a,He=void 0;if(h(Be.b.a,Ge.b.a)){if(v(Be.b.a,Ge.b.a,Be.a)<0){Ee=!1;break e}xe(Ee).b=Ee.b=!0,He=s(Be),c(Ge.b,He),He.d.c=Ee.d}else{if(0<v(Ge.b.a,Be.b.a,Ge.a)){Ee=!1;break e}Ee.b=Pe.b=!0,He=s(Ge),c(Be.e,Ge.b),He.b.d.c=Ee.d}Ee=!0}if(Ee&&(se.c?(S(se),r(ke),ke=(se=we(ce)).a):ce.c&&(S(ce),r(fe),fe=(ce=xe(se)).a)),fe.a!==ke.a){if(fe.b.a===ke.b.a||ce.c||se.c||fe.b.a!==oe.a&&ke.b.a!==oe.a)D(oe,ce);else if(H(oe,ce))break}fe.a===ke.a&&fe.b.a===ke.b.a&&(M(ke,fe),S(ce),r(fe),ce=xe(se))}}function z(oe,ce){var se=new me,fe=l(oe.b);fe.a.b=4e150,fe.a.a=ce,fe.b.a.b=-4e150,fe.b.a.a=ce,oe.a=fe.b.a,se.a=fe,se.f=0,se.d=!1,se.c=!1,se.h=!0,se.b=!1,fe=te(fe=oe.f,fe.a,se),se.e=fe}function W(oe){this.a=new V,this.b=oe,this.c=p}function te(oe,ce,se){for(;(ce=ce.c).b!==null&&!oe.c(oe.b,ce.b,se););return oe=new V(se,ce.a,ce),ce.a.c=oe,ce.a=oe}function V(oe,ce,se){this.b=oe||null,this.a=ce||this,this.c=se||this}function Z(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Y(oe,ce){if(oe.d!==ce)for(;oe.d!==ce;)if(oe.d<ce)switch(oe.d){case 0:q(oe,100151),oe.u(null);break;case 1:q(oe,100152),oe.t()}else switch(oe.d){case 2:q(oe,100154),oe.v();break;case 1:q(oe,100153),oe.w()}}function q(oe,ce){oe.p&&oe.p(ce,oe.c)}function J(oe,ce){this.b=oe||this,this.d=ce||this,this.a=null,this.c=!1}function re(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ue(){this.c=new ae,this.a=new J,this.b=new re,this.d=new re,this.b.b=this.d,this.d.b=this.b}function ae(oe,ce){this.e=oe||this,this.f=ce||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function he(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new le}function be(oe,ce){var se,fe,ke;return oe.e?(2*(fe=++(se=oe.b).a)>se.f&&(se.f*=2,se.c=pe(se.c,se.f+1)),se.b===0?ke=fe:(ke=se.b,se.b=se.c[se.b]),se.e[ke]=ce,se.c[ke]=fe,se.d[fe]=ke,se.h&&je(se,fe),ke):(se=oe.a++,oe.c[se]=ce,-(se+1))}function Me(oe){if(oe.a===0)return ve(oe.b);var ce=oe.c[oe.d[oe.a-1]];if(oe.b.a!==0&&h(ge(oe.b),ce))return ve(oe.b);for(;--oe.a,0<oe.a&&oe.c[oe.d[oe.a-1]]===null;);return ce}function le(){this.d=pe([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function pe(oe,ce){for(var se=Array(ce),fe=0;fe<oe.length;fe++)se[fe]=oe[fe];for(;fe<ce;fe++)se[fe]=0;return se}function ge(oe){return oe.e[oe.d[1]]}function ve(oe){var ce=oe.d,se=oe.e,fe=oe.c,ke=ce[1],Ee=se[ke];return 0<oe.a&&(ce[1]=ce[oe.a],fe[ce[1]]=1,se[ke]=null,fe[ke]=oe.b,oe.b=ke,0<--oe.a&&Se(oe,1)),Ee}function Se(oe,ce){for(var se=oe.d,fe=oe.e,ke=oe.c,Ee=ce,Pe=se[Ee];;){var Be=Ee<<1,Ge=(Be<oe.a&&h(fe[se[Be+1]],fe[se[Be]])&&(Be+=1),se[Be]);if(Be>oe.a||h(fe[Pe],fe[Ge])){ke[se[Ee]=Pe]=Ee;break}ke[se[Ee]=Ge]=Ee,Ee=Be}}function je(oe,ce){for(var se=oe.d,fe=oe.e,ke=oe.c,Ee=ce,Pe=se[Ee];;){var Be=Ee>>1,Ge=se[Be];if(Be==0||h(fe[Ge],fe[Pe])){ke[se[Ee]=Pe]=Ee;break}ke[se[Ee]=Ge]=Ee,Ee=Be}}function me(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function we(oe){return oe.e.c.b}function xe(oe){return oe.e.a.b}(y=Z.prototype).x=function(){Y(this,0)},y.B=function(oe,ce){switch(oe){case 100142:return;case 100140:switch(ce){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ce)}break;case 100141:return void(this.m=!!ce);default:return void q(this,100900)}q(this,100901)},y.y=function(oe){switch(oe){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:q(this,100900)}return!1},y.A=function(oe,ce,se){this.j[0]=oe,this.j[1]=ce,this.j[2]=se},y.z=function(oe,ce){var se=ce||null;switch(oe){case 100100:case 100106:this.h=se;break;case 100104:case 100110:this.l=se;break;case 100101:case 100107:this.k=se;break;case 100102:case 100108:this.i=se;break;case 100103:case 100109:this.p=se;break;case 100105:case 100111:this.o=se;break;case 100112:this.r=se;break;default:q(this,100900)}},y.C=function(oe,ce){var se=!1,fe=[0,0,0];Y(this,2);for(var ke=0;ke<3;++ke){var Ee=oe[ke];Ee<-1e150&&(Ee=-1e150,se=!0),1e150<Ee&&(Ee=1e150,se=!0),fe[ke]=Ee}se&&q(this,100155),(se=this.q)===null?c(se=l(this.b),se.b):(s(se),se=se.e),se.a.d=ce,se.a.g[0]=fe[0],se.a.g[1]=fe[1],se.a.g[2]=fe[2],se.f=1,se.b.f=-1,this.q=se},y.u=function(oe){Y(this,0),this.d=1,this.b=new ue,this.c=oe},y.t=function(){Y(this,1),this.d=2,this.q=null},y.v=function(){Y(this,2),this.d=1},y.w=function(){Y(this,1),this.d=0;var oe,ce,se=this.j[0],fe=this.j[1],ke=this.j[2],Ee=!1,Pe=[se,fe,ke];if(se===0&&fe===0&&ke===0){for(var fe=[-2e150,-2e150,-2e150],Be=[2e150,2e150,2e150],ke=[],Ge=[],se=(Ee=this.b.c).e;se!==Ee;se=se.e)for(var He=0;He<3;++He){var qe=se.g[He];qe<Be[He]&&(Be[He]=qe,Ge[He]=se),qe>fe[He]&&(fe[He]=qe,ke[He]=se)}if(fe[1]-Be[1]>fe[se=0]-Be[0]&&(se=1),Be[se=fe[2]-Be[2]>fe[se]-Be[se]?2:se]>=fe[se])Pe[0]=0,Pe[1]=0,Pe[2]=1;else{for(Be=Ge[se],ke=ke[se],Ge=[fe=0,0,0],Be=[Be.g[0]-ke.g[0],Be.g[1]-ke.g[1],Be.g[2]-ke.g[2]],He=[0,0,0],se=Ee.e;se!==Ee;se=se.e)He[0]=se.g[0]-ke.g[0],He[1]=se.g[1]-ke.g[1],He[2]=se.g[2]-ke.g[2],Ge[0]=Be[1]*He[2]-Be[2]*He[1],Ge[1]=Be[2]*He[0]-Be[0]*He[2],Ge[2]=Be[0]*He[1]-Be[1]*He[0],fe<(qe=Ge[0]*Ge[0]+Ge[1]*Ge[1]+Ge[2]*Ge[2])&&(fe=qe,Pe[0]=Ge[0],Pe[1]=Ge[1],Pe[2]=Ge[2]);fe<=0&&(Pe[0]=Pe[1]=Pe[2]=0,Pe[_(Be)]=1)}Ee=!0}for(Ge=_(Pe),se=this.b.c,fe=(Ge+1)%3,ke=(Ge+2)%3,Ge=0<Pe[Ge]?1:-1,Pe=se.e;Pe!==se;Pe=Pe.e)Pe.b=Pe.g[fe],Pe.a=Ge*Pe.g[ke];if(Ee){for(Pe=0,se=(Ee=this.b.a).b;se!==Ee;se=se.b)if(!((fe=se.a).f<=0))for(;Pe+=(fe.a.b-fe.b.a.b)*(fe.a.a+fe.b.a.a),(fe=fe.e)!==se.a;);if(Pe<0)for(Ee=(Pe=this.b.c).e;Ee!==Pe;Ee=Ee.e)Ee.a=-Ee.a}for(this.n=!1,Pe=this.b.b,se=Pe.h;se!==Pe;se=Ee)Ee=se.h,fe=se.e,b(se.a,se.b.a)&&se.e.e!==se&&(P(this,fe,se),r(se),fe=(se=fe).e),fe.e===se&&(fe!==se&&(fe!==Ee&&fe!==Ee.b||(Ee=Ee.h),r(fe)),se!==Ee&&se!==Ee.b||(Ee=Ee.h),r(se));for(this.e=Pe=new he,Ee=this.b.c,se=Ee.e;se!==Ee;se=se.e)se.h=be(Pe,se);var et=Pe;et.d=[];for(var Qe=0;Qe<et.a;Qe++)et.d[Qe]=Qe;et.d.sort(function(Je){return function(gt,pt){return h(Je[gt],Je[pt])?1:-1}}(et.c)),et.e=!0;for(var Ye=et.b,nt=Ye.a;1<=nt;--nt)Se(Ye,nt);for(Ye.h=!0,this.f=new W(this),z(this,-4e150),z(this,4e150);(Pe=Me(this.e))!==null;){for(;;){e:if((se=this.e).a===0)Ee=ge(se.b);else if(Ee=se.c[se.d[se.a-1]],se.b.a!==0&&h(se=ge(se.b),Ee)){Ee=se;break e}if(Ee===null||!b(Ee,Pe))break;Ee=Me(this.e),P(this,Pe.c,Ee.c)}(function Je(gt,pt){for(var ft,lt=(gt.a=pt).c;lt.i===null;)if((lt=lt.c)===pt.c){var lt=gt,xt=pt;(yt=new me).a=xt.c.b;for(var Pt=(ht=lt.f).a;(Pt=Pt.a).b!==null&&!ht.c(ht.b,yt,Pt.b););var ht,Ot,Et=we(ht=Pt.b),yt=ht.a,Pt=Et.a;return void(v(yt.b.a,xt,yt.a)===0?b((yt=ht.a).a,xt)||b(yt.b.a,xt)||(s(yt.b),ht.c&&(r(yt.c),ht.c=!1),c(xt.c,yt),Je(lt,xt)):(Ot=h(Pt.b.a,yt.b.a)?ht:Et,Et=void 0,ht.d||Ot.c?(Et=Ot===ht?o(xt.c.b,yt.e):o(Pt.b.c.b,xt.c).b,Ot.c?O(Ot,Et):((ht=F(yt=lt,ht,Et)).f=xe(ht).f+ht.a.f,ht.d=B(yt,ht.f)),Je(lt,xt)):K(lt,ht,xt.c,xt.c,null,!0)))}ht=(yt=we(lt=k(lt.i))).a,(yt=G(gt,yt,null)).c===ht?(yt=(ht=yt).c,Pt=we(lt),Et=lt.a,Ot=Pt.a,ft=!1,Et.b.a!==Ot.b.a&&H(gt,lt),b(Et.a,gt.a)&&(c(yt.b.e,Et),yt=we(lt=k(lt)).a,G(gt,we(lt),Pt),ft=!0),b(Ot.a,gt.a)&&(c(ht,Ot.b.e),ht=G(gt,Pt,null),ft=!0),ft?K(gt,lt,ht.c,yt,yt,!0):(xt=h(Ot.a,Et.a)?Ot.b.e:Et,K(gt,lt,xt=o(ht.c.b,xt),xt.c,xt.c,!1),xt.b.i.c=!0,N(gt,lt))):K(gt,lt,yt.c,ht,ht,!0)})(this,Pe)}for(this.a=this.f.a.a.b.a.a,Pe=0;(Ee=this.f.a.a.b)!==null;)Ee.h||++Pe,S(Ee);for(this.f=null,(Pe=this.e).b=null,Pe.d=null,this.e=Pe.c=null,Pe=this.b,se=Pe.a.b;se!==Pe.a;se=Ee)Ee=se.b,(se=se.a).e.e===se&&(M(se.c,se),r(se));if(!this.n){if(Pe=this.b,this.m)for(se=Pe.b.h;se!==Pe.b;se=Ee)Ee=se.h,se.b.d.c!==se.d.c?se.f=se.d.c?1:-1:r(se);else for(se=Pe.a.b;se!==Pe.a;se=Ee)if(Ee=se.b,se.c){for(se=se.a;h(se.b.a,se.a);se=se.c.b);for(;h(se.a,se.b.a);se=se.e);for(fe=se.c.b,ke=void 0;se.e!==fe;)if(h(se.b.a,fe.a)){for(;fe.e!==se&&(h((ce=fe.e).b.a,ce.a)||v(fe.a,fe.b.a,fe.e.b.a)<=0);)fe=(ke=o(fe.e,fe)).b;fe=fe.c.b}else{for(;fe.e!==se&&(h((oe=se.c.b).a,oe.b.a)||0<=v(se.b.a,se.a,se.c.b.a));)se=(ke=o(se,se.c.b)).b;se=se.e}for(;fe.e.e!==se;)ke=o(fe.e,fe),fe=ke.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Ee=(Pe=this.b).a.b;Ee!==Pe.a;Ee=Ee.b)if(Ee.c){for(this.h&&this.h(2,this.c),se=Ee.a;this.k&&this.k(se.a.d,this.c),(se=se.e)!==Ee.a;);this.i&&this.i(this.c)}}else{for(Pe=this.b,Ee=!!this.l,se=!1,fe=-1,ke=Pe.a.d;ke!==Pe.a;ke=ke.d)if(ke.c)for(se||(this.h&&this.h(4,this.c),se=!0),Ge=ke.a;Ee&&(Be=Ge.b.d.c?0:1,fe!==Be&&(fe=Be,this.l&&this.l(!!fe,this.c))),this.k&&this.k(Ge.a.d,this.c),(Ge=Ge.e)!==ke.a;);se&&this.i&&this.i(this.c)}if(this.r){for(Pe=this.b,se=Pe.a.b;se!==Pe.a;se=Ee)if(Ee=se.b,!se.c){for(ke=(fe=se.a).e,Ge=void 0;ke=(Ge=ke).e,(Ge.d=null)===Ge.b.d&&(Ge.c===Ge?x(Ge.a,null):(Ge.a.c=Ge.c,f(Ge,Ge.b.e)),(Be=Ge.b).c===Be?x(Be.a,null):(Be.a.c=Be.c,f(Be,Be.b.e)),j(Ge)),Ge!==fe;);fe=se.d,((se=se.b).d=fe).b=se}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Z,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Z.prototype.gluDeleteTess=Z.prototype.x,Z.prototype.gluTessProperty=Z.prototype.B,Z.prototype.gluGetTessProperty=Z.prototype.y,Z.prototype.gluTessNormal=Z.prototype.A,Z.prototype.gluTessCallback=Z.prototype.z,Z.prototype.gluTessVertex=Z.prototype.C,Z.prototype.gluTessBeginPolygon=Z.prototype.u,Z.prototype.gluTessBeginContour=Z.prototype.t,Z.prototype.gluTessEndContour=Z.prototype.v,Z.prototype.gluTessEndPolygon=Z.prototype.w,X!==void 0&&(X.exports=this.libtess)},{}],253:[function(t,X,I){"use strict";function y(h,d,v,m){var n=0,i=(m=m===void 0?{}:m).loop===void 0?null:m.loop,a=m.palette===void 0?null:m.palette;if(d<=0||v<=0||65535<d||65535<v)throw new Error("Width/Height invalid.");function l(E){if(E=E.length,E<2||256<E||E&E-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return E}h[n++]=71,h[n++]=73,h[n++]=70,h[n++]=56,h[n++]=57,h[n++]=97;var c=0,r=0;if(a!==null){for(var s=l(a);s>>=1;)++c;if(s=1<<c,--c,m.background!==void 0){if(s<=(r=m.background))throw new Error("Background index out of range.");if(r===0)throw new Error("Background index explicitly passed as 0.")}}if(h[n++]=255&d,h[n++]=d>>8&255,h[n++]=255&v,h[n++]=v>>8&255,h[n++]=(a!==null?128:0)|c,h[n++]=r,h[n++]=0,a!==null)for(var o=0,u=a.length;o<u;++o){var f=a[o];h[n++]=f>>16&255,h[n++]=f>>8&255,h[n++]=255&f}if(i!==null){if(i<0||65535<i)throw new Error("Loop count invalid.");h[n++]=33,h[n++]=255,h[n++]=11,h[n++]=78,h[n++]=69,h[n++]=84,h[n++]=83,h[n++]=67,h[n++]=65,h[n++]=80,h[n++]=69,h[n++]=50,h[n++]=46,h[n++]=48,h[n++]=3,h[n++]=1,h[n++]=255&i,h[n++]=i>>8&255,h[n++]=0}var C=!1;this.addFrame=function(E,j,x,T,_,M){if(C===!0&&(--n,C=!1),M=M===void 0?{}:M,E<0||j<0||65535<E||65535<j)throw new Error("x/y invalid.");if(x<=0||T<=0||65535<x||65535<T)throw new Error("Width/Height invalid.");if(_.length<x*T)throw new Error("Not enough pixels for the frame size.");var p=!0,S=M.palette;if(S==null&&(p=!1,S=a),S==null)throw new Error("Must supply either a local or global palette.");for(var k=l(S),O=0;k>>=1;)++O;var k=1<<O,F=M.delay===void 0?0:M.delay,B=M.disposal===void 0?0:M.disposal;if(B<0||3<B)throw new Error("Disposal out of range.");var L=!1,G=0;if(M.transparent!==void 0&&M.transparent!==null&&(L=!0,(G=M.transparent)<0||k<=G))throw new Error("Transparent color index.");if(B===0&&!L&&F===0||(h[n++]=33,h[n++]=249,h[n++]=4,h[n++]=B<<2|(L===!0?1:0),h[n++]=255&F,h[n++]=F>>8&255,h[n++]=G,h[n++]=0),h[n++]=44,h[n++]=255&E,h[n++]=E>>8&255,h[n++]=255&j,h[n++]=j>>8&255,h[n++]=255&x,h[n++]=x>>8&255,h[n++]=255&T,h[n++]=T>>8&255,h[n++]=p===!0?128|O-1:0,p===!0)for(var K=0,$=S.length;K<$;++K){var P=S[K];h[n++]=P>>16&255,h[n++]=P>>8&255,h[n++]=255&P}return n=function(w,D,H,N){w[D++]=H;var z=D++,W=1<<H,te=W-1,V=1+W,Z=1+V,Y=H+1,q=0,J=0;function re(ve){for(;ve<=q;)w[D++]=255&J,J>>=8,q-=8,D===z+256&&(w[z]=255,z=D++)}function ue(ve){J|=ve<<q,q+=Y,re(8)}var ae=N[0]&te,he={};ue(W);for(var be=1,Me=N.length;be<Me;++be){var le=N[be]&te,pe=ae<<8|le,ge=he[pe];if(ge===void 0){for(J|=ae<<q,q+=Y;8<=q;)w[D++]=255&J,J>>=8,q-=8,D===z+256&&(w[z]=255,z=D++);Z===4096?(ue(W),Z=1+V,Y=H+1,he={}):(1<<Y<=Z&&++Y,he[pe]=Z++),ae=le}else ae=ge}return ue(ae),ue(V),re(1),z+1===D?w[z]=0:(w[z]=D-z-1,w[D++]=0),D}(h,n,O<2?2:O,_)},this.end=function(){return C===!1&&(h[n++]=59,C=!0),n},this.getOutputBuffer=function(){return h},this.setOutputBuffer=function(E){h=E},this.getOutputBufferPosition=function(){return n},this.setOutputBufferPosition=function(E){n=E}}function b(h,d,v,m){for(var n=h[d++],i=1<<n,a=1+i,l=1+a,c=n+1,r=(1<<c)-1,s=0,o=0,u=0,f=h[d++],C=new Int32Array(4096),E=null;;){for(;s<16&&f!==0;)o|=h[d++]<<s,s+=8,f===1?f=h[d++]:--f;if(s<c)break;var j=o&r;if(o>>=c,s-=c,j==i)l=1+a,r=(1<<(c=n+1))-1,E=null;else{if(j==a)break;for(var x=j<l?j:E,T=0,_=x;i<_;)_=C[_]>>8,++T;var M=_;if(m<u+T+(x!==j?1:0))return void console.log("Warning, gif stream longer than expected.");v[u++]=M;var p=u+=T;for(x!==j&&(v[u++]=M),_=x;T--;)_=C[_],v[--p]=255&_,_>>=8;E!==null&&l<4096&&(C[l++]=E<<8|M,r+1<=l&&c<12&&(++c,r=r<<1|1)),E=j}}u!==m&&console.log("Warning, gif stream shorter than expected.")}try{I.GifWriter=y,I.GifReader=function(h){var d=0;if(h[d++]!==71||h[d++]!==73||h[d++]!==70||h[d++]!==56||(h[d++]+1&253)!=56||h[d++]!==97)throw new Error("Invalid GIF 87a/89a header.");var v=h[d++]|h[d++]<<8,m=h[d++]|h[d++]<<8,n=h[d++],i=1<<1+(7&n),a=(h[d++],h[d++],null),l=null,c=(n>>7&&(a=d,d+=3*(l=i)),!0),r=[],s=0,o=null,u=0,f=null;for(this.width=v,this.height=m;c&&d<h.length;)switch(h[d++]){case 33:switch(h[d++]){case 255:if(h[d]!==11||h[d+1]==78&&h[d+2]==69&&h[d+3]==84&&h[d+4]==83&&h[d+5]==67&&h[d+6]==65&&h[d+7]==80&&h[d+8]==69&&h[d+9]==50&&h[d+10]==46&&h[d+11]==48&&h[d+12]==3&&h[d+13]==1&&h[d+16]==0)d+=14,f=h[d++]|h[d++]<<8,d++;else for(d+=12;;){if(!(0<=(E=h[d++])))throw Error("Invalid block size");if(E===0)break;d+=E}break;case 249:if(h[d++]!==4||h[d+4]!==0)throw new Error("Invalid graphics extension block.");var C=h[d++],s=h[d++]|h[d++]<<8,o=h[d++];!(1&C)&&(o=null),u=C>>2&7,d++;break;case 254:for(;;){if(!(0<=(E=h[d++])))throw Error("Invalid block size");if(E===0)break;d+=E}break;default:throw new Error("Unknown graphic control label: 0x"+h[d-1].toString(16))}break;case 44:var E,j=h[d++]|h[d++]<<8,x=h[d++]|h[d++]<<8,T=h[d++]|h[d++]<<8,_=h[d++]|h[d++]<<8,F=h[d++],M=F>>6&1,p=1<<1+(7&F),S=a,O=l,k=!1,F=(F>>7&&(k=!0,S=d,d+=3*(O=p)),d);for(d++;;){if(!(0<=(E=h[d++])))throw Error("Invalid block size");if(E===0)break;d+=E}r.push({x:j,y:x,width:T,height:_,has_local_palette:k,palette_offset:S,palette_size:O,data_offset:F,data_length:d-F,transparent_index:o,interlaced:!!M,delay:s,disposal:u});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+h[d-1].toString(16))}this.numFrames=function(){return r.length},this.loopCount=function(){return f},this.frameInfo=function(B){if(B<0||B>=r.length)throw new Error("Frame index out of range.");return r[B]},this.decodeAndBlitFrameBGRA=function(B,L){for(var B=this.frameInfo(B),G=B.width*B.height,K=new Uint8Array(G),$=(b(h,B.data_offset,K,G),B.palette_offset),P=B.transparent_index,w=(P===null&&(P=256),B.width),D=v-w,H=w,N=4*(B.y*v+B.x),z=4*((B.y+B.height)*v+B.x),W=N,te=4*D,V=(B.interlaced===!0&&(te+=4*v*7),8),Z=0,Y=K.length;Z<Y;++Z){var q,J,re=K[Z];H===0&&(H=w,z<=(W+=te)&&(te=4*D+4*v*(V-1),W=N+(w+D)*(V<<1),V>>=1)),re===P?W+=4:(q=h[$+3*re],J=h[$+3*re+1],re=h[$+3*re+2],L[W++]=re,L[W++]=J,L[W++]=q,L[W++]=255),--H}},this.decodeAndBlitFrameRGBA=function(B,L){for(var B=this.frameInfo(B),G=B.width*B.height,K=new Uint8Array(G),$=(b(h,B.data_offset,K,G),B.palette_offset),P=B.transparent_index,w=(P===null&&(P=256),B.width),D=v-w,H=w,N=4*(B.y*v+B.x),z=4*((B.y+B.height)*v+B.x),W=N,te=4*D,V=(B.interlaced===!0&&(te+=4*v*7),8),Z=0,Y=K.length;Z<Y;++Z){var q,J,re=K[Z];H===0&&(H=w,z<=(W+=te)&&(te=4*D+4*v*(V-1),W=N+(w+D)*(V<<1),V>>=1)),re===P?W+=4:(q=h[$+3*re],J=h[$+3*re+1],re=h[$+3*re+2],L[W++]=q,L[W++]=J,L[W++]=re,L[W++]=255),--H}}}}catch{}},{}],254:[function(t,X,I){(function(y){var b,h;b=this,h=function(d){"use strict";function v(Q){if(this==null)throw TypeError();var A,R=String(this),U=R.length,Q=Q?Number(Q):0;if(!((Q=Q!=Q?0:Q)<0||U<=Q))return 55296<=(A=R.charCodeAt(Q))&&A<=56319&&Q+1<U&&56320<=(U=R.charCodeAt(Q+1))&&U<=57343?1024*(A-55296)+U-56320+65536:A}String.prototype.codePointAt||((m=function(){try{var g={},A=Object.defineProperty,R=A(g,g,g)&&A}catch{}return R}())?m(String.prototype,"codePointAt",{value:v,configurable:!0,writable:!0}):String.prototype.codePointAt=v);var m,n=0,i=-3;function a(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function l(g,A){this.source=g,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=A,this.destLen=0,this.ltree=new a,this.dtree=new a}var c=new a,r=new a,s=new Uint8Array(30),o=new Uint16Array(30),u=new Uint8Array(30),f=new Uint16Array(30),C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E=new a,j=new Uint8Array(320);function x(g,A,R,U){for(var Q,ie=0;ie<R;++ie)g[ie]=0;for(ie=0;ie<30-R;++ie)g[ie+R]=ie/R|0;for(Q=U,ie=0;ie<30;++ie)A[ie]=Q,Q+=1<<g[ie]}var T=new Uint16Array(16);function _(g,A,R,U){for(var Q,ie=0;ie<16;++ie)g.table[ie]=0;for(ie=0;ie<U;++ie)g.table[A[R+ie]]++;for(ie=Q=g.table[0]=0;ie<16;++ie)T[ie]=Q,Q+=g.table[ie];for(ie=0;ie<U;++ie)A[R+ie]&&(g.trans[T[A[R+ie]]++]=ie)}function M(g,A,R){if(!A)return R;for(;g.bitcount<24;)g.tag|=g.source[g.sourceIndex++]<<g.bitcount,g.bitcount+=8;var U=g.tag&65535>>>16-A;return g.tag>>>=A,g.bitcount-=A,U+R}function p(g,A){for(;g.bitcount<24;)g.tag|=g.source[g.sourceIndex++]<<g.bitcount,g.bitcount+=8;for(var R=0,U=0,Q=0,ie=g.tag;U=2*U+(1&ie),ie>>>=1,R+=A.table[++Q],0<=(U-=A.table[Q]););return g.tag=ie,g.bitcount-=Q,A.trans[R+U]}function S(g,A,R){for(;;){var U=p(g,A);if(U===256)return n;if(U<256)g.dest[g.destLen++]=U;else for(var Q,ie=M(g,s[U-=257],o[U]),U=p(g,R),ne=Q=g.destLen-M(g,u[U],f[U]);ne<Q+ie;++ne)g.dest[g.destLen++]=g.dest[ne]}}for(var O=c,k=r,F=0;F<7;++F)O.table[F]=0;for(O.table[7]=24,O.table[8]=152,O.table[9]=112,F=0;F<24;++F)O.trans[F]=256+F;for(F=0;F<144;++F)O.trans[24+F]=F;for(F=0;F<8;++F)O.trans[168+F]=280+F;for(F=0;F<112;++F)O.trans[176+F]=144+F;for(F=0;F<5;++F)k.table[F]=0;for(k.table[5]=32,F=0;F<32;++F)k.trans[F]=F;x(s,o,4,3),x(u,f,2,1),s[28]=0,o[28]=258;var B=function(g,A){var R,U,Q,ie=new l(g,A);do{switch(Q=void 0,(U=ie).bitcount--||(U.tag=U.source[U.sourceIndex++],U.bitcount=7),Q=1&U.tag,U.tag>>>=1,U=Q,M(ie,2,0)){case 0:R=function(Fe){for(var rt,ot;8<Fe.bitcount;)Fe.sourceIndex--,Fe.bitcount-=8;if((rt=256*Fe.source[Fe.sourceIndex+1]+Fe.source[Fe.sourceIndex])!==(65535&~(256*Fe.source[Fe.sourceIndex+3]+Fe.source[Fe.sourceIndex+2])))return i;for(Fe.sourceIndex+=4,ot=rt;ot;--ot)Fe.dest[Fe.destLen++]=Fe.source[Fe.sourceIndex++];return Fe.bitcount=0,n}(ie);break;case 1:R=S(ie,c,r);break;case 2:Ue=Ne=Ve=Re=ne=Oe=De=Ie=Le=Ce=Te=ye=void 0;for(var ne,ye=ie,Te=ie.ltree,Ce=ie.dtree,Le=M(ye,5,257),Ie=M(ye,5,1),De=M(ye,4,4),Oe=0;Oe<19;++Oe)j[Oe]=0;for(Oe=0;Oe<De;++Oe){var Ve=M(ye,3,0);j[C[Oe]]=Ve}for(_(E,j,0,19),ne=0;ne<Le+Ie;){var Ne=p(ye,E);switch(Ne){case 16:for(var Ue=j[ne-1],Re=M(ye,2,3);Re;--Re)j[ne++]=Ue;break;case 17:for(Re=M(ye,3,3);Re;--Re)j[ne++]=0;break;case 18:for(Re=M(ye,7,11);Re;--Re)j[ne++]=0;break;default:j[ne++]=Ne}}_(Te,j,0,Le),_(Ce,j,Le,Ie),R=S(ie,ie.ltree,ie.dtree);break;default:R=i}if(R!==n)throw new Error("Data error")}while(!U);return ie.destLen<ie.dest.length?typeof ie.dest.slice=="function"?ie.dest.slice(0,ie.destLen):ie.dest.subarray(0,ie.destLen):ie.dest};function L(g,A,R,U,Q){return Math.pow(1-Q,3)*g+3*Math.pow(1-Q,2)*Q*A+3*(1-Q)*Math.pow(Q,2)*R+Math.pow(Q,3)*U}function G(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function K(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function $(g){throw new Error(g)}function P(g,A){g||$(A)}G.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},G.prototype.addPoint=function(g,A){typeof g=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=g,this.x2=g),g<this.x1&&(this.x1=g),g>this.x2&&(this.x2=g)),typeof A=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=A,this.y2=A),A<this.y1&&(this.y1=A),A>this.y2&&(this.y2=A))},G.prototype.addX=function(g){this.addPoint(g,null)},G.prototype.addY=function(g){this.addPoint(null,g)},G.prototype.addBezier=function(g,A,R,U,Q,ie,ne,ye){var Te=[g,A],Ce=[R,U],Le=[Q,ie],Ie=[ne,ye];this.addPoint(g,A),this.addPoint(ne,ye);for(var De=0;De<=1;De++){var Oe,Ve=6*Te[De]-12*Ce[De]+6*Le[De],Ne=-3*Te[De]+9*Ce[De]-9*Le[De]+3*Ie[De],Ue=3*Ce[De]-3*Te[De];Ne==0?Ve==0||0<(Oe=-Ue/Ve)&&Oe<1&&(De===0&&this.addX(L(Te[De],Ce[De],Le[De],Ie[De],Oe)),De===1&&this.addY(L(Te[De],Ce[De],Le[De],Ie[De],Oe))):(Oe=Math.pow(Ve,2)-4*Ue*Ne)<0||(0<(Ue=(-Ve+Math.sqrt(Oe))/(2*Ne))&&Ue<1&&(De===0&&this.addX(L(Te[De],Ce[De],Le[De],Ie[De],Ue)),De===1&&this.addY(L(Te[De],Ce[De],Le[De],Ie[De],Ue))),0<(Ue=(-Ve-Math.sqrt(Oe))/(2*Ne))&&Ue<1&&(De===0&&this.addX(L(Te[De],Ce[De],Le[De],Ie[De],Ue)),De===1&&this.addY(L(Te[De],Ce[De],Le[De],Ie[De],Ue))))}},G.prototype.addQuad=function(g,A,R,U,Q,ie){R=g+2/3*(R-g),U=A+2/3*(U-A),this.addBezier(g,A,R,U,R+1/3*(Q-g),U+1/3*(ie-A),Q,ie)},K.prototype.moveTo=function(g,A){this.commands.push({type:"M",x:g,y:A})},K.prototype.lineTo=function(g,A){this.commands.push({type:"L",x:g,y:A})},K.prototype.curveTo=K.prototype.bezierCurveTo=function(g,A,R,U,Q,ie){this.commands.push({type:"C",x1:g,y1:A,x2:R,y2:U,x:Q,y:ie})},K.prototype.quadTo=K.prototype.quadraticCurveTo=function(g,A,R,U){this.commands.push({type:"Q",x1:g,y1:A,x:R,y:U})},K.prototype.close=K.prototype.closePath=function(){this.commands.push({type:"Z"})},K.prototype.extend=function(g){var A;if(g.commands)g=g.commands;else if(g instanceof G)return A=g,this.moveTo(A.x1,A.y1),this.lineTo(A.x2,A.y1),this.lineTo(A.x2,A.y2),this.lineTo(A.x1,A.y2),void this.close();Array.prototype.push.apply(this.commands,g)},K.prototype.getBoundingBox=function(){for(var g=new G,A=0,R=0,U=0,Q=0,ie=0;ie<this.commands.length;ie++){var ne=this.commands[ie];switch(ne.type){case"M":g.addPoint(ne.x,ne.y),A=U=ne.x,R=Q=ne.y;break;case"L":g.addPoint(ne.x,ne.y),U=ne.x,Q=ne.y;break;case"Q":g.addQuad(U,Q,ne.x1,ne.y1,ne.x,ne.y),U=ne.x,Q=ne.y;break;case"C":g.addBezier(U,Q,ne.x1,ne.y1,ne.x2,ne.y2,ne.x,ne.y),U=ne.x,Q=ne.y;break;case"Z":U=A,Q=R;break;default:throw new Error("Unexpected path command "+ne.type)}}return g.isEmpty()&&g.addPoint(0,0),g},K.prototype.draw=function(g){g.beginPath();for(var A=0;A<this.commands.length;A+=1){var R=this.commands[A];R.type==="M"?g.moveTo(R.x,R.y):R.type==="L"?g.lineTo(R.x,R.y):R.type==="C"?g.bezierCurveTo(R.x1,R.y1,R.x2,R.y2,R.x,R.y):R.type==="Q"?g.quadraticCurveTo(R.x1,R.y1,R.x,R.y):R.type==="Z"&&g.closePath()}this.fill&&(g.fillStyle=this.fill,g.fill()),this.stroke&&(g.strokeStyle=this.stroke,g.lineWidth=this.strokeWidth,g.stroke())},K.prototype.toPathData=function(g){function A(){for(var ie=arguments,ne="",ye=0;ye<arguments.length;ye+=1){var Te=ie[ye];0<=Te&&0<ye&&(ne+=" "),ne+=(Te=Te,Math.round(Te)===Te?""+Math.round(Te):Te.toFixed(g))}return ne}g=g!==void 0?g:2;for(var R="",U=0;U<this.commands.length;U+=1){var Q=this.commands[U];Q.type==="M"?R+="M"+A(Q.x,Q.y):Q.type==="L"?R+="L"+A(Q.x,Q.y):Q.type==="C"?R+="C"+A(Q.x1,Q.y1,Q.x2,Q.y2,Q.x,Q.y):Q.type==="Q"?R+="Q"+A(Q.x1,Q.y1,Q.x,Q.y):Q.type==="Z"&&(R+="Z")}return R},K.prototype.toSVG=function(g){var A=(A='<path d="')+this.toPathData(g)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?A+=' fill="none"':A+=' fill="'+this.fill+'"'),this.stroke&&(A+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),A+="/>"},K.prototype.toDOMElement=function(A){var A=this.toPathData(A),R=document.createElementNS("http://www.w3.org/2000/svg","path");return R.setAttribute("d",A),R};var w={fail:$,argument:P,assert:P},D={},H={},N={};function z(g){return function(){return g}}H.BYTE=function(g){return w.argument(0<=g&&g<=255,"Byte value should be between 0 and 255."),[g]},N.BYTE=z(1),H.CHAR=function(g){return[g.charCodeAt(0)]},N.CHAR=z(1),H.CHARARRAY=function(g){for(var A=[],R=0;R<g.length;R+=1)A[R]=g.charCodeAt(R);return A},N.CHARARRAY=function(g){return g.length},H.USHORT=function(g){return[g>>8&255,255&g]},N.USHORT=z(2),H.SHORT=function(g){return[(g=32768<=g?-(65536-g):g)>>8&255,255&g]},N.SHORT=z(2),H.UINT24=function(g){return[g>>16&255,g>>8&255,255&g]},N.UINT24=z(3),H.ULONG=function(g){return[g>>24&255,g>>16&255,g>>8&255,255&g]},N.ULONG=z(4),H.LONG=function(g){return[(g=2147483648<=g?-(4294967296-g):g)>>24&255,g>>16&255,g>>8&255,255&g]},N.LONG=z(4),H.FIXED=H.ULONG,N.FIXED=N.ULONG,H.FWORD=H.SHORT,N.FWORD=N.SHORT,H.UFWORD=H.USHORT,N.UFWORD=N.USHORT,H.LONGDATETIME=function(g){return[0,0,0,0,g>>24&255,g>>16&255,g>>8&255,255&g]},N.LONGDATETIME=z(8),H.TAG=function(g){return w.argument(g.length===4,"Tag should be exactly 4 ASCII characters."),[g.charCodeAt(0),g.charCodeAt(1),g.charCodeAt(2),g.charCodeAt(3)]},N.TAG=z(4),H.Card8=H.BYTE,N.Card8=N.BYTE,H.Card16=H.USHORT,N.Card16=N.USHORT,H.OffSize=H.BYTE,N.OffSize=N.BYTE,H.SID=H.USHORT,N.SID=N.USHORT,H.NUMBER=function(g){return-107<=g&&g<=107?[g+139]:108<=g&&g<=1131?[247+((g-=108)>>8),255&g]:-1131<=g&&g<=-108?[251+((g=-g-108)>>8),255&g]:-32768<=g&&g<=32767?H.NUMBER16(g):H.NUMBER32(g)},N.NUMBER=function(g){return H.NUMBER(g).length},H.NUMBER16=function(g){return[28,g>>8&255,255&g]},N.NUMBER16=z(3),H.NUMBER32=function(g){return[29,g>>24&255,g>>16&255,g>>8&255,255&g]},N.NUMBER32=z(5),H.REAL=function(g){for(var A=g.toString(),R=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(A),U=(R&&(R=parseFloat("1e"+((R[2]?+R[2]:0)+R[1].length)),A=(Math.round(g*R)/R).toString()),""),Q=0,ie=A.length;Q<ie;Q+=1){var ne=A[Q];U+=ne==="e"?A[++Q]==="-"?"c":"b":ne==="."?"a":ne==="-"?"e":ne}for(var ye=[30],Te=0,Ce=(U+=1&U.length?"f":"ff").length;Te<Ce;Te+=2)ye.push(parseInt(U.substr(Te,2),16));return ye},N.REAL=function(g){return H.REAL(g).length},H.NAME=H.CHARARRAY,N.NAME=N.CHARARRAY,H.STRING=H.CHARARRAY,N.STRING=N.CHARARRAY,D.UTF8=function(g,A,R){for(var U=[],Q=R,ie=0;ie<Q;ie++,A+=1)U[ie]=g.getUint8(A);return String.fromCharCode.apply(null,U)},D.UTF16=function(g,A,R){for(var U=[],Q=R/2,ie=0;ie<Q;ie++,A+=2)U[ie]=g.getUint16(A);return String.fromCharCode.apply(null,U)},H.UTF16=function(g){for(var A=[],R=0;R<g.length;R+=1){var U=g.charCodeAt(R);A[A.length]=U>>8&255,A[A.length]=255&U}return A},N.UTF16=function(g){return 2*g.length};var W,te={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},V=(D.MACSTRING=function(g,A,R,U){var Q=te[U];if(Q!==void 0){for(var ie="",ne=0;ne<R;ne++){var ye=g.getUint8(A+ne);ie+=ye<=127?String.fromCharCode(ye):Q[127&ye]}return ie}},typeof WeakMap=="function"&&new WeakMap);function Z(g){return-128<=g&&g<=127}H.MACSTRING=function(g,A){var R=function(ne){if(!W)for(var ye in W={},te)W[ye]=new String(ye);var Te=W[ne];if(Te!==void 0){if(V){var Ce=V.get(Te);if(Ce!==void 0)return Ce}var Le=te[ne];if(Le!==void 0){for(var Ie={},De=0;De<Le.length;De++)Ie[Le.charCodeAt(De)]=De+128;return V&&V.set(Te,Ie),Ie}}}(A);if(R!==void 0){for(var U=[],Q=0;Q<g.length;Q++){var ie=g.charCodeAt(Q);if(128<=ie&&(ie=R[ie])===void 0)return;U[Q]=ie}return U}},N.MACSTRING=function(g,A){return g=H.MACSTRING(g,A),g!==void 0?g.length:0},H.VARDELTAS=function(g){for(var U=0,A=[];U<g.length;)var R=g[U],U=(R===0?function(Q,ie,ne){for(var ye=0,Te=Q.length;ie<Te&&ye<64&&Q[ie]===0;)++ie,++ye;return ne.push(128|ye-1),ie}:-128<=R&&R<=127?function(Q,ie,ne){for(var ye=0,Te=Q.length,Ce=ie;Ce<Te&&ye<64;){var Le=Q[Ce];if(!Z(Le)||Le===0&&Ce+1<Te&&Q[Ce+1]===0)break;++Ce,++ye}ne.push(ye-1);for(var Ie=ie;Ie<Ce;++Ie)ne.push(Q[Ie]+256&255);return Ce}:function(Q,ie,ne){for(var ye=0,Te=Q.length,Ce=ie;Ce<Te&&ye<64;){var Le=Q[Ce];if(Le===0||Z(Le)&&Ce+1<Te&&Z(Q[Ce+1]))break;++Ce,++ye}ne.push(64|ye-1);for(var Ie=ie;Ie<Ce;++Ie){var De=Q[Ie];ne.push(De+65536>>8&255,De+256&255)}return Ce})(g,U,A);return A},H.INDEX=function(g){for(var A=1,R=[A],U=[],Q=0;Q<g.length;Q+=1){var ie=H.OBJECT(g[Q]);Array.prototype.push.apply(U,ie),A+=ie.length,R.push(A)}if(U.length===0)return[0,0];for(var ne=[],ye=1+Math.floor(Math.log(A)/Math.log(2))/8|0,Te=[void 0,H.BYTE,H.USHORT,H.UINT24,H.ULONG][ye],Ce=0;Ce<R.length;Ce+=1){var Le=Te(R[Ce]);Array.prototype.push.apply(ne,Le)}return Array.prototype.concat(H.Card16(g.length),H.OffSize(ye),ne,U)},N.INDEX=function(g){return H.INDEX(g).length},H.DICT=function(g){for(var A=[],R=Object.keys(g),U=R.length,Q=0;Q<U;Q+=1){var ie=parseInt(R[Q],0),ne=g[ie];A=(A=A.concat(H.OPERAND(ne.value,ne.type))).concat(H.OPERATOR(ie))}return A},N.DICT=function(g){return H.DICT(g).length},H.OPERATOR=function(g){return g<1200?[g]:[12,g-1200]},H.OPERAND=function(g,A){var R=[];if(Array.isArray(A))for(var U=0;U<A.length;U+=1)w.argument(g.length===A.length,"Not enough arguments given for type"+A),R=R.concat(H.OPERAND(g[U],A[U]));else if(A==="SID")R=R.concat(H.NUMBER(g));else if(A==="offset")R=R.concat(H.NUMBER32(g));else if(A==="number")R=R.concat(H.NUMBER(g));else{if(A!=="real")throw new Error("Unknown operand type "+A);R=R.concat(H.REAL(g))}return R},H.OP=H.BYTE,N.OP=N.BYTE;var Y=typeof WeakMap=="function"&&new WeakMap;function q(g,A,R){for(var U=0;U<A.length;U+=1){var Q=A[U];this[Q.name]=Q.value}if(this.tableName=g,this.fields=A,R)for(var ie=Object.keys(R),ne=0;ne<ie.length;ne+=1){var ye=ie[ne],Te=R[ye];this[ye]!==void 0&&(this[ye]=Te)}}function J(g,A,R){R===void 0&&(R=A.length);var U=new Array(A.length+1);U[0]={name:g+"Count",type:"USHORT",value:R};for(var Q=0;Q<A.length;Q++)U[Q+1]={name:g+Q,type:"USHORT",value:A[Q]};return U}function re(g,A,R){var U=A.length,Q=new Array(U+1);Q[0]={name:g+"Count",type:"USHORT",value:U};for(var ie=0;ie<U;ie++)Q[ie+1]={name:g+ie,type:"TABLE",value:R(A[ie],ie)};return Q}function ue(g,A,R){var U=A.length,Q=[];Q[0]={name:g+"Count",type:"USHORT",value:U};for(var ie=0;ie<U;ie++)Q=Q.concat(R(A[ie],ie));return Q}function ae(g){g.format===1?q.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(J("glyph",g.glyphs))):w.assert(!1,"Can't create coverage table format 2 yet.")}function he(g){q.call(this,"scriptListTable",ue("scriptRecord",g,function(A,R){var U=A.script,Q=U.defaultLangSys;return w.assert(!!Q,"Unable to write GSUB: script "+A.tag+" has no default language system."),[{name:"scriptTag"+R,type:"TAG",value:A.tag},{name:"script"+R,type:"TABLE",value:new q("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new q("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Q.reqFeatureIndex}].concat(J("featureIndex",Q.featureIndexes)))}].concat(ue("langSys",U.langSysRecords,function(ie,ne){var ye=ie.langSys;return[{name:"langSysTag"+ne,type:"TAG",value:ie.tag},{name:"langSys"+ne,type:"TABLE",value:new q("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ye.reqFeatureIndex}].concat(J("featureIndex",ye.featureIndexes)))}]})))}]}))}function be(g){q.call(this,"featureListTable",ue("featureRecord",g,function(A,R){var U=A.feature;return[{name:"featureTag"+R,type:"TAG",value:A.tag},{name:"feature"+R,type:"TABLE",value:new q("featureTable",[{name:"featureParams",type:"USHORT",value:U.featureParams}].concat(J("lookupListIndex",U.lookupListIndexes)))}]}))}function Me(g,A){q.call(this,"lookupListTable",re("lookup",g,function(R){var U=A[R.lookupType];return w.assert(!!U,"Unable to write GSUB lookup type "+R.lookupType+" tables."),new q("lookupTable",[{name:"lookupType",type:"USHORT",value:R.lookupType},{name:"lookupFlag",type:"USHORT",value:R.lookupFlag}].concat(re("subtable",R.subtables,U)))}))}H.CHARSTRING=function(g){if(Y){var A=Y.get(g);if(A!==void 0)return A}for(var ie=[],R=g.length,U=0;U<R;U+=1)var Q=g[U],ie=ie.concat(H[Q.type](Q.value));return Y&&Y.set(g,ie),ie},N.CHARSTRING=function(g){return H.CHARSTRING(g).length},H.OBJECT=function(g){var A=H[g.type];return w.argument(A!==void 0,"No encoding function for type "+g.type),A(g.value)},N.OBJECT=function(g){var A=N[g.type];return w.argument(A!==void 0,"No sizeOf function for type "+g.type),A(g.value)},H.TABLE=function(g){for(var A=[],R=g.fields.length,U=[],Q=[],ie=0;ie<R;ie+=1){var ne=g.fields[ie],Te=H[ne.type],ye=(w.argument(Te!==void 0,"No encoding function for field type "+ne.type+" ("+ne.name+")"),g[ne.name]),Te=Te(ye=ye===void 0?ne.value:ye);ne.type==="TABLE"?(Q.push(A.length),A=A.concat([0,0]),U.push(Te)):A=A.concat(Te)}for(var Ce=0;Ce<U.length;Ce+=1){var Le=Q[Ce],Ie=A.length;w.argument(Ie<65536,"Table "+g.tableName+" too big."),A[Le]=Ie>>8,A[Le+1]=255&Ie,A=A.concat(U[Ce])}return A},N.TABLE=function(g){for(var A=0,R=g.fields.length,U=0;U<R;U+=1){var Q=g.fields[U],ie=N[Q.type],ne=(w.argument(ie!==void 0,"No sizeOf function for field type "+Q.type+" ("+Q.name+")"),g[Q.name]);A+=ie(ne=ne===void 0?Q.value:ne),Q.type==="TABLE"&&(A+=2)}return A},H.RECORD=H.TABLE,N.RECORD=N.TABLE,H.LITERAL=function(g){return g},N.LITERAL=function(g){return g.length},q.prototype.encode=function(){return H.TABLE(this)},q.prototype.sizeOf=function(){return N.TABLE(this)};var le={Table:q,Record:q,Coverage:(ae.prototype=Object.create(q.prototype)).constructor=ae,ScriptList:(he.prototype=Object.create(q.prototype)).constructor=he,FeatureList:(be.prototype=Object.create(q.prototype)).constructor=be,LookupList:(Me.prototype=Object.create(q.prototype)).constructor=Me,ushortList:J,tableList:re,recordList:ue};function pe(g,A){return g.getUint8(A)}function ge(g,A){return g.getUint16(A,!1)}function ve(g,A){return g.getUint32(A,!1)}function Se(g,A){return g.getInt16(A,!1)+g.getUint16(A+2,!1)/65535}var je={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function me(g,A){this.data=g,this.offset=A,this.relativeOffset=0}me.prototype.parseByte=function(){var g=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,g},me.prototype.parseChar=function(){var g=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,g},me.prototype.parseCard8=me.prototype.parseByte,me.prototype.parseCard16=me.prototype.parseUShort=function(){var g=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,g},me.prototype.parseSID=me.prototype.parseUShort,me.prototype.parseOffset16=me.prototype.parseUShort,me.prototype.parseShort=function(){var g=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,g},me.prototype.parseF2Dot14=function(){var g=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,g},me.prototype.parseOffset32=me.prototype.parseULong=function(){var g=ve(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,g},me.prototype.parseFixed=function(){var g=Se(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,g},me.prototype.parseString=function(g){var A=this.data,R=this.offset+this.relativeOffset,U="";this.relativeOffset+=g;for(var Q=0;Q<g;Q++)U+=String.fromCharCode(A.getUint8(R+Q));return U},me.prototype.parseTag=function(){return this.parseString(4)},me.prototype.parseLongDateTime=function(){var g=ve(this.data,this.offset+this.relativeOffset+4);return g-=2082844800,this.relativeOffset+=8,g},me.prototype.parseVersion=function(g){var A=ge(this.data,this.offset+this.relativeOffset),R=ge(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,A+R/(g=g===void 0?4096:g)/10},me.prototype.skip=function(g,A){this.relativeOffset+=je[g]*(A=A===void 0?1:A)},me.prototype.parseULongList=function(g){g===void 0&&(g=this.parseULong());for(var A=new Array(g),R=this.data,U=this.offset+this.relativeOffset,Q=0;Q<g;Q++)A[Q]=R.getUint32(U),U+=4;return this.relativeOffset+=4*g,A},me.prototype.parseOffset16List=me.prototype.parseUShortList=function(g){g===void 0&&(g=this.parseUShort());for(var A=new Array(g),R=this.data,U=this.offset+this.relativeOffset,Q=0;Q<g;Q++)A[Q]=R.getUint16(U),U+=2;return this.relativeOffset+=2*g,A},me.prototype.parseShortList=function(g){for(var A=new Array(g),R=this.data,U=this.offset+this.relativeOffset,Q=0;Q<g;Q++)A[Q]=R.getInt16(U),U+=2;return this.relativeOffset+=2*g,A},me.prototype.parseByteList=function(g){for(var A=new Array(g),R=this.data,U=this.offset+this.relativeOffset,Q=0;Q<g;Q++)A[Q]=R.getUint8(U++);return this.relativeOffset+=g,A},me.prototype.parseList=function(g,A){A||(A=g,g=this.parseUShort());for(var R=new Array(g),U=0;U<g;U++)R[U]=A.call(this);return R},me.prototype.parseList32=function(g,A){A||(A=g,g=this.parseULong());for(var R=new Array(g),U=0;U<g;U++)R[U]=A.call(this);return R},me.prototype.parseRecordList=function(g,A){A||(A=g,g=this.parseUShort());for(var R=new Array(g),U=Object.keys(A),Q=0;Q<g;Q++){for(var ie={},ne=0;ne<U.length;ne++){var ye=U[ne],Te=A[ye];ie[ye]=Te.call(this)}R[Q]=ie}return R},me.prototype.parseRecordList32=function(g,A){A||(A=g,g=this.parseULong());for(var R=new Array(g),U=Object.keys(A),Q=0;Q<g;Q++){for(var ie={},ne=0;ne<U.length;ne++){var ye=U[ne],Te=A[ye];ie[ye]=Te.call(this)}R[Q]=ie}return R},me.prototype.parseStruct=function(g){if(typeof g=="function")return g.call(this);for(var A=Object.keys(g),R={},U=0;U<A.length;U++){var Q=A[U],ie=g[Q];R[Q]=ie.call(this)}return R},me.prototype.parseValueRecord=function(g){var A;if((g=g===void 0?this.parseUShort():g)!==0)return A={},1&g&&(A.xPlacement=this.parseShort()),2&g&&(A.yPlacement=this.parseShort()),4&g&&(A.xAdvance=this.parseShort()),8&g&&(A.yAdvance=this.parseShort()),16&g&&(A.xPlaDevice=void 0,this.parseShort()),32&g&&(A.yPlaDevice=void 0,this.parseShort()),64&g&&(A.xAdvDevice=void 0,this.parseShort()),128&g&&(A.yAdvDevice=void 0,this.parseShort()),A},me.prototype.parseValueRecordList=function(){for(var g=this.parseUShort(),A=this.parseUShort(),R=new Array(A),U=0;U<A;U++)R[U]=this.parseValueRecord(g);return R},me.prototype.parsePointer=function(g){var A=this.parseOffset16();if(0<A)return new me(this.data,this.offset+A).parseStruct(g)},me.prototype.parsePointer32=function(g){var A=this.parseOffset32();if(0<A)return new me(this.data,this.offset+A).parseStruct(g)},me.prototype.parseListOfLists=function(g){for(var A=this.parseOffset16List(),R=A.length,U=this.relativeOffset,Q=new Array(R),ie=0;ie<R;ie++){var ne=A[ie];if(ne===0)Q[ie]=void 0;else if(this.relativeOffset=ne,g){for(var ye=this.parseOffset16List(),Te=new Array(ye.length),Ce=0;Ce<ye.length;Ce++)this.relativeOffset=ne+ye[Ce],Te[Ce]=g.call(this);Q[ie]=Te}else Q[ie]=this.parseUShortList()}return this.relativeOffset=U,Q},me.prototype.parseCoverage=function(){var g=this.offset+this.relativeOffset,A=this.parseUShort(),R=this.parseUShort();if(A===1)return{format:1,glyphs:this.parseUShortList(R)};if(A!==2)throw new Error("0x"+g.toString(16)+": Coverage format must be 1 or 2.");for(var U=new Array(R),Q=0;Q<R;Q++)U[Q]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:U}},me.prototype.parseClassDef=function(){var g=this.offset+this.relativeOffset,A=this.parseUShort();if(A===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(A===2)return{format:2,ranges:this.parseRecordList({start:me.uShort,end:me.uShort,classId:me.uShort})};throw new Error("0x"+g.toString(16)+": ClassDef format must be 1 or 2.")},me.list=function(g,A){return function(){return this.parseList(g,A)}},me.list32=function(g,A){return function(){return this.parseList32(g,A)}},me.recordList=function(g,A){return function(){return this.parseRecordList(g,A)}},me.recordList32=function(g,A){return function(){return this.parseRecordList32(g,A)}},me.pointer=function(g){return function(){return this.parsePointer(g)}},me.pointer32=function(g){return function(){return this.parsePointer32(g)}},me.tag=me.prototype.parseTag,me.byte=me.prototype.parseByte,me.uShort=me.offset16=me.prototype.parseUShort,me.uShortList=me.prototype.parseUShortList,me.uLong=me.offset32=me.prototype.parseULong,me.uLongList=me.prototype.parseULongList,me.struct=me.prototype.parseStruct,me.coverage=me.prototype.parseCoverage,me.classDef=me.prototype.parseClassDef;var we={reserved:me.uShort,reqFeatureIndex:me.uShort,featureIndexes:me.uShortList},xe=(me.prototype.parseScriptList=function(){return this.parsePointer(me.recordList({tag:me.tag,script:me.pointer({defaultLangSys:me.pointer(we),langSysRecords:me.recordList({tag:me.tag,langSys:me.pointer(we)})})}))||[]},me.prototype.parseFeatureList=function(){return this.parsePointer(me.recordList({tag:me.tag,feature:me.pointer({featureParams:me.offset16,lookupListIndexes:me.uShortList})}))||[]},me.prototype.parseLookupList=function(g){return this.parsePointer(me.list(me.pointer(function(){var A=this.parseUShort(),R=(w.argument(1<=A&&A<=9,"GPOS/GSUB lookup type "+A+" unknown."),this.parseUShort()),U=16&R;return{lookupType:A,lookupFlag:R,subtables:this.parseList(me.pointer(g[A])),markFilteringSet:U?this.parseUShort():void 0}})))||[]},me.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var g=this.parseUShort(),A=this.parseUShort();return w.argument(g===1&&A<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:me.offset32,featureTableSubstitutionOffset:me.offset32})})||[]},{getByte:pe,getCard8:pe,getUShort:ge,getCard16:ge,getShort:function(g,A){return g.getInt16(A,!1)},getULong:ve,getFixed:Se,getTag:function(g,A){for(var R="",U=A;U<A+4;U+=1)R+=String.fromCharCode(g.getInt8(U));return R},getOffset:function(g,A,R){for(var U=0,Q=0;Q<R;Q+=1)U=(U<<=8)+g.getUint8(A+Q);return U},getBytes:function(g,A,R){for(var U=[],Q=A;Q<R;Q+=1)U.push(g.getUint8(Q));return U},bytesToString:function(g){for(var A="",R=0;R<g.length;R+=1)A+=String.fromCharCode(g[R]);return A},Parser:me}),oe={parse:function(g,A){for(var R={},U=(R.version=xe.getUShort(g,A),w.argument(R.version===0,"cmap table version should be 0."),R.numTables=xe.getUShort(g,A+2),-1),Q=R.numTables-1;0<=Q;--Q){var ie=xe.getUShort(g,A+4+8*Q),ne=xe.getUShort(g,A+4+8*Q+2);if(ie===3&&(ne===0||ne===1||ne===10)||ie===0&&(ne===0||ne===1||ne===2||ne===3||ne===4)){U=xe.getULong(g,A+4+8*Q+4);break}}if(U===-1)throw new Error("No valid cmap sub-tables found.");var ye=new xe.Parser(g,A+U);if(R.format=ye.parseUShort(),R.format===12){var Te,Ce=R,Le=ye;Le.parseUShort(),Ce.length=Le.parseULong(),Ce.language=Le.parseULong(),Ce.groupCount=Te=Le.parseULong(),Ce.glyphIndexMap={};for(var Ie=0;Ie<Te;Ie+=1)for(var De=Le.parseULong(),Oe=Le.parseULong(),Ve=Le.parseULong(),Ne=De;Ne<=Oe;Ne+=1)Ce.glyphIndexMap[Ne]=Ve,Ve++}else{if(R.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+R.format+").");var Ue=R,Re=g,Fe=A,rt=U;Ue.length=ye.parseUShort(),Ue.language=ye.parseUShort(),Ue.segCount=ot=ye.parseUShort()>>1,ye.skip("uShort",3),Ue.glyphIndexMap={};for(var ot,it=new xe.Parser(Re,Fe+rt+14),st=new xe.Parser(Re,Fe+rt+16+2*ot),ct=new xe.Parser(Re,Fe+rt+16+4*ot),jt=new xe.Parser(Re,Fe+rt+16+6*ot),kt=Fe+rt+16+8*ot,Dt=0;Dt<ot-1;Dt+=1)for(var Ht=void 0,Wt=it.parseUShort(),Kt=st.parseUShort(),_t=ct.parseShort(),St=jt.parseUShort(),vt=Kt;vt<=Wt;vt+=1)St!==0?(kt=(kt=jt.offset+jt.relativeOffset-2)+St+2*(vt-Kt),(Ht=xe.getUShort(Re,kt))!==0&&(Ht=Ht+_t&65535)):Ht=vt+_t&65535,Ue.glyphIndexMap[vt]=Ht}return R},make:function(g){for(var A=!0,R=g.length-1;0<R;--R)if(65535<g.get(R).unicode){console.log("Adding CMAP format 12 (needed!)"),A=!1;break}var U,Q,ie=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:A?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:A?12:20}],ne=(ie=(ie=A?ie:ie.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new le.Table("cmap",ie));for(ne.segments=[],R=0;R<g.length;R+=1){for(var ye=g.get(R),Te=0;Te<ye.unicodes.length;Te+=1)U=ye.unicodes[Te],Q=R,ne.segments.push({end:U,start:U,delta:-(U-Q),offset:0,glyphIndex:Q});ne.segments=ne.segments.sort(function(Fe,rt){return Fe.start-rt.start})}ne.segments.push({end:65535,start:65535,delta:1,offset:0});var Ce=ne.segments.length,Le=0,Ie=[],De=[],Oe=[],Ve=[],Ne=[],Ue=[];for(R=0;R<Ce;R+=1){var Re=ne.segments[R];Re.end<=65535&&Re.start<=65535?(Ie=Ie.concat({name:"end_"+R,type:"USHORT",value:Re.end}),De=De.concat({name:"start_"+R,type:"USHORT",value:Re.start}),Oe=Oe.concat({name:"idDelta_"+R,type:"SHORT",value:Re.delta}),Ve=Ve.concat({name:"idRangeOffset_"+R,type:"USHORT",value:Re.offset}),Re.glyphId!==void 0&&(Ne=Ne.concat({name:"glyph_"+R,type:"USHORT",value:Re.glyphId}))):Le+=1,A||Re.glyphIndex===void 0||(Ue=(Ue=(Ue=Ue.concat({name:"cmap12Start_"+R,type:"ULONG",value:Re.start})).concat({name:"cmap12End_"+R,type:"ULONG",value:Re.end})).concat({name:"cmap12Glyph_"+R,type:"ULONG",value:Re.glyphIndex}))}return ne.segCountX2=2*(Ce-Le),ne.searchRange=2*Math.pow(2,Math.floor(Math.log(Ce-Le)/Math.log(2))),ne.entrySelector=Math.log(ne.searchRange/2)/Math.log(2),ne.rangeShift=ne.segCountX2-ne.searchRange,ne.fields=ne.fields.concat(Ie),ne.fields.push({name:"reservedPad",type:"USHORT",value:0}),ne.fields=ne.fields.concat(De),ne.fields=ne.fields.concat(Oe),ne.fields=ne.fields.concat(Ve),ne.fields=ne.fields.concat(Ne),ne.cmap4Length=14+2*Ie.length+2+2*De.length+2*Oe.length+2*Ve.length+2*Ne.length,A||(ie=16+4*Ue.length,ne.cmap12Offset=20+ne.cmap4Length,ne.fields=ne.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:ie},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ue.length/3}]),ne.fields=ne.fields.concat(Ue)),ne}},ce=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],se=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],fe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ke=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Ee(g){this.font=g}function Pe(g){this.cmap=g}function Be(g,A){this.encoding=g,this.charset=A}function Ge(g){switch(g.version){case 1:this.names=ke.slice();break;case 2:this.names=new Array(g.numberOfGlyphs);for(var A=0;A<g.numberOfGlyphs;A++)g.glyphNameIndex[A]<ke.length?this.names[A]=ke[g.glyphNameIndex[A]]:this.names[A]=g.names[g.glyphNameIndex[A]-ke.length];break;case 2.5:this.names=new Array(g.numberOfGlyphs);for(var R=0;R<g.numberOfGlyphs;R++)this.names[R]=ke[R+g.glyphNameIndex[R]];break;default:this.names=[]}}Ee.prototype.charToGlyphIndex=function(g){var A=g.codePointAt(0),R=this.font.glyphs;if(R){for(var U=0;U<R.length;U+=1)for(var Q=R.get(U),ie=0;ie<Q.unicodes.length;ie+=1)if(Q.unicodes[ie]===A)return U}return null},Pe.prototype.charToGlyphIndex=function(g){return this.cmap.glyphIndexMap[g.codePointAt(0)]||0},Be.prototype.charToGlyphIndex=function(g){return g=g.codePointAt(0),g=this.encoding[g],this.charset.indexOf(g)},Ge.prototype.nameToGlyphIndex=function(g){return this.names.indexOf(g)},Ge.prototype.glyphIndexToName=function(g){return this.names[g]};var He={line:function(g,A,R,U,Q){g.beginPath(),g.moveTo(A,R),g.lineTo(U,Q),g.stroke()}};function qe(g){this.bindConstructorValues(g)}function et(g,A,R){Object.defineProperty(g,A,{get:function(){return g.path,g[R]},set:function(U){g[R]=U},enumerable:!0,configurable:!0})}function Qe(g,A){if(this.font=g,this.glyphs={},Array.isArray(A))for(var R=0;R<A.length;R++)this.glyphs[R]=A[R];this.length=A&&A.length||0}qe.prototype.bindConstructorValues=function(g){var A;this.index=g.index||0,this.name=g.name||null,this.unicode=g.unicode||void 0,this.unicodes=g.unicodes||g.unicode!==void 0?[g.unicode]:[],g.xMin&&(this.xMin=g.xMin),g.yMin&&(this.yMin=g.yMin),g.xMax&&(this.xMax=g.xMax),g.yMax&&(this.yMax=g.yMax),g.advanceWidth&&(this.advanceWidth=g.advanceWidth),Object.defineProperty(this,"path",(g=g.path,A=g||new K,{configurable:!0,get:function(){return A=typeof A=="function"?A():A},set:function(R){A=R}}))},qe.prototype.addUnicode=function(g){this.unicodes.length===0&&(this.unicode=g),this.unicodes.push(g)},qe.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},qe.prototype.getPath=function(g,A,R,U,Q){g=g!==void 0?g:0,A=A!==void 0?A:0,R=R!==void 0?R:72;for(var ie,ne,ye=(U=U||{}).xScale,Te=U.yScale,Ce=((ie=U.hinting&&Q&&Q.hinting?this.path&&Q.hinting.exec(this,R):ie)?(ne=Q.hinting.getCommands(ie),g=Math.round(g),A=Math.round(A),ye=Te=1):(ne=this.path.commands,U=1/this.path.unitsPerEm*R,ye===void 0&&(ye=U),Te===void 0&&(Te=U)),new K),Le=0;Le<ne.length;Le+=1){var Ie=ne[Le];Ie.type==="M"?Ce.moveTo(g+Ie.x*ye,A+-Ie.y*Te):Ie.type==="L"?Ce.lineTo(g+Ie.x*ye,A+-Ie.y*Te):Ie.type==="Q"?Ce.quadraticCurveTo(g+Ie.x1*ye,A+-Ie.y1*Te,g+Ie.x*ye,A+-Ie.y*Te):Ie.type==="C"?Ce.curveTo(g+Ie.x1*ye,A+-Ie.y1*Te,g+Ie.x2*ye,A+-Ie.y2*Te,g+Ie.x*ye,A+-Ie.y*Te):Ie.type==="Z"&&Ce.closePath()}return Ce},qe.prototype.getContours=function(){if(this.points===void 0)return[];for(var g=[],A=[],R=0;R<this.points.length;R+=1){var U=this.points[R];A.push(U),U.lastPointOfContour&&(g.push(A),A=[])}return w.argument(A.length===0,"There are still points left in the current contour."),g},qe.prototype.getMetrics=function(){for(var g=this.path.commands,A=[],R=[],U=0;U<g.length;U+=1){var Q=g[U];Q.type!=="Z"&&(A.push(Q.x),R.push(Q.y)),Q.type!=="Q"&&Q.type!=="C"||(A.push(Q.x1),R.push(Q.y1)),Q.type==="C"&&(A.push(Q.x2),R.push(Q.y2))}var ie={xMin:Math.min.apply(null,A),yMin:Math.min.apply(null,R),xMax:Math.max.apply(null,A),yMax:Math.max.apply(null,R),leftSideBearing:this.leftSideBearing};return isFinite(ie.xMin)||(ie.xMin=0),isFinite(ie.xMax)||(ie.xMax=this.advanceWidth),isFinite(ie.yMin)||(ie.yMin=0),isFinite(ie.yMax)||(ie.yMax=0),ie.rightSideBearing=this.advanceWidth-ie.leftSideBearing-(ie.xMax-ie.xMin),ie},qe.prototype.draw=function(g,A,R,U,Q){this.getPath(A,R,U,Q).draw(g)},qe.prototype.drawPoints=function(g,A,R,U){function Q(Le,Ie,De,Oe){var Ve=2*Math.PI;g.beginPath();for(var Ne=0;Ne<Le.length;Ne+=1)g.moveTo(Ie+Le[Ne].x*Oe,De+Le[Ne].y*Oe),g.arc(Ie+Le[Ne].x*Oe,De+Le[Ne].y*Oe,2,0,Ve,!1);g.closePath(),g.fill()}A=A!==void 0?A:0,R=R!==void 0?R:0;for(var U=1/this.path.unitsPerEm*(U=U!==void 0?U:24),ie=[],ne=[],ye=this.path,Te=0;Te<ye.commands.length;Te+=1){var Ce=ye.commands[Te];Ce.x!==void 0&&ie.push({x:Ce.x,y:-Ce.y}),Ce.x1!==void 0&&ne.push({x:Ce.x1,y:-Ce.y1}),Ce.x2!==void 0&&ne.push({x:Ce.x2,y:-Ce.y2})}g.fillStyle="blue",Q(ie,A,R,U),g.fillStyle="red",Q(ne,A,R,U)},qe.prototype.drawMetrics=function(g,A,R,U){A=A!==void 0?A:0,R=R!==void 0?R:0,U=1/this.path.unitsPerEm*(U=U!==void 0?U:24),g.lineWidth=1,g.strokeStyle="black",He.line(g,A,-1e4,A,1e4),He.line(g,-1e4,R,1e4,R);var Q=this.xMin||0,ie=this.yMin||0,ne=this.xMax||0,ye=this.yMax||0,Te=this.advanceWidth||0;g.strokeStyle="blue",He.line(g,A+Q*U,-1e4,A+Q*U,1e4),He.line(g,A+ne*U,-1e4,A+ne*U,1e4),He.line(g,-1e4,R+-ie*U,1e4,R+-ie*U),He.line(g,-1e4,R+-ye*U,1e4,R+-ye*U),g.strokeStyle="green",He.line(g,A+Te*U,-1e4,A+Te*U,1e4)},Qe.prototype.get=function(g){return typeof this.glyphs[g]=="function"&&(this.glyphs[g]=this.glyphs[g]()),this.glyphs[g]},Qe.prototype.push=function(g,A){this.glyphs[g]=A,this.length++};var Ye={GlyphSet:Qe,glyphLoader:function(g,A){return new qe({index:A,font:g})},ttfGlyphLoader:function(g,A,R,U,Q,ie){return function(){var ne=new qe({index:A,font:g});return ne.path=function(){R(ne,U,Q);var ye=ie(g.glyphs,ne);return ye.unitsPerEm=g.unitsPerEm,ye},et(ne,"xMin","_xMin"),et(ne,"xMax","_xMax"),et(ne,"yMin","_yMin"),et(ne,"yMax","_yMax"),ne}},cffGlyphLoader:function(g,A,R,U){return function(){var Q=new qe({index:A,font:g});return Q.path=function(){var ie=R(g,Q,U);return ie.unitsPerEm=g.unitsPerEm,ie},Q}}};function nt(g){return g=g.length<1240?107:g.length<33900?1131:32768,g}function Je(g,A,R){var U,Q=[],ie=[],ne=xe.getCard16(g,A);if(ne!==0){for(var ye=xe.getByte(g,A+2),Te=A+(ne+1)*ye+2,Ce=A+3,Le=0;Le<ne+1;Le+=1)Q.push(xe.getOffset(g,Ce,ye)),Ce+=ye;U=Te+Q[ne]}else U=A+2;for(var Ie=0;Ie<Q.length-1;Ie+=1){var De=xe.getBytes(g,Te+Q[Ie],Te+Q[Ie+1]);R&&(De=R(De)),ie.push(De)}return{objects:ie,startOffset:A,endOffset:U}}function gt(g,A){if(A===28)return g.parseByte()<<8|g.parseByte();if(A===29)return g.parseByte()<<24|g.parseByte()<<16|g.parseByte()<<8|g.parseByte();if(A===30){for(var R=g,U="",Q=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var ne=R.parseByte(),ie=ne>>4,ne=15&ne;if(ie==15||(U+=Q[ie],ne==15))break;U+=Q[ne]}return parseFloat(U)}if(32<=A&&A<=246)return A-139;if(247<=A&&A<=250)return 256*(A-247)+g.parseByte()+108;if(251<=A&&A<=254)return 256*-(A-251)-g.parseByte()-108;throw new Error("Invalid b0 "+A)}function pt(g,A,R){var U=new xe.Parser(g,A=A!==void 0?A:0),Q=[],ie=[];for(R=R!==void 0?R:g.length;U.relativeOffset<R;){var ne=U.parseByte();ne<=21?(ne===12&&(ne=1200+U.parseByte()),Q.push([ne,ie]),ie=[]):ie.push(gt(U,ne))}for(var ye=Q,Te={},Ce=0;Ce<ye.length;Ce+=1){var Le=ye[Ce][0],Ie=ye[Ce][1],De=void 0,De=Ie.length===1?Ie[0]:Ie;if(Te.hasOwnProperty(Le)&&!isNaN(Te[Le]))throw new Error("Object "+Te+" already has key "+Le);Te[Le]=De}return Te}function ft(g,A){return A=A<=390?ce[A]:g[A-391]}function lt(g,A,R){for(var U,Q={},ie=0;ie<A.length;ie+=1){var ne=A[ie];if(Array.isArray(ne.type)){var ye=[];ye.length=ne.type.length;for(var Te=0;Te<ne.type.length;Te++)(U=g[ne.op]!==void 0?g[ne.op][Te]:void 0)===void 0&&(U=ne.value!==void 0&&ne.value[Te]!==void 0?ne.value[Te]:null),ne.type[Te]==="SID"&&(U=ft(R,U)),ye[Te]=U;Q[ne.name]=ye}else(U=g[ne.op])===void 0&&(U=ne.value!==void 0?ne.value:null),ne.type==="SID"&&(U=ft(R,U)),Q[ne.name]=U}return Q}var xt=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ht=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ot(g,A,R,U){return lt(pt(g,A,R),ht,U)}function Et(g,A,R,U){for(var Q=[],ie=0;ie<R.length;ie+=1){var ne=new DataView(new Uint8Array(R[ie]).buffer),ne=(ye=U,lt(pt(ne,0,ne.byteLength),xt,ye)),ye=(ne._subrs=[],ne._subrsBias=0,ne.private[0]),Te=ne.private[1];ye!==0&&Te!==0&&(ye=Ot(g,Te+A,ye,U),ne._defaultWidthX=ye.defaultWidthX,ne._nominalWidthX=ye.nominalWidthX,ye.subrs!==0&&(Te=Je(g,Te+ye.subrs+A),ne._subrs=Te.objects,ne._subrsBias=nt(ne._subrs)),ne._privateDict=ye),Q.push(ne)}return Q}function yt(g,A,R){var U,Q,ie,ne,ye,Te,Ce,Le,Ie,De=new K,Oe=[],Ve=0,Ne=!1,Ue=!1,Re=0,Fe=0,rt=(Ie=(g.isCIDFont?(ye=g.tables.cff.topDict._fdSelect[A.index],ye=g.tables.cff.topDict._fdArray[ye],Te=ye._subrs,Ce=ye._subrsBias,Le=ye._defaultWidthX,ye):(Te=g.tables.cff.topDict._subrs,Ce=g.tables.cff.topDict._subrsBias,Le=g.tables.cff.topDict._defaultWidthX,g.tables.cff.topDict))._nominalWidthX,Le);function ot(st,ct){Ue&&De.closePath(),De.moveTo(st,ct),Ue=!0}function it(){Oe.length%2==0||Ne||(rt=Oe.shift()+Ie),Ve+=Oe.length>>1,Oe.length=0,Ne=!0}return function st(ct){for(var jt,kt,Dt,Ht,Wt,Kt,_t,St,vt,Xt,Ct,zt,Mt=0;Mt<ct.length;){var Gt=ct[Mt];switch(Mt+=1,Gt){case 1:case 3:it();break;case 4:1<Oe.length&&!Ne&&(rt=Oe.shift()+Ie,Ne=!0),Fe+=Oe.pop(),ot(Re,Fe);break;case 5:for(;0<Oe.length;)Re+=Oe.shift(),Fe+=Oe.shift(),De.lineTo(Re,Fe);break;case 6:for(;0<Oe.length&&(Re+=Oe.shift(),De.lineTo(Re,Fe),Oe.length!==0);)Fe+=Oe.shift(),De.lineTo(Re,Fe);break;case 7:for(;0<Oe.length&&(Fe+=Oe.shift(),De.lineTo(Re,Fe),Oe.length!==0);)Re+=Oe.shift(),De.lineTo(Re,Fe);break;case 8:for(;0<Oe.length;)U=Re+Oe.shift(),Q=Fe+Oe.shift(),ie=U+Oe.shift(),ne=Q+Oe.shift(),Re=ie+Oe.shift(),Fe=ne+Oe.shift(),De.curveTo(U,Q,ie,ne,Re,Fe);break;case 10:Wt=Oe.pop()+Ce,(Kt=Te[Wt])&&st(Kt);break;case 11:return;case 12:switch(Gt=ct[Mt],Mt+=1,Gt){case 35:U=Re+Oe.shift(),Q=Fe+Oe.shift(),ie=U+Oe.shift(),ne=Q+Oe.shift(),_t=ie+Oe.shift(),St=ne+Oe.shift(),vt=_t+Oe.shift(),Xt=St+Oe.shift(),Ct=vt+Oe.shift(),zt=Xt+Oe.shift(),Re=Ct+Oe.shift(),Fe=zt+Oe.shift(),Oe.shift(),De.curveTo(U,Q,ie,ne,_t,St),De.curveTo(vt,Xt,Ct,zt,Re,Fe);break;case 34:U=Re+Oe.shift(),Q=Fe,ie=U+Oe.shift(),ne=Q+Oe.shift(),_t=ie+Oe.shift(),St=ne,vt=_t+Oe.shift(),Xt=ne,Ct=vt+Oe.shift(),zt=Fe,Re=Ct+Oe.shift(),De.curveTo(U,Q,ie,ne,_t,St),De.curveTo(vt,Xt,Ct,zt,Re,Fe);break;case 36:U=Re+Oe.shift(),Q=Fe+Oe.shift(),ie=U+Oe.shift(),ne=Q+Oe.shift(),_t=ie+Oe.shift(),St=ne,vt=_t+Oe.shift(),Xt=ne,Ct=vt+Oe.shift(),zt=Xt+Oe.shift(),Re=Ct+Oe.shift(),De.curveTo(U,Q,ie,ne,_t,St),De.curveTo(vt,Xt,Ct,zt,Re,Fe);break;case 37:U=Re+Oe.shift(),Q=Fe+Oe.shift(),ie=U+Oe.shift(),ne=Q+Oe.shift(),_t=ie+Oe.shift(),St=ne+Oe.shift(),vt=_t+Oe.shift(),Xt=St+Oe.shift(),Ct=vt+Oe.shift(),zt=Xt+Oe.shift(),Math.abs(Ct-Re)>Math.abs(zt-Fe)?Re=Ct+Oe.shift():Fe=zt+Oe.shift(),De.curveTo(U,Q,ie,ne,_t,St),De.curveTo(vt,Xt,Ct,zt,Re,Fe);break;default:console.log("Glyph "+A.index+": unknown operator 1200"+Gt),Oe.length=0}break;case 14:0<Oe.length&&!Ne&&(rt=Oe.shift()+Ie,Ne=!0),Ue&&(De.closePath(),Ue=!1);break;case 18:it();break;case 19:case 20:it(),Mt+=Ve+7>>3;break;case 21:2<Oe.length&&!Ne&&(rt=Oe.shift()+Ie,Ne=!0),Fe+=Oe.pop(),ot(Re+=Oe.pop(),Fe);break;case 22:1<Oe.length&&!Ne&&(rt=Oe.shift()+Ie,Ne=!0),ot(Re+=Oe.pop(),Fe);break;case 23:it();break;case 24:for(;2<Oe.length;)U=Re+Oe.shift(),Q=Fe+Oe.shift(),ie=U+Oe.shift(),ne=Q+Oe.shift(),Re=ie+Oe.shift(),Fe=ne+Oe.shift(),De.curveTo(U,Q,ie,ne,Re,Fe);Re+=Oe.shift(),Fe+=Oe.shift(),De.lineTo(Re,Fe);break;case 25:for(;6<Oe.length;)Re+=Oe.shift(),Fe+=Oe.shift(),De.lineTo(Re,Fe);U=Re+Oe.shift(),Q=Fe+Oe.shift(),ie=U+Oe.shift(),ne=Q+Oe.shift(),Re=ie+Oe.shift(),Fe=ne+Oe.shift(),De.curveTo(U,Q,ie,ne,Re,Fe);break;case 26:for(Oe.length%2&&(Re+=Oe.shift());0<Oe.length;)U=Re,Q=Fe+Oe.shift(),ie=U+Oe.shift(),ne=Q+Oe.shift(),Re=ie,Fe=ne+Oe.shift(),De.curveTo(U,Q,ie,ne,Re,Fe);break;case 27:for(Oe.length%2&&(Fe+=Oe.shift());0<Oe.length;)U=Re+Oe.shift(),Q=Fe,ie=U+Oe.shift(),ne=Q+Oe.shift(),Re=ie+Oe.shift(),Fe=ne,De.curveTo(U,Q,ie,ne,Re,Fe);break;case 28:jt=ct[Mt],kt=ct[Mt+1],Oe.push((jt<<24|kt<<16)>>16),Mt+=2;break;case 29:Wt=Oe.pop()+g.gsubrsBias,(Kt=g.gsubrs[Wt])&&st(Kt);break;case 30:for(;0<Oe.length&&(U=Re,Q=Fe+Oe.shift(),ie=U+Oe.shift(),ne=Q+Oe.shift(),Re=ie+Oe.shift(),Fe=ne+(Oe.length===1?Oe.shift():0),De.curveTo(U,Q,ie,ne,Re,Fe),Oe.length!==0);)U=Re+Oe.shift(),Q=Fe,ie=U+Oe.shift(),ne=Q+Oe.shift(),Fe=ne+Oe.shift(),Re=ie+(Oe.length===1?Oe.shift():0),De.curveTo(U,Q,ie,ne,Re,Fe);break;case 31:for(;0<Oe.length&&(U=Re+Oe.shift(),Q=Fe,ie=U+Oe.shift(),ne=Q+Oe.shift(),Fe=ne+Oe.shift(),Re=ie+(Oe.length===1?Oe.shift():0),De.curveTo(U,Q,ie,ne,Re,Fe),Oe.length!==0);)U=Re,Q=Fe+Oe.shift(),ie=U+Oe.shift(),ne=Q+Oe.shift(),Re=ie+Oe.shift(),Fe=ne+(Oe.length===1?Oe.shift():0),De.curveTo(U,Q,ie,ne,Re,Fe);break;default:Gt<32?console.log("Glyph "+A.index+": unknown operator "+Gt):Gt<247?Oe.push(Gt-139):Gt<251?(jt=ct[Mt],Mt+=1,Oe.push(256*(Gt-247)+jt+108)):Gt<255?(jt=ct[Mt],Mt+=1,Oe.push(256*-(Gt-251)-jt-108)):(jt=ct[Mt],kt=ct[Mt+1],Dt=ct[Mt+2],Ht=ct[Mt+3],Mt+=4,Oe.push((jt<<24|kt<<16|Dt<<8|Ht)/65536))}}}(R),A.advanceWidth=rt,De}function Pt(g,A){var R,U=ce.indexOf(g);return 0<=U&&(R=U),0<=(U=A.indexOf(g))?R=U+ce.length:(R=ce.length+A.length,A.push(g)),R}function cr(g,A,R){for(var U={},Q=0;Q<g.length;Q+=1){var ie=g[Q],ne=A[ie.name];ne===void 0||function ye(Te,Ce){if(Te===Ce)return 1;if(Array.isArray(Te)&&Array.isArray(Ce)&&Te.length===Ce.length){for(var Le=0;Le<Te.length;Le+=1)if(!ye(Te[Le],Ce[Le]))return;return 1}}(ne,ie.value)||(ie.type==="SID"&&(ne=Pt(ne,R)),U[ie.op]={name:ie.name,type:ie.type,value:ne})}return U}function mr(g,A){var R=new le.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return R.dict=cr(xt,g,A),R}function ur(g){var A=new le.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return A.topDicts=[{name:"topDict_0",type:"TABLE",value:g}],A}function gr(g){for(var A=new le.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),R=0;R<g.length;R+=1){var U=g.get(R),Q=function(ie){for(var ne=[],ye=ie.path,Te=(ne.push({name:"width",type:"NUMBER",value:ie.advanceWidth}),0),Ce=0,Le=0;Le<ye.commands.length;Le+=1){var Ie,De,Oe,Ve,Ne=void 0,Ue=void 0,Re=ye.commands[Le];(Re=Re.type==="Q"?{type:"C",x:Re.x,y:Re.y,x1:1/3*Te+2/3*Re.x1,y1:1/3*Ce+2/3*Re.y1,x2:1/3*Re.x+2/3*Re.x1,y2:1/3*Re.y+2/3*Re.y1}:Re).type==="M"?(Ne=Math.round(Re.x-Te),Ue=Math.round(Re.y-Ce),ne.push({name:"dx",type:"NUMBER",value:Ne}),ne.push({name:"dy",type:"NUMBER",value:Ue}),ne.push({name:"rmoveto",type:"OP",value:21}),Te=Math.round(Re.x),Ce=Math.round(Re.y)):Re.type==="L"?(Ne=Math.round(Re.x-Te),Ue=Math.round(Re.y-Ce),ne.push({name:"dx",type:"NUMBER",value:Ne}),ne.push({name:"dy",type:"NUMBER",value:Ue}),ne.push({name:"rlineto",type:"OP",value:5}),Te=Math.round(Re.x),Ce=Math.round(Re.y)):Re.type==="C"&&(Ie=Math.round(Re.x1-Te),De=Math.round(Re.y1-Ce),Oe=Math.round(Re.x2-Re.x1),Ve=Math.round(Re.y2-Re.y1),Ne=Math.round(Re.x-Re.x2),Ue=Math.round(Re.y-Re.y2),ne.push({name:"dx1",type:"NUMBER",value:Ie}),ne.push({name:"dy1",type:"NUMBER",value:De}),ne.push({name:"dx2",type:"NUMBER",value:Oe}),ne.push({name:"dy2",type:"NUMBER",value:Ve}),ne.push({name:"dx",type:"NUMBER",value:Ne}),ne.push({name:"dy",type:"NUMBER",value:Ue}),ne.push({name:"rrcurveto",type:"OP",value:8}),Te=Math.round(Re.x),Ce=Math.round(Re.y))}return ne.push({name:"endchar",type:"OP",value:14}),ne}(U);A.charStrings.push({name:U.name,type:"CHARSTRING",value:Q})}return A}var yr={parse:function(g,A,R){R.tables.cff={},ye=g,U=A,(Q={}).formatMajor=xe.getCard8(ye,U),Q.formatMinor=xe.getCard8(ye,U+1),Q.size=xe.getCard8(ye,U+2),Q.offsetSize=xe.getCard8(ye,U+3),Q.startOffset=U,Q.endOffset=U+4;var ye=Je(g,Q.endOffset,xe.bytesToString),U=Je(g,ye.endOffset),Q=Je(g,U.endOffset,xe.bytesToString),ye=Je(g,Q.endOffset);if(R.gsubrs=ye.objects,R.gsubrsBias=nt(R.gsubrs),(ye=Et(g,A,U.objects,Q.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ye.length);if(U=ye[0],(R.tables.cff.topDict=U)._privateDict&&(R.defaultWidthX=U._privateDict.defaultWidthX,R.nominalWidthX=U._privateDict.nominalWidthX),U.ros[0]!==void 0&&U.ros[1]!==void 0&&(R.isCIDFont=!0),R.isCIDFont){var ye=U.fdArray,ie=U.fdSelect;if(ye===0||ie===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ye=Et(g,A,Je(g,ye+=A).objects,Q.objects),U._fdArray=ye,U._fdSelect=function(De,Oe,Ve,Ne){var Ue,Re=[],Fe=new xe.Parser(De,Oe);if((De=Fe.parseCard8())===0)for(var rt=0;rt<Ve;rt++){if(Ne<=(Ue=Fe.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ue+" (FD count "+Ne+")");Re.push(Ue)}else{if(De!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+De);var ot,it=Fe.parseCard16(),st=Fe.parseCard16();if(st!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+st);for(var ct=0;ct<it;ct++){if(Ue=Fe.parseCard8(),ot=Fe.parseCard16(),Ne<=Ue)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ue+" (FD count "+Ne+")");if(Ve<ot)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+ot);for(;st<ot;st++)Re.push(Ue);st=ot}if(ot!==Ve)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+ot)}return Re}(g,ie+=A,R.numGlyphs,ye.length)}var ie=A+U.private[1],ye=Ot(g,ie,U.private[0],Q.objects),ne=(R.defaultWidthX=ye.defaultWidthX,R.nominalWidthX=ye.nominalWidthX,ye.subrs!==0?(ie=Je(g,ie+ye.subrs),R.subrs=ie.objects,R.subrsBias=nt(R.subrs)):(R.subrs=[],R.subrsBias=0),Je(g,A+U.charStrings)),ye=(R.nGlyphs=ne.objects.length,function(Le,Ie,De,Oe){var Ve=new xe.Parser(Le,Ie),Ne=(--De,[".notdef"]);if((Le=Ve.parseCard8())===0)for(var Ue=0;Ue<De;Ue+=1)Re=Ve.parseSID(),Ne.push(ft(Oe,Re));else if(Le===1)for(;Ne.length<=De;)for(var Re=Ve.parseSID(),Fe=Ve.parseCard8(),rt=0;rt<=Fe;rt+=1)Ne.push(ft(Oe,Re)),Re+=1;else{if(Le!==2)throw new Error("Unknown charset format "+Le);for(;Ne.length<=De;){Re=Ve.parseSID(),Fe=Ve.parseCard16();for(var ot=0;ot<=Fe;ot+=1)Ne.push(ft(Oe,Re)),Re+=1}}return Ne}(g,A+U.charset,R.nGlyphs,Q.objects));U.encoding===0?R.cffEncoding=new Be(se,ye):U.encoding===1?R.cffEncoding=new Be(fe,ye):R.cffEncoding=function(Le,Ie,De){var Oe={},Ve=new xe.Parser(Le,Ie);if((Le=Ve.parseCard8())===0)for(var Ne=Ve.parseCard8(),Ue=0;Ue<Ne;Ue+=1)Oe[Fe=Ve.parseCard8()]=Ue;else{if(Le!==1)throw new Error("Unknown encoding format "+Le);for(var Re=Ve.parseCard8(),Fe=1,rt=0;rt<Re;rt+=1)for(var ot=Ve.parseCard8(),it=Ve.parseCard8(),st=ot;st<=ot+it;st+=1)Oe[st]=Fe,Fe+=1}return new Be(Oe,De)}(g,A+U.encoding,ye),R.encoding=R.encoding||R.cffEncoding,R.glyphs=new Ye.GlyphSet(R);for(var Te=0;Te<R.nGlyphs;Te+=1){var Ce=ne.objects[Te];R.glyphs.push(Te,Ye.cffGlyphLoader(R,Te,yt,Ce))}},make:function(g,Le){for(var R,U=new le.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),Q=1/Le.unitsPerEm,Q={version:Le.version,fullName:Le.fullName,familyName:Le.familyName,weight:Le.weightName,fontBBox:Le.fontBBox||[0,0,0,0],fontMatrix:[Q,0,0,Q,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},ie=[],ne=1;ne<g.length;ne+=1)R=g.get(ne),ie.push(R.name);var ye,Te,Ce=[],Le=(U.header=new le.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),U.nameIndex=function(De){var Oe=new le.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Oe.names=[];for(var Ve=0;Ve<De.length;Ve+=1)Oe.names.push({name:"name_"+Ve,type:"NAME",value:De[Ve]});return Oe}([Le.postScriptName]),mr(Q,Ce)),Ie=(U.topDictIndex=ur(Le),U.globalSubrIndex=new le.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),U.charsets=function(De,Oe){for(var Ve=new le.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Ne=0;Ne<De.length;Ne+=1){var Ue=Pt(De[Ne],Oe);Ve.fields.push({name:"glyph_"+Ne,type:"SID",value:Ue})}return Ve}(ie,Ce),U.charStringsIndex=gr(g),U.privateDict=(Ie={},ye=Ce,(Te=new le.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=cr(ht,Ie,ye),Te),U.stringIndex=function(De){var Oe=new le.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Oe.strings=[];for(var Ve=0;Ve<De.length;Ve+=1)Oe.strings.push({name:"string_"+Ve,type:"STRING",value:De[Ve]});return Oe}(Ce),U.header.sizeOf()+U.nameIndex.sizeOf()+U.topDictIndex.sizeOf()+U.stringIndex.sizeOf()+U.globalSubrIndex.sizeOf());return Q.charset=Ie,Q.encoding=0,Q.charStrings=Q.charset+U.charsets.sizeOf(),Q.private[1]=Q.charStrings+U.charStringsIndex.sizeOf(),Le=mr(Q,Ce),U.topDictIndex=ur(Le),U}},er={parse:function(U,A){var R={},U=new xe.Parser(U,A);return R.version=U.parseVersion(),R.fontRevision=Math.round(1e3*U.parseFixed())/1e3,R.checkSumAdjustment=U.parseULong(),R.magicNumber=U.parseULong(),w.argument(R.magicNumber===1594834165,"Font header has wrong magic number."),R.flags=U.parseUShort(),R.unitsPerEm=U.parseUShort(),R.created=U.parseLongDateTime(),R.modified=U.parseLongDateTime(),R.xMin=U.parseShort(),R.yMin=U.parseShort(),R.xMax=U.parseShort(),R.yMax=U.parseShort(),R.macStyle=U.parseUShort(),R.lowestRecPPEM=U.parseUShort(),R.fontDirectionHint=U.parseShort(),R.indexToLocFormat=U.parseShort(),R.glyphDataFormat=U.parseShort(),R},make:function(g){var A=Math.round(new Date().getTime()/1e3)+2082844800,R=A;return g.createdTimestamp&&(R=g.createdTimestamp+2082844800),new le.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:R},{name:"modified",type:"LONGDATETIME",value:A},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],g)}},Ae={parse:function(U,A){var R={},U=new xe.Parser(U,A);return R.version=U.parseVersion(),R.ascender=U.parseShort(),R.descender=U.parseShort(),R.lineGap=U.parseShort(),R.advanceWidthMax=U.parseUShort(),R.minLeftSideBearing=U.parseShort(),R.minRightSideBearing=U.parseShort(),R.xMaxExtent=U.parseShort(),R.caretSlopeRise=U.parseShort(),R.caretSlopeRun=U.parseShort(),R.caretOffset=U.parseShort(),U.relativeOffset+=8,R.metricDataFormat=U.parseShort(),R.numberOfHMetrics=U.parseUShort(),R},make:function(g){return new le.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],g)}},Xe={parse:function(g,A,R,U,Q){for(var ie,ne,ye=new xe.Parser(g,A),Te=0;Te<U;Te+=1){Te<R&&(ie=ye.parseUShort(),ne=ye.parseShort());var Ce=Q.get(Te);Ce.advanceWidth=ie,Ce.leftSideBearing=ne}},make:function(g){for(var A=new le.Table("hmtx",[]),R=0;R<g.length;R+=1){var Q=g.get(R),U=Q.advanceWidth||0,Q=Q.leftSideBearing||0;A.fields.push({name:"advanceWidth_"+R,type:"USHORT",value:U}),A.fields.push({name:"leftSideBearing_"+R,type:"SHORT",value:Q})}return A}},Ze={make:function(g){for(var A=new le.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:g.length}]),R="",U=12+4*g.length,Q=0;Q<g.length;++Q){var ie=R.indexOf(g[Q]);ie<0&&(ie=R.length,R+=g[Q]),A.fields.push({name:"offset "+Q,type:"USHORT",value:U+ie}),A.fields.push({name:"length "+Q,type:"USHORT",value:g[Q].length})}return A.fields.push({name:"stringPool",type:"CHARARRAY",value:R}),A},parse:function(g,A){for(var R=new xe.Parser(g,A),U=R.parseULong(),Q=(w.argument(U===1,"Unsupported ltag table version."),R.skip("uLong",1),R.parseULong()),ie=[],ne=0;ne<Q;ne++){for(var ye="",Te=A+R.parseUShort(),Ce=R.parseUShort(),Le=Te;Le<Te+Ce;++Le)ye+=String.fromCharCode(g.getInt8(Le));ie.push(ye)}return ie}},We={parse:function(U,A){var R={},U=new xe.Parser(U,A);return R.version=U.parseVersion(),R.numGlyphs=U.parseUShort(),R.version===1&&(R.maxPoints=U.parseUShort(),R.maxContours=U.parseUShort(),R.maxCompositePoints=U.parseUShort(),R.maxCompositeContours=U.parseUShort(),R.maxZones=U.parseUShort(),R.maxTwilightPoints=U.parseUShort(),R.maxStorage=U.parseUShort(),R.maxFunctionDefs=U.parseUShort(),R.maxInstructionDefs=U.parseUShort(),R.maxStackElements=U.parseUShort(),R.maxSizeOfInstructions=U.parseUShort(),R.maxComponentElements=U.parseUShort(),R.maxComponentDepth=U.parseUShort()),R},make:function(g){return new le.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:g}])}},ut=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],ze={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},mt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},$e={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},dt="utf-16",Ke={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},At={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Ft(g,A,R){switch(g){case 0:return dt;case 1:return At[R]||Ke[A];case 3:if(A===1||A===10)return dt}}function Tt(g){var A,R={};for(A in g)R[g[A]]=parseInt(A);return R}function Bt(g,A,R,U,Q,ie){return new le.Record("NameRecord",[{name:"platformID",type:"USHORT",value:g},{name:"encodingID",type:"USHORT",value:A},{name:"languageID",type:"USHORT",value:R},{name:"nameID",type:"USHORT",value:U},{name:"length",type:"USHORT",value:Q},{name:"offset",type:"USHORT",value:ie}])}function tr(g,A){if((R=function(ie,ne){var ye=ie.length,Te=ne.length-ye+1;e:for(var Ce=0;Ce<Te;Ce++)for(;Ce<Te;Ce++){for(var Le=0;Le<ye;Le++)if(ne[Ce+Le]!==ie[Le])continue e;return Ce}return-1}(g,A))<0)for(var R=A.length,U=0,Q=g.length;U<Q;++U)A.push(g[U]);return R}var Yt={parse:function(g,A,R){for(var U={},Q=new xe.Parser(g,A),A=Q.parseUShort(),ie=Q.parseUShort(),ne=Q.offset+Q.parseUShort(),ye=0;ye<ie;ye++){var Ve=Q.parseUShort(),Te=Q.parseUShort(),Ce=Q.parseUShort(),Le=Q.parseUShort(),Le=ut[Le]||Le,Ie=Q.parseUShort(),De=Q.parseUShort(),Oe=function(Ue,Re,Fe){switch(Ue){case 0:if(Re===65535)return"und";if(Fe)return Fe[Re];break;case 1:return ze[Re];case 3:return $e[Re]}}(Ve,Ce,R),Ve=Ft(Ve,Te,Ce);Ve!==void 0&&Oe!==void 0&&(Te=void 0,(Te=Ve===dt?D.UTF16(g,ne+De,Ie):D.MACSTRING(g,ne+De,Ie,Ve))&&((Ce=(Ce=U[Le])===void 0?U[Le]={}:Ce)[Oe]=Te))}return A===1&&Q.parseUShort(),U},make:function(g,A){var R,U=[],Q={},ie=Tt(ut);for(R in g){var ne=ie[R];if(ne===void 0&&(ne=R),De=parseInt(ne),isNaN(De))throw new Error('Name table entry "'+R+'" does not exist, see nameTableNames for complete list.');Q[De]=g[R],U.push(De)}for(var ye=Tt(ze),Te=Tt($e),Ce=[],Le=[],Ie=0;Ie<U.length;Ie++){var De,Oe,Ve=Q[De=U[Ie]];for(Oe in Ve){var Ne=Ve[Oe],ot=1,Ue=ye[Oe],Re=mt[Ue],Fe=Ft(ot,Re,Ue),Fe=H.MACSTRING(Ne,Fe),rt=(Fe===void 0&&(ot=0,(Ue=A.indexOf(Oe))<0&&(Ue=A.length,A.push(Oe)),Re=4,Fe=H.UTF16(Ne)),tr(Fe,Le)),ot=(Ce.push(Bt(ot,Re,Ue,De,Fe.length,rt)),Te[Oe]);ot!==void 0&&(Ue=tr(Re=H.UTF16(Ne),Le),Ce.push(Bt(3,1,ot,De,Re.length,Ue)))}}Ce.sort(function(ct,jt){return ct.platformID-jt.platformID||ct.encodingID-jt.encodingID||ct.languageID-jt.languageID||ct.nameID-jt.nameID});for(var it=new le.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Ce.length},{name:"stringOffset",type:"USHORT",value:6+12*Ce.length}]),st=0;st<Ce.length;st++)it.fields.push({name:"record_"+st,type:"RECORD",value:Ce[st]});return it.fields.push({name:"strings",type:"LITERAL",value:Le}),it}},rr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Ut={parse:function(g,A){var R={},U=new xe.Parser(g,A);R.version=U.parseUShort(),R.xAvgCharWidth=U.parseShort(),R.usWeightClass=U.parseUShort(),R.usWidthClass=U.parseUShort(),R.fsType=U.parseUShort(),R.ySubscriptXSize=U.parseShort(),R.ySubscriptYSize=U.parseShort(),R.ySubscriptXOffset=U.parseShort(),R.ySubscriptYOffset=U.parseShort(),R.ySuperscriptXSize=U.parseShort(),R.ySuperscriptYSize=U.parseShort(),R.ySuperscriptXOffset=U.parseShort(),R.ySuperscriptYOffset=U.parseShort(),R.yStrikeoutSize=U.parseShort(),R.yStrikeoutPosition=U.parseShort(),R.sFamilyClass=U.parseShort(),R.panose=[];for(var Q=0;Q<10;Q++)R.panose[Q]=U.parseByte();return R.ulUnicodeRange1=U.parseULong(),R.ulUnicodeRange2=U.parseULong(),R.ulUnicodeRange3=U.parseULong(),R.ulUnicodeRange4=U.parseULong(),R.achVendID=String.fromCharCode(U.parseByte(),U.parseByte(),U.parseByte(),U.parseByte()),R.fsSelection=U.parseUShort(),R.usFirstCharIndex=U.parseUShort(),R.usLastCharIndex=U.parseUShort(),R.sTypoAscender=U.parseShort(),R.sTypoDescender=U.parseShort(),R.sTypoLineGap=U.parseShort(),R.usWinAscent=U.parseUShort(),R.usWinDescent=U.parseUShort(),1<=R.version&&(R.ulCodePageRange1=U.parseULong(),R.ulCodePageRange2=U.parseULong()),2<=R.version&&(R.sxHeight=U.parseShort(),R.sCapHeight=U.parseShort(),R.usDefaultChar=U.parseUShort(),R.usBreakChar=U.parseUShort(),R.usMaxContent=U.parseUShort()),R},make:function(g){return new le.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],g)},unicodeRanges:rr,getUnicodeRange:function(g){for(var A=0;A<rr.length;A+=1){var R=rr[A];if(g>=R.begin&&g<R.end)return A}return-1}},Qi={parse:function(g,A){var R={},U=new xe.Parser(g,A);switch(R.version=U.parseVersion(),R.italicAngle=U.parseFixed(),R.underlinePosition=U.parseShort(),R.underlineThickness=U.parseShort(),R.isFixedPitch=U.parseULong(),R.minMemType42=U.parseULong(),R.maxMemType42=U.parseULong(),R.minMemType1=U.parseULong(),R.maxMemType1=U.parseULong(),R.version){case 1:R.names=ke.slice();break;case 2:R.numberOfGlyphs=U.parseUShort(),R.glyphNameIndex=new Array(R.numberOfGlyphs);for(var Q=0;Q<R.numberOfGlyphs;Q++)R.glyphNameIndex[Q]=U.parseUShort();R.names=[];for(var ie,ne=0;ne<R.numberOfGlyphs;ne++)R.glyphNameIndex[ne]>=ke.length&&(ie=U.parseChar(),R.names.push(U.parseString(ie)));break;case 2.5:R.numberOfGlyphs=U.parseUShort(),R.offset=new Array(R.numberOfGlyphs);for(var ye=0;ye<R.numberOfGlyphs;ye++)R.offset[ye]=U.parseChar()}return R},make:function(){return new le.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Zt=new Array(9),Cr=(Zt[1]=function(){var g=this.offset+this.relativeOffset,A=this.parseUShort();return A===1?{substFormat:1,coverage:this.parsePointer(me.coverage),deltaGlyphId:this.parseUShort()}:A===2?{substFormat:2,coverage:this.parsePointer(me.coverage),substitute:this.parseOffset16List()}:void w.assert(!1,"0x"+g.toString(16)+": lookup type 1 format must be 1 or 2.")},Zt[2]=function(){var g=this.parseUShort();return w.argument(g===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(me.coverage),sequences:this.parseListOfLists()}},Zt[3]=function(){var g=this.parseUShort();return w.argument(g===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(me.coverage),alternateSets:this.parseListOfLists()}},Zt[4]=function(){var g=this.parseUShort();return w.argument(g===1,"GSUB ligature table identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(me.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:me.uShort,lookupListIndex:me.uShort});Zt[5]=function(){var g,A,R=this.offset+this.relativeOffset,U=this.parseUShort();return U===1?{substFormat:U,coverage:this.parsePointer(me.coverage),ruleSets:this.parseListOfLists(function(){var Q=this.parseUShort(),ie=this.parseUShort();return{input:this.parseUShortList(Q-1),lookupRecords:this.parseRecordList(ie,Cr)}})}:U===2?{substFormat:U,coverage:this.parsePointer(me.coverage),classDef:this.parsePointer(me.classDef),classSets:this.parseListOfLists(function(){var Q=this.parseUShort(),ie=this.parseUShort();return{classes:this.parseUShortList(Q-1),lookupRecords:this.parseRecordList(ie,Cr)}})}:U===3?(g=this.parseUShort(),A=this.parseUShort(),{substFormat:U,coverages:this.parseList(g,me.pointer(me.coverage)),lookupRecords:this.parseRecordList(A,Cr)}):void w.assert(!1,"0x"+R.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Zt[6]=function(){var g=this.offset+this.relativeOffset,A=this.parseUShort();return A===1?{substFormat:1,coverage:this.parsePointer(me.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Cr)}})}:A===2?{substFormat:2,coverage:this.parsePointer(me.coverage),backtrackClassDef:this.parsePointer(me.classDef),inputClassDef:this.parsePointer(me.classDef),lookaheadClassDef:this.parsePointer(me.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Cr)}})}:A===3?{substFormat:3,backtrackCoverage:this.parseList(me.pointer(me.coverage)),inputCoverage:this.parseList(me.pointer(me.coverage)),lookaheadCoverage:this.parseList(me.pointer(me.coverage)),lookupRecords:this.parseRecordList(Cr)}:void w.assert(!1,"0x"+g.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Zt[7]=function(){var g=this.parseUShort(),g=(w.argument(g===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),A=new me(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:g,extension:Zt[g].call(A)}},Zt[8]=function(){var g=this.parseUShort();return w.argument(g===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:g,coverage:this.parsePointer(me.coverage),backtrackCoverage:this.parseList(me.pointer(me.coverage)),lookaheadCoverage:this.parseList(me.pointer(me.coverage)),substitutes:this.parseUShortList()}};var Qr=new Array(9);Qr[1]=function(g){return g.substFormat===1?new le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new le.Coverage(g.coverage)},{name:"deltaGlyphID",type:"USHORT",value:g.deltaGlyphId}]):new le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new le.Coverage(g.coverage)}].concat(le.ushortList("substitute",g.substitute)))},Qr[3]=function(g){return w.assert(g.substFormat===1,"Lookup type 3 substFormat must be 1."),new le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new le.Coverage(g.coverage)}].concat(le.tableList("altSet",g.alternateSets,function(A){return new le.Table("alternateSetTable",le.ushortList("alternate",A))})))},Qr[4]=function(g){return w.assert(g.substFormat===1,"Lookup type 4 substFormat must be 1."),new le.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new le.Coverage(g.coverage)}].concat(le.tableList("ligSet",g.ligatureSets,function(A){return new le.Table("ligatureSetTable",le.tableList("ligature",A,function(R){return new le.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:R.ligGlyph}].concat(le.ushortList("component",R.components,R.components.length+1)))}))})))};var Ji={parse:function(g,A){return A=(g=new me(g,A=A||0)).parseVersion(1),w.argument(A===1||A===1.1,"Unsupported GSUB table version."),A===1?{version:A,scripts:g.parseScriptList(),features:g.parseFeatureList(),lookups:g.parseLookupList(Zt)}:{version:A,scripts:g.parseScriptList(),features:g.parseFeatureList(),lookups:g.parseLookupList(Zt),variations:g.parseFeatureVariationsList()}},make:function(g){return new le.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new le.ScriptList(g.scripts)},{name:"features",type:"TABLE",value:new le.FeatureList(g.features)},{name:"lookups",type:"TABLE",value:new le.LookupList(g.lookups,Qr)}])}},es={parse:function(g,A){for(var R=new xe.Parser(g,A),U=R.parseULong(),Q=(w.argument(U===1,"Unsupported META table version."),R.parseULong(),R.parseULong(),R.parseULong()),ie={},ne=0;ne<Q;ne++){var ye=R.parseTag(),Ce=R.parseULong(),Te=R.parseULong(),Ce=D.UTF8(g,A+Ce,Te);ie[ye]=Ce}return ie},make:function(g){var A,R=Object.keys(g).length,U="",Q=16+12*R,ie=new le.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:Q},{name:"numTags",type:"ULONG",value:R}]);for(A in g){var ne=U.length;U+=g[A],ie.fields.push({name:"tag "+A,type:"TAG",value:A}),ie.fields.push({name:"offset "+A,type:"ULONG",value:Q+ne}),ie.fields.push({name:"length "+A,type:"ULONG",value:g[A].length})}return ie.fields.push({name:"stringPool",type:"CHARARRAY",value:U}),ie}};function ts(g){return Math.log(g)/Math.log(2)|0}function Ti(g){for(;g.length%4!=0;)g.push(0);for(var A=0,R=0;R<g.length;R+=4)A+=(g[R]<<24)+(g[R+1]<<16)+(g[R+2]<<8)+g[R+3];return A%=Math.pow(2,32)}function rs(g,A,R,U){return new le.Record("Table Record",[{name:"tag",type:"TAG",value:g!==void 0?g:""},{name:"checkSum",type:"ULONG",value:A!==void 0?A:0},{name:"offset",type:"ULONG",value:R!==void 0?R:0},{name:"length",type:"ULONG",value:U!==void 0?U:0}])}function is(g){for(var A=new le.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),R=(A.tables=g,A.numTables=g.length,Math.pow(2,ts(A.numTables))),U=(A.searchRange=16*R,A.entrySelector=ts(R),A.rangeShift=16*A.numTables-A.searchRange,[]),Q=[],ie=A.sizeOf()+rs().sizeOf()*A.numTables;ie%4!=0;)ie+=1,Q.push({name:"padding",type:"BYTE",value:0});for(var ne=0;ne<g.length;ne+=1){var ye=g[ne],Te=(w.argument(ye.tableName.length===4,"Table name"+ye.tableName+" is invalid."),ye.sizeOf()),Ce=rs(ye.tableName,Ti(ye.encode()),ie,Te);for(U.push({name:Ce.tag+" Table Record",type:"RECORD",value:Ce}),Q.push({name:ye.tableName+" table",type:"RECORD",value:ye}),ie+=Te,w.argument(!isNaN(ie),"Something went wrong calculating the offset.");ie%4!=0;)ie+=1,Q.push({name:"padding",type:"BYTE",value:0})}return U.sort(function(Le,Ie){return Le.value.tag>Ie.value.tag?1:-1}),A.fields=A.fields.concat(U),A.fields=A.fields.concat(Q),A}function ss(g,A,R){for(var U=0;U<A.length;U+=1){var Q=g.charToGlyphIndex(A[U]);if(0<Q)return g.glyphs.get(Q).getMetrics()}return R}var Dn={make:is,fontToTable:function(g){for(var A,R=[],U=[],Q=[],ie=[],ne=[],ye=[],Te=[],Ce=0,Le=0,Ie=0,De=0,Oe=0,Ve=0;Ve<g.glyphs.length;Ve+=1){var Ne=g.glyphs.get(Ve),Ue=0|Ne.unicode;if(isNaN(Ne.advanceWidth))throw new Error("Glyph "+Ne.name+" ("+Ve+"): advanceWidth is not a number.");(Ue<A||A===void 0)&&0<Ue&&(A=Ue),Ce<Ue&&(Ce=Ue);var Ue=Ut.getUnicodeRange(Ue);if(Ue<32)Le|=1<<Ue;else if(Ue<64)Ie|=1<<Ue-32;else if(Ue<96)De|=1<<Ue-64;else{if(!(Ue<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Oe|=1<<Ue-96}Ne.name!==".notdef"&&(Ue=Ne.getMetrics(),R.push(Ue.xMin),U.push(Ue.yMin),Q.push(Ue.xMax),ie.push(Ue.yMax),ye.push(Ue.leftSideBearing),Te.push(Ue.rightSideBearing),ne.push(Ne.advanceWidth))}var Re,Fe={xMin:Math.min.apply(null,R),yMin:Math.min.apply(null,U),xMax:Math.max.apply(null,Q),yMax:Math.max.apply(null,ie),advanceWidthMax:Math.max.apply(null,ne),advanceWidthAvg:function(Gt){for(var Ur=0,Er=0;Er<Gt.length;Er+=1)Ur+=Gt[Er];return Ur/Gt.length}(ne),minLeftSideBearing:Math.min.apply(null,ye),maxLeftSideBearing:Math.max.apply(null,ye),minRightSideBearing:Math.min.apply(null,Te)},rt=(Fe.ascender=g.ascender,Fe.descender=g.descender,er.make({flags:3,unitsPerEm:g.unitsPerEm,xMin:Fe.xMin,yMin:Fe.yMin,xMax:Fe.xMax,yMax:Fe.yMax,lowestRecPPEM:3,createdTimestamp:g.createdTimestamp})),ot=Ae.make({ascender:Fe.ascender,descender:Fe.descender,advanceWidthMax:Fe.advanceWidthMax,minLeftSideBearing:Fe.minLeftSideBearing,minRightSideBearing:Fe.minRightSideBearing,xMaxExtent:Fe.maxLeftSideBearing+(Fe.xMax-Fe.xMin),numberOfHMetrics:g.glyphs.length}),it=We.make(g.glyphs.length),st=Ut.make({xAvgCharWidth:Math.round(Fe.advanceWidthAvg),usWeightClass:g.tables.os2.usWeightClass,usWidthClass:g.tables.os2.usWidthClass,usFirstCharIndex:A,usLastCharIndex:Ce,ulUnicodeRange1:Le,ulUnicodeRange2:Ie,ulUnicodeRange3:De,ulUnicodeRange4:Oe,fsSelection:g.tables.os2.fsSelection,sTypoAscender:Fe.ascender,sTypoDescender:Fe.descender,sTypoLineGap:0,usWinAscent:Fe.yMax,usWinDescent:Math.abs(Fe.yMin),ulCodePageRange1:1,sxHeight:ss(g,"xyvw",{yMax:Math.round(Fe.ascender/2)}).yMax,sCapHeight:ss(g,"HIKLEFJMNTZBDPRAGOQSUVWXY",Fe).yMax,usDefaultChar:g.hasChar(" ")?32:0,usBreakChar:g.hasChar(" ")?32:0}),ct=Xe.make(g.glyphs),jt=oe.make(g.glyphs),St=g.getEnglishName("fontFamily"),vt=g.getEnglishName("fontSubfamily"),_t=St+" "+vt,kt=(kt=g.getEnglishName("postScriptName"))||St.replace(/\s/g,"")+"-"+vt,Dt={};for(Re in g.names)Dt[Re]=g.names[Re];Dt.uniqueID||(Dt.uniqueID={en:g.getEnglishName("manufacturer")+":"+_t}),Dt.postScriptName||(Dt.postScriptName={en:kt}),Dt.preferredFamily||(Dt.preferredFamily=g.names.fontFamily),Dt.preferredSubfamily||(Dt.preferredSubfamily=g.names.fontSubfamily);var Wt=[],Ht=Yt.make(Dt,Wt),Wt=0<Wt.length?Ze.make(Wt):void 0,Kt=Qi.make(),_t=yr.make(g.glyphs,{version:g.getEnglishName("version"),fullName:_t,familyName:St,weightName:vt,postScriptName:kt,unitsPerEm:g.unitsPerEm,fontBBox:[0,Fe.yMin,Fe.ascender,Fe.advanceWidthMax]}),St=g.metas&&0<Object.keys(g.metas).length?es.make(g.metas):void 0,vt=[rt,ot,it,st,Ht,jt,Kt,_t,ct];Wt&&vt.push(Wt),g.tables.gsub&&vt.push(Ji.make(g.tables.gsub)),St&&vt.push(St);for(var Xt=Ti((kt=is(vt)).encode()),Ct=kt.fields,zt=!1,Mt=0;Mt<Ct.length;Mt+=1)if(Ct[Mt].name==="head table"){Ct[Mt].value.checkSumAdjustment=2981146554-Xt,zt=!0;break}if(zt)return kt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Ti};function ki(g,A){for(var R=0,U=g.length-1;R<=U;){var Q=R+U>>>1,ie=g[Q].tag;if(ie===A)return Q;ie<A?R=1+Q:U=Q-1}return-R-1}function ns(g,A){for(var R=0,U=g.length-1;R<=U;){var Q=R+U>>>1,ie=g[Q];if(ie===A)return Q;ie<A?R=1+Q:U=Q-1}return-R-1}function os(g,A){for(var R=0,U=g.length-1;R<=U;){var Q,ie=R+U>>>1,ne=(Q=g[ie]).start;if(ne===A)return Q;ne<A?R=1+ie:U=ie-1}if(0<R)return A>(Q=g[R-1]).end?0:Q}function Jr(g,A){this.font=g,this.tableName=A}function ei(g){Jr.call(this,g,"gpos")}function ir(g){Jr.call(this,g,"gsub")}function as(g,A,R){for(var U=g.subtables,Q=0;Q<U.length;Q++){var ie=U[Q];if(ie.substFormat===A)return ie}if(R)return U.push(R),R}function ls(g){for(var A=new ArrayBuffer(g.length),R=new Uint8Array(A),U=0;U<g.length;++U)R[U]=g[U];return A}function Tr(g,A){if(!g)throw A}function cs(g,A,R,U,Q){var ie=0<(A&U)?(ie=g.parseByte(),R+(ie=A&Q?ie:-ie)):0<(A&Q)?R:R+g.parseShort();return ie}function In(g,A,R){var U,Q=new xe.Parser(A,R);if(g.numberOfContours=Q.parseShort(),g._xMin=Q.parseShort(),g._yMin=Q.parseShort(),g._xMax=Q.parseShort(),g._yMax=Q.parseShort(),0<g.numberOfContours){for(var ie=g.endPointIndices=[],ne=0;ne<g.numberOfContours;ne+=1)ie.push(Q.parseUShort());g.instructionLength=Q.parseUShort(),g.instructions=[];for(var ye=0;ye<g.instructionLength;ye+=1)g.instructions.push(Q.parseByte());for(var Te=ie[ie.length-1]+1,Ce=[],Le=0;Le<Te;Le+=1)if(U=Q.parseByte(),Ce.push(U),0<(8&U))for(var Ie=Q.parseByte(),De=0;De<Ie;De+=1)Ce.push(U),Le+=1;if(w.argument(Ce.length===Te,"Bad flags."),0<ie.length){var Oe,Ve=[];if(0<Te){for(var Ne=0;Ne<Te;Ne+=1)U=Ce[Ne],(Oe={}).onCurve=!!(1&U),Oe.lastPointOfContour=0<=ie.indexOf(Ne),Ve.push(Oe);for(var Ue=0,Re=0;Re<Te;Re+=1)U=Ce[Re],(Oe=Ve[Re]).x=cs(Q,U,Ue,2,16),Ue=Oe.x;for(var Fe=0,rt=0;rt<Te;rt+=1)U=Ce[rt],(Oe=Ve[rt]).y=cs(Q,U,Fe,4,32),Fe=Oe.y}g.points=Ve}else g.points=[]}else if(g.numberOfContours===0)g.points=[];else{g.isComposite=!0,g.points=[],g.components=[];for(var ot=!0;ot;){Ce=Q.parseUShort();var it={glyphIndex:Q.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Ce)?0<(2&Ce)?(it.dx=Q.parseShort(),it.dy=Q.parseShort()):it.matchedPoints=[Q.parseUShort(),Q.parseUShort()]:0<(2&Ce)?(it.dx=Q.parseChar(),it.dy=Q.parseChar()):it.matchedPoints=[Q.parseByte(),Q.parseByte()],0<(8&Ce)?it.xScale=it.yScale=Q.parseF2Dot14():0<(64&Ce)?(it.xScale=Q.parseF2Dot14(),it.yScale=Q.parseF2Dot14()):0<(128&Ce)&&(it.xScale=Q.parseF2Dot14(),it.scale01=Q.parseF2Dot14(),it.scale10=Q.parseF2Dot14(),it.yScale=Q.parseF2Dot14()),g.components.push(it),ot=!!(32&Ce)}if(256&Ce){g.instructionLength=Q.parseUShort(),g.instructions=[];for(var st=0;st<g.instructionLength;st+=1)g.instructions.push(Q.parseByte())}}}function Ei(g,A){for(var R=[],U=0;U<g.length;U+=1){var Q=g[U],Q={x:A.xScale*Q.x+A.scale01*Q.y+A.dx,y:A.scale10*Q.x+A.yScale*Q.y+A.dy,onCurve:Q.onCurve,lastPointOfContour:Q.lastPointOfContour};R.push(Q)}return R}function us(g){var A=new K;if(g)for(var R=function(Ie){for(var De=[],Oe=[],Ve=0;Ve<Ie.length;Ve+=1){var Ne=Ie[Ve];Oe.push(Ne),Ne.lastPointOfContour&&(De.push(Oe),Oe=[])}return w.argument(Oe.length===0,"There are still points left in the current contour."),De}(g),U=0;U<R.length;++U){var Q,ie=R[U],ne=ie[ie.length-1],ye=ie[0];ne.onCurve?A.moveTo(ne.x,ne.y):ye.onCurve?A.moveTo(ye.x,ye.y):(Q={x:.5*(ne.x+ye.x),y:.5*(ne.y+ye.y)},A.moveTo(Q.x,Q.y));for(var Te=0;Te<ie.length;++Te){var Ce,Le=ne,ne=ye,ye=ie[(Te+1)%ie.length];ne.onCurve?A.lineTo(ne.x,ne.y):(Ce=ye,Le.onCurve||(ne.x,Le.x,ne.y,Le.y),ye.onCurve||(Ce={x:.5*(ne.x+ye.x),y:.5*(ne.y+ye.y)}),A.quadraticCurveTo(ne.x,ne.y,Ce.x,Ce.y))}A.closePath()}return A}function Rn(g,A){if(A.isComposite)for(var R=0;R<A.components.length;R+=1){var U=A.components[R],Q=g.get(U.glyphIndex);if(Q.getPath(),Q.points){var ie=void 0;if(U.matchedPoints===void 0)ie=Ei(Q.points,U);else{if(U.matchedPoints[0]>A.points.length-1||U.matchedPoints[1]>Q.points.length-1)throw Error("Matched points out of range in "+A.name);var ne=A.points[U.matchedPoints[0]],ye=Q.points[U.matchedPoints[1]],U={xScale:U.xScale,scale01:U.scale01,scale10:U.scale10,yScale:U.yScale,dx:0,dy:0},ye=Ei([ye],U)[0];U.dx=ne.x-ye.x,U.dy=ne.y-ye.y,ie=Ei(Q.points,U)}A.points=A.points.concat(ie)}}return us(A.points)}(ei.prototype=Jr.prototype={searchTag:ki,binSearch:ns,getTable:function(g){var A=this.font.tables[this.tableName];return A=!A&&g?this.font.tables[this.tableName]=this.createDefaultTable():A},getScriptNames:function(){var g=this.getTable();return g?g.scripts.map(function(A){return A.tag}):[]},getDefaultScriptName:function(){var g=this.getTable();if(g){for(var A=!1,R=0;R<g.scripts.length;R++){var U=g.scripts[R].tag;if(U==="DFLT")return U;U==="latn"&&(A=!0)}return A?"latn":void 0}},getScriptTable:function(g,A){var R,U=this.getTable(A);if(U)return R=U.scripts,0<=(U=ki(U.scripts,g=g||"DFLT"))?R[U].script:A?(R.splice(-1-U,0,A={tag:g,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),A.script):void 0},getLangSysTable:function(Q,A,R){var U,Q=this.getScriptTable(Q,R);if(Q)return A&&A!=="dflt"&&A!=="DFLT"?0<=(U=ki(Q.langSysRecords,A))?Q.langSysRecords[U].langSys:R?(Q.langSysRecords.splice(-1-U,0,R={tag:A,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),R.langSys):void 0:Q.defaultLangSys},getFeatureTable:function(g,A,R,U){if(g=this.getLangSysTable(g,A,U),g){for(var Q,ie=g.featureIndexes,ne=this.font.tables[this.tableName].features,ye=0;ye<ie.length;ye++)if((Q=ne[ie[ye]]).tag===R)return Q.feature;if(U)return A=ne.length,w.assert(A===0||R>=ne[A-1].tag,"Features must be added in alphabetical order."),ne.push(Q={tag:R,feature:{params:0,lookupListIndexes:[]}}),ie.push(A),Q.feature}},getLookupTables:function(ie,A,R,U,Q){var ie=this.getFeatureTable(ie,A,R,Q),ne=[];if(ie){for(var ye,Te=ie.lookupListIndexes,Ce=this.font.tables[this.tableName].lookups,Le=0;Le<Te.length;Le++)(ye=Ce[Te[Le]]).lookupType===U&&ne.push(ye);if(ne.length===0&&Q)return A=Ce.length,Ce.push(ye={lookupType:U,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Te.push(A),[ye]}return ne},getGlyphClass:function(g,A){switch(g.format){case 1:return g.startGlyph<=A&&A<g.startGlyph+g.classes.length?g.classes[A-g.startGlyph]:0;case 2:var R=os(g.ranges,A);return R?R.classId:0}},getCoverageIndex:function(g,A){switch(g.format){case 1:var R=ns(g.glyphs,A);return 0<=R?R:-1;case 2:return R=os(g.ranges,A),R?R.index+A-R.start:-1}},expandCoverage:function(g){if(g.format===1)return g.glyphs;for(var A=[],R=g.ranges,U=0;U<R.length;U++)for(var Q=R[U],ie=Q.start,ne=Q.end,ye=ie;ye<=ne;ye++)A.push(ye);return A}}).init=function(){var g=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(g)},ei.prototype.getKerningValue=function(g,A,R){for(var U=0;U<g.length;U++)for(var Q=g[U].subtables,ie=0;ie<Q.length;ie++){var ne=Q[ie],ye=this.getCoverageIndex(ne.coverage,A);if(!(ye<0))switch(ne.posFormat){case 1:for(var Te=ne.pairSets[ye],Ce=0;Ce<Te.length;Ce++){var Le=Te[Ce];if(Le.secondGlyph===R)return Le.value1&&Le.value1.xAdvance||0}break;case 2:var De=this.getGlyphClass(ne.classDef1,A),Ie=this.getGlyphClass(ne.classDef2,R),De=ne.classRecords[De][Ie];return De.value1&&De.value1.xAdvance||0}}return 0},ei.prototype.getKerningTables=function(g,A){if(this.font.tables.gpos)return this.getLookupTables(g,A,"kern",2)},(ir.prototype=Jr.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ir.prototype.getSingle=function(g,A,R){for(var U=[],Q=this.getLookupTables(A,R,g,1),ie=0;ie<Q.length;ie++)for(var ne=Q[ie].subtables,ye=0;ye<ne.length;ye++){var Te=ne[ye],Ce=this.expandCoverage(Te.coverage),Le=void 0;if(Te.substFormat===1)for(var Ie=Te.deltaGlyphId,Le=0;Le<Ce.length;Le++){var De=Ce[Le];U.push({sub:De,by:De+Ie})}else{var Oe=Te.substitute;for(Le=0;Le<Ce.length;Le++)U.push({sub:Ce[Le],by:Oe[Le]})}}return U},ir.prototype.getAlternates=function(g,A,R){for(var U=[],Q=this.getLookupTables(A,R,g,3),ie=0;ie<Q.length;ie++)for(var ne=Q[ie].subtables,ye=0;ye<ne.length;ye++)for(var Te=ne[ye],Ce=this.expandCoverage(Te.coverage),Le=Te.alternateSets,Ie=0;Ie<Ce.length;Ie++)U.push({sub:Ce[Ie],by:Le[Ie]});return U},ir.prototype.getLigatures=function(g,A,R){for(var U=[],Q=this.getLookupTables(A,R,g,4),ie=0;ie<Q.length;ie++)for(var ne=Q[ie].subtables,ye=0;ye<ne.length;ye++)for(var Te=ne[ye],Ce=this.expandCoverage(Te.coverage),Le=Te.ligatureSets,Ie=0;Ie<Ce.length;Ie++)for(var De=Ce[Ie],Oe=Le[Ie],Ve=0;Ve<Oe.length;Ve++){var Ne=Oe[Ve];U.push({sub:[De].concat(Ne.components),by:Ne.ligGlyph})}return U},ir.prototype.addSingle=function(g,A,R,U){R=as(this.getLookupTables(R,U,g,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),w.assert(R.coverage.format===1,"Ligature: unable to modify coverage table format "+R.coverage.format),U=A.sub,g=this.binSearch(R.coverage.glyphs,U),g<0&&(R.coverage.glyphs.splice(g=-1-g,0,U),R.substitute.splice(g,0,0)),R.substitute[g]=A.by},ir.prototype.addAlternate=function(g,A,R,U){R=as(this.getLookupTables(R,U,g,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),w.assert(R.coverage.format===1,"Ligature: unable to modify coverage table format "+R.coverage.format),U=A.sub,g=this.binSearch(R.coverage.glyphs,U),g<0&&(R.coverage.glyphs.splice(g=-1-g,0,U),R.alternateSets.splice(g,0,0)),R.alternateSets[g]=A.by},ir.prototype.addLigature=function(ie,Te,ye,Q){var ye=this.getLookupTables(ye,Q,ie,4,!0)[0],Q=ye.subtables[0],ie=(Q||(ye.subtables[0]=Q={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),w.assert(Q.coverage.format===1,"Ligature: unable to modify coverage table format "+Q.coverage.format),Te.sub[0]),ne=Te.sub.slice(1),ye={ligGlyph:Te.by,components:ne},Te=this.binSearch(Q.coverage.glyphs,ie);if(0<=Te){for(var Ce=Q.ligatureSets[Te],Le=0;Le<Ce.length;Le++)if(function(Ie,De){var Oe=Ie.length;if(Oe===De.length){for(var Ve=0;Ve<Oe;Ve++)if(Ie[Ve]!==De[Ve])return;return 1}}(Ce[Le].components,ne))return;Ce.push(ye)}else Q.coverage.glyphs.splice(Te=-1-Te,0,ie),Q.ligatureSets.splice(Te,0,[ye])},ir.prototype.getFeature=function(g,A,R){if(/ss\d\d/.test(g))return this.getSingle(g,A,R);switch(g){case"aalt":case"salt":return this.getSingle(g,A,R).concat(this.getAlternates(g,A,R));case"dlig":case"liga":case"rlig":return this.getLigatures(g,A,R)}},ir.prototype.add=function(g,A,R,U){if(/ss\d\d/.test(g))return this.addSingle(g,A,R,U);switch(g){case"aalt":case"salt":return typeof A.by=="number"?this.addSingle(g,A,R,U):this.addAlternate(g,A,R,U);case"dlig":case"liga":case"rlig":return this.addLigature(g,A,R,U)}};var hs={getPath:us,parse:function(g,A,R,U){for(var Q=new Ye.GlyphSet(U),ie=0;ie<R.length-1;ie+=1){var ne=R[ie];ne!==R[ie+1]?Q.push(ie,Ye.ttfGlyphLoader(U,ie,In,g,A+ne,Rn)):Q.push(ie,Ye.glyphLoader(U,ie))}return Q}};function ds(g){this.font=g,this.getCommands=function(A){return hs.getPath(A).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Fn(g){return g}function fs(g){return Math.sign(g)*Math.round(Math.abs(g))}function Nn(g){return Math.sign(g)*Math.round(Math.abs(2*g))/2}function Bn(g){return Math.sign(g)*(Math.round(Math.abs(g)+.5)-.5)}function Un(g){return Math.sign(g)*Math.ceil(Math.abs(g))}function Gn(g){return Math.sign(g)*Math.floor(Math.abs(g))}function ps(g){var A=this.srPeriod,R=this.srPhase,U=1;return g<0&&(g=-g,U=-1),g+=this.srThreshold-R,g=Math.trunc(g/A)*A,(g+=R)<0?R*U:g*U}var sr={x:1,y:0,axis:"x",distance:function(g,A,R,U){return(R?g.xo:g.x)-(U?A.xo:A.x)},interpolate:function(g,A,R,U){var Q,ie,ne,ye,Te,Ce,Le;if(!U||U===this)return Q=g.xo-A.xo,ie=g.xo-R.xo,Te=A.x-A.xo,Ce=R.x-R.xo,(Le=(ne=Math.abs(Q))+(ye=Math.abs(ie)))===0?void(g.x=g.xo+(Te+Ce)/2):void(g.x=g.xo+(Te*ye+Ce*ne)/Le);Q=U.distance(g,A,!0,!0),ie=U.distance(g,R,!0,!0),Te=U.distance(A,A,!1,!0),Ce=U.distance(R,R,!1,!0),(Le=(ne=Math.abs(Q))+(ye=Math.abs(ie)))===0?sr.setRelative(g,g,(Te+Ce)/2,U,!0):sr.setRelative(g,g,(Te*ye+Ce*ne)/Le,U,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(g,A,R,U,Q){var ie,ne;U&&U!==this?(ie=Q?A.xo:A.x,ne=Q?A.yo:A.y,ie+=R*U.x,ne+=R*U.y,g.x=ie+(g.y-ne)/U.normalSlope):g.x=(Q?A.xo:A.x)+R},slope:0,touch:function(g){g.xTouched=!0},touched:function(g){return g.xTouched},untouch:function(g){g.xTouched=!1}},hr={x:0,y:1,axis:"y",distance:function(g,A,R,U){return(R?g.yo:g.y)-(U?A.yo:A.y)},interpolate:function(g,A,R,U){var Q,ie,ne,ye,Te,Ce,Le;if(!U||U===this)return Q=g.yo-A.yo,ie=g.yo-R.yo,Te=A.y-A.yo,Ce=R.y-R.yo,(Le=(ne=Math.abs(Q))+(ye=Math.abs(ie)))===0?void(g.y=g.yo+(Te+Ce)/2):void(g.y=g.yo+(Te*ye+Ce*ne)/Le);Q=U.distance(g,A,!0,!0),ie=U.distance(g,R,!0,!0),Te=U.distance(A,A,!1,!0),Ce=U.distance(R,R,!1,!0),(Le=(ne=Math.abs(Q))+(ye=Math.abs(ie)))===0?hr.setRelative(g,g,(Te+Ce)/2,U,!0):hr.setRelative(g,g,(Te*ye+Ce*ne)/Le,U,!0)},normalSlope:0,setRelative:function(g,A,R,U,Q){var ie,ne;U&&U!==this?(ie=Q?A.xo:A.x,ne=Q?A.yo:A.y,ie+=R*U.x,ne+=R*U.y,g.y=ne+U.normalSlope*(g.x-ie)):g.y=(Q?A.yo:A.y)+R},slope:Number.POSITIVE_INFINITY,touch:function(g){g.yTouched=!0},touched:function(g){return g.yTouched},untouch:function(g){g.yTouched=!1}};function Fr(g,A){this.x=g,this.y=A,this.axis=void 0,this.slope=A/g,this.normalSlope=-g/A,Object.freeze(this)}function Nr(g,A){var R=Math.sqrt(g*g+A*A);return A/=R,(g/=R)===1&&A===0?sr:g===0&&A===1?hr:new Fr(g,A)}function dr(g,A,R,U){this.x=this.xo=Math.round(64*g)/64,this.y=this.yo=Math.round(64*A)/64,this.lastPointOfContour=R,this.onCurve=U,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(sr),Object.freeze(hr),Fr.prototype.distance=function(g,A,R,U){return this.x*sr.distance(g,A,R,U)+this.y*hr.distance(g,A,R,U)},Fr.prototype.interpolate=function(g,Q,ie,U){var ne=U.distance(g,Q,!0,!0),ye=U.distance(g,ie,!0,!0),Q=U.distance(Q,Q,!1,!0),ie=U.distance(ie,ie,!1,!0),ne=Math.abs(ne),ye=Math.abs(ye),Te=ne+ye;Te===0?this.setRelative(g,g,(Q+ie)/2,U,!0):this.setRelative(g,g,(Q*ye+ie*ne)/Te,U,!0)},Fr.prototype.setRelative=function(g,ie,Te,Ce,ye){var ne=ye?ie.xo:ie.x,ye=ye?ie.yo:ie.y,ie=ne+Te*(Ce=Ce||this).x,ne=ye+Te*Ce.y,ye=Ce.normalSlope,Te=this.slope,Ce=g.x,Le=g.y;g.x=(Te*Ce-ye*ie+ne-Le)/(Te-ye),g.y=Te*(g.x-Ce)+Le},Fr.prototype.touch=function(g){g.xTouched=!0,g.yTouched=!0},dr.prototype.nextTouched=function(g){for(var A=this.nextPointOnContour;!g.touched(A)&&A!==this;)A=A.nextPointOnContour;return A},dr.prototype.prevTouched=function(g){for(var A=this.prevPointOnContour;!g.touched(A)&&A!==this;)A=A.prevPointOnContour;return A};var Br=Object.freeze(new dr(0,0)),Vn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function vr(g,A){switch(this.env=g,this.stack=[],this.prog=A,g){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=sr,this.round=fs}}function ti(g){for(var A=g.tZone=new Array(g.gZone.length),R=0;R<A.length;R++)A[R]=new dr(0,0)}function ms(g,A){var R,U=g.prog,Q=g.ip,ie=1;do if((R=U[++Q])===88)ie++;else if(R===89)ie--;else if(R===64)Q+=U[Q+1]+1;else if(R===65)Q+=2*U[Q+1]+1;else if(176<=R&&R<=183)Q+=R-176+1;else if(184<=R&&R<=191)Q+=2*(R-184+1);else if(A&&ie===1&&R===27)break;while(0<ie);g.ip=Q}function gs(g,A){d.DEBUG&&console.log(A.step,"SVTCA["+g.axis+"]"),A.fv=A.pv=A.dpv=g}function ys(g,A){d.DEBUG&&console.log(A.step,"SPVTCA["+g.axis+"]"),A.pv=A.dpv=g}function vs(g,A){d.DEBUG&&console.log(A.step,"SFVTCA["+g.axis+"]"),A.fv=g}function bs(g,A){var R,Q=A.stack,U=Q.pop(),Q=Q.pop(),ie=A.z2[U],ne=A.z1[Q];d.DEBUG&&console.log("SPVTL["+g+"]",U,Q),U=g?(R=ie.y-ne.y,ne.x-ie.x):(R=ne.x-ie.x,ne.y-ie.y),A.pv=A.dpv=Nr(R,U)}function xs(g,A){var R,Q=A.stack,U=Q.pop(),Q=Q.pop(),ie=A.z2[U],ne=A.z1[Q];d.DEBUG&&console.log("SFVTL["+g+"]",U,Q),U=g?(R=ie.y-ne.y,ne.x-ie.x):(R=ne.x-ie.x,ne.y-ie.y),A.fv=Nr(R,U)}function Ai(g){d.DEBUG&&console.log(g.step,"POP[]"),g.stack.pop()}function ws(g,A){var R=A.stack.pop(),U=A.z0[R],Q=A.fv,ie=A.pv,ne=(d.DEBUG&&console.log(A.step,"MDAP["+g+"]",R),ie.distance(U,Br));g&&(ne=A.round(ne)),Q.setRelative(U,Br,ne,ie),Q.touch(U),A.rp0=A.rp1=R}function _s(g,A){var R,U,Q,ie=A.z2,ne=ie.length-2;d.DEBUG&&console.log(A.step,"IUP["+g.axis+"]");for(var ye=0;ye<ne;ye++)R=ie[ye],g.touched(R)||(U=R.prevTouched(g))!==R&&(U===(Q=R.nextTouched(g))&&g.setRelative(R,R,g.distance(U,U,!1,!0),g,!0),g.interpolate(R,U,Q,g))}function js(g,A){for(var R=A.stack,U=g?A.rp1:A.rp2,Q=(g?A.z0:A.z1)[U],ie=A.fv,ne=A.pv,ye=A.loop,Te=A.z2;ye--;){var Ce=R.pop(),Le=Te[Ce],Ie=ne.distance(Q,Q,!1,!0);ie.setRelative(Le,Le,Ie,ne),ie.touch(Le),d.DEBUG&&console.log(A.step,(1<A.loop?"loop "+(A.loop-ye)+": ":"")+"SHP["+(g?"rp1":"rp2")+"]",Ce)}A.loop=1}function Ss(g,A){for(var R=A.stack,ne=g?A.rp1:A.rp2,U=(g?A.z0:A.z1)[ne],Q=A.fv,ie=A.pv,ne=R.pop(),ye=A.z2[A.contours[ne]],Te=ye,Ce=(d.DEBUG&&console.log(A.step,"SHC["+g+"]",ne),ie.distance(U,U,!1,!0));Te!==U&&Q.setRelative(Te,Te,Ce,ie),(Te=Te.nextPointOnContour)!==ye;);}function Ms(g,A){var R,U,ye=A.stack,Q=g?A.rp1:A.rp2,Q=(g?A.z0:A.z1)[Q],ie=A.fv,ne=A.pv,ye=ye.pop();switch(d.DEBUG&&console.log(A.step,"SHZ["+g+"]",ye),ye){case 0:R=A.tZone;break;case 1:R=A.gZone;break;default:throw new Error("Invalid zone")}for(var Te=ne.distance(Q,Q,!1,!0),Ce=R.length-2,Le=0;Le<Ce;Le++)U=R[Le],ie.setRelative(U,U,Te,ne)}function Cs(g,A){var U=A.stack,R=U.pop()/64,U=U.pop(),Q=A.z1[U],ie=A.z0[A.rp0],ne=A.fv,ye=A.pv;ne.setRelative(Q,ie,R,ye),ne.touch(Q),d.DEBUG&&console.log(A.step,"MSIRP["+g+"]",R,U),A.rp1=A.rp0,A.rp2=U,g&&(A.rp0=U)}function Ts(g,A){var R=A.stack,ye=R.pop(),R=R.pop(),U=A.z0[R],Q=A.fv,ie=A.pv,ne=A.cvt[ye],ye=(d.DEBUG&&console.log(A.step,"MIAP["+g+"]",ye,"(",ne,")",R),ie.distance(U,Br));g&&(Math.abs(ye-ne)<A.cvCutIn&&(ye=ne),ye=A.round(ye)),Q.setRelative(U,Br,ye,ie),A.zp0===0&&(U.xo=U.x,U.yo=U.y),Q.touch(U),A.rp0=A.rp1=R}function ks(g,A){var R=A.stack,U=R.pop(),Q=A.z2[U];d.DEBUG&&console.log(A.step,"GC["+g+"]",U),R.push(64*A.dpv.distance(Q,Br,g,!1))}function Es(g,A){var U=A.stack,R=U.pop(),U=U.pop(),Q=A.z1[R],ie=A.z0[U],ie=A.dpv.distance(ie,Q,g,g);d.DEBUG&&console.log(A.step,"MD["+g+"]",R,U,"->",ie),A.stack.push(Math.round(64*ie))}function Oi(g,A){var R=A.stack,U=R.pop(),Q=A.fv,ie=A.pv,ne=A.ppem,ye=A.deltaBase+16*(g-1),Te=A.deltaShift,Ce=A.z0;d.DEBUG&&console.log(A.step,"DELTAP["+g+"]",U,R);for(var Le=0;Le<U;Le++){var Ie=R.pop(),De=R.pop();ye+((240&De)>>4)===ne&&(0<=(De=(15&De)-8)&&De++,d.DEBUG&&console.log(A.step,"DELTAPFIX",Ie,"by",De*Te),Ie=Ce[Ie],Q.setRelative(Ie,Ie,De*Te,ie))}}function ri(g,A){var R=A.stack,U=R.pop();d.DEBUG&&console.log(A.step,"ROUND[]"),R.push(64*A.round(U/64))}function Pi(g,A){var R=A.stack,U=R.pop(),Q=A.ppem,ie=A.deltaBase+16*(g-1),ne=A.deltaShift;d.DEBUG&&console.log(A.step,"DELTAC["+g+"]",U,R);for(var ye=0;ye<U;ye++){var Te=R.pop(),Ce=R.pop();ie+((240&Ce)>>4)===Q&&(0<=(Ce=(15&Ce)-8)&&Ce++,Ce=Ce*ne,d.DEBUG&&console.log(A.step,"DELTACFIX",Te,"by",Ce),A.cvt[Te]+=Ce)}}function As(g,A){var R,Q=A.stack,U=Q.pop(),Q=Q.pop(),ie=A.z2[U],ne=A.z1[Q];d.DEBUG&&console.log(A.step,"SDPVTL["+g+"]",U,Q),U=g?(R=ie.y-ne.y,ne.x-ie.x):(R=ne.x-ie.x,ne.y-ie.y),A.dpv=Nr(R,U)}function br(g,A){var R=A.stack,U=A.prog,Q=A.ip;d.DEBUG&&console.log(A.step,"PUSHB["+g+"]");for(var ie=0;ie<g;ie++)R.push(U[++Q]);A.ip=Q}function xr(g,A){var R=A.ip,U=A.prog,Q=A.stack;d.DEBUG&&console.log(A.ip,"PUSHW["+g+"]");for(var ie=0;ie<g;ie++){var ne=U[++R]<<8|U[++R];32768&ne&&(ne=-(1+(65535^ne))),Q.push(ne)}A.ip=R}function tt(g,A,R,U,Q,ie){var ne,ye,Ce=ie.stack,Te=g&&Ce.pop(),Ce=Ce.pop(),Le=ie.rp0,Le=ie.z0[Le],Ie=ie.z1[Ce],De=ie.minDis,Oe=ie.fv,Ve=ie.dpv,Ne=ne=Ve.distance(Ie,Le,!0,!0),Ue=0<=Ne?1:-1;Ne=Math.abs(Ne),g&&(ye=ie.cvt[Te],U&&Math.abs(Ne-ye)<ie.cvCutIn&&(Ne=ye)),R&&Ne<De&&(Ne=De),U&&(Ne=ie.round(Ne)),Oe.setRelative(Ie,Le,Ue*Ne,Ve),Oe.touch(Ie),d.DEBUG&&console.log(ie.step,(g?"MIRP[":"MDRP[")+(A?"M":"m")+(R?">":"_")+(U?"R":"_")+(Q===0?"Gr":Q===1?"Bl":Q===2?"Wh":"")+"]",g?Te+"("+ie.cvt[Te]+","+ye+")":"",Ce,"(d =",ne,"->",Ue*Ne,")"),ie.rp1=ie.rp0,ie.rp2=Ce,A&&(ie.rp0=Ce)}ds.prototype.exec=function(g,A){if(typeof A!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var R=this.font,U=this._prepState;if(!U||U.ppem!==A){var Q=this._fpgmState;if(!Q){vr.prototype=Vn,(Q=this._fpgmState=new vr("fpgm",R.tables.fpgm)).funcs=[],Q.font=R,d.DEBUG&&(console.log("---EXEC FPGM---"),Q.step=-1);try{kr(Q)}catch(Ce){return console.log("Hinting error in FPGM:"+Ce),void(this._errorState=3)}}vr.prototype=Q,(U=this._prepState=new vr("prep",R.tables.prep)).ppem=A;var ie=R.tables.cvt;if(ie)for(var ne=U.cvt=new Array(ie.length),ye=A/R.unitsPerEm,Te=0;Te<ie.length;Te++)ne[Te]=ie[Te]*ye;else U.cvt=[];d.DEBUG&&(console.log("---EXEC PREP---"),U.step=-1);try{kr(U)}catch(Ce){this._errorState<2&&console.log("Hinting error in PREP:"+Ce),this._errorState=2}}if(!(1<this._errorState))try{return zn(g,U)}catch(Ce){this._errorState<1&&(console.log("Hinting error:"+Ce),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var zn=function(g,A){var R=A.ppem/A.font.unitsPerEm,U=R,Q=g.components;if(vr.prototype=A,Q){for(var ie=A.font,ne=[],ye=[],Te=0;Te<Q.length;Te++){var Ce=Q[Te],Le=ie.glyphs.get(Ce.glyphIndex),Ie=new vr("glyf",Le.instructions);d.DEBUG&&(console.log("---EXEC COMP "+Te+"---"),Ie.step=-1),Os(Le,Ie,R,U);for(var De=Math.round(Ce.dx*R),Oe=Math.round(Ce.dy*U),Ve=Ie.gZone,Ne=Ie.contours,Ue=0;Ue<Ve.length;Ue++){var Re=Ve[Ue];Re.xTouched=Re.yTouched=!1,Re.xo=Re.x=Re.x+De,Re.yo=Re.y=Re.y+Oe}var Fe=ne.length;ne.push.apply(ne,Ve);for(var rt=0;rt<Ne.length;rt++)ye.push(Ne[rt]+Fe)}g.instructions&&!Ie.inhibitGridFit&&((Ie=new vr("glyf",g.instructions)).gZone=Ie.z0=Ie.z1=Ie.z2=ne,Ie.contours=ye,ne.push(new dr(0,0),new dr(Math.round(g.advanceWidth*R),0)),d.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ie.step=-1),kr(Ie),ne.length-=2)}else Ie=new vr("glyf",g.instructions),d.DEBUG&&(console.log("---EXEC GLYPH---"),Ie.step=-1),Os(g,Ie,R,U),ne=Ie.gZone;return ne},Os=function(g,A,R,U){for(var Q,ie,ne,ye=g.points||[],Te=ye.length,Ce=A.gZone=A.z0=A.z1=A.z2=[],Le=A.contours=[],Ie=0;Ie<Te;Ie++)Q=ye[Ie],Ce[Ie]=new dr(Q.x*R,Q.y*U,Q.lastPointOfContour,Q.onCurve);for(var De=0;De<Te;De++)Q=Ce[De],ie||(ie=Q,Le.push(De)),Q.lastPointOfContour?((Q.nextPointOnContour=ie).prevPointOnContour=Q,ie=void 0):(ne=Ce[De+1],(Q.nextPointOnContour=ne).prevPointOnContour=Q);if(!A.inhibitGridFit){if(d.DEBUG){console.log("PROCESSING GLYPH",A.stack);for(var Oe=0;Oe<Te;Oe++)console.log(Oe,Ce[Oe].x,Ce[Oe].y)}if(Ce.push(new dr(0,0),new dr(Math.round(g.advanceWidth*R),0)),kr(A),Ce.length-=2,d.DEBUG){console.log("FINISHED GLYPH",A.stack);for(var Ve=0;Ve<Te;Ve++)console.log(Ve,Ce[Ve].x,Ce[Ve].y)}}},kr=function(g){var A=g.prog;if(A){var R,U=A.length;for(g.ip=0;g.ip<U;g.ip++){if(d.DEBUG&&g.step++,!(R=Hn[A[g.ip]]))throw new Error("unknown instruction: 0x"+Number(A[g.ip]).toString(16));R(g)}}},Hn=[gs.bind(void 0,hr),gs.bind(void 0,sr),ys.bind(void 0,hr),ys.bind(void 0,sr),vs.bind(void 0,hr),vs.bind(void 0,sr),bs.bind(void 0,0),bs.bind(void 0,1),xs.bind(void 0,0),xs.bind(void 0,1),function(g){var A=(R=g.stack).pop(),R=R.pop();d.DEBUG&&console.log(g.step,"SPVFS[]",A,R),g.pv=g.dpv=Nr(R,A)},function(g){var A=(R=g.stack).pop(),R=R.pop();d.DEBUG&&console.log(g.step,"SPVFS[]",A,R),g.fv=Nr(R,A)},function(g){var A=g.stack,R=g.pv;d.DEBUG&&console.log(g.step,"GPV[]"),A.push(16384*R.x),A.push(16384*R.y)},function(g){var A=g.stack,R=g.fv;d.DEBUG&&console.log(g.step,"GFV[]"),A.push(16384*R.x),A.push(16384*R.y)},function(g){g.fv=g.pv,d.DEBUG&&console.log(g.step,"SFVTPV[]")},function(A){var R=(ne=A.stack).pop(),U=ne.pop(),Q=ne.pop(),ie=ne.pop(),ne=ne.pop(),Te=A.z0,Le=A.z1,ye=Te[R],Te=Te[U],Ce=Le[Q],Le=Le[ie],A=A.z2[ne],R=(d.DEBUG&&console.log("ISECT[], ",R,U,Q,ie,ne),ye.x),U=ye.y,Q=Te.x,ie=Te.y,ne=Ce.x,ye=Ce.y,Te=Le.x,Ce=Le.y,Le=(R-Q)*(ye-Ce)-(U-ie)*(ne-Te),Ie=R*ie-U*Q,De=ne*Ce-ye*Te;A.x=(Ie*(ne-Te)-De*(R-Q))/Le,A.y=(Ie*(ye-Ce)-De*(U-ie))/Le},function(g){g.rp0=g.stack.pop(),d.DEBUG&&console.log(g.step,"SRP0[]",g.rp0)},function(g){g.rp1=g.stack.pop(),d.DEBUG&&console.log(g.step,"SRP1[]",g.rp1)},function(g){g.rp2=g.stack.pop(),d.DEBUG&&console.log(g.step,"SRP2[]",g.rp2)},function(g){var A=g.stack.pop();switch(d.DEBUG&&console.log(g.step,"SZP0[]",A),g.zp0=A){case 0:g.tZone||ti(g),g.z0=g.tZone;break;case 1:g.z0=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){var A=g.stack.pop();switch(d.DEBUG&&console.log(g.step,"SZP1[]",A),g.zp1=A){case 0:g.tZone||ti(g),g.z1=g.tZone;break;case 1:g.z1=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){var A=g.stack.pop();switch(d.DEBUG&&console.log(g.step,"SZP2[]",A),g.zp2=A){case 0:g.tZone||ti(g),g.z2=g.tZone;break;case 1:g.z2=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){var A=g.stack.pop();switch(d.DEBUG&&console.log(g.step,"SZPS[]",A),g.zp0=g.zp1=g.zp2=A){case 0:g.tZone||ti(g),g.z0=g.z1=g.z2=g.tZone;break;case 1:g.z0=g.z1=g.z2=g.gZone;break;default:throw new Error("Invalid zone pointer")}},function(g){g.loop=g.stack.pop(),d.DEBUG&&console.log(g.step,"SLOOP[]",g.loop)},function(g){d.DEBUG&&console.log(g.step,"RTG[]"),g.round=fs},function(g){d.DEBUG&&console.log(g.step,"RTHG[]"),g.round=Bn},function(g){var A=g.stack.pop();d.DEBUG&&console.log(g.step,"SMD[]",A),g.minDis=A/64},function(g){d.DEBUG&&console.log(g.step,"ELSE[]"),ms(g,!1)},function(g){var A=g.stack.pop();d.DEBUG&&console.log(g.step,"JMPR[]",A),g.ip+=A-1},function(g){var A=g.stack.pop();d.DEBUG&&console.log(g.step,"SCVTCI[]",A),g.cvCutIn=A/64},void 0,void 0,function(g){var A=g.stack;d.DEBUG&&console.log(g.step,"DUP[]"),A.push(A[A.length-1])},Ai,function(g){d.DEBUG&&console.log(g.step,"CLEAR[]"),g.stack.length=0},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"SWAP[]"),A.push(R),A.push(U)},function(g){var A=g.stack;d.DEBUG&&console.log(g.step,"DEPTH[]"),A.push(A.length)},function(g){var A=g.stack,R=A.pop();d.DEBUG&&console.log(g.step,"CINDEX[]",R),A.push(A[A.length-R])},function(g){var A=g.stack,R=A.pop();d.DEBUG&&console.log(g.step,"MINDEX[]",R),A.push(A.splice(A.length-R,1)[0])},void 0,void 0,void 0,function(g){var A=(U=g.stack).pop(),R=U.pop(),U=(d.DEBUG&&console.log(g.step,"LOOPCALL[]",A,R),g.ip),Q=g.prog;g.prog=g.funcs[A];for(var ie=0;ie<R;ie++)kr(g),d.DEBUG&&console.log(++g.step,ie+1<R?"next loopcall":"done loopcall",ie);g.ip=U,g.prog=Q},function(g){var A=g.stack.pop(),R=(d.DEBUG&&console.log(g.step,"CALL[]",A),g.ip),U=g.prog;g.prog=g.funcs[A],kr(g),g.ip=R,g.prog=U,d.DEBUG&&console.log(++g.step,"returning from",A)},function(g){if(g.env!=="fpgm")throw new Error("FDEF not allowed here");var U=g.stack,A=g.prog,R=g.ip,U=U.pop(),Q=R;for(d.DEBUG&&console.log(g.step,"FDEF[]",U);A[++R]!==45;);g.ip=R,g.funcs[U]=A.slice(Q+1,R)},void 0,ws.bind(void 0,0),ws.bind(void 0,1),_s.bind(void 0,hr),_s.bind(void 0,sr),js.bind(void 0,0),js.bind(void 0,1),Ss.bind(void 0,0),Ss.bind(void 0,1),Ms.bind(void 0,0),Ms.bind(void 0,1),function(g){for(var A=g.stack,R=g.loop,U=g.fv,Q=A.pop()/64,ie=g.z2;R--;){var ne=A.pop(),ye=ie[ne];d.DEBUG&&console.log(g.step,(1<g.loop?"loop "+(g.loop-R)+": ":"")+"SHPIX[]",ne,Q),U.setRelative(ye,ye,Q),U.touch(ye)}g.loop=1},function(g){for(var A=g.stack,R=g.rp1,U=g.rp2,Q=g.loop,ie=g.z0[R],ne=g.z1[U],ye=g.fv,Te=g.dpv,Ce=g.z2;Q--;){var Le=A.pop(),Ie=Ce[Le];d.DEBUG&&console.log(g.step,(1<g.loop?"loop "+(g.loop-Q)+": ":"")+"IP[]",Le,R,"<->",U),ye.interpolate(Ie,ie,ne,Te),ye.touch(Ie)}g.loop=1},Cs.bind(void 0,0),Cs.bind(void 0,1),function(g){for(var A=g.stack,R=g.rp0,U=g.z0[R],Q=g.loop,ie=g.fv,ne=g.pv,ye=g.z1;Q--;){var Te=A.pop(),Ce=ye[Te];d.DEBUG&&console.log(g.step,(1<g.loop?"loop "+(g.loop-Q)+": ":"")+"ALIGNRP[]",Te),ie.setRelative(Ce,U,0,ne),ie.touch(Ce)}g.loop=1},function(g){d.DEBUG&&console.log(g.step,"RTDG[]"),g.round=Nn},Ts.bind(void 0,0),Ts.bind(void 0,1),function(g){var A=g.prog,R=g.ip,U=g.stack,Q=A[++R];d.DEBUG&&console.log(g.step,"NPUSHB[]",Q);for(var ie=0;ie<Q;ie++)U.push(A[++R]);g.ip=R},function(g){var A=g.ip,R=g.prog,U=g.stack,Q=R[++A];d.DEBUG&&console.log(g.step,"NPUSHW[]",Q);for(var ie=0;ie<Q;ie++){var ne=R[++A]<<8|R[++A];32768&ne&&(ne=-(1+(65535^ne))),U.push(ne)}g.ip=A},function(g){var U=g.stack,A=(A=g.store)||(g.store=[]),R=U.pop(),U=U.pop();d.DEBUG&&console.log(g.step,"WS",R,U),A[U]=R},function(Q){var A=Q.stack,R=Q.store,U=A.pop(),Q=(d.DEBUG&&console.log(Q.step,"RS",U),R&&R[U]||0);A.push(Q)},function(g){var A=(R=g.stack).pop(),R=R.pop();d.DEBUG&&console.log(g.step,"WCVTP",A,R),g.cvt[R]=A/64},function(g){var A=g.stack,R=A.pop();d.DEBUG&&console.log(g.step,"RCVT",R),A.push(64*g.cvt[R])},ks.bind(void 0,0),ks.bind(void 0,1),void 0,Es.bind(void 0,0),Es.bind(void 0,1),function(g){d.DEBUG&&console.log(g.step,"MPPEM[]"),g.stack.push(g.ppem)},void 0,function(g){d.DEBUG&&console.log(g.step,"FLIPON[]"),g.autoFlip=!0},void 0,void 0,function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"LT[]",R,U),A.push(U<R?1:0)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"LTEQ[]",R,U),A.push(U<=R?1:0)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"GT[]",R,U),A.push(R<U?1:0)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"GTEQ[]",R,U),A.push(R<=U?1:0)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"EQ[]",R,U),A.push(R===U?1:0)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"NEQ[]",R,U),A.push(R!==U?1:0)},function(g){var A=g.stack,R=A.pop();d.DEBUG&&console.log(g.step,"ODD[]",R),A.push(Math.trunc(R)%2?1:0)},function(g){var A=g.stack,R=A.pop();d.DEBUG&&console.log(g.step,"EVEN[]",R),A.push(Math.trunc(R)%2?0:1)},function(g){var A=g.stack.pop();d.DEBUG&&console.log(g.step,"IF[]",A),A||(ms(g,!0),d.DEBUG&&console.log(g.step,"EIF[]"))},function(g){d.DEBUG&&console.log(g.step,"EIF[]")},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"AND[]",R,U),A.push(R&&U?1:0)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"OR[]",R,U),A.push(R||U?1:0)},function(g){var A=g.stack,R=A.pop();d.DEBUG&&console.log(g.step,"NOT[]",R),A.push(R?0:1)},Oi.bind(void 0,1),function(g){var A=g.stack.pop();d.DEBUG&&console.log(g.step,"SDB[]",A),g.deltaBase=A},function(g){var A=g.stack.pop();d.DEBUG&&console.log(g.step,"SDS[]",A),g.deltaShift=Math.pow(.5,A)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"ADD[]",R,U),A.push(U+R)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"SUB[]",R,U),A.push(U-R)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"DIV[]",R,U),A.push(64*U/R)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"MUL[]",R,U),A.push(U*R/64)},function(g){var A=g.stack,R=A.pop();d.DEBUG&&console.log(g.step,"ABS[]",R),A.push(Math.abs(R))},function(g){var A=g.stack,R=A.pop();d.DEBUG&&console.log(g.step,"NEG[]",R),A.push(-R)},function(g){var A=g.stack,R=A.pop();d.DEBUG&&console.log(g.step,"FLOOR[]",R),A.push(64*Math.floor(R/64))},function(g){var A=g.stack,R=A.pop();d.DEBUG&&console.log(g.step,"CEILING[]",R),A.push(64*Math.ceil(R/64))},ri.bind(void 0,0),ri.bind(void 0,1),ri.bind(void 0,2),ri.bind(void 0,3),void 0,void 0,void 0,void 0,function(g){var A=(R=g.stack).pop(),R=R.pop();d.DEBUG&&console.log(g.step,"WCVTF[]",A,R),g.cvt[R]=A*g.ppem/g.font.unitsPerEm},Oi.bind(void 0,2),Oi.bind(void 0,3),Pi.bind(void 0,1),Pi.bind(void 0,2),Pi.bind(void 0,3),function(g){var A,R=g.stack.pop();switch(d.DEBUG&&console.log(g.step,"SROUND[]",R),g.round=ps,192&R){case 0:A=.5;break;case 64:A=1;break;case 128:A=2;break;default:throw new Error("invalid SROUND value")}switch(g.srPeriod=A,48&R){case 0:g.srPhase=0;break;case 16:g.srPhase=.25*A;break;case 32:g.srPhase=.5*A;break;case 48:g.srPhase=.75*A;break;default:throw new Error("invalid SROUND value")}g.srThreshold=(R&=15)===0?0:(R/8-.5)*A},function(g){var A,R=g.stack.pop();switch(d.DEBUG&&console.log(g.step,"S45ROUND[]",R),g.round=ps,192&R){case 0:A=Math.sqrt(2)/2;break;case 64:A=Math.sqrt(2);break;case 128:A=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(g.srPeriod=A,48&R){case 0:g.srPhase=0;break;case 16:g.srPhase=.25*A;break;case 32:g.srPhase=.5*A;break;case 48:g.srPhase=.75*A;break;default:throw new Error("invalid S45ROUND value")}g.srThreshold=(R&=15)===0?0:(R/8-.5)*A},void 0,void 0,function(g){d.DEBUG&&console.log(g.step,"ROFF[]"),g.round=Fn},void 0,function(g){d.DEBUG&&console.log(g.step,"RUTG[]"),g.round=Un},function(g){d.DEBUG&&console.log(g.step,"RDTG[]"),g.round=Gn},Ai,Ai,void 0,void 0,void 0,void 0,void 0,function(g){var A=g.stack.pop();d.DEBUG&&console.log(g.step,"SCANCTRL[]",A)},As.bind(void 0,0),As.bind(void 0,1),function(g){var A=g.stack,R=A.pop(),U=0;d.DEBUG&&console.log(g.step,"GETINFO[]",R),1&R&&(U=35),32&R&&(U|=4096),A.push(U)},void 0,function(g){var A=g.stack,R=A.pop(),U=A.pop(),Q=A.pop();d.DEBUG&&console.log(g.step,"ROLL[]"),A.push(U),A.push(R),A.push(Q)},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"MAX[]",R,U),A.push(Math.max(U,R))},function(g){var A=g.stack,R=A.pop(),U=A.pop();d.DEBUG&&console.log(g.step,"MIN[]",R,U),A.push(Math.min(U,R))},function(g){var A=g.stack.pop();d.DEBUG&&console.log(g.step,"SCANTYPE[]",A)},function(g){var A=g.stack.pop(),R=g.stack.pop();switch(d.DEBUG&&console.log(g.step,"INSTCTRL[]",A,R),A){case 1:return void(g.inhibitGridFit=!!R);case 2:return void(g.ignoreCvt=!!R);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,br.bind(void 0,1),br.bind(void 0,2),br.bind(void 0,3),br.bind(void 0,4),br.bind(void 0,5),br.bind(void 0,6),br.bind(void 0,7),br.bind(void 0,8),xr.bind(void 0,1),xr.bind(void 0,2),xr.bind(void 0,3),xr.bind(void 0,4),xr.bind(void 0,5),xr.bind(void 0,6),xr.bind(void 0,7),xr.bind(void 0,8),tt.bind(void 0,0,0,0,0,0),tt.bind(void 0,0,0,0,0,1),tt.bind(void 0,0,0,0,0,2),tt.bind(void 0,0,0,0,0,3),tt.bind(void 0,0,0,0,1,0),tt.bind(void 0,0,0,0,1,1),tt.bind(void 0,0,0,0,1,2),tt.bind(void 0,0,0,0,1,3),tt.bind(void 0,0,0,1,0,0),tt.bind(void 0,0,0,1,0,1),tt.bind(void 0,0,0,1,0,2),tt.bind(void 0,0,0,1,0,3),tt.bind(void 0,0,0,1,1,0),tt.bind(void 0,0,0,1,1,1),tt.bind(void 0,0,0,1,1,2),tt.bind(void 0,0,0,1,1,3),tt.bind(void 0,0,1,0,0,0),tt.bind(void 0,0,1,0,0,1),tt.bind(void 0,0,1,0,0,2),tt.bind(void 0,0,1,0,0,3),tt.bind(void 0,0,1,0,1,0),tt.bind(void 0,0,1,0,1,1),tt.bind(void 0,0,1,0,1,2),tt.bind(void 0,0,1,0,1,3),tt.bind(void 0,0,1,1,0,0),tt.bind(void 0,0,1,1,0,1),tt.bind(void 0,0,1,1,0,2),tt.bind(void 0,0,1,1,0,3),tt.bind(void 0,0,1,1,1,0),tt.bind(void 0,0,1,1,1,1),tt.bind(void 0,0,1,1,1,2),tt.bind(void 0,0,1,1,1,3),tt.bind(void 0,1,0,0,0,0),tt.bind(void 0,1,0,0,0,1),tt.bind(void 0,1,0,0,0,2),tt.bind(void 0,1,0,0,0,3),tt.bind(void 0,1,0,0,1,0),tt.bind(void 0,1,0,0,1,1),tt.bind(void 0,1,0,0,1,2),tt.bind(void 0,1,0,0,1,3),tt.bind(void 0,1,0,1,0,0),tt.bind(void 0,1,0,1,0,1),tt.bind(void 0,1,0,1,0,2),tt.bind(void 0,1,0,1,0,3),tt.bind(void 0,1,0,1,1,0),tt.bind(void 0,1,0,1,1,1),tt.bind(void 0,1,0,1,1,2),tt.bind(void 0,1,0,1,1,3),tt.bind(void 0,1,1,0,0,0),tt.bind(void 0,1,1,0,0,1),tt.bind(void 0,1,1,0,0,2),tt.bind(void 0,1,1,0,0,3),tt.bind(void 0,1,1,0,1,0),tt.bind(void 0,1,1,0,1,1),tt.bind(void 0,1,1,0,1,2),tt.bind(void 0,1,1,0,1,3),tt.bind(void 0,1,1,1,0,0),tt.bind(void 0,1,1,1,0,1),tt.bind(void 0,1,1,1,0,2),tt.bind(void 0,1,1,1,0,3),tt.bind(void 0,1,1,1,1,0),tt.bind(void 0,1,1,1,1,1),tt.bind(void 0,1,1,1,1,2),tt.bind(void 0,1,1,1,1,3)],Wn=Array.from||function(g){return g.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function wt(g){(g=g||{}).empty||(Tr(g.familyName,"When creating a new Font object, familyName is required."),Tr(g.styleName,"When creating a new Font object, styleName is required."),Tr(g.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Tr(g.ascender,"When creating a new Font object, ascender is required."),Tr(g.descender,"When creating a new Font object, descender is required."),Tr(g.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:g.familyName||" "},fontSubfamily:{en:g.styleName||" "},fullName:{en:g.fullName||g.familyName+" "+g.styleName},postScriptName:{en:g.postScriptName||(g.familyName+g.styleName).replace(/\s/g,"")},designer:{en:g.designer||" "},designerURL:{en:g.designerURL||" "},manufacturer:{en:g.manufacturer||" "},manufacturerURL:{en:g.manufacturerURL||" "},license:{en:g.license||" "},licenseURL:{en:g.licenseURL||" "},version:{en:g.version||"Version 0.1"},description:{en:g.description||" "},copyright:{en:g.copyright||" "},trademark:{en:g.trademark||" "}},this.unitsPerEm=g.unitsPerEm||1e3,this.ascender=g.ascender,this.descender=g.descender,this.createdTimestamp=g.createdTimestamp,this.tables={os2:{usWeightClass:g.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:g.widthClass||this.usWidthClasses.MEDIUM,fsSelection:g.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ye.GlyphSet(this,g.glyphs||[]),this.encoding=new Ee(this),this.position=new ei(this),this.substitution=new ir(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new ds(this):void 0)}})}function Ps(g,A){var R,U=JSON.stringify(g),Q=256;for(R in A){var ie=parseInt(R);if(ie&&!(ie<256)){if(JSON.stringify(A[R])===U)return ie;Q<=ie&&(Q=ie+1)}}return A[Q]=g,Q}wt.prototype.hasChar=function(g){return this.encoding.charToGlyphIndex(g)!==null},wt.prototype.charToGlyphIndex=function(g){return this.encoding.charToGlyphIndex(g)},wt.prototype.charToGlyph=function(g){return g=this.charToGlyphIndex(g),this.glyphs.get(g)||this.glyphs.get(0)},wt.prototype.stringToGlyphs=function(g,A){A=A||this.defaultRenderOptions;for(var R=Wn(g),U=[],Q=0;Q<R.length;Q+=1){var ie=R[Q];U.push(this.charToGlyphIndex(ie))}var ne=U.length;if(A.features){var g=A.script||this.substitution.getDefaultScriptName(),ye=[];A.features.liga&&(ye=ye.concat(this.substitution.getFeature("liga",g,A.language))),A.features.rlig&&(ye=ye.concat(this.substitution.getFeature("rlig",g,A.language)));for(var Te=0;Te<ne;Te+=1)for(var Ce=0;Ce<ye.length;Ce++){for(var Le=ye[Ce],Ie=Le.sub,De=Ie.length,Oe=0;Oe<De&&Ie[Oe]===U[Te+Oe];)Oe++;Oe===De&&(U.splice(Te,De,Le.by),ne=ne-De+1)}}for(var Ve=new Array(ne),Ne=this.glyphs.get(0),Ue=0;Ue<ne;Ue+=1)Ve[Ue]=this.glyphs.get(U[Ue])||Ne;return Ve},wt.prototype.nameToGlyphIndex=function(g){return this.glyphNames.nameToGlyphIndex(g)},wt.prototype.nameToGlyph=function(g){return g=this.nameToGlyphIndex(g),this.glyphs.get(g)||this.glyphs.get(0)},wt.prototype.glyphIndexToName=function(g){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(g):""},wt.prototype.getKerningValue=function(g,A){g=g.index||g,A=A.index||A;var R=this.position.defaultKerningTables;return R?this.position.getKerningValue(R,g,A):this.kerningPairs[g+","+A]||0},wt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},wt.prototype.forEachGlyph=function(g,A,R,U,Q,ie){A=A!==void 0?A:0,R=R!==void 0?R:0,Q=Q||this.defaultRenderOptions;var ne,ye=1/this.unitsPerEm*(U=U!==void 0?U:72),Te=this.stringToGlyphs(g,Q);Q.kerning&&(g=Q.script||this.position.getDefaultScriptName(),ne=this.position.getKerningTables(g,Q.language));for(var Ce=0;Ce<Te.length;Ce+=1){var Le=Te[Ce];ie.call(this,Le,A,R,U,Q),Le.advanceWidth&&(A+=Le.advanceWidth*ye),Q.kerning&&Ce<Te.length-1&&(A+=(ne?this.position.getKerningValue(ne,Le.index,Te[Ce+1].index):this.getKerningValue(Le,Te[Ce+1]))*ye),Q.letterSpacing?A+=Q.letterSpacing*U:Q.tracking&&(A+=Q.tracking/1e3*U)}return A},wt.prototype.getPath=function(g,A,R,U,Q){var ie=new K;return this.forEachGlyph(g,A,R,U,Q,function(ne,ye,Te,Ce){ne=ne.getPath(ye,Te,Ce,Q,this),ie.extend(ne)}),ie},wt.prototype.getPaths=function(g,A,R,U,Q){var ie=[];return this.forEachGlyph(g,A,R,U,Q,function(ne,ye,Te,Ce){ne=ne.getPath(ye,Te,Ce,Q,this),ie.push(ne)}),ie},wt.prototype.getAdvanceWidth=function(g,A,R){return this.forEachGlyph(g,0,0,A,R,function(){})},wt.prototype.draw=function(g,A,R,U,Q,ie){this.getPath(A,R,U,Q,ie).draw(g)},wt.prototype.drawPoints=function(g,A,R,U,Q,ie){this.forEachGlyph(A,R,U,Q,ie,function(ne,ye,Te,Ce){ne.drawPoints(g,ye,Te,Ce)})},wt.prototype.drawMetrics=function(g,A,R,U,Q,ie){this.forEachGlyph(A,R,U,Q,ie,function(ne,ye,Te,Ce){ne.drawMetrics(g,ye,Te,Ce)})},wt.prototype.getEnglishName=function(g){if(g=this.names[g],g)return g.en},wt.prototype.validate=function(){var g=this;function A(R){R=g.getEnglishName(R),R&&R.trim().length}A("fontFamily"),A("weightName"),A("manufacturer"),A("copyright"),A("version"),this.unitsPerEm},wt.prototype.toTables=function(){return Dn.fontToTable(this)},wt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},wt.prototype.toArrayBuffer=function(){for(var g=this.toTables().encode(),A=new ArrayBuffer(g.length),R=new Uint8Array(A),U=0;U<g.length;U++)R[U]=g[U];return A},wt.prototype.download=function(g){var A=this.getEnglishName("fontFamily"),R=this.getEnglishName("fontSubfamily"),U=(g=g||A.replace(/\s/g,"")+"-"+R+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,U.byteLength,function(Q){Q.root.getFile(g,{create:!0},function(ie){ie.createWriter(function(ne){var ye=new DataView(U),ye=new Blob([ye],{type:"font/opentype"});ne.write(ye),ne.addEventListener("writeend",function(){location.href=ie.toURL()},!1)})})},function(Q){throw new Error(Q.name+": "+Q.message)})):(A=t("fs"),R=function(Q){for(var ie=new y(Q.byteLength),ne=new Uint8Array(Q),ye=0;ye<ie.length;++ye)ie[ye]=ne[ye];return ie}(U),A.writeFileSync(g,R))},wt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},wt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},wt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Xn={make:function(g,A){var R=new le.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:g.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:g.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*g.axes.length}]);R.offsetToData=R.sizeOf();for(var U,Q,ie,ne=0;ne<g.axes.length;ne++)R.fields=R.fields.concat((U=ne,Q=g.axes[ne],ie=A,ie=Ps(Q.name,A),[{name:"tag_"+U,type:"TAG",value:Q.tag},{name:"minValue_"+U,type:"FIXED",value:Q.minValue<<16},{name:"defaultValue_"+U,type:"FIXED",value:Q.defaultValue<<16},{name:"maxValue_"+U,type:"FIXED",value:Q.maxValue<<16},{name:"flags_"+U,type:"USHORT",value:0},{name:"nameID_"+U,type:"USHORT",value:ie}]));for(var ye=0;ye<g.instances.length;ye++)R.fields=R.fields.concat(function(Te,Ce,Le,Ie){for(var De=[{name:"nameID_"+Te,type:"USHORT",value:Ps(Ce.name,Ie)},{name:"flags_"+Te,type:"USHORT",value:0}],Oe=0;Oe<Le.length;++Oe){var Ve=Le[Oe].tag;De.push({name:"axis_"+Te+" "+Ve,type:"FIXED",value:Ce.coordinates[Ve]<<16})}return De}(ye,g.instances[ye],g.axes,A));return R},parse:function(g,A,R){for(var U,Q,ie,ne,ye=new xe.Parser(g,A),Te=ye.parseULong(),Ce=(w.argument(Te===65536,"Unsupported fvar table version."),ye.parseOffset16()),Le=(ye.skip("uShort",1),ye.parseUShort()),Ie=ye.parseUShort(),De=ye.parseUShort(),Oe=ye.parseUShort(),Ve=[],Ne=0;Ne<Le;Ne++)Ve.push((U=g,Q=A+Ce+Ne*Ie,ie=R,ne={},U=new xe.Parser(U,Q),ne.tag=U.parseTag(),ne.minValue=U.parseFixed(),ne.defaultValue=U.parseFixed(),ne.maxValue=U.parseFixed(),U.skip("uShort",1),ne.name=ie[U.parseUShort()]||{},ne));for(var Ue=[],Re=A+Ce+Le*Ie,Fe=0;Fe<De;Fe++)Ue.push(function(rt,ot,it,st){var ct={},jt=new xe.Parser(rt,ot);ct.name=st[jt.parseUShort()]||{},jt.skip("uShort",1),ct.coordinates={};for(var kt=0;kt<it.length;++kt)ct.coordinates[it[kt].tag]=jt.parseFixed();return ct}(g,Re+Fe*Oe,Ve,R));return{axes:Ve,instances:Ue}}},$t=new Array(10);$t[1]=function(){var g=this.offset+this.relativeOffset,A=this.parseUShort();return A===1?{posFormat:1,coverage:this.parsePointer(me.coverage),value:this.parseValueRecord()}:A===2?{posFormat:2,coverage:this.parsePointer(me.coverage),values:this.parseValueRecordList()}:void w.assert(!1,"0x"+g.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},$t[2]=function(){var g,A,R,U,ie=this.offset+this.relativeOffset,Q=this.parseUShort(),ie=(w.assert(Q===1||Q===2,"0x"+ie.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(me.coverage)),ne=this.parseUShort(),ye=this.parseUShort();return Q===1?{posFormat:Q,coverage:ie,valueFormat1:ne,valueFormat2:ye,pairSets:this.parseList(me.pointer(me.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ne),value2:this.parseValueRecord(ye)}})))}:Q===2?(g=this.parsePointer(me.classDef),A=this.parsePointer(me.classDef),R=this.parseUShort(),U=this.parseUShort(),{posFormat:Q,coverage:ie,valueFormat1:ne,valueFormat2:ye,classDef1:g,classDef2:A,class1Count:R,class2Count:U,classRecords:this.parseList(R,me.list(U,function(){return{value1:this.parseValueRecord(ne),value2:this.parseValueRecord(ye)}}))}):void 0},$t[3]=function(){return{error:"GPOS Lookup 3 not supported"}},$t[4]=function(){return{error:"GPOS Lookup 4 not supported"}},$t[5]=function(){return{error:"GPOS Lookup 5 not supported"}},$t[6]=function(){return{error:"GPOS Lookup 6 not supported"}},$t[7]=function(){return{error:"GPOS Lookup 7 not supported"}},$t[8]=function(){return{error:"GPOS Lookup 8 not supported"}},$t[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var qn=new Array(10),Yn={parse:function(g,A){return A=(g=new me(g,A=A||0)).parseVersion(1),w.argument(A===1||A===1.1,"Unsupported GPOS table version "+A),A===1?{version:A,scripts:g.parseScriptList(),features:g.parseFeatureList(),lookups:g.parseLookupList($t)}:{version:A,scripts:g.parseScriptList(),features:g.parseFeatureList(),lookups:g.parseLookupList($t),variations:g.parseFeatureVariationsList()}},make:function(g){return new le.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new le.ScriptList(g.scripts)},{name:"features",type:"TABLE",value:new le.FeatureList(g.features)},{name:"lookups",type:"TABLE",value:new le.LookupList(g.lookups,qn)}])}},Zn={parse:function(g,A){if(g=new xe.Parser(g,A),(A=g.parseUShort())===0){var R=g,U={},Ie=(R.skip("uShort"),R.parseUShort()),Q=(w.argument(Ie===0,"Unsupported kern sub-table version."),R.skip("uShort",2),R.parseUShort());R.skip("uShort",3);for(var ie=0;ie<Q;ie+=1){var ne=R.parseUShort(),ye=R.parseUShort(),Te=R.parseShort();U[ne+","+ye]=Te}return U}if(A!==1)throw new Error("Unsupported kern table version ("+A+").");var Ce=g,Le={},Ie=(Ce.skip("uShort"),1<Ce.parseULong()&&console.warn("Only the first kern subtable is supported."),Ce.skip("uLong"),255&Ce.parseUShort());if(Ce.skip("uShort"),Ie==0){var De=Ce.parseUShort();Ce.skip("uShort",3);for(var Oe=0;Oe<De;Oe+=1){var Ve=Ce.parseUShort(),Ne=Ce.parseUShort(),Ue=Ce.parseShort();Le[Ve+","+Ne]=Ue}}return Le}},$n={parse:function(g,A,R,U){for(var Q=new xe.Parser(g,A),ie=U?Q.parseUShort:Q.parseULong,ne=[],ye=0;ye<R+1;ye+=1){var Te=ie.call(Q);U&&(Te*=2),ne.push(Te)}return ne}};function Kn(g,A){t("fs").readFile(g,function(R,U){if(R)return A(R.message);A(null,ls(U))})}function Qn(g,A){var R=new XMLHttpRequest;R.open("get",g,!0),R.responseType="arraybuffer",R.onload=function(){return R.response?A(null,R.response):A("Font could not be loaded: "+R.statusText)},R.onerror=function(){A("Font could not be loaded")},R.send()}function Ls(g,A){for(var R=[],U=12,Q=0;Q<A;Q+=1){var ie=xe.getTag(g,U),ne=xe.getULong(g,U+4),ye=xe.getULong(g,U+8),Te=xe.getULong(g,U+12);R.push({tag:ie,checksum:ne,offset:ye,length:Te,compression:!1}),U+=16}return R}function Lt(R,A){if(A.compression!=="WOFF")return{data:R,offset:A.offset};var R=new Uint8Array(R.buffer,A.offset+2,A.compressedLength-2),U=new Uint8Array(A.length);if(B(R,U),U.byteLength!==A.length)throw new Error("Decompression error: "+A.tag+" decompressed length doesn't match recorded length");return{data:new DataView(U.buffer,0),offset:0}}function Li(Fe){var A,R,U,Q,ie,ne,ye,Te,Ce,Le,Ie,De,Oe,Ve,Ne=new wt({empty:!0}),Ue=new DataView(Fe,0),Re=[],Fe=xe.getTag(Ue,0);if(Fe==="\0\0\0"||Fe==="true"||Fe==="typ1")Ne.outlinesFormat="truetype",Re=Ls(Ue,U=xe.getUShort(Ue,4));else if(Fe==="OTTO")Ne.outlinesFormat="cff",Re=Ls(Ue,U=xe.getUShort(Ue,4));else{if(Fe!=="wOFF")throw new Error("Unsupported OpenType signature "+Fe);var rt=xe.getTag(Ue,4);if(rt==="\0\0\0")Ne.outlinesFormat="truetype";else{if(rt!=="OTTO")throw new Error("Unsupported OpenType flavor "+Fe);Ne.outlinesFormat="cff"}Re=function(St,vt){for(var Xt=[],Ct=44,zt=0;zt<vt;zt+=1){var Mt=xe.getTag(St,Ct),Gt=xe.getULong(St,Ct+4),Ur=xe.getULong(St,Ct+8),Er=xe.getULong(St,Ct+12),Ds=void 0,Ds=Ur<Er&&"WOFF";Xt.push({tag:Mt,offset:Gt,compression:Ds,compressedLength:Ur,length:Er}),Ct+=20}return Xt}(Ue,U=xe.getUShort(Ue,12))}for(var ot=0;ot<U;ot+=1){var it=Re[ot],st=void 0;switch(it.tag){case"cmap":st=Lt(Ue,it),Ne.tables.cmap=oe.parse(st.data,st.offset),Ne.encoding=new Pe(Ne.tables.cmap);break;case"cvt ":st=Lt(Ue,it),Ve=new xe.Parser(st.data,st.offset),Ne.tables.cvt=Ve.parseShortList(it.length/2);break;case"fvar":ie=it;break;case"fpgm":st=Lt(Ue,it),Ve=new xe.Parser(st.data,st.offset),Ne.tables.fpgm=Ve.parseByteList(it.length);break;case"head":st=Lt(Ue,it),Ne.tables.head=er.parse(st.data,st.offset),Ne.unitsPerEm=Ne.tables.head.unitsPerEm,A=Ne.tables.head.indexToLocFormat;break;case"hhea":st=Lt(Ue,it),Ne.tables.hhea=Ae.parse(st.data,st.offset),Ne.ascender=Ne.tables.hhea.ascender,Ne.descender=Ne.tables.hhea.descender,Ne.numberOfHMetrics=Ne.tables.hhea.numberOfHMetrics;break;case"hmtx":Ce=it;break;case"ltag":st=Lt(Ue,it),R=Ze.parse(st.data,st.offset);break;case"maxp":st=Lt(Ue,it),Ne.tables.maxp=We.parse(st.data,st.offset),Ne.numGlyphs=Ne.tables.maxp.numGlyphs;break;case"name":De=it;break;case"OS/2":st=Lt(Ue,it),Ne.tables.os2=Ut.parse(st.data,st.offset);break;case"post":st=Lt(Ue,it),Ne.tables.post=Qi.parse(st.data,st.offset),Ne.glyphNames=new Ge(Ne.tables.post);break;case"prep":st=Lt(Ue,it),Ve=new xe.Parser(st.data,st.offset),Ne.tables.prep=Ve.parseByteList(it.length);break;case"glyf":ne=it;break;case"loca":Ie=it;break;case"CFF ":Q=it;break;case"kern":Le=it;break;case"GPOS":ye=it;break;case"GSUB":Te=it;break;case"meta":Oe=it}}if(rt=Lt(Ue,De),Ne.tables.name=Yt.parse(rt.data,rt.offset,R),Ne.names=Ne.tables.name,ne&&Ie)Fe=A===0,rt=Lt(Ue,Ie),rt=$n.parse(rt.data,rt.offset,Ne.numGlyphs,Fe),Fe=Lt(Ue,ne),Ne.glyphs=hs.parse(Fe.data,Fe.offset,rt,Ne);else{if(!Q)throw new Error("Font doesn't contain TrueType or CFF outlines.");Fe=Lt(Ue,Q),yr.parse(Fe.data,Fe.offset,Ne)}for(var rt=Lt(Ue,Ce),ct=(Xe.parse(rt.data,rt.offset,Ne.numberOfHMetrics,Ne.numGlyphs,Ne.glyphs),Ne),jt=ct.tables.cmap.glyphIndexMap,kt=Object.keys(jt),Dt=0;Dt<kt.length;Dt+=1){var Ht,Wt=kt[Dt],Kt=jt[Wt];(Ht=ct.glyphs.get(Kt)).addUnicode(parseInt(Wt))}for(var _t=0;_t<ct.glyphs.length;_t+=1)Ht=ct.glyphs.get(_t),ct.cffEncoding?ct.isCIDFont?Ht.name="gid"+_t:Ht.name=ct.cffEncoding.charset[_t]:ct.glyphNames.names&&(Ht.name=ct.glyphNames.glyphIndexToName(_t));return Le?(Fe=Lt(Ue,Le),Ne.kerningPairs=Zn.parse(Fe.data,Fe.offset)):Ne.kerningPairs={},ye&&(rt=Lt(Ue,ye),Ne.tables.gpos=Yn.parse(rt.data,rt.offset),Ne.position.init()),Te&&(Fe=Lt(Ue,Te),Ne.tables.gsub=Ji.parse(Fe.data,Fe.offset)),ie&&(rt=Lt(Ue,ie),Ne.tables.fvar=Xn.parse(rt.data,rt.offset,Ne.names)),Oe&&(Fe=Lt(Ue,Oe),Ne.tables.meta=es.parse(Fe.data,Fe.offset),Ne.metas=Ne.tables.meta),Ne}d.Font=wt,d.Glyph=qe,d.Path=K,d.BoundingBox=G,d._parse=xe,d.parse=Li,d.load=function(g,A){(typeof window>"u"?Kn:Qn)(g,function(R,U){if(R)return A(R);var Q;try{Q=Li(U)}catch(ie){return A(ie,null)}return A(null,Q)})},d.loadSync=function(g){return Li(ls(t("fs").readFileSync(g)))},Object.defineProperty(d,"__esModule",{value:!0})},typeof I=="object"&&X!==void 0?h(I):typeof _e=="function"&&_e.amd?_e(["exports"],h):h(b.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],255:[function(t,X,I){(function(y){function b(v,m){for(var n=0,i=v.length-1;0<=i;i--){var a=v[i];a==="."?v.splice(i,1):a===".."?(v.splice(i,1),n++):n&&(v.splice(i,1),n--)}if(m)for(;n--;)v.unshift("..");return v}function h(v,m){if(v.filter)return v.filter(m);for(var n=[],i=0;i<v.length;i++)m(v[i],i,v)&&n.push(v[i]);return n}I.resolve=function(){for(var v="",m=!1,n=arguments.length-1;-1<=n&&!m;n--){var i=0<=n?arguments[n]:y.cwd();if(typeof i!="string")throw new TypeError("Arguments to path.resolve must be strings");i&&(v=i+"/"+v,m=i.charAt(0)==="/")}return(m?"/":"")+(v=b(h(v.split("/"),function(a){return!!a}),!m).join("/"))||"."},I.normalize=function(v){var m=I.isAbsolute(v),n=d(v,-1)==="/";return(v=(v=b(h(v.split("/"),function(i){return!!i}),!m).join("/"))||m?v:".")&&n&&(v+="/"),(m?"/":"")+v},I.isAbsolute=function(v){return v.charAt(0)==="/"},I.join=function(){var v=Array.prototype.slice.call(arguments,0);return I.normalize(h(v,function(m,n){if(typeof m!="string")throw new TypeError("Arguments to path.join must be strings");return m}).join("/"))},I.relative=function(v,m){function n(o){for(var u=0;u<o.length&&o[u]==="";u++);for(var f=o.length-1;0<=f&&o[f]==="";f--);return f<u?[]:o.slice(u,f-u+1)}v=I.resolve(v).substr(1),m=I.resolve(m).substr(1);for(var i=n(v.split("/")),a=n(m.split("/")),l=Math.min(i.length,a.length),c=l,r=0;r<l;r++)if(i[r]!==a[r]){c=r;break}for(var s=[],r=c;r<i.length;r++)s.push("..");return(s=s.concat(a.slice(c))).join("/")},I.sep="/",I.delimiter=":",I.dirname=function(v){if(typeof v!="string"&&(v+=""),v.length===0)return".";for(var m=v.charCodeAt(0)===47,n=-1,i=!0,a=v.length-1;1<=a;--a)if(v.charCodeAt(a)===47){if(!i){n=a;break}}else i=!1;return n===-1?m?"/":".":m&&n===1?"/":v.slice(0,n)},I.basename=function(v,m){return v=function(n){typeof n!="string"&&(n+="");for(var i=0,a=-1,l=!0,c=n.length-1;0<=c;--c)if(n.charCodeAt(c)===47){if(!l){i=c+1;break}}else a===-1&&(l=!1,a=c+1);return a===-1?"":n.slice(i,a)}(v),v=m&&v.substr(-1*m.length)===m?v.substr(0,v.length-m.length):v},I.extname=function(v){typeof v!="string"&&(v+="");for(var m=-1,n=0,i=-1,a=!0,l=0,c=v.length-1;0<=c;--c){var r=v.charCodeAt(c);if(r===47){if(a)continue;n=c+1;break}i===-1&&(a=!1,i=c+1),r===46?m===-1?m=c:l!==1&&(l=1):m!==-1&&(l=-1)}return m===-1||i===-1||l===0||l===1&&m===i-1&&m===n+1?"":v.slice(m,i)};var d="ab".substr(-1)==="b"?function(v,m,n){return v.substr(m,n)}:function(v,m,n){return m<0&&(m=v.length+m),v.substr(m,n)}}).call(this,t("_process"))},{_process:256}],256:[function(t,h,I){var y,b,h=h.exports={};function d(){throw new Error("setTimeout has not been defined")}function v(){throw new Error("clearTimeout has not been defined")}try{y=typeof setTimeout=="function"?setTimeout:d}catch{y=d}try{b=typeof clearTimeout=="function"?clearTimeout:v}catch{b=v}function m(u){if(y===setTimeout)return setTimeout(u,0);if((y===d||!y)&&setTimeout)return(y=setTimeout)(u,0);try{return y(u,0)}catch{try{return y.call(null,u,0)}catch{return y.call(this,u,0)}}}var n,i=[],a=!1,l=-1;function c(){a&&n&&(a=!1,n.length?i=n.concat(i):l=-1,i.length&&r())}function r(){if(!a){for(var u=m(c),f=(a=!0,i.length);f;){for(n=i,i=[];++l<f;)n&&n[l].run();l=-1,f=i.length}n=null,a=!1,function(C){if(b===clearTimeout)return clearTimeout(C);if((b===v||!b)&&clearTimeout)return(b=clearTimeout)(C);try{b(C)}catch{try{return b.call(null,C)}catch{return b.call(this,C)}}}(u)}}function s(u,f){this.fun=u,this.array=f}function o(){}h.nextTick=function(u){var f=new Array(arguments.length-1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)f[C-1]=arguments[C];i.push(new s(u,f)),i.length!==1||a||m(r)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=o,h.addListener=o,h.once=o,h.off=o,h.removeListener=o,h.removeAllListeners=o,h.emit=o,h.prependListener=o,h.prependOnceListener=o,h.listeners=function(u){return[]},h.binding=function(u){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(u){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],257:[function(t,X,I){X=function(y){"use strict";var b,h=Object.prototype,d=h.hasOwnProperty,E=typeof Symbol=="function"?Symbol:{},v=E.iterator||"@@iterator",m=E.asyncIterator||"@@asyncIterator",n=E.toStringTag||"@@toStringTag";function i(F,D,L,H){var K,$,P,w,D=D&&D.prototype instanceof u?D:u,D=Object.create(D.prototype),H=new S(H||[]);return D._invoke=(K=F,$=L,P=H,w=l,function(N,z){if(w===r)throw new Error("Generator is already running");if(w===s){if(N==="throw")throw z;return k()}for(P.method=N,P.arg=z;;){var W=P.delegate;if(W&&(W=function te(V,Z){var Y=V.iterator[Z.method];if(Y===b){if(Z.delegate=null,Z.method==="throw"){if(V.iterator.return&&(Z.method="return",Z.arg=b,te(V,Z),Z.method==="throw"))return o;Z.method="throw",Z.arg=new TypeError("The iterator does not provide a 'throw' method")}return o}if(Y=a(Y,V.iterator,Z.arg),Y.type==="throw")return Z.method="throw",Z.arg=Y.arg,Z.delegate=null,o;if(Y=Y.arg,!Y)return Z.method="throw",Z.arg=new TypeError("iterator result is not an object"),Z.delegate=null,o;{if(!Y.done)return Y;Z[V.resultName]=Y.value,Z.next=V.nextLoc,Z.method!=="return"&&(Z.method="next",Z.arg=b)}return Z.delegate=null,o}(W,P),W)){if(W===o)continue;return W}if(P.method==="next")P.sent=P._sent=P.arg;else if(P.method==="throw"){if(w===l)throw w=s,P.arg;P.dispatchException(P.arg)}else P.method==="return"&&P.abrupt("return",P.arg);if(w=r,W=a(K,$,P),W.type==="normal"){if(w=P.done?s:c,W.arg!==o)return{value:W.arg,done:P.done}}else W.type==="throw"&&(w=s,P.method="throw",P.arg=W.arg)}}),D}function a(F,B,L){try{return{type:"normal",arg:F.call(B,L)}}catch(G){return{type:"throw",arg:G}}}y.wrap=i;var l="suspendedStart",c="suspendedYield",r="executing",s="completed",o={};function u(){}function f(){}function C(){}var E={},j=(E[v]=function(){return this},Object.getPrototypeOf),j=j&&j(j(O([]))),x=(j&&j!==h&&d.call(j,v)&&(E=j),C.prototype=u.prototype=Object.create(E));function T(F){["next","throw","return"].forEach(function(B){F[B]=function(L){return this._invoke(B,L)}})}function _(F){var B;this._invoke=function(L,G){function K(){return new Promise(function($,P){(function w(te,H,N,z){var W,te=a(F[te],F,H);if(te.type!=="throw")return(H=(W=te.arg).value)&&typeof H=="object"&&d.call(H,"__await")?Promise.resolve(H.__await).then(function(V){w("next",V,N,z)},function(V){w("throw",V,N,z)}):Promise.resolve(H).then(function(V){W.value=V,N(W)},function(V){return w("throw",V,N,z)});z(te.arg)})(L,G,$,P)})}return B=B?B.then(K,K):K()}}function M(F){var B={tryLoc:F[0]};1 in F&&(B.catchLoc=F[1]),2 in F&&(B.finallyLoc=F[2],B.afterLoc=F[3]),this.tryEntries.push(B)}function p(F){var B=F.completion||{};B.type="normal",delete B.arg,F.completion=B}function S(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(M,this),this.reset(!0)}function O(F){if(F){var B,L=F[v];if(L)return L.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length))return B=-1,(L=function G(){for(;++B<F.length;)if(d.call(F,B))return G.value=F[B],G.done=!1,G;return G.value=b,G.done=!0,G}).next=L}return{next:k}}function k(){return{value:b,done:!0}}return(f.prototype=x.constructor=C).constructor=f,C[n]=f.displayName="GeneratorFunction",y.isGeneratorFunction=function(F){return F=typeof F=="function"&&F.constructor,!!F&&(F===f||(F.displayName||F.name)==="GeneratorFunction")},y.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,C):(F.__proto__=C,n in F||(F[n]="GeneratorFunction")),F.prototype=Object.create(x),F},y.awrap=function(F){return{__await:F}},T(_.prototype),_.prototype[m]=function(){return this},y.AsyncIterator=_,y.async=function(F,B,L,G){var K=new _(i(F,B,L,G));return y.isGeneratorFunction(B)?K:K.next().then(function($){return $.done?$.value:K.next()})},T(x),x[n]="Generator",x[v]=function(){return this},x.toString=function(){return"[object Generator]"},y.keys=function(F){var B,L=[];for(B in F)L.push(B);return L.reverse(),function G(){for(;L.length;){var K=L.pop();if(K in F)return G.value=K,G.done=!1,G}return G.done=!0,G}},y.values=O,S.prototype={constructor:S,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=b,this.done=!1,this.delegate=null,this.method="next",this.arg=b,this.tryEntries.forEach(p),!F)for(var B in this)B.charAt(0)==="t"&&d.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=b)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var B=this;function L(D,H){return $.type="throw",$.arg=F,B.next=D,H&&(B.method="next",B.arg=b),!!H}for(var G=this.tryEntries.length-1;0<=G;--G){var K=this.tryEntries[G],$=K.completion;if(K.tryLoc==="root")return L("end");if(K.tryLoc<=this.prev){var P=d.call(K,"catchLoc"),w=d.call(K,"finallyLoc");if(P&&w){if(this.prev<K.catchLoc)return L(K.catchLoc,!0);if(this.prev<K.finallyLoc)return L(K.finallyLoc)}else if(P){if(this.prev<K.catchLoc)return L(K.catchLoc,!0)}else{if(!w)throw new Error("try statement without catch or finally");if(this.prev<K.finallyLoc)return L(K.finallyLoc)}}}},abrupt:function(F,B){for(var L=this.tryEntries.length-1;0<=L;--L){var G=this.tryEntries[L];if(G.tryLoc<=this.prev&&d.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var K=G;break}}var $=(K=K&&(F==="break"||F==="continue")&&K.tryLoc<=B&&B<=K.finallyLoc?null:K)?K.completion:{};return $.type=F,$.arg=B,K?(this.method="next",this.next=K.finallyLoc,o):this.complete($)},complete:function(F,B){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&B&&(this.next=B),o},finish:function(F){for(var B=this.tryEntries.length-1;0<=B;--B){var L=this.tryEntries[B];if(L.finallyLoc===F)return this.complete(L.completion,L.afterLoc),p(L),o}},catch:function(F){for(var B=this.tryEntries.length-1;0<=B;--B){var L,G,K=this.tryEntries[B];if(K.tryLoc===F)return(L=K.completion).type==="throw"&&(G=L.arg,p(K)),G}throw new Error("illegal catch attempt")},delegateYield:function(F,B,L){return this.delegate={iterator:O(F),resultName:B,nextLoc:L},this.method==="next"&&(this.arg=b),o}},y}(typeof X=="object"?X.exports:{});try{regeneratorRuntime=X}catch{Function("r","regeneratorRuntime = r")(X)}},{}],258:[function(t,X,I){(function(y){"use strict";var b,h,d,v,m,n,i,a,l,c;function r(p){if(typeof p!="string"&&(p=String(p)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(p))throw new TypeError("Invalid character in header field name");return p.toLowerCase()}function s(p){return p=typeof p!="string"?String(p):p}function o(p){var S={next:function(){var O=p.shift();return{done:O===void 0,value:O}}};return h&&(S[Symbol.iterator]=function(){return S}),S}function u(p){this.map={},p instanceof u?p.forEach(function(S,O){this.append(O,S)},this):Array.isArray(p)?p.forEach(function(S){this.append(S[0],S[1])},this):p&&Object.getOwnPropertyNames(p).forEach(function(S){this.append(S,p[S])},this)}function f(p){if(p.bodyUsed)return Promise.reject(new TypeError("Already read"));p.bodyUsed=!0}function C(p){return new Promise(function(S,O){p.onload=function(){S(p.result)},p.onerror=function(){O(p.error)}})}function E(p){var S=new FileReader,O=C(S);return S.readAsArrayBuffer(p),O}function j(p){var S;return p.slice?p.slice(0):((S=new Uint8Array(p.byteLength)).set(new Uint8Array(p)),S.buffer)}function x(){return this.bodyUsed=!1,this._initBody=function(p){if(this._bodyInit=p)if(typeof p=="string")this._bodyText=p;else if(d&&Blob.prototype.isPrototypeOf(p))this._bodyBlob=p;else if(v&&FormData.prototype.isPrototypeOf(p))this._bodyFormData=p;else if(b&&URLSearchParams.prototype.isPrototypeOf(p))this._bodyText=p.toString();else if(m&&d&&i(p))this._bodyArrayBuffer=j(p.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m||!ArrayBuffer.prototype.isPrototypeOf(p)&&!a(p))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=j(p)}else this._bodyText="";this.headers.get("content-type")||(typeof p=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b&&URLSearchParams.prototype.isPrototypeOf(p)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var p=f(this);if(p)return p;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var p,S,O=f(this);if(O)return O;if(this._bodyBlob)return O=this._bodyBlob,p=new FileReader,S=C(p),p.readAsText(O),S;if(this._bodyArrayBuffer)return Promise.resolve(function(k){for(var F=new Uint8Array(k),B=new Array(F.length),L=0;L<F.length;L++)B[L]=String.fromCharCode(F[L]);return B.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}function T(p,S){var O,k=(S=S||{}).body;if(p instanceof T){if(p.bodyUsed)throw new TypeError("Already read");this.url=p.url,this.credentials=p.credentials,S.headers||(this.headers=new u(p.headers)),this.method=p.method,this.mode=p.mode,k||p._bodyInit==null||(k=p._bodyInit,p.bodyUsed=!0)}else this.url=String(p);if(this.credentials=S.credentials||this.credentials||"omit",!S.headers&&this.headers||(this.headers=new u(S.headers)),this.method=(p=S.method||this.method||"GET",O=p.toUpperCase(),-1<l.indexOf(O)?O:p),this.mode=S.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&k)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(k)}function _(p){var S=new FormData;return p.trim().split("&").forEach(function(O){var k;O&&(k=(O=O.split("=")).shift().replace(/\+/g," "),O=O.join("=").replace(/\+/g," "),S.append(decodeURIComponent(k),decodeURIComponent(O)))}),S}function M(p,S){S=S||{},this.type="default",this.status=S.status===void 0?200:S.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in S?S.statusText:"OK",this.headers=new u(S.headers),this.url=S.url||"",this._initBody(p)}y.fetch||(b="URLSearchParams"in y,h="Symbol"in y&&"iterator"in Symbol,d="FileReader"in y&&"Blob"in y&&function(){try{return new Blob,!0}catch{return!1}}(),v="FormData"in y,(m="ArrayBuffer"in y)&&(n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(p){return p&&DataView.prototype.isPrototypeOf(p)},a=ArrayBuffer.isView||function(p){return p&&-1<n.indexOf(Object.prototype.toString.call(p))}),u.prototype.append=function(p,S){p=r(p),S=s(S);var O=this.map[p];this.map[p]=O?O+","+S:S},u.prototype.delete=function(p){delete this.map[r(p)]},u.prototype.get=function(p){return p=r(p),this.has(p)?this.map[p]:null},u.prototype.has=function(p){return this.map.hasOwnProperty(r(p))},u.prototype.set=function(p,S){this.map[r(p)]=s(S)},u.prototype.forEach=function(p,S){for(var O in this.map)this.map.hasOwnProperty(O)&&p.call(S,this.map[O],O,this)},u.prototype.keys=function(){var p=[];return this.forEach(function(S,O){p.push(O)}),o(p)},u.prototype.values=function(){var p=[];return this.forEach(function(S){p.push(S)}),o(p)},u.prototype.entries=function(){var p=[];return this.forEach(function(S,O){p.push([O,S])}),o(p)},h&&(u.prototype[Symbol.iterator]=u.prototype.entries),l=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},x.call(T.prototype),x.call(M.prototype),M.prototype.clone=function(){return new M(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},M.error=function(){var p=new M(null,{status:0,statusText:""});return p.type="error",p},c=[301,302,303,307,308],M.redirect=function(p,S){if(c.indexOf(S)===-1)throw new RangeError("Invalid status code");return new M(null,{status:S,headers:{location:p}})},y.Headers=u,y.Request=T,y.Response=M,y.fetch=function(p,S){return new Promise(function(O,k){var F=new T(p,S),B=new XMLHttpRequest;B.onload=function(){var L,G={status:B.status,statusText:B.statusText,headers:(G=B.getAllResponseHeaders()||"",L=new u,G.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(P){var P=P.split(":"),w=P.shift().trim();w&&(P=P.join(":").trim(),L.append(w,P))}),L)},K=(G.url="responseURL"in B?B.responseURL:G.headers.get("X-Request-URL"),"response"in B?B.response:B.responseText);O(new M(K,G))},B.onerror=function(){k(new TypeError("Network request failed"))},B.ontimeout=function(){k(new TypeError("Network request failed"))},B.open(F.method,F.url,!0),F.credentials==="include"?B.withCredentials=!0:F.credentials==="omit"&&(B.withCredentials=!1),"responseType"in B&&d&&(B.responseType="blob"),F.headers.forEach(function(L,G){B.setRequestHeader(G,L)}),B.send(F._bodyInit===void 0?null:F._bodyInit)})},y.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],259:[function(t,X,I){"use strict";t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y,b=d(t("../core/main")),h=d(t("../color/color_conversion"));function d(n){return n&&n.__esModule?n:{default:n}}var v=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],m=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];b.default.prototype._rgbColorName=function(l){var i,a,l=h.default._rgbaToHSBA(l),c=[(y=l)[0],l[1],l[2]];c[0]!==0&&(c[0]=Math.round(100*c[0]),(l=c[0].toString().split(""))[a=l.length-1]=parseInt(l[a]),l[a]<2.5?l[a]=0:2.5<=l[a]&&l[a]<7.5&&(l[a]=5),l.length===2?(l[0]=parseInt(l[0]),7.5<=l[a]&&(l[a]=0,l[0]=l[0]+1),c[0]=10*l[0]+l[1]):7.5<=l[a]?c[0]=10:c[0]=l[a]),c[2]=c[2]/255;for(var r=c.length-1;1<=r;r--)c[r]<=.25?c[r]=0:.25<c[r]&&c[r]<.75?c[r]=.5:c[r]=1;if(c[0]===0&&c[1]===0&&c[2]===1){for(var s=2;0<=s;s--)y[s]=Math.round(1e4*y[s])/1e4;for(var o=0;o<v.length;o++){if(v[o].h===y[0]&&v[o].s===y[1]&&v[o].b===y[2]){i=v[o].name;break}i="white"}}else for(var u=0;u<m.length;u++)if(m[u].h===c[0]&&m[u].s===c[1]&&m[u].b===c[2]){i=m[u].name;break}return i},t=b.default,I.default=t},{"../color/color_conversion":265,"../core/main":280,"core-js/modules/es.function.name":173,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203}],260:[function(t,X,I){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t},b="_Description",h="_fallbackDesc",d="_fallbackTable",v="_Label",m="_labelDesc",n="_labelTable";function i(a){if(a==="label"||a==="fallback")throw new Error("description should not be LABEL or FALLBACK");return a.endsWith(".")||a.endsWith(";")||a.endsWith(",")||a.endsWith("?")||a.endsWith("!")||(a+="."),a}y.default.prototype.describe=function(a,l){var c;y.default._validateParameters("describe",arguments),typeof a=="string"&&(c=this.canvas.id,a=i(a),this.dummyDOM||(this.dummyDOM=document.getElementById(c).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==a&&(this.descriptions.fallback.innerHTML=a):this._describeHTML("fallback",a),l===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==a&&(this.descriptions.label.innerHTML=a):this._describeHTML("label",a)))},y.default.prototype.describeElement=function(a,l,c){var r,s;y.default._validateParameters("describeElement",arguments),typeof l=="string"&&typeof a=="string"&&(r=this.canvas.id,l=i(l),s=function(o){if(o==="label"||o==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return o.endsWith(".")||o.endsWith(";")||o.endsWith(",")?o=o.replace(/.$/,":"):o.endsWith(":")||(o+=":"),o}(a),a=a.replace(/[^a-zA-Z0-9]/g,""),s='<th scope="row">'.concat(s,"</th><td>").concat(l,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(r).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[a]?this.descriptions.fallbackElements[a].innerHTML!==s&&(this.descriptions.fallbackElements[a].innerHTML=s):this._describeElementHTML("fallback",a,s),c===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[a]?this.descriptions.labelElements[a].innerHTML!==s&&(this.descriptions.labelElements[a].innerHTML=s):this._describeElementHTML("label",a,s)))},y.default.prototype._describeHTML=function(a,l){var c,r=this.canvas.id;a==="fallback"?(this.dummyDOM.querySelector("#".concat(r+b))?this.dummyDOM.querySelector("#"+r+d).insertAdjacentHTML("beforebegin",'<p id="'.concat(r+h,'"></p>')):(c='<div id="'.concat(r).concat(b,'" role="region" aria-label="Canvas Description"><p id="').concat(r).concat(h,'"></p></div>'),this.dummyDOM.querySelector("#".concat(r,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(r,"accessibleOutput")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#".concat(r)).innerHTML=c),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(r).concat(h)),this.descriptions.fallback.innerHTML=l):a==="label"&&(this.dummyDOM.querySelector("#".concat(r+v))?this.dummyDOM.querySelector("#".concat(r+n))&&this.dummyDOM.querySelector("#".concat(r+n)).insertAdjacentHTML("beforebegin",'<p id="'.concat(r).concat(m,'"></p>')):(c='<div id="'.concat(r).concat(v,'" class="p5Label"><p id="').concat(r).concat(m,'"></p></div>'),this.dummyDOM.querySelector("#".concat(r,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(r,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",c):this.dummyDOM.querySelector("#"+r).insertAdjacentHTML("afterend",c)),this.descriptions.label=this.dummyDOM.querySelector("#"+r+m),this.descriptions.label.innerHTML=l)},y.default.prototype._describeElementHTML=function(a,l,c){var r,s=this.canvas.id;a==="fallback"?(this.dummyDOM.querySelector("#".concat(s+b))?this.dummyDOM.querySelector("#"+s+d)||this.dummyDOM.querySelector("#"+s+h).insertAdjacentHTML("afterend",'<table id="'.concat(s).concat(d,'"><caption>Canvas elements and their descriptions</caption></table>')):(r='<div id="'.concat(s).concat(b,'" role="region" aria-label="Canvas Description"><table id="').concat(s).concat(d,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(s,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(s,"accessibleOutput")).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#"+s).innerHTML=r),(r=document.createElement("tr")).id=s+"_fte_"+l,this.dummyDOM.querySelector("#"+s+d).appendChild(r),this.descriptions.fallbackElements[l]=this.dummyDOM.querySelector("#".concat(s).concat("_fte_").concat(l)),this.descriptions.fallbackElements[l].innerHTML=c):a==="label"&&(this.dummyDOM.querySelector("#".concat(s+v))?this.dummyDOM.querySelector("#".concat(s+n))||this.dummyDOM.querySelector("#"+s+m).insertAdjacentHTML("afterend",'<table id="'.concat(s+n,'"></table>')):(r='<div id="'.concat(s).concat(v,'" class="p5Label"><table id="').concat(s).concat(n,'"></table></div>'),this.dummyDOM.querySelector("#".concat(s,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(s,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#"+s).insertAdjacentHTML("afterend",r)),(a=document.createElement("tr")).id=s+"_lte_"+l,this.dummyDOM.querySelector("#"+s+n).appendChild(a),this.descriptions.labelElements[l]=this.dummyDOM.querySelector("#".concat(s).concat("_lte_").concat(l)),this.descriptions.labelElements[l].innerHTML=c)},t=y.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.replace":201}],261:[function(t,X,I){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(y){var b,h,d,v;this.dummyDOM.querySelector("#".concat(y,"_summary"))&&(b=this._accessibleOutputs[y],d=function(m,n,i,a){return n="".concat(n," canvas, ").concat(i," by ").concat(a," pixels, contains ").concat(m[0]),n=(m[0]===1?"".concat(n," shape: "):"".concat(n," shapes: ")).concat(m[1]),n}((h=function(m,n){var i,a="",l="",c=0;for(i in n){var r,s=0;for(r in n[i]){var o='<li id="'.concat(m,"shape").concat(c,'">').concat(n[i][r].color," ").concat(i,",");i==="line"?o+=" location = ".concat(n[i][r].pos,", length = ").concat(n[i][r].length," pixels"):(o+=" location = ".concat(n[i][r].pos),i!=="point"&&(o+=", area = ".concat(n[i][r].area," %")),o+="</li>"),a+=o,s++,c++}l=1<s?"".concat(l," ").concat(s," ").concat(i,"s"):"".concat(l," ").concat(s," ").concat(i)}return{numShapes:[c,l],details:a}}(y,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),v=function(m,n){var i,a,l=0,c="",r=Array.from(Array(10),function(){return Array(10)});for(i in n)for(var s in n[i]){var o=void 0;o=i!=="line"?'<a href="#'.concat(m,"shape").concat(l,'">').concat(n[i][s].color," ").concat(i,"</a>"):'<a href="#'.concat(m,"shape").concat(l,'">').concat(n[i][s].color," ").concat(i," midpoint</a>"),r[n[i][s].loc.locY][n[i][s].loc.locX]?r[n[i][s].loc.locY][n[i][s].loc.locX]=r[n[i][s].loc.locY][n[i][s].loc.locX]+"  "+o:r[n[i][s].loc.locY][n[i][s].loc.locX]=o,l++}for(a in r){var u,f="<tr>";for(u in r[a])f+="<td>",r[a][u]!==void 0&&(f+=r[a][u]),f+="</td>";c=c+f+"</tr>"}return c}(y,this.ingredients.shapes),d!==b.summary.innerHTML&&(b.summary.innerHTML=d),v!==b.map.innerHTML&&(b.map.innerHTML=v),h.details!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=h.details),this._accessibleOutputs[y]=b)},t=t.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.map":167,"core-js/modules/es.string.iterator":197}],262:[function(t,X,I){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function b(d){return function(v){if(Array.isArray(v)){for(var m=0,n=new Array(v.length);m<v.length;m++)n[m]=v[m];return n}}(d)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(d,v,m){return v=Math.floor(d[0]/v*10),d=Math.floor(d[1]/m*10),v===10&&(v-=1),d===10&&(d-=1),{locX:v,locY:d}}y.default.prototype.textOutput=function(d){y.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},y.default.prototype.gridOutput=function(d){y.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},y.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},y.default.prototype._createOutput=function(d,v){var m,n,i,a=this.canvas.id,l=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(a).parentNode),"");v==="Fallback"?(m=a+d,this.dummyDOM.querySelector("#".concat(n=a+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(a,"_Description"))?this.dummyDOM.querySelector("#".concat(a,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(a)).innerHTML='<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>'))):v==="Label"&&(m=a+d+(l=v),this.dummyDOM.querySelector("#".concat(n=a+"accessibleOutput"+v))||(this.dummyDOM.querySelector("#".concat(a,"_Label"))?this.dummyDOM.querySelector("#".concat(a,"_Label")):this.dummyDOM.querySelector("#".concat(a))).insertAdjacentHTML("afterend",'<div id="'.concat(n,'"></div>'))),this._accessibleOutputs[m]={},d==="textOutput"?(l="#".concat(a,"gridOutput").concat(l),i='<div id="'.concat(m,'">Text Output<div id="').concat(m,'Summary" aria-label="text output summary"><p id="').concat(m,'_summary"></p><ul id="').concat(m,'_list"></ul></div><table id="').concat(m,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(l)?this.dummyDOM.querySelector(l).insertAdjacentHTML("beforebegin",i):this.dummyDOM.querySelector("#".concat(n)).innerHTML=i,this._accessibleOutputs[m].list=this.dummyDOM.querySelector("#".concat(m,"_list"))):d==="gridOutput"&&(l="#".concat(a,"textOutput").concat(l),i='<div id="'.concat(m,'">Grid Output<p id="').concat(m,'_summary" aria-label="grid output summary"><table id="').concat(m,'_map" summary="grid output content"></table><ul id="').concat(m,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(l)?this.dummyDOM.querySelector(l).insertAdjacentHTML("afterend",i):this.dummyDOM.querySelector("#".concat(n)).innerHTML=i,this._accessibleOutputs[m].map=this.dummyDOM.querySelector("#".concat(m,"_map"))),this._accessibleOutputs[m].shapeDetails=this.dummyDOM.querySelector("#".concat(m,"_shapeDetails")),this._accessibleOutputs[m].summary=this.dummyDOM.querySelector("#".concat(m,"_summary"))},y.default.prototype._updateAccsOutput=function(){var d=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(d+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(d+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(d+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(d+"gridOutputLabel"))},y.default.prototype._accsBackground=function(d){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==d&&(this.ingredients.colors.backgroundRGBA=d,this.ingredients.colors.background=this._rgbColorName(d))},y.default.prototype._accsCanvasColors=function(d,v){d==="fill"?this.ingredients.colors.fillRGBA!==v&&(this.ingredients.colors.fillRGBA=v,this.ingredients.colors.fill=this._rgbColorName(v)):d==="stroke"&&this.ingredients.colors.strokeRGBA!==v&&(this.ingredients.colors.strokeRGBA=v,this.ingredients.colors.stroke=this._rgbColorName(v))},y.default.prototype._accsOutput=function(d,v){d==="ellipse"&&v[2]===v[3]?d="circle":d==="rectangle"&&v[2]===v[3]&&(d="square");var m,n,i={},a=!0,l=function(r,s){var o;return r=r==="rectangle"||r==="ellipse"||r==="arc"||r==="circle"||r==="square"?(o=Math.round(s[0]+s[2]/2),Math.round(s[1]+s[3]/2)):r==="triangle"?(o=(s[0]+s[2]+s[4])/3,(s[1]+s[3]+s[5])/3):r==="quadrilateral"?(o=(s[0]+s[2]+s[4]+s[6])/4,(s[1]+s[3]+s[5]+s[7])/4):r==="line"?(o=(s[0]+s[2])/2,(s[1]+s[3])/2):(o=s[0],s[1]),[o,r]}(d,v);if(d==="line"?(i.color=this.ingredients.colors.stroke,i.length=Math.round(this.dist(v[0],v[1],v[2],v[3])),m=this._getPos(v[0],[1]),n=this._getPos(v[2],[3]),i.loc=h(l,this.width,this.height),i.pos=m===n?"at ".concat(m):"from ".concat(m," to ").concat(n)):(d==="point"?i.color=this.ingredients.colors.stroke:(i.color=this.ingredients.colors.fill,i.area=this._getArea(d,v)),i.pos=this._getPos.apply(this,b(l)),i.loc=h(l,this.width,this.height)),this.ingredients.shapes[d]){if(this.ingredients.shapes[d]!==[i]){for(var c in this.ingredients.shapes[d])JSON.stringify(this.ingredients.shapes[d][c])===JSON.stringify(i)&&(a=!1);a===!0&&this.ingredients.shapes[d].push(i)}}else this.ingredients.shapes[d]=[i]},y.default.prototype._getPos=function(n,m){var n=new DOMPointReadOnly(n,m),m=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),n=n.matrixTransform(m),m=n.x,n=n.y,i=this.width*this._pixelDensity,a=this.height*this._pixelDensity;return m<.4*i?n<.4*a?"top left":.6*a<n?"bottom left":"mid left":.6*i<m?n<.4*a?"top right":.6*a<n?"bottom right":"mid right":n<.4*a?"top middle":.6*a<n?"bottom middle":"middle"},y.default.prototype._getArea=function(d,v){var m,n,i=0,a=(d==="arc"?(i=(m=((v[5]-v[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*v[2]*v[3]/8,v[6]!=="open"&&v[6]!=="chord"||(n=v[0],s=v[1],a=v[0]+v[2]/2*Math.cos(v[4]).toFixed(2),o=v[1]+v[3]/2*Math.sin(v[4]).toFixed(2),c=v[0]+v[2]/2*Math.cos(v[5]).toFixed(2),l=v[1]+v[3]/2*Math.sin(v[5]).toFixed(2),n=Math.abs(n*(o-l)+a*(l-s)+c*(s-o))/2,m>Math.PI?i+=n:i-=n)):d==="ellipse"||d==="circle"?i=3.14*v[2]/2*v[3]/2:d==="line"||d==="point"?i=0:d==="quadrilateral"?i=Math.abs((v[6]+v[0])*(v[7]-v[1])+(v[0]+v[2])*(v[1]-v[3])+(v[2]+v[4])*(v[3]-v[5])+(v[4]+v[6])*(v[5]-v[7]))/2:d==="rectangle"||d==="square"?i=v[2]*v[3]:d==="triangle"&&(i=Math.abs(v[0]*(v[3]-v[5])+v[2]*(v[5]-v[1])+v[4]*(v[1]-v[3]))/2),this.width*this._pixelDensity),l=this.height*this._pixelDensity,c=[new DOMPoint(0,0),new DOMPoint(a,0),new DOMPoint(a,l),new DOMPoint(0,l)],r=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),s=c.map(function(u){return u.matrixTransform(r)}),o=Math.abs((s[3].x+s[0].x)*(s[3].y-s[0].y)+(s[0].x+s[1].x)*(s[0].y-s[1].y)+(s[1].x+s[2].x)*(s[1].y-s[2].y)+(s[2].x+s[3].x)*(s[2].y-s[3].y))/2;return Math.round(100*i/o)},t=y.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],263:[function(t,X,I){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(y){var b,h,d,v;this.dummyDOM.querySelector("#".concat(y,"_summary"))&&(b=this._accessibleOutputs[y],d=function(m,n,i,a){return i="Your output is a, ".concat(i," by ").concat(a," pixels, ").concat(n," canvas containing the following"),i=m===1?"".concat(i," shape:"):"".concat(i," ").concat(m," shapes:"),i}((h=function(m,n){var i,a="",l=0;for(i in n)for(var c in n[i]){var r='<li><a href="#'.concat(m,"shape").concat(l,'">').concat(n[i][c].color," ").concat(i,"</a>");i==="line"?r+=", ".concat(n[i][c].pos,", ").concat(n[i][c].length," pixels long.</li>"):(r+=", at ".concat(n[i][c].pos),i!=="point"&&(r+=", covering ".concat(n[i][c].area,"% of the canvas")),r+=".</li>"),a+=r,l++}return{numShapes:l,listShapes:a}}(y,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),v=function(m,n){var i,a="",l=0;for(i in n)for(var c in n[i]){var r='<tr id="'.concat(m,"shape").concat(l,'"><th>').concat(n[i][c].color," ").concat(i,"</th>");i==="line"?r+="<td>location = ".concat(n[i][c].pos,"</td><td>length = ").concat(n[i][c].length," pixels</td></tr>"):(r+="<td>location = ".concat(n[i][c].pos,"</td>"),i!=="point"&&(r+="<td> area = ".concat(n[i][c].area,"%</td>")),r+="</tr>"),a+=r,l++}return a}(y,this.ingredients.shapes),d!==b.summary.innerHTML&&(b.summary.innerHTML=d),h.listShapes!==b.list.innerHTML&&(b.list.innerHTML=h.listShapes),v!==b.shapeDetails.innerHTML&&(b.shapeDetails.innerHTML=v),this._accessibleOutputs[y]=b)},t=t.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152}],264:[function(t,X,I){"use strict";var y=(y=t("./core/main"))&&y.__esModule?y:{default:y};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),X.exports=y.default},{"./accessibility/color_namer":259,"./accessibility/describe":260,"./accessibility/gridOutput":261,"./accessibility/outputs":262,"./accessibility/textOutput":263,"./color/color_conversion":265,"./color/creating_reading":266,"./color/p5.Color":267,"./color/setting":268,"./core/constants":269,"./core/environment":270,"./core/friendly_errors/fes_core":271,"./core/friendly_errors/file_errors":272,"./core/friendly_errors/sketch_reader":273,"./core/friendly_errors/stacktrace":274,"./core/friendly_errors/validate_params":275,"./core/helpers":276,"./core/init":277,"./core/legacy":279,"./core/main":280,"./core/p5.Element":281,"./core/p5.Graphics":282,"./core/p5.Renderer":283,"./core/p5.Renderer2D":284,"./core/preload":285,"./core/rendering":286,"./core/shape/2d_primitives":287,"./core/shape/attributes":288,"./core/shape/curves":289,"./core/shape/vertex":290,"./core/shim":291,"./core/structure":292,"./core/transform":293,"./data/local_storage.js":294,"./data/p5.TypedDict":295,"./dom/dom":296,"./events/acceleration":297,"./events/keyboard":298,"./events/mouse":299,"./events/touch":300,"./image/filters":301,"./image/image":302,"./image/loading_displaying":303,"./image/p5.Image":304,"./image/pixels":305,"./io/files":306,"./io/p5.Table":307,"./io/p5.TableRow":308,"./io/p5.XML":309,"./math/calculation":310,"./math/math":311,"./math/noise":312,"./math/p5.Vector":313,"./math/random":314,"./math/trigonometry":315,"./typography/attributes":316,"./typography/loading_displaying":317,"./typography/p5.Font":318,"./utilities/array_functions":319,"./utilities/conversion":320,"./utilities/string_functions":321,"./utilities/time_date":322,"./webgl/3d_primitives":323,"./webgl/interaction":325,"./webgl/light":326,"./webgl/loading":327,"./webgl/material":328,"./webgl/p5.Camera":329,"./webgl/p5.DataArray":330,"./webgl/p5.Framebuffer":331,"./webgl/p5.Geometry":332,"./webgl/p5.Matrix":333,"./webgl/p5.RenderBuffer":334,"./webgl/p5.RendererGL":337,"./webgl/p5.RendererGL.Immediate":335,"./webgl/p5.RendererGL.Retained":336,"./webgl/p5.Shader":338,"./webgl/p5.Texture":339,"./webgl/text":340}],265:[function(t,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(y){var b=y[0],h=y[1],d=y[2],v=(2-h)*d/2;return v!=0&&(v==1?h=0:v<.5?h/=2-h:h=h*d/(2-2*v)),[b,h,v,y[3]]},_hsbaToRGBA:function(y){var b,h,d,v,m,n=6*y[0],i=y[1],a=y[2];return i===0?[a,a,a,y[3]]:(h=a*(1-i),d=a*(1-i*(n-(b=Math.floor(n)))),i=a*(1-i*(1+b-n)),n=b===1?(v=d,m=a,h):b===2?(v=h,m=a,i):b===3?(v=h,m=d,a):b===4?(v=i,m=h,a):b===5?(v=a,m=h,d):(v=a,m=i,h),[v,m,n,y[3]])},_hslaToHSBA:function(y){var b=y[0],h=y[1],d=y[2],v=d<.5?(1+h)*d:d+h-d*h;return[b,h=2*(v-d)/v,v,y[3]]},_hslaToRGBA:function(y){var b,h=6*y[0],d=y[1],v=y[2];return d===0?[v,v,v,y[3]]:[(b=function(m,n,i){return m<0?m+=6:6<=m&&(m-=6),m<1?n+(i-n)*m:m<3?i:m<4?n+(i-n)*(4-m):n})(2+h,d=2*v-(v=v<.5?(1+d)*v:v+d-v*d),v),b(h,d,v),b(h-2,d,v),y[3]]},_rgbaToHSBA:function(y){var b,h,d=y[0],v=y[1],m=y[2],n=Math.max(d,v,m),i=n-Math.min(d,v,m);return i==0?h=b=0:(h=i/n,d===n?b=(v-m)/i:v===n?b=2+(m-d)/i:m===n&&(b=4+(d-v)/i),b<0?b+=6:6<=b&&(b-=6)),[b/6,h,n,y[3]]},_rgbaToHSLA:function(y){var b,h,d=y[0],v=y[1],m=y[2],n=Math.max(d,v,m),a=Math.min(d,v,m),i=n+a,a=n-a;return a==0?h=b=0:(h=i<1?a/i:a/(2-i),d===n?b=(v-m)/a:v===n?b=2+(m-d)/a:m===n&&(b=4+(d-v)/a),b<0?b+=6:6<=b&&(b-=6)),[b/6,h,i/2,y[3]]}},t=t.default.ColorConversion,I.default=t},{"../core/main":280}],266:[function(t,X,I){"use strict";function y(n){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(n)}function b(n){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=function(n){if(n&&n.__esModule)return n;if(n===null||b(n)!=="object"&&typeof n!="function")return{default:n};var i=v();if(i&&i.has(n))return i.get(n);var a,l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var r;Object.prototype.hasOwnProperty.call(n,a)&&((r=c?Object.getOwnPropertyDescriptor(n,a):null)&&(r.get||r.set)?Object.defineProperty(l,a,r):l[a]=n[a])}return l.default=n,i&&i.set(n,l),l}(t("../core/constants"));function v(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,v=function(){return n},n)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),h.default.prototype.alpha=function(n){return h.default._validateParameters("alpha",arguments),this.color(n)._getAlpha()},h.default.prototype.blue=function(n){return h.default._validateParameters("blue",arguments),this.color(n)._getBlue()},h.default.prototype.brightness=function(n){return h.default._validateParameters("brightness",arguments),this.color(n)._getBrightness()},h.default.prototype.color=function(){for(var n,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return h.default._validateParameters("color",a),a[0]instanceof h.default.Color?a[0]:(n=Array.isArray(a[0])?a[0]:a,new h.default.Color(this,n))},h.default.prototype.green=function(n){return h.default._validateParameters("green",arguments),this.color(n)._getGreen()},h.default.prototype.hue=function(n){return h.default._validateParameters("hue",arguments),this.color(n)._getHue()},h.default.prototype.lerpColor=function(n,i,a){h.default._validateParameters("lerpColor",arguments);var l,c,r,s=this._colorMode,o=this._colorMaxes;if(s===d.RGB)c=n.levels.map(function(u){return u/255}),r=i.levels.map(function(u){return u/255});else if(s===d.HSB)n._getBrightness(),i._getBrightness(),c=n.hsba,r=i.hsba;else{if(s!==d.HSL)throw new Error("".concat(s," cannot be used for interpolation."));n._getLightness(),i._getLightness(),c=n.hsla,r=i.hsla}return a=Math.max(Math.min(a,1),0),this.lerp===void 0&&(this.lerp=function(u,f,C){return C*(f-u)+u}),s===d.RGB?l=this.lerp(c[0],r[0],a):(.5<Math.abs(c[0]-r[0])&&(c[0]>r[0]?r[0]+=1:c[0]+=1),1<=(l=this.lerp(c[0],r[0],a))&&--l),n=this.lerp(c[1],r[1],a),i=this.lerp(c[2],r[2],a),c=this.lerp(c[3],r[3],a),l*=o[s][0],n*=o[s][1],i*=o[s][2],c*=o[s][3],this.color(l,n,i,c)},h.default.prototype.lightness=function(n){return h.default._validateParameters("lightness",arguments),this.color(n)._getLightness()},h.default.prototype.red=function(n){return h.default._validateParameters("red",arguments),this.color(n)._getRed()},h.default.prototype.saturation=function(n){return h.default._validateParameters("saturation",arguments),this.color(n)._getSaturation()};var m=h.default;I.default=m},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],267:[function(l,X,I){"use strict";function y(u){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}function b(u){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(f){return y(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":y(f)})(u)}l("core-js/modules/es.symbol"),l("core-js/modules/es.symbol.description"),l("core-js/modules/es.symbol.iterator"),l("core-js/modules/es.array.includes"),l("core-js/modules/es.array.iterator"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.map"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.object.get-own-property-descriptor"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.regexp.constructor"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),l("core-js/modules/es.string.includes"),l("core-js/modules/es.string.iterator"),l("core-js/modules/es.string.trim"),l("core-js/modules/es.weak-map"),l("core-js/modules/web.dom-collections.iterator"),l("core-js/modules/es.array.includes"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.map"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.regexp.constructor"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),l("core-js/modules/es.string.includes"),l("core-js/modules/es.string.trim"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=n(l("../core/main")),d=function(u){if(u&&u.__esModule)return u;if(u===null||b(u)!=="object"&&typeof u!="function")return{default:u};var f=m();if(f&&f.has(u))return f.get(u);var C,E={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in u){var x;Object.prototype.hasOwnProperty.call(u,C)&&((x=j?Object.getOwnPropertyDescriptor(u,C):null)&&(x.get||x.set)?Object.defineProperty(E,C,x):E[C]=u[C])}return E.default=u,f&&f.set(u,E),E}(l("../core/constants")),v=n(l("./color_conversion"));function m(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,m=function(){return u},u)}function n(u){return u&&u.__esModule?u:{default:u}}function i(u,f){for(var C=0;C<f.length;C++){var E=f[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(u,E.key,E)}}var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},l=/\s*/,o=/(\d{1,3})/,c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,r=new RegExp("".concat(c.source,"%")),s={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",o.source,",",o.source,",",o.source,"\\)$"].join(l.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",r.source,",",r.source,",",r.source,"\\)$"].join(l.source),"i"),RGBA:new RegExp(["^rgba\\(",o.source,",",o.source,",",o.source,",",c.source,"\\)$"].join(l.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",r.source,",",r.source,",",r.source,",",c.source,"\\)$"].join(l.source),"i"),HSL:new RegExp(["^hsl\\(",o.source,",",r.source,",",r.source,"\\)$"].join(l.source),"i"),HSLA:new RegExp(["^hsla\\(",o.source,",",r.source,",",r.source,",",c.source,"\\)$"].join(l.source),"i"),HSB:new RegExp(["^hsb\\(",o.source,",",r.source,",",r.source,"\\)$"].join(l.source),"i"),HSBA:new RegExp(["^hsba\\(",o.source,",",r.source,",",r.source,",",c.source,"\\)$"].join(l.source),"i")},o=(h.default.Color=function(){function u(j,x){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(j._colorMode,j._colorMaxes),![d.RGB,d.HSL,d.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=u._parseInputs.apply(this,x),this._calculateLevels()}var f,C,E;return f=u,E=[{key:"_parseInputs",value:function(j,x,T,_){var M,p=arguments.length,S=this.mode,O=this.maxes[S],k=[];if(3<=p){for(k[0]=j/O[0],k[1]=x/O[1],k[2]=T/O[2],k[3]=typeof _=="number"?_/O[3]:1,M=k.length-1;0<=M;--M){var F=k[M];F<0?k[M]=0:1<F&&(k[M]=1)}return S===d.HSL?v.default._hslaToRGBA(k):S===d.HSB?v.default._hsbaToRGBA(k):k}if(p===1&&typeof j=="string"){if(T=j.trim().toLowerCase(),a[T])return u._parseInputs.call(this,a[T]);if(s.HEX3.test(T))return(k=s.HEX3.exec(T).slice(1).map(function(B){return parseInt(B+B,16)/255}))[3]=1,k;if(s.HEX6.test(T))return(k=s.HEX6.exec(T).slice(1).map(function(B){return parseInt(B,16)/255}))[3]=1,k;if(s.HEX4.test(T))return k=s.HEX4.exec(T).slice(1).map(function(B){return parseInt(B+B,16)/255});if(s.HEX8.test(T))return k=s.HEX8.exec(T).slice(1).map(function(B){return parseInt(B,16)/255});if(s.RGB.test(T))return(k=s.RGB.exec(T).slice(1).map(function(B){return B/255}))[3]=1,k;if(s.RGB_PERCENT.test(T))return(k=s.RGB_PERCENT.exec(T).slice(1).map(function(B){return parseFloat(B)/100}))[3]=1,k;if(s.RGBA.test(T))return k=s.RGBA.exec(T).slice(1).map(function(B,L){return L===3?parseFloat(B):B/255});if(s.RGBA_PERCENT.test(T))return k=s.RGBA_PERCENT.exec(T).slice(1).map(function(B,L){return L===3?parseFloat(B):parseFloat(B)/100});if(s.HSL.test(T)?(k=s.HSL.exec(T).slice(1).map(function(B,L){return L===0?parseInt(B,10)/360:parseInt(B,10)/100}))[3]=1:s.HSLA.test(T)&&(k=s.HSLA.exec(T).slice(1).map(function(B,L){return L===0?parseInt(B,10)/360:L===3?parseFloat(B):parseInt(B,10)/100})),(k=k.map(function(B){return Math.max(Math.min(B,1),0)})).length)return v.default._hslaToRGBA(k);if(s.HSB.test(T)?(k=s.HSB.exec(T).slice(1).map(function(B,L){return L===0?parseInt(B,10)/360:parseInt(B,10)/100}))[3]=1:s.HSBA.test(T)&&(k=s.HSBA.exec(T).slice(1).map(function(B,L){return L===0?parseInt(B,10)/360:L===3?parseFloat(B):parseInt(B,10)/100})),k.length){for(M=k.length-1;0<=M;--M)k[M]=Math.max(Math.min(k[M],1),0);return v.default._hsbaToRGBA(k)}k=[1,1,1,1]}else{if(p!==1&&p!==2||typeof j!="number")throw new Error("".concat(arguments,"is not a valid color representation."));k[0]=j/O[2],k[1]=j/O[2],k[2]=j/O[2],k[3]=typeof x=="number"?x/O[3]:1,k=k.map(function(B){return Math.max(Math.min(B,1),0)})}return k}}],(C=[{key:"toString",value:function(j){var x=this.levels,T=this._array,_=T[3];switch(j){case"#rrggbb":return"#".concat(x[0]<16?"0".concat(x[0].toString(16)):x[0].toString(16),x[1]<16?"0".concat(x[1].toString(16)):x[1].toString(16),x[2]<16?"0".concat(x[2].toString(16)):x[2].toString(16));case"#rrggbbaa":return"#".concat(x[0]<16?"0".concat(x[0].toString(16)):x[0].toString(16),x[1]<16?"0".concat(x[1].toString(16)):x[1].toString(16),x[2]<16?"0".concat(x[2].toString(16)):x[2].toString(16),x[3]<16?"0".concat(x[3].toString(16)):x[3].toString(16));case"#rgb":return"#".concat(Math.round(15*T[0]).toString(16),Math.round(15*T[1]).toString(16),Math.round(15*T[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*T[0]).toString(16),Math.round(15*T[1]).toString(16),Math.round(15*T[2]).toString(16),Math.round(15*T[3]).toString(16));case"rgb":return"rgb(".concat(x[0],", ",x[1],", ",x[2],")");case"rgb%":return"rgb(".concat((100*T[0]).toPrecision(3),"%, ",(100*T[1]).toPrecision(3),"%, ",(100*T[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*T[0]).toPrecision(3),"%, ",(100*T[1]).toPrecision(3),"%, ",(100*T[2]).toPrecision(3),"%, ",(100*T[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],", ",_,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*_).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],", ",_,")");case"hsla%":return this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*_).toPrecision(3),"%)");default:return"rgba(".concat(x[0],",",x[1],",",x[2],",",_,")")}}},{key:"setRed",value:function(j){this._array[0]=j/this.maxes[d.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(j){this._array[1]=j/this.maxes[d.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(j){this._array[2]=j/this.maxes[d.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(j){this._array[3]=j/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var j=this._array,x=this.levels=new Array(j.length),T=j.length-1;0<=T;--T)x[T]=Math.round(255*j[T]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(j,x){this.mode=j,this.maxes=x}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[d.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[d.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[d.RGB][1]}},{key:"_getHue",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[d.HSB][0]):(this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[d.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[d.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[d.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=v.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[d.HSB][1]):(this.hsla||(this.hsla=v.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[d.HSL][1])}}])&&i(f.prototype,C),E&&i(f,E),u}(),h.default.Color);I.default=o},{"../core/constants":269,"../core/main":280,"./color_conversion":265,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],268:[function(t,X,I){"use strict";function y(n){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(n)}function b(n){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=function(n){if(n&&n.__esModule)return n;if(n===null||b(n)!=="object"&&typeof n!="function")return{default:n};var i=v();if(i&&i.has(n))return i.get(n);var a,l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var r;Object.prototype.hasOwnProperty.call(n,a)&&((r=c?Object.getOwnPropertyDescriptor(n,a):null)&&(r.get||r.set)?Object.defineProperty(l,a,r):l[a]=n[a])}return l.default=n,i&&i.set(n,l),l}(t("../core/constants"));function v(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,v=function(){return n},n)}t("./p5.Color"),h.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},h.default.prototype.endClip=function(){this._renderer.endClip()},h.default.prototype.clip=function(n,i){this._renderer.beginClip(i),n(),this._renderer.endClip(i)},h.default.prototype.background=function(){var n;return(n=this._renderer).background.apply(n,arguments),this},h.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},h.default.prototype.colorMode=function(n,i,a,l,c){return h.default._validateParameters("colorMode",arguments),n!==d.RGB&&n!==d.HSB&&n!==d.HSL||(this._colorMode=n,n=this._colorMaxes[n],arguments.length===2?(n[0]=i,n[1]=i,n[2]=i,n[3]=i):arguments.length===4?(n[0]=i,n[1]=a,n[2]=l):arguments.length===5&&(n[0]=i,n[1]=a,n[2]=l,n[3]=c)),this},h.default.prototype.fill=function(){var n;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(n=this._renderer).fill.apply(n,arguments),this},h.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},h.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},h.default.prototype.stroke=function(){var n;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(n=this._renderer).stroke.apply(n,arguments),this},h.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},h.default.prototype.noErase=function(){return this._renderer.noErase(),this};var m=h.default;I.default=m},{"../core/constants":269,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],269:[function(t,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.QUADRATIC=I.LINEAR=I._CTX_MIDDLE=I._DEFAULT_LEADMULT=I._DEFAULT_TEXT_FILL=I.WORD=I.CHAR=I.BOLDITALIC=I.BOLD=I.ITALIC=I.NORMAL=I.BLUR=I.ERODE=I.DILATE=I.POSTERIZE=I.INVERT=I.OPAQUE=I.GRAY=I.THRESHOLD=I.BURN=I.DODGE=I.SOFT_LIGHT=I.HARD_LIGHT=I.OVERLAY=I.REPLACE=I.SCREEN=I.MULTIPLY=I.EXCLUSION=I.SUBTRACT=I.DIFFERENCE=I.LIGHTEST=I.DARKEST=I.ADD=I.REMOVE=I.BLEND=I.UP_ARROW=I.TAB=I.SHIFT=I.RIGHT_ARROW=I.RETURN=I.OPTION=I.LEFT_ARROW=I.ESCAPE=I.ENTER=I.DOWN_ARROW=I.DELETE=I.CONTROL=I.BACKSPACE=I.ALT=I.AUTO=I.HSL=I.HSB=I.RGB=I.MITER=I.BEVEL=I.ROUND=I.SQUARE=I.PROJECT=I.PIE=I.CHORD=I.OPEN=I.CLOSE=I.TESS=I.QUAD_STRIP=I.QUADS=I.TRIANGLE_STRIP=I.TRIANGLE_FAN=I.TRIANGLES=I.LINE_LOOP=I.LINE_STRIP=I.LINES=I.POINTS=I.BASELINE=I.BOTTOM=I.TOP=I.CENTER=I.LEFT=I.RIGHT=I.RADIUS=I.CORNERS=I.CORNER=I.RAD_TO_DEG=I.DEG_TO_RAD=I.RADIANS=I.DEGREES=I.TWO_PI=I.TAU=I.QUARTER_PI=I.PI=I.HALF_PI=I.WAIT=I.TEXT=I.MOVE=I.HAND=I.CROSS=I.ARROW=I.WEBGL2=I.WEBGL=I.P2D=I.VERSION=void 0,I.RGBA=I.HALF_FLOAT=I.FLOAT=I.UNSIGNED_INT=I.UNSIGNED_BYTE=I.COVER=I.CONTAIN=I.FALLBACK=I.LABEL=I.AXES=I.GRID=I._DEFAULT_FILL=I._DEFAULT_STROKE=I.PORTRAIT=I.LANDSCAPE=I.SMOOTH=I.FLAT=I.MIRROR=I.CLAMP=I.REPEAT=I.NEAREST=I.IMAGE=I.IMMEDIATE=I.TEXTURE=I.FILL=I.STROKE=I.CURVE=I.BEZIER=void 0;var y=Math.PI,b=(I.VERSION="1.9.4",I.P2D="p2d",I.WEBGL="webgl",I.WEBGL2="webgl2",I.ARROW="default",I.CROSS="crosshair",I.HAND="pointer",I.MOVE="move",I.TEXT="text",I.WAIT="wait",y/2),b=(I.HALF_PI=b,y),b=(I.PI=b,y/4),b=(I.QUARTER_PI=b,2*y),b=(I.TAU=b,2*y),b=(I.TWO_PI=b,I.DEGREES="degrees",I.RADIANS="radians",y/180),b=(I.DEG_TO_RAD=b,180/y);I.RAD_TO_DEG=b,I.CORNER="corner",I.CORNERS="corners",I.RADIUS="radius",I.RIGHT="right",I.LEFT="left",I.CENTER="center",I.TOP="top",I.BOTTOM="bottom",I.BASELINE="alphabetic",I.POINTS=0,I.LINES=1,I.LINE_STRIP=3,I.LINE_LOOP=2,I.TRIANGLES=4,I.TRIANGLE_FAN=6,I.TRIANGLE_STRIP=5,I.QUADS="quads",I.QUAD_STRIP="quad_strip",I.TESS="tess",I.CLOSE="close",I.OPEN="open",I.CHORD="chord",I.PIE="pie",I.PROJECT="square",I.SQUARE="butt",I.ROUND="round",I.BEVEL="bevel",I.MITER="miter",I.RGB="rgb",I.HSB="hsb",I.HSL="hsl",I.AUTO="auto",I.ALT=18,I.BACKSPACE=8,I.CONTROL=17,I.DELETE=46,I.DOWN_ARROW=40,I.ENTER=13,I.ESCAPE=27,I.LEFT_ARROW=37,I.OPTION=18,I.RETURN=13,I.RIGHT_ARROW=39,I.SHIFT=16,I.TAB=9,I.UP_ARROW=38,I.BLEND="source-over",I.REMOVE="destination-out",I.ADD="lighter",I.DARKEST="darken",I.LIGHTEST="lighten",I.DIFFERENCE="difference",I.SUBTRACT="subtract",I.EXCLUSION="exclusion",I.MULTIPLY="multiply",I.SCREEN="screen",I.REPLACE="copy",I.OVERLAY="overlay",I.HARD_LIGHT="hard-light",I.SOFT_LIGHT="soft-light",I.DODGE="color-dodge",I.BURN="color-burn",I.THRESHOLD="threshold",I.GRAY="gray",I.OPAQUE="opaque",I.INVERT="invert",I.POSTERIZE="posterize",I.DILATE="dilate",I.ERODE="erode",I.BLUR="blur",I.NORMAL="normal",I.ITALIC="italic",I.BOLD="bold",I.BOLDITALIC="bold italic",I.CHAR="CHAR",I.WORD="WORD",I._DEFAULT_TEXT_FILL="#000000",I._DEFAULT_LEADMULT=1.25,I._CTX_MIDDLE="middle",I.LINEAR="linear",I.QUADRATIC="quadratic",I.BEZIER="bezier",I.CURVE="curve",I.STROKE="stroke",I.FILL="fill",I.TEXTURE="texture",I.IMMEDIATE="immediate",I.IMAGE="image",I.NEAREST="nearest",I.REPEAT="repeat",I.CLAMP="clamp",I.MIRROR="mirror",I.FLAT="flat",I.SMOOTH="smooth",I.LANDSCAPE="landscape",I.PORTRAIT="portrait",I._DEFAULT_STROKE="#000000",I._DEFAULT_FILL="#FFFFFF",I.GRID="grid",I.AXES="axes",I.LABEL="label",I.FALLBACK="fallback",I.CONTAIN="contain",I.COVER="cover",I.UNSIGNED_BYTE="unsigned-byte",I.UNSIGNED_INT="unsigned-int",I.FLOAT="float",I.HALF_FLOAT="half-float",I.RGBA="rgba"},{}],270:[function(t,X,I){"use strict";function y(c){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(c)}function b(c){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(r){return y(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":y(r)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(d=t("./main"))&&d.__esModule?d:{default:d},d=function(c){if(c&&c.__esModule)return c;if(c===null||b(c)!=="object"&&typeof c!="function")return{default:c};var r=v();if(r&&r.has(c))return r.get(c);var s,o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in c){var f;Object.prototype.hasOwnProperty.call(c,s)&&((f=u?Object.getOwnPropertyDescriptor(c,s):null)&&(f.get||f.set)?Object.defineProperty(o,s,f):o[s]=c[s])}return o.default=c,r&&r.set(c,o),o}(t("./constants"));function v(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,v=function(){return c},c)}var m=[d.ARROW,d.CROSS,d.HAND,d.MOVE,d.TEXT,d.WAIT],n=(h.default.prototype._frameRate=0,h.default.prototype._lastFrameTime=window.performance.now(),h.default.prototype._targetFrameRate=60,window.print),i=!1;function a(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function l(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}h.default.prototype.print=function(){var c;arguments.length?(c=console).log.apply(c,arguments):i||(n(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(i=!0))},h.default.prototype.frameCount=0,h.default.prototype.deltaTime=0,h.default.prototype.focused=document.hasFocus(),h.default.prototype.cursor=function(c,r,s){var o,u="auto",f=this._curElement.elt;m.includes(c)?u=c:typeof c=="string"&&(o="",r&&s&&typeof r=="number"&&typeof s=="number"&&(o="".concat(r," ").concat(s)),u=c.substring(0,7)==="http://"||c.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(c)?"url(".concat(c,") ").concat(o,", auto"):c),f.style.cursor=u},h.default.prototype.frameRate=function(c){return h.default._validateParameters("frameRate",arguments),typeof c!="number"||c<0?this._frameRate:(this._setProperty("_targetFrameRate",c),c===0&&this._setProperty("_frameRate",c),this)},h.default.prototype.getFrameRate=function(){return this.frameRate()},h.default.prototype.setFrameRate=function(c){return this.frameRate(c)},h.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},h.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},h.default.prototype.webglVersion=d.P2D,h.default.prototype.displayWidth=screen.width,h.default.prototype.displayHeight=screen.height,h.default.prototype.windowWidth=a(),h.default.prototype.windowHeight=l(),h.default.prototype._onresize=function(c){this._setProperty("windowWidth",a()),this._setProperty("windowHeight",l());var r=this._isGlobal?window:this;typeof r.windowResized!="function"||(r=r.windowResized(c))===void 0||r||c.preventDefault()},h.default.prototype.width=0,h.default.prototype.height=0,h.default.prototype.fullscreen=function(c){if(h.default._validateParameters("fullscreen",arguments),c===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(c){if(c=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");c.requestFullscreen?c.requestFullscreen():c.mozRequestFullScreen?c.mozRequestFullScreen():c.webkitRequestFullscreen?c.webkitRequestFullscreen():c.msRequestFullscreen&&c.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},h.default.prototype.pixelDensity=function(c){var r;return h.default._validateParameters("pixelDensity",arguments),typeof c=="number"?(c!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=c),(r=this).resizeCanvas(this.width,this.height,!0)):r=this._pixelDensity,r},h.default.prototype.displayDensity=function(){return window.devicePixelRatio},h.default.prototype.getURL=function(){return location.href},h.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(c){return c!==""})},h.default.prototype.getURLParams=function(){for(var c,r=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,s={};(c=r.exec(location.search))!=null;)c.index===r.lastIndex&&r.lastIndex++,s[c[1]]=c[2];return s},t=h.default,I.default=t},{"./constants":269,"./main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.search":202,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],271:[function(t,X,I){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(m=t("../main"))&&m.__esModule?m:{default:m};t("../internationalization");function b(n,i){i=i||console.log.bind(console),h||v(),h.some(function(a){var l;if(n.message&&n.message.match("\\W?".concat(a.name,"\\W"))!==null)return l=a.type==="function"?"".concat(a.name,"()"):a.name,i("Did you just try to use p5.js's ".concat(l," ").concat(a.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(d)),!0})}var h=null,v=null,d=(y.default._friendlyError=y.default._checkForUserDefinedFunctions=y.default._fesErrorMonitor=function(){},h=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),v=function(){function n(a){return Object.getOwnPropertyNames(a).filter(function(l){return l[0]!=="_"&&!(l in i)&&(i[l]=!0)}).map(function(l){var c=typeof a[l]=="function"?"function":l===l.toUpperCase()?"constant":"variable";return{name:l,type:c}})}var i={};(h=[].concat(n(y.default.prototype),n(t("../constants")))).sort(function(a,l){return l.name.length-a.name.length})},m=(y.default.prototype._helpForMisusedAtTopLevelCode=b,document.readyState!=="complete"&&(window.addEventListener("error",b,!1),window.addEventListener("load",function(){window.removeEventListener("error",b,!1)})),y.default);I.default=m},{"../constants":269,"../internationalization":278,"../main":280,"./browser_errors":void 0,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.starts-with":204,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],272:[function(t,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(y=t("../main"))&&y.__esModule?y:{default:y};t("../internationalization"),y.default._friendlyFileLoadError=function(){},t=y.default,I.default=t},{"../internationalization":278,"../main":280}],273:[function(t,X,I){"use strict";function y(w){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(w)}function b(w){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(D){return y(D)}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":y(D)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=B(t("../main")),d=t("../internationalization"),v=F(t("../constants")),m,n,i,a,l,c,r,s,o,u,f,C,E,j,x,T,_,M,p,S,O;function k(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,k=function(){return w},w)}function F(w){if(w&&w.__esModule)return w;if(w===null||b(w)!=="object"&&typeof w!="function")return{default:w};var D=k();if(D&&D.has(w))return D.get(w);var H,N,z={},W=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(H in w)Object.prototype.hasOwnProperty.call(w,H)&&((N=W?Object.getOwnPropertyDescriptor(w,H):null)&&(N.get||N.set)?Object.defineProperty(z,H,N):z[H]=w[H]);return z.default=w,D&&D.set(w,z),z}function B(w){return w&&w.__esModule?w:{default:w}}function L(w){return $(w)||K(w)||G()}function G(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function K(w){if(Symbol.iterator in Object(w)||Object.prototype.toString.call(w)==="[object Arguments]")return Array.from(w)}function $(w){if(Array.isArray(w)){for(var D=0,H=new Array(w.length);D<w.length;D++)H[D]=w[D];return H}}h.default._fesCodeReader=function(){};var P=h.default;I.default=P},{"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],274:[function(t,X,I){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function y(){var b=/(^|@)\S+:\d+/,h=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code])?$/;return{parse:function(v){return v.stacktrace!==void 0||v["opera#sourceloc"]!==void 0?this.parseOpera(v):v.stack&&v.stack.match(h)?this.parseV8OrIE(v):v.stack?this.parseFFOrSafari(v):void 0},extractLocation:function(v){return v.indexOf(":")===-1?[v]:[(v=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(v.replace(/[()]/g,"")))[1],v[2]||void 0,v[3]||void 0]},parseV8OrIE:function(v){return v.stack.split(`
`).filter(function(m){return!!m.match(h)},this).map(function(m){var n=(m=-1<m.indexOf("(eval ")?m.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):m).replace(/^\s+/,"").replace(/\(eval code/g,"("),i=n.match(/ (\((.+):(\d+):(\d+)\)$)/),n=(n=i?n.replace(i[0],""):n).split(/\s+/).slice(1),i=this.extractLocation(i?i[1]:n.pop());return{functionName:n.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(i[0])?void 0:i[0],lineNumber:i[1],columnNumber:i[2],source:m}},this)},parseFFOrSafari:function(v){return v.stack.split(`
`).filter(function(m){return!m.match(d)},this).map(function(m){var n,i;return(m=-1<m.indexOf(" > eval")?m.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):m).indexOf("@")===-1&&m.indexOf(":")===-1?{functionName:m}:{functionName:(i=m.match(n=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&i[1]?i[1]:void 0,fileName:(i=this.extractLocation(m.replace(n,"")))[0],lineNumber:i[1],columnNumber:i[2],source:m}},this)},parseOpera:function(v){return!v.stacktrace||-1<v.message.indexOf(`
`)&&v.message.split(`
`).length>v.stacktrace.split(`
`).length?this.parseOpera9(v):v.stack?this.parseOpera11(v):this.parseOpera10(v)},parseOpera9:function(v){for(var m=/Line (\d+).*script (?:in )?(\S+)/i,n=v.message.split(`
`),i=[],a=2,l=n.length;a<l;a+=2){var c=m.exec(n[a]);c&&i.push({fileName:c[2],lineNumber:c[1],source:n[a]})}return i},parseOpera10:function(v){for(var m=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=v.stacktrace.split(`
`),i=[],a=0,l=n.length;a<l;a+=2){var c=m.exec(n[a]);c&&i.push({functionName:c[3]||void 0,fileName:c[2],lineNumber:c[1],source:n[a]})}return i},parseOpera11:function(v){return v.stack.split(`
`).filter(function(m){return!!m.match(b)&&!m.match(/^Error created at/)},this).map(function(m){var n,a=m.split("@"),i=this.extractLocation(a.pop()),a=a.shift()||"";return{functionName:a.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(n=a.match(/\(([^)]*)\)/)?a.replace(/^[^(]+\(([^)]*)\)$/,"$1"):n)===void 0||n==="[arguments not available]"?void 0:n.split(","),fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:m}},this)}}}t.default._getErrorStackParser=function(){return new y},t=t.default,I.default=t},{"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],275:[function(t,X,I){"use strict";function y(v){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var b=(b=t("../main"))&&b.__esModule?b:{default:b};(function(v){if(!(v&&v.__esModule)&&!(v===null||d(v)!=="object"&&typeof v!="function")){var m=h();if(m&&m.has(v))return m.get(v);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in v){var l;Object.prototype.hasOwnProperty.call(v,n)&&((l=a?Object.getOwnPropertyDescriptor(v,n):null)&&(l.get||l.set)?Object.defineProperty(i,n,l):i[n]=v[n])}i.default=v,m&&m.set(v,i)}})(t("../constants")),t("../internationalization");function h(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,h=function(){return v},v)}function d(v){return(d=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(m){return y(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":y(m)})(v)}b.default._validateParameters=b.default._clearValidateParamsCache=function(){},t=b.default,I.default=t},{"../../../docs/parameterData.json":void 0,"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],276:[function(t,X,I){"use strict";function y(v){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}function b(v){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(m){return y(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":y(m)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=function(v){if(v&&v.__esModule)return v;if(v===null||b(v)!=="object"&&typeof v!="function")return{default:v};var m=d();if(m&&m.has(v))return m.get(v);var n,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in v){var l;Object.prototype.hasOwnProperty.call(v,n)&&((l=a?Object.getOwnPropertyDescriptor(v,n):null)&&(l.get||l.set)?Object.defineProperty(i,n,l):i[n]=v[n])}return i.default=v,m&&m.set(v,i),i}(t("./constants"));function d(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,d=function(){return v},v)}I.default={modeAdjust:function(v,m,n,i,a){return a===h.CORNER?{x:v,y:m,w:n,h:i}:a===h.CORNERS?{x:v,y:m,w:n-v,h:i-m}:a===h.RADIUS?{x:v-n,y:m-i,w:2*n,h:2*i}:a===h.CENTER?{x:v-.5*n,y:m-.5*i,w:n,h:i}:void 0}}},{"./constants":269,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],277:[function(t,X,I){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var y=(b=t("../core/main"))&&b.__esModule?b:{default:b};t("./internationalization");var b=Promise.resolve();Promise.all([new Promise(function(h,d){document.readyState==="complete"?h():window.addEventListener("load",h,!1)}),b]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!y.default.instance&&new y.default})},{"../core/main":280,"./internationalization":278,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/web.dom-collections.iterator":243}],278:[function(t,X,I){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.setTranslatorLanguage=I.currentTranslatorLanguage=I.availableTranslatorLanguages=I.initialize=I.translator=void 0;var y,b,h=v(t("i18next")),d=v(t("i18next-browser-languagedetector"));function v(i){return i&&i.__esModule?i:{default:i}}function m(i,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(i,c.key,c)}}var n=function(){function i(r,s){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.init(r,s)}var a,l,c;return a=i,(l=[{key:"fetchWithTimeout",value:function(r,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(r,s),new Promise(function(u,f){return setTimeout(function(){return f(new Error("timeout"))},o)})])}},{key:"init",value:function(r){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=r,this.options=s}},{key:"read",value:function(r,s,o){var u=this.options.loadPath;r===this.options.fallback?o(null,y[r][s]):b.includes(r)?(u=this.services.interpolator.interpolate(u,{lng:r,ns:s}),this.loadUrl(u,o)):o("Not found",!1)}},{key:"loadUrl",value:function(r,s){this.fetchWithTimeout(r).then(function(o){if(o.ok)return o.json();throw new Error("failed loading ".concat(r))},function(){throw new Error("failed loading ".concat(r))}).then(function(o){return s(null,o)}).catch(s)}}])&&m(a.prototype,l),c&&m(a,c),i}();n.type="backend",I.translator=function(i,a){console.debug("p5.js translator called before translations were loaded"),h.default.t(i,a)},I.initialize=function(){return h.default.use(d.default).use(n).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:y}).then(function(i){I.translator=i},function(i){return console.debug("Translations failed to load (".concat(i,")"))})},I.availableTranslatorLanguages=function(){return h.default.languages},I.currentTranslatorLanguage=function(i){return h.default.language},I.setTranslatorLanguage=function(i){return h.default.changeLanguage(i||void 0,function(a){return console.debug("Translations failed to load (".concat(a,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243,i18next:3,"i18next-browser-languagedetector":3}],279:[function(t,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,I.default=t},{"./main":280}],280:[function(t,X,I){"use strict";function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(a){return y(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t("./shim");var h=function(i){if(i&&i.__esModule)return i;if(i===null||b(i)!=="object"&&typeof i!="function")return{default:i};var a=d();if(a&&a.has(i))return a.get(i);var l,c={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var s;Object.prototype.hasOwnProperty.call(i,l)&&((s=r?Object.getOwnPropertyDescriptor(i,l):null)&&(s.get||s.set)?Object.defineProperty(c,l,s):c[l]=i[l])}return c.default=i,a&&a.set(i,c),c}(t("./constants"));function d(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,d=function(){return i},i)}function v(i,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(i,c.key,c)}}var m,n=function(){function i(r,u){var o=this;if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=u,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var u=Object.getOwnPropertyNames(i.prototype._registeredMethods),f=!0,C=!1,E=void 0;try{for(var j,x=u[Symbol.iterator]();!(f=(j=x.next()).done);f=!0){var T=j.value;this._registeredMethods[T]=i.prototype._registeredMethods[T].slice()}}catch(L){C=!0,E=L}finally{try{f||x.return==null||x.return()}finally{if(C)throw E}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),i.prototype.callRegisteredHooksFor=function(L){var G=this||i.prototype,K=this._isGlobal?window:this;if(G._registeredMethods.hasOwnProperty(L)){var G=G._registeredMethods[L],$=!0,L=!1,P=void 0;try{for(var w,D=G[Symbol.iterator]();!($=(w=D.next()).done);$=!0){var H=w.value;typeof H=="function"&&H.call(K)}}catch(W){L=!0,P=W}finally{try{$||D.return==null||D.return()}finally{if(L)throw P}}}},this._start=function(){o._userNode&&typeof o._userNode=="string"&&(o._userNode=document.getElementById(o._userNode));var L=o._isGlobal?window:o;if(L.preload){o.callRegisteredHooksFor("beforePreload");var G,K=document.getElementById(o._loadingScreenId),$=(K||((K=document.createElement("div")).innerHTML="Loading...",K.style.position="absolute",K.id=o._loadingScreenId,(o._userNode||document.body).appendChild(K)),o._preloadMethods);for(G in $){$[G]=$[G]||i;var P=$[G];P!==i.prototype&&P!==i||(o._isGlobal&&(window[G]=o._wrapPreload(o,G)),P=o),o._registeredPreloadMethods[G]=P[G],P[G]=o._wrapPreload(P,G)}L.preload(),o._runIfPreloadsAreDone()}else o._setup(),o._recording||o._draw()},this._runIfPreloadsAreDone=function(){var L,G=this._isGlobal?window:this;G._preloadCount===0&&((L=document.getElementById(G._loadingScreenId))&&L.parentNode.removeChild(L),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),G._setup(),this._recording||G._draw()))},this._decrementPreload=function(){var L=this._isGlobal?window:this;L._preloadDone||typeof L.preload!="function"||(L._setProperty("_preloadCount",L._preloadCount-1),L._runIfPreloadsAreDone())},this._wrapPreload=function(L,G){var K=this;return function(){K._incrementPreload();for(var $=arguments.length,P=new Array($),w=0;w<$;w++)P[w]=arguments[w];return K._registeredPreloadMethods[G].apply(L,P)}},this._incrementPreload=function(){var L=this._isGlobal?window:this;L._preloadDone||L._setProperty("_preloadCount",L._preloadCount+1)},this._setup=function(){o.callRegisteredHooksFor("beforeSetup"),o.createCanvas(o._defaultCanvasSize.width,o._defaultCanvasSize.height,"p2d");var L=o._isGlobal?window:o;if(typeof L.preload=="function")for(var G in o._preloadMethods)L[G]=o._preloadMethods[G][G],L[G]&&o&&(L[G]=L[G].bind(o));o._millisStart=window.performance.now(),L._preloadDone=!0,typeof L.setup=="function"&&L.setup();var K=document.getElementsByTagName("canvas"),$=!0,P=!1,w=void 0;try{for(var D,H=K[Symbol.iterator]();!($=(D=H.next()).done);$=!0){var N=D.value;N.dataset.hidden==="true"&&(N.style.visibility="",delete N.dataset.hidden)}}catch(z){P=!0,w=z}finally{try{$||H.return==null||H.return()}finally{if(P)throw w}}o._lastTargetFrameTime=window.performance.now(),o._lastRealFrameTime=window.performance.now(),o._setupDone=!0,(o._accessibleOutputs.grid||o._accessibleOutputs.text)&&o._updateAccsOutput(),o.callRegisteredHooksFor("afterSetup")},this._draw=function(){var L=window.performance.now(),G=L-o._lastTargetFrameTime,K=1e3/o._targetFrameRate;(!o._loop||K-5<=G)&&(o.deltaTime=L-o._lastRealFrameTime,o._setProperty("deltaTime",o.deltaTime),o._frameRate=1e3/o.deltaTime,o.redraw(),o._lastTargetFrameTime=Math.max(o._lastTargetFrameTime+K,L),o._lastRealFrameTime=L,o._updateMouseCoords!==void 0&&(o._updateMouseCoords(),o._setProperty("movedX",0),o._setProperty("movedY",0))),o._loop&&(o._requestAnimId=window.requestAnimationFrame(o._draw))},this._setProperty=function(L,G){o[L]=G,o._isGlobal&&(window[L]=G)},this.remove=function(){o._startListener&&window.removeEventListener("load",o._startListener,!1);var L=document.getElementById(o._loadingScreenId);if(L&&(L.parentNode.removeChild(L),o._incrementPreload()),o._curElement){for(var G in o._loop=!1,o._requestAnimId&&window.cancelAnimationFrame(o._requestAnimId),o._events)window.removeEventListener(G,o._events[G]);var K=!0,L=!1,$=void 0;try{for(var P,w=o._elements[Symbol.iterator]();!(K=(P=w.next()).done);K=!0){var D,H=P.value;for(D in H.elt&&H.elt.parentNode&&H.elt.parentNode.removeChild(H.elt),H._events)H.elt.removeEventListener(D,H._events[D])}}catch(V){L=!0,$=V}finally{try{K||w.return==null||w.return()}finally{if(L)throw $}}var N=o;o._registeredMethods.remove.forEach(function(V){V!==void 0&&V.call(N)})}if(o._isGlobal){for(var z in i.prototype)try{delete window[z]}catch{window[z]=void 0}for(var W in o)if(o.hasOwnProperty(W))try{delete window[W]}catch{window[W]=void 0}i.instance=null}},this._registeredMethods.init.forEach(function(L){L!==void 0&&L.call(this)},this),this._setupPromisePreloads();var _,M,p=this._createFriendlyGlobalFunctionBinder();if(r)r(this),i._checkForUserDefinedFunctions(this);else{for(var S in this._isGlobal=!0,i.instance=this,i.prototype)typeof i.prototype[S]=="function"?(_=S.substring(2),this._events.hasOwnProperty(_)||(Math.hasOwnProperty(S)&&Math[S]===i.prototype[S]?p(S,i.prototype[S]):p(S,i.prototype[S].bind(this)))):p(S,i.prototype[S]);for(var O in this)this.hasOwnProperty(O)&&p(O,this[O])}for(M in this._events){var k=this["_on".concat(M)];k&&(k=k.bind(this),window.addEventListener(M,k,{passive:!1}),this._events[M]=k)}function F(){o._setProperty("focused",!0)}function B(){o._setProperty("focused",!1)}window.addEventListener("focus",F),window.addEventListener("blur",B),this.registerMethod("remove",function(){window.removeEventListener("focus",F),window.removeEventListener("blur",B)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var a,l,c;return a=i,(l=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=h.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(r,s){i.prototype._preloadMethods.hasOwnProperty(r)||(i.prototype._preloadMethods[r]=s)}},{key:"registerMethod",value:function(r,s){var o=this||i.prototype;o._registeredMethods.hasOwnProperty(r)||(o._registeredMethods[r]=[]),o._registeredMethods[r].push(s)}},{key:"unregisterMethod",value:function(r,s){var o=this||i.prototype;if(o._registeredMethods.hasOwnProperty(r)){for(var u=o._registeredMethods[r],f=[],C=0;C<u.length;C++)u[C]===s&&f.push(C);for(var E=f.length-1;0<=E;E--)u.splice(f[E],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},s=r.globalObject||window;return r.log||console.log.bind(console),function(o,u){i.disableFriendlyErrors,s[o]=u}}}])&&v(a.prototype,l),c&&v(a,c),i}();for(m in n.instance=null,n.disableFriendlyErrors=!1,h)n.prototype[m]=h[m];n.VERSION=h.VERSION,n.prototype._preloadMethods={loadJSON:n.prototype,loadImage:n.prototype,loadStrings:n.prototype,loadXML:n.prototype,loadBytes:n.prototype,loadTable:n.prototype,loadFont:n.prototype,loadModel:n.prototype,loadShader:n.prototype},n.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},n.prototype._registeredPreloadMethods={},I.default=n},{"./constants":269,"./shim":291,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],281:[function(t,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("./main"))&&t.__esModule?t:{default:t};function b(h,d){for(var v=0;v<d.length;v++){var m=d[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}y.default.Element=function(){function h(n,i){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.elt=n,this._pInst=this._pixelsState=i,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var d,v,m;return d=h,m=[{key:"_adjustListener",value:function(n,i,a){return i===!1?y.default.Element._detachListener(n,a):y.default.Element._attachListener(n,i,a),this}},{key:"_attachListener",value:function(n,i,a){a._events[n]&&y.default.Element._detachListener(n,a),i=i.bind(a),a.elt.addEventListener(n,i,!1),a._events[n]=i}},{key:"_detachListener",value:function(n,i){var a=i._events[n];i.elt.removeEventListener(n,a,!1),i._events[n]=null}}],(v=[{key:"parent",value:function(n){return n===void 0?this.elt.parentNode:(typeof n=="string"?(n[0]==="#"&&(n=n.substring(1)),n=document.getElementById(n)):n instanceof y.default.Element&&(n=n.elt),n.appendChild(this.elt),this)}},{key:"id",value:function(n){return n===void 0?this.elt.id:(this.elt.id=n,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(n){return n===void 0?this.elt.className:(this.elt.className=n,this)}},{key:"mousePressed",value:function(n){return y.default.Element._adjustListener("mousedown",function(i){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(i),n.call(this,i)},this),this}},{key:"doubleClicked",value:function(n){return y.default.Element._adjustListener("dblclick",n,this),this}},{key:"mouseWheel",value:function(n){return y.default.Element._adjustListener("wheel",n,this),this}},{key:"mouseReleased",value:function(n){return y.default.Element._adjustListener("mouseup",n,this),this}},{key:"mouseClicked",value:function(n){return y.default.Element._adjustListener("click",n,this),this}},{key:"mouseMoved",value:function(n){return y.default.Element._adjustListener("mousemove",n,this),this}},{key:"mouseOver",value:function(n){return y.default.Element._adjustListener("mouseover",n,this),this}},{key:"mouseOut",value:function(n){return y.default.Element._adjustListener("mouseout",n,this),this}},{key:"touchStarted",value:function(n){return y.default.Element._adjustListener("touchstart",n,this),this}},{key:"touchMoved",value:function(n){return y.default.Element._adjustListener("touchmove",n,this),this}},{key:"touchEnded",value:function(n){return y.default.Element._adjustListener("touchend",n,this),this}},{key:"dragOver",value:function(n){return y.default.Element._adjustListener("dragover",n,this),this}},{key:"dragLeave",value:function(n){return y.default.Element._adjustListener("dragleave",n,this),this}},{key:"_setProperty",value:function(n,i){this[n]=i}}])&&b(d.prototype,v),m&&b(d,m),h}(),t=y.default.Element,I.default=t},{"./main":280}],282:[function(t,X,I){"use strict";function y(s){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function b(s){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(o){return y(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":y(o)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(r=t("./main"))&&r.__esModule?r:{default:r},d=function(s){if(s&&s.__esModule)return s;if(s===null||b(s)!=="object"&&typeof s!="function")return{default:s};var o=v();if(o&&o.has(s))return o.get(s);var u,f={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in s){var E;Object.prototype.hasOwnProperty.call(s,u)&&((E=C?Object.getOwnPropertyDescriptor(s,u):null)&&(E.get||E.set)?Object.defineProperty(f,u,E):f[u]=s[u])}return f.default=s,o&&o.set(s,f),f}(t("./constants"));function v(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,v=function(){return s},s)}function m(s,o){for(var u=0;u<o.length;u++){var f=o[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,f.key,f)}}function n(s,o){return(n=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u})(s,o)}function i(s){return function(){var o,u=c(s);return a(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(o=c(this).constructor,Reflect.construct(u,arguments,o)):u.apply(this,arguments))}}function a(s,o){return!o||b(o)!=="object"&&typeof o!="function"?l(s):o}function l(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function c(s){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(s)}h.default.Graphics=function(s){var o=C;if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),s&&n(o,s);var u,f=i(C);function C(E,j,O,T,_){var M;if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");S=_||document.createElement("canvas"),(M=f.call(this,S,T)).canvas=S;var p,S=O||d.P2D,O=T._userNode||document.body;for(p in _||O.appendChild(M.canvas),h.default.prototype)M[p]||(typeof h.default.prototype[p]=="function"?M[p]=h.default.prototype[p].bind(l(M)):M[p]=h.default.prototype[p]);return h.default.prototype._initializeInstanceVariables.apply(l(M)),M.width=E,M.height=j,M._pixelDensity=T._pixelDensity,S===d.WEBGL?(M._renderer=new h.default.RendererGL(M.canvas,l(M),!1),E=(_=M._renderer._adjustDimensions(E,j)).adjustedWidth,j=_.adjustedHeight):M._renderer=new h.default.Renderer2D(M.canvas,l(M),!1),T._elements.push(l(M)),Object.defineProperty(l(M),"deltaTime",{get:function(){return this._pInst.deltaTime}}),M._renderer.resize(E,j),M._renderer._applyDefaults(),a(M,l(M))}return o=C,(s=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var E,j=this._pInst._elements.indexOf(this);for(E in j!==-1&&this._pInst._elements.splice(j,1),this._events)this.elt.removeEventListener(E,this._events[E])}},{key:"createFramebuffer",value:function(E){return new h.default.Framebuffer(this,E)}}])&&m(o.prototype,s),u&&m(o,u),C}(h.default.Element);var r=h.default.Graphics;I.default=r},{"./constants":269,"./main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],283:[function(t,X,I){"use strict";function y(s){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var b=(c=t("./main"))&&c.__esModule?c:{default:c},h=function(s){if(s&&s.__esModule)return s;if(s===null||v(s)!=="object"&&typeof s!="function")return{default:s};var o=d();if(o&&o.has(s))return o.get(s);var u,f={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in s){var E;Object.prototype.hasOwnProperty.call(s,u)&&((E=C?Object.getOwnPropertyDescriptor(s,u):null)&&(E.get||E.set)?Object.defineProperty(f,u,E):f[u]=s[u])}return f.default=s,o&&o.set(s,f),f}(t("../core/constants"));function d(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,d=function(){return s},s)}function v(s){return(v=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(o){return y(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":y(o)})(s)}function m(s,o){for(var u=0;u<o.length;u++){var f=o[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,f.key,f)}}function n(s,o){return(n=Object.setPrototypeOf||function(u,f){return u.__proto__=f,u})(s,o)}function i(s){return function(){var o,u,f=l(s);return o=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(o=l(this).constructor,Reflect.construct(f,arguments,o)):f.apply(this,arguments),f=this,!(u=o)||v(u)!=="object"&&typeof u!="function"?a(f):u}}function a(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function l(s){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(s)}var c=function(s){var o=C;if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),s&&n(o,s);var u,f=i(C);function C(E,j,x){var T;if(this instanceof C)return(T=f.call(this,E,j)).canvas=E,T._pixelsState=j,x?(T._isMainCanvas=!0,T._pInst._setProperty("_curElement",a(T)),T._pInst._setProperty("canvas",T.canvas),T._pInst._setProperty("width",T.width),T._pInst._setProperty("height",T.height)):(T.canvas.style.display="none",T._styles=[]),T._clipping=!1,T._clipInvert=!1,T._textSize=12,T._textLeading=15,T._textFont="sans-serif",T._textStyle=h.NORMAL,T._textAscent=null,T._textDescent=null,T._textAlign=h.LEFT,T._textBaseline=h.BASELINE,T._textWrap=h.WORD,T._rectMode=h.CORNER,T._ellipseMode=h.CENTER,T._curveTightness=0,T._imageMode=h.CORNER,T._tint=null,T._doStroke=!0,T._doFill=!0,T._strokeSet=!1,T._fillSet=!1,T._leadingSet=!1,T._pushPopDepth=0,T;throw new TypeError("Cannot call a class as a function")}return o=C,(s=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(E){this._pushPopDepth--,E.properties&&Object.assign(this,E.properties)}},{key:"beginClip",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=E.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(E,j){this.width=E,this.height=j,this.elt.width=E*this._pInst._pixelDensity,this.elt.height=j*this._pInst._pixelDensity,this.elt.style.width="".concat(E,"px"),this.elt.style.height="".concat(j,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(E,j,x,T){var _=this._pixelsState,M=_._pixelDensity,p=this.canvas;if(E===void 0&&j===void 0)E=j=0,x=_.width,T=_.height;else if(E*=M,j*=M,x===void 0&&T===void 0)return E<0||j<0||E>=p.width||j>=p.height?[0,0,0,0]:this._getPixel(E,j);return _=new b.default.Image(x*M,T*M),_.pixelDensity(M),_.canvas.getContext("2d").drawImage(p,E,j,x*M,T*M,0,0,x*M,T*M),_}},{key:"textLeading",value:function(E){return typeof E=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",E),this._pInst):this._textLeading}},{key:"textStyle",value:function(E){return E?(E!==h.NORMAL&&E!==h.ITALIC&&E!==h.BOLD&&E!==h.BOLDITALIC||this._setProperty("_textStyle",E),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(E,j){return E!==void 0?(this._setProperty("_textAlign",E),j!==void 0&&this._setProperty("_textBaseline",j),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(E){return this._setProperty("_textWrap",E),this._textWrap}},{key:"text",value:function(E,j,x,T,_){var M,p,S,O,k=this._pInst,F=this._textWrap,B=Number.MAX_VALUE,L=x;if((this._doFill||this._doStroke)&&E!==void 0){if(M=(E=(E=typeof E!="string"?E.toString():E).replace(/(\t)/g,"  ")).split(`
`),T!==void 0){switch(this._rectMode===h.CENTER&&(j-=T/2),this._textAlign){case h.CENTER:j+=T/2;break;case h.RIGHT:j+=T}if(_!==void 0){this._rectMode===h.CENTER&&(x-=_/2,L-=_/2);var E=x,G=k.textAscent();switch(this._textBaseline){case h.BOTTOM:O=x+_,x=Math.max(O,x),L+=G;break;case h.CENTER:O=x+_/2,x=Math.max(O,x),L+=G/2}B=x+_-G,this._textBaseline===h.CENTER&&(B=E+_-G/2)}else this._textBaseline!==h.BOTTOM&&this._textBaseline!==h.CENTER||(L=x-(E=k.textSize()*this._textLeading)/2,B=x+E/2);if(F===h.WORD){for(var K=[],$=0;$<M.length;$++){for(var P="",w=M[$].split(" "),D=0;D<w.length;D++)p="".concat(P+w[D])+" ",P=T<(S=this.textWidth(p))&&0<P.length?(K.push(P),"".concat(w[D])+" "):p;K.push(P)}var H=0;this._textBaseline===h.CENTER?H=(K.length-1)*k.textLeading()/2:this._textBaseline===h.BOTTOM&&(H=(K.length-1)*k.textLeading());for(var N=0;N<M.length;N++){P="",w=M[N].split(" ");for(var z=0;z<w.length;z++)p="".concat(P+w[z])+" ",T<(S=this.textWidth(p))&&0<P.length?(this._renderText(k,P.trim(),j,x-H,B,L),P="".concat(w[z])+" ",x+=k.textLeading()):P=p;this._renderText(k,P.trim(),j,x-H,B,L),x+=k.textLeading()}}else{for(var W=[],te=0;te<M.length;te++)for(var V=M[te].split(P=""),Z=0;Z<V.length;Z++)p="".concat(P+V[Z]),(S=this.textWidth(p))<=T?P+=V[Z]:T<S&&0<P.length&&(W.push(P),P="".concat(V[Z]));W.push(P);var Y=0;this._textBaseline===h.CENTER?Y=(W.length-1)*k.textLeading()/2:this._textBaseline===h.BOTTOM&&(Y=(W.length-1)*k.textLeading());for(var q=0;q<M.length;q++){V=M[q].split(P="");for(var J=0;J<V.length;J++)p="".concat(P+V[J]),(S=this.textWidth(p))<=T?P+=V[J]:T<S&&0<P.length&&(this._renderText(k,P.trim(),j,x-Y,B,L),x+=k.textLeading(),P="".concat(V[J]))}this._renderText(k,P.trim(),j,x-Y,B,L),x+=k.textLeading()}}else{var re=0;this._textBaseline===h.CENTER?re=(M.length-1)*k.textLeading()/2:this._textBaseline===h.BOTTOM&&(re=(M.length-1)*k.textLeading());for(var ue=0;ue<M.length;ue++)this._renderText(k,M[ue],j,x-re,B,L-re),x+=k.textLeading()}return k}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return v(E)==="object"&&E.font&&E.font.supported}},{key:"_updateTextMetrics",value:function(){var E,j,x,T,_,M;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((E=document.createElement("span")).style.fontFamily=this._textFont,E.style.fontSize="".concat(this._textSize,"px"),E.innerHTML="ABCjgq|",(M=document.createElement("div")).style.display="inline-block",M.style.width="1px",M.style.height="0px",T=((j=document.createElement("div")).appendChild(E),j.appendChild(M),j.style.height="0px",j.style.overflow="hidden",document.body.appendChild(j),M.style.verticalAlign="baseline",r(M)),_=r(E),x=T[1]-_[1],T=(M.style.verticalAlign="bottom",r(M)),_=r(E),M=T[1]-_[1]-x,document.body.removeChild(j),this._setProperty("_textAscent",x),this._setProperty("_textDescent",M)),this}}])&&m(o.prototype,s),u&&m(o,u),C}(b.default.Element);function r(s){var o=0,u=0;if(s.offsetParent)for(;o+=s.offsetLeft,u+=s.offsetTop,s=s.offsetParent;);else o+=s.offsetLeft,u+=s.offsetTop;return[o,u]}c.prototype.textSize=function(s){return typeof s=="number"?(this._setProperty("_textSize",s),this._leadingSet||this._setProperty("_textLeading",s*h._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},b.default.Renderer=c,t=b.default.Renderer,I.default=t},{"../core/constants":269,"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],284:[function(s,X,I){"use strict";function y(o){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function b(o){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(o)}s("core-js/modules/es.symbol"),s("core-js/modules/es.symbol.description"),s("core-js/modules/es.symbol.iterator"),s("core-js/modules/es.array.concat"),s("core-js/modules/es.array.fill"),s("core-js/modules/es.array.for-each"),s("core-js/modules/es.array.iterator"),s("core-js/modules/es.array.join"),s("core-js/modules/es.array.slice"),s("core-js/modules/es.function.name"),s("core-js/modules/es.number.to-fixed"),s("core-js/modules/es.object.get-own-property-descriptor"),s("core-js/modules/es.object.get-prototype-of"),s("core-js/modules/es.object.to-string"),s("core-js/modules/es.reflect.construct"),s("core-js/modules/es.reflect.get"),s("core-js/modules/es.regexp.exec"),s("core-js/modules/es.regexp.to-string"),s("core-js/modules/es.string.iterator"),s("core-js/modules/es.weak-map"),s("core-js/modules/web.dom-collections.iterator"),s("core-js/modules/es.array.concat"),s("core-js/modules/es.array.fill"),s("core-js/modules/es.array.for-each"),s("core-js/modules/es.array.join"),s("core-js/modules/es.array.slice"),s("core-js/modules/es.function.name"),s("core-js/modules/es.number.to-fixed"),s("core-js/modules/es.object.get-prototype-of"),s("core-js/modules/es.object.to-string"),s("core-js/modules/es.regexp.exec"),s("core-js/modules/es.regexp.to-string"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(r=s("./main"))&&r.__esModule?r:{default:r},d=function(o){if(o&&o.__esModule)return o;if(o===null||b(o)!=="object"&&typeof o!="function")return{default:o};var u=v();if(u&&u.has(o))return u.get(o);var f,C={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in o){var j;Object.prototype.hasOwnProperty.call(o,f)&&((j=E?Object.getOwnPropertyDescriptor(o,f):null)&&(j.get||j.set)?Object.defineProperty(C,f,j):C[f]=o[f])}return C.default=o,u&&u.set(o,C),C}(s("./constants"));function v(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,v=function(){return o},o)}function m(o,u){for(var f=0;f<u.length;f++){var C=u[f];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(o,C.key,C)}}function n(o,u,f){return(n=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(x,E,j){var x=function(T,_){for(;!Object.prototype.hasOwnProperty.call(T,_)&&(T=l(T))!==null;);return T}(x,E);if(x)return(x=Object.getOwnPropertyDescriptor(x,E)).get?x.get.call(j):x.value})(o,u,f||o)}function i(o,u){return(i=Object.setPrototypeOf||function(f,C){return f.__proto__=C,f})(o,u)}function a(o){return function(){var u,f=l(o),f=(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(u=l(this).constructor,Reflect.construct(f,arguments,u)):f.apply(this,arguments),this);if(!u||b(u)!=="object"&&typeof u!="function"){if(f!==void 0)return f;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return u}}function l(o){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(o)}s("./p5.Renderer");var c="rgba(0,0,0,0)",r=function(o){var u=E;if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),o&&i(u,o);var f,C=a(E);function E(j,x,T){if(this instanceof E)return(j=C.call(this,j,x,T)).drawingContext=j.canvas.getContext("2d"),j._pInst._setProperty("drawingContext",j.drawingContext),j;throw new TypeError("Cannot call a class as a function")}return u=E,(o=[{key:"getFilterGraphicsLayer",value:function(){var j;return this.filterGraphicsLayer||(j=(this._pInst instanceof h.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new h.default.Graphics(this.width,this.height,d.WEBGL,j)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=d.BLEND,this._setFill(d._DEFAULT_FILL),this._setStroke(d._DEFAULT_STROKE),this.drawingContext.lineCap=d.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(j,x){n(l(E.prototype),"resize",this).call(this,j,x),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var j,x;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof h.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(j=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(j,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(j=this._getFill(),x=(x=this._pInst).color.apply(x,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(x.levels),x=x.toString(),this._setFill(x),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(j),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setFill(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",j.levels)}},{key:"stroke",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setStroke(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",j.levels)}},{key:"erase",value:function(j,x){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,j=this._pInst.color(255,j).toString(),this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,j=this._pInst.color(255,x).toString(),this.drawingContext.strokeStyle=j,x=this._cachedBlendMode,this.blendMode(d.REMOVE),this._cachedBlendMode=x,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},j=(n(l(E.prototype),"beginClip",this).call(this,j),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),j=(this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),j=(this.drawingContext.strokeStyle=j,this._cachedBlendMode);this.blendMode(d.BLEND),this._cachedBlendMode=j,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),n(l(E.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(j,x,T,_,M,p,S,O,k){j.gifProperties&&j._animateGif(this._pInst);try{h.default.MediaElement&&j instanceof h.default.MediaElement&&j._ensureCanvas();var F=(F=this._tint&&j.canvas?this._getTintedImageCanvas(j):F)||j.canvas||j.elt,B=1;j.width&&0<j.width&&(B=F.width/j.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(F,B*x,B*T,B*_,B*M,p,S,O,k),this._isErasing&&this._pInst.erase()}catch(L){if(L.name!=="NS_ERROR_NOT_AVAILABLE")throw L}}},{key:"_getTintedImageCanvas",value:function(j){if(!j.canvas)return j;j.tintCanvas||(j.tintCanvas=document.createElement("canvas")),j.tintCanvas.width!==j.canvas.width&&(j.tintCanvas.width=j.canvas.width),j.tintCanvas.height!==j.canvas.height&&(j.tintCanvas.height=j.canvas.height);var x=j.tintCanvas.getContext("2d");return x.save(),x.clearRect(0,0,j.canvas.width,j.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(x.drawImage(j.canvas,0,0),x.globalCompositeOperation="luminosity",x.drawImage(j.canvas,0,0),x.globalCompositeOperation="color",x.drawImage(j.canvas,0,0),x.globalCompositeOperation="multiply",x.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),x.fillRect(0,0,j.canvas.width,j.canvas.height),x.globalCompositeOperation="destination-in"),x.globalAlpha=this._tint[3]/255,x.drawImage(j.canvas,0,0),x.restore(),j.tintCanvas}},{key:"blendMode",value:function(j){if(j===d.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(j!==d.BLEND&&j!==d.REMOVE&&j!==d.DARKEST&&j!==d.LIGHTEST&&j!==d.DIFFERENCE&&j!==d.MULTIPLY&&j!==d.EXCLUSION&&j!==d.SCREEN&&j!==d.REPLACE&&j!==d.OVERLAY&&j!==d.HARD_LIGHT&&j!==d.SOFT_LIGHT&&j!==d.DODGE&&j!==d.BURN&&j!==d.ADD)throw new Error("Mode ".concat(j," not recognized."));this._cachedBlendMode=j,this.drawingContext.globalCompositeOperation=j}}},{key:"blend",value:function(){for(var j=this.drawingContext.globalCompositeOperation,x=arguments.length,T=new Array(x),_=0;_<x;_++)T[_]=arguments[_];var M=T[T.length-1],p=Array.prototype.slice.call(T,0,T.length-1);this.drawingContext.globalCompositeOperation=M,h.default.prototype.copy.apply(this,p),this.drawingContext.globalCompositeOperation=j}},{key:"_getPixel",value:function(j,x){return j=this.drawingContext.getImageData(j,x,1,1).data,[j[0],j[1],j[2],j[3]]}},{key:"loadPixels",value:function(){var j=this._pixelsState,x=j._pixelDensity,T=this.width*x,x=this.height*x,T=this.drawingContext.getImageData(0,0,T,x);j._setProperty("imageData",T),j._setProperty("pixels",T.data)}},{key:"set",value:function(j,x,T){j=Math.floor(j),x=Math.floor(x);var _=this._pixelsState;if(T instanceof h.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(_._pixelDensity,_._pixelDensity),this.drawingContext.clearRect(j,x,T.width,T.height),this.drawingContext.drawImage(T.canvas,j,x),this.drawingContext.restore();else{var M=0,p=0,S=0,O=0,k=4*(x*_._pixelDensity*(this.width*_._pixelDensity)+j*_._pixelDensity);if(_.imageData||_.loadPixels(),typeof T=="number")k<_.pixels.length&&(S=p=M=T,O=255);else if(Array.isArray(T)){if(T.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");k<_.pixels.length&&(M=T[0],p=T[1],S=T[2],O=T[3])}else T instanceof h.default.Color&&k<_.pixels.length&&(M=T.levels[0],p=T.levels[1],S=T.levels[2],O=T.levels[3]);for(var F=0;F<_._pixelDensity;F++)for(var B=0;B<_._pixelDensity;B++)k=4*((x*_._pixelDensity+B)*this.width*_._pixelDensity+(j*_._pixelDensity+F)),_.pixels[k]=M,_.pixels[k+1]=p,_.pixels[k+2]=S,_.pixels[k+3]=O}}},{key:"updatePixels",value:function(j,x,T,_){var M=this._pixelsState,p=M._pixelDensity;j===void 0&&x===void 0&&T===void 0&&_===void 0&&(x=j=0,T=this.width,_=this.height),j*=p,x*=p,T*=p,_*=p,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=M.imageData),this.drawingContext.putImageData(M.imageData,j,x,0,0,T,_)}},{key:"_acuteArcToBezier",value:function(j,x){var p=x/2,T=Math.cos(p),O=Math.sin(p),_=1/Math.tan(p),p=j+p,M=Math.cos(p),p=Math.sin(p),S=(4-T)/3,O=O+(T-S)*_;return{ax:Math.cos(j).toFixed(7),ay:Math.sin(j).toFixed(7),bx:(S*M+O*p).toFixed(7),by:(S*p-O*M).toFixed(7),cx:(S*M-O*p).toFixed(7),cy:(S*p+O*M).toFixed(7),dx:Math.cos(j+x).toFixed(7),dy:Math.sin(j+x).toFixed(7)}}},{key:"arc",value:function(j,x,T,_,M,p,S){var O,k=this.drawingContext,F=T/2,B=_/2,L=[];for(j+=F,x+=B;1e-5<=p-M;)O=Math.min(p-M,d.HALF_PI),L.push(this._acuteArcToBezier(M,O)),M+=O;return this._doFill&&(this._clipping||k.beginPath(),L.forEach(function(G,K){K===0&&k.moveTo(j+G.ax*F,x+G.ay*B),k.bezierCurveTo(j+G.bx*F,x+G.by*B,j+G.cx*F,x+G.cy*B,j+G.dx*F,x+G.dy*B)}),S!==d.PIE&&S!=null||k.lineTo(j,x),k.closePath(),this._clipping||k.fill()),this._doStroke&&(this._clipping||k.beginPath(),L.forEach(function(G,K){K===0&&k.moveTo(j+G.ax*F,x+G.ay*B),k.bezierCurveTo(j+G.bx*F,x+G.by*B,j+G.cx*F,x+G.cy*B,j+G.dx*F,x+G.dy*B)}),S===d.PIE?(k.lineTo(j,x),k.closePath()):S===d.CHORD&&k.closePath(),this._clipping||k.stroke()),this}},{key:"ellipse",value:function(O){var x=this.drawingContext,T=this._doFill,_=this._doStroke,M=parseFloat(O[0]),p=parseFloat(O[1]),S=parseFloat(O[2]),O=parseFloat(O[3]);if(T&&!_){if(this._getFill()===c)return this}else if(!T&&_&&this._getStroke()===c)return this;M+=S/2,p+=O/2,S/=2,O/=2,this._clipping||x.beginPath(),x.ellipse(M,p,S,O,0,0,2*Math.PI),!this._clipping&&T&&x.fill(),!this._clipping&&_&&x.stroke()}},{key:"line",value:function(j,x,T,_){var M=this.drawingContext;return this._doStroke&&this._getStroke()!==c&&(this._clipping||M.beginPath(),M.moveTo(j,x),M.lineTo(T,_),M.stroke()),this}},{key:"point",value:function(j,x){var T,_,M=this.drawingContext;return!this._doStroke||this._getStroke()===c?this:(T=this._getStroke(),_=this._getFill(),this._clipping||this._setFill(T),this._clipping||M.beginPath(),M.arc(j,x,M.lineWidth/2,0,d.TWO_PI,!1),void(this._clipping||(M.fill(),this._setFill(_))))}},{key:"quad",value:function(j,x,T,_,M,p,S,O){var k=this.drawingContext,F=this._doFill,B=this._doStroke;if(F&&!B){if(this._getFill()===c)return this}else if(!F&&B&&this._getStroke()===c)return this;return this._clipping||k.beginPath(),k.moveTo(j,x),k.lineTo(T,_),k.lineTo(M,p),k.lineTo(S,O),k.closePath(),!this._clipping&&F&&k.fill(),!this._clipping&&B&&k.stroke(),this}},{key:"rect",value:function(B){var x,T,_=B[0],M=B[1],p=B[2],S=B[3],O=B[4],k=B[5],F=B[6],B=B[7],L=this.drawingContext,G=this._doFill,K=this._doStroke;if(G&&!K){if(this._getFill()===c)return this}else if(!G&&K&&this._getStroke()===c)return this;return this._clipping||L.beginPath(),O===void 0?L.rect(_,M,p,S):(k===void 0&&(k=O),F===void 0&&(F=k),B===void 0&&(B=F),K=(G=Math.abs(p))/2,T=(x=Math.abs(S))/2,x<2*(O=G<2*O?K:O)&&(O=T),x<2*(k=G<2*k?K:k)&&(k=T),x<2*(F=G<2*F?K:F)&&(F=T),x<2*(B=G<2*B?K:B)&&(B=T),this._clipping||L.beginPath(),L.moveTo(_+O,M),L.arcTo(_+p,M,_+p,M+S,k),L.arcTo(_+p,M+S,_,M+S,F),L.arcTo(_,M+S,_,M,B),L.arcTo(_,M,_+p,M,O),L.closePath()),!this._clipping&&this._doFill&&L.fill(),!this._clipping&&this._doStroke&&L.stroke(),this}},{key:"triangle",value:function(F){var x=this.drawingContext,T=this._doFill,_=this._doStroke,M=F[0],p=F[1],S=F[2],O=F[3],k=F[4],F=F[5];if(T&&!_){if(this._getFill()===c)return this}else if(!T&&_&&this._getStroke()===c)return this;this._clipping||x.beginPath(),x.moveTo(M,p),x.lineTo(S,O),x.lineTo(k,F),x.closePath(),!this._clipping&&T&&x.fill(),!this._clipping&&_&&x.stroke()}},{key:"endShape",value:function(j,x,T,_,M,p,S){if(x.length!==0&&(this._doStroke||this._doFill)){var O,k,F,B=j===d.CLOSE,L=(B&&!p&&x.push(x[0]),x.length);if(T&&S===null){if(3<L){var G=[],K=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(x[1][0],x[1][1]),k=1;k+2<L;k++)O=x[k],G[0]=[O[0],O[1]],G[1]=[O[0]+(K*x[k+1][0]-K*x[k-1][0])/6,O[1]+(K*x[k+1][1]-K*x[k-1][1])/6],G[2]=[x[k+1][0]+(K*x[k][0]-K*x[k+2][0])/6,x[k+1][1]+(K*x[k][1]-K*x[k+2][1])/6],G[3]=[x[k+1][0],x[k+1][1]],this.drawingContext.bezierCurveTo(G[1][0],G[1][1],G[2][0],G[2][1],G[3][0],G[3][1]);B&&this.drawingContext.lineTo(x[k+1][0],x[k+1][1]),this._doFillStrokeClose(B)}}else if(_&&S===null){for(this._clipping||this.drawingContext.beginPath(),k=0;k<L;k++)x[k].isVert?x[k].moveTo?this.drawingContext.moveTo(x[k][0],x[k][1]):this.drawingContext.lineTo(x[k][0],x[k][1]):this.drawingContext.bezierCurveTo(x[k][0],x[k][1],x[k][2],x[k][3],x[k][4],x[k][5]);this._doFillStrokeClose(B)}else if(M&&S===null){for(this._clipping||this.drawingContext.beginPath(),k=0;k<L;k++)x[k].isVert?x[k].moveTo?this.drawingContext.moveTo(x[k][0],x[k][1]):this.drawingContext.lineTo(x[k][0],x[k][1]):this.drawingContext.quadraticCurveTo(x[k][0],x[k][1],x[k][2],x[k][3]);this._doFillStrokeClose(B)}else if(S===d.POINTS)for(k=0;k<L;k++)O=x[k],this._doStroke&&this._pInst.stroke(O[6]),this._pInst.point(O[0],O[1]);else if(S===d.LINES)for(k=0;k+1<L;k+=2)O=x[k],this._doStroke&&this._pInst.stroke(x[k+1][6]),this._pInst.line(O[0],O[1],x[k+1][0],x[k+1][1]);else if(S===d.TRIANGLES)for(k=0;k+2<L;k+=3)O=x[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(O[0],O[1]),this.drawingContext.lineTo(x[k+1][0],x[k+1][1]),this.drawingContext.lineTo(x[k+2][0],x[k+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(x[k+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(x[k+2][6]),this.drawingContext.stroke());else if(S===d.TRIANGLE_STRIP)for(k=0;k+1<L;k++)O=x[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(x[k+1][0],x[k+1][1]),this.drawingContext.lineTo(O[0],O[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[k+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(x[k+1][5]),k+2<L&&(this.drawingContext.lineTo(x[k+2][0],x[k+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[k+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(x[k+2][5])),this._doFillStrokeClose(B);else if(S===d.TRIANGLE_FAN){if(2<L){for(this._clipping||this.drawingContext.beginPath(),k=2;k<L;k++)O=x[k],this.drawingContext.moveTo(x[0][0],x[0][1]),this.drawingContext.lineTo(x[k-1][0],x[k-1][1]),this.drawingContext.lineTo(O[0],O[1]),this.drawingContext.lineTo(x[0][0],x[0][1]),k<L-1&&(this._doFill&&O[5]!==x[k+1][5]||this._doStroke&&O[6]!==x[k+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(O[5]),this.drawingContext.fill(),this._pInst.fill(x[k+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(O[6]),this.drawingContext.stroke(),this._pInst.stroke(x[k+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(B)}}else if(S===d.QUADS)for(k=0;k+3<L;k+=4){for(O=x[k],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(O[0],O[1]),F=1;F<4;F++)this.drawingContext.lineTo(x[k+F][0],x[k+F][1]);this.drawingContext.lineTo(O[0],O[1]),!this._clipping&&this._doFill&&this._pInst.fill(x[k+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[k+3][6]),this._doFillStrokeClose(B)}else if(S===d.QUAD_STRIP){if(3<L)for(k=0;k+1<L;k+=2)O=x[k],this._clipping||this.drawingContext.beginPath(),k+3<L?(this.drawingContext.moveTo(x[k+2][0],x[k+2][1]),this.drawingContext.lineTo(O[0],O[1]),this.drawingContext.lineTo(x[k+1][0],x[k+1][1]),this.drawingContext.lineTo(x[k+3][0],x[k+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(x[k+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(x[k+3][6])):(this.drawingContext.moveTo(O[0],O[1]),this.drawingContext.lineTo(x[k+1][0],x[k+1][1])),this._doFillStrokeClose(B)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(x[0][0],x[0][1]),k=1;k<L;k++)(O=x[k]).isVert&&(O.moveTo?(B&&this.drawingContext.closePath(),this.drawingContext.moveTo(O[0],O[1])):this.drawingContext.lineTo(O[0],O[1]));this._doFillStrokeClose(B)}p=M=_=T=!1,B&&x.pop()}return this}},{key:"strokeCap",value:function(j){return j!==d.ROUND&&j!==d.SQUARE&&j!==d.PROJECT||(this.drawingContext.lineCap=j),this}},{key:"strokeJoin",value:function(j){return j!==d.ROUND&&j!==d.BEVEL&&j!==d.MITER||(this.drawingContext.lineJoin=j),this}},{key:"strokeWeight",value:function(j){return this.drawingContext.lineWidth=j===void 0||j===0?1e-4:j,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(j){j!==this._cachedFillStyle&&(this.drawingContext.fillStyle=j,this._cachedFillStyle=j)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(j){j!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=j,this._cachedStrokeStyle=j)}},{key:"bezier",value:function(j,x,T,_,M,p,S,O){return this._pInst.beginShape(),this._pInst.vertex(j,x),this._pInst.bezierVertex(T,_,M,p,S,O),this._pInst.endShape(),this}},{key:"curve",value:function(j,x,T,_,M,p,S,O){return this._pInst.beginShape(),this._pInst.curveVertex(j,x),this._pInst.curveVertex(T,_),this._pInst.curveVertex(M,p),this._pInst.curveVertex(S,O),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(j){j&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(j,x,T,_,M,p){this.drawingContext.transform(j,x,T,_,M,p)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(j){this.drawingContext.rotate(j)}},{key:"scale",value:function(j,x){return this.drawingContext.scale(j,x),this}},{key:"translate",value:function(j,x){return j instanceof h.default.Vector&&(x=j.y,j=j.x),this.drawingContext.translate(j,x),this}},{key:"_renderText",value:function(j,x,T,_,M,p){if(!(_<p||M<=_))return j.push(),this._isOpenType()?this._textFont._renderPath(x,T,_,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(x,T,_),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(d._DEFAULT_TEXT_FILL),this.drawingContext.fillText(x,T,_))),j.pop(),j}},{key:"textWidth",value:function(j){return this._isOpenType()?this._textFont._textWidth(j,this._textSize):this.drawingContext.measureText(j).width}},{key:"_applyTextProperties",value:function(){var j=this._pInst,x=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),x=this._textFont,this._isOpenType()&&(x=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),x||"sans-serif");return/\s/.exec(x)&&(x='"'.concat(x,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(x),this.drawingContext.textAlign=this._textAlign,this._textBaseline===d.CENTER?this.drawingContext.textBaseline=d._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,j}},{key:"push",value:function(){return this.drawingContext.save(),n(l(E.prototype),"push",this).call(this)}},{key:"pop",value:function(j){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,n(l(E.prototype),"pop",this).call(this,j)}}])&&m(u.prototype,o),f&&m(u,f),E}(h.default.Renderer),s=(r.prototype.text=function(o,u,f,x,E){x!==void 0&&this.drawingContext.textBaseline===d.BASELINE&&(j=!0,this.drawingContext.textBaseline=d.TOP);var j,x=h.default.Renderer.prototype.text.apply(this,arguments);return j&&(this.drawingContext.textBaseline=d.BASELINE),x},h.default.Renderer2D=r,h.default.Renderer2D);I.default=s},{"./constants":269,"./main":280,"./p5.Renderer":283,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],285:[function(t,X,I){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var y=(t=t("./main"))&&t.__esModule?t:{default:t};y.default.prototype._promisePreloads=[];function b(){return{}}var h=!(y.default.prototype.registerPromisePreload=function(d){y.default.prototype._promisePreloads.push(d)});y.default.prototype._setupPromisePreloads=function(){var d=!0,v=!1,m=void 0;try{for(var n,i=this._promisePreloads[Symbol.iterator]();!(d=(n=i.next()).done);d=!0){var a=n.value,l=this,c=a.method,r=a.addCallbacks,s=a.legacyPreloadSetup,o=a.target||this,u=o[c].bind(o);if(o===y.default.prototype){if(h)continue;l=null,u=o[c]}o[c]=this._wrapPromisePreload(l,u,r),s&&(o[s.method]=this._legacyPreloadGenerator(l,s,o[c]))}}catch(f){v=!0,m=f}finally{try{d||i.return==null||i.return()}finally{if(v)throw m}}h=!0},y.default.prototype._wrapPromisePreload=function(d,v,m){var n=function(){for(var i=this,a=(this._incrementPreload(),null),l=null,c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];if(m)for(var o=r.length-1;0<=o&&!l&&typeof r[o]=="function";o--)l=a,a=r.pop();var u=Promise.resolve(v.apply(this,r));return a&&u.then(a),l&&u.catch(l),u.then(function(){return i._decrementPreload()}),u};return n=d?n.bind(d):n},y.default.prototype._legacyPreloadGenerator=function(d,i,m){var n=i.createBaseObject||b,i=function(){var a=this;this._incrementPreload();for(var l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];var s=n.apply(this,c);return m.apply(this,c).then(function(o){Object.assign(s,o),a._decrementPreload()}),s};return i=d?i.bind(d):i}},{"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],286:[function(t,X,I){"use strict";function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var b=(n=t("./main"))&&n.__esModule?n:{default:n},h=function(i){if(i&&i.__esModule)return i;if(i===null||v(i)!=="object"&&typeof i!="function")return{default:i};var a=d();if(a&&a.has(i))return a.get(i);var l,c={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var s;Object.prototype.hasOwnProperty.call(i,l)&&((s=r?Object.getOwnPropertyDescriptor(i,l):null)&&(s.get||s.set)?Object.defineProperty(c,l,s):c[l]=i[l])}return c.default=i,a&&a.set(i,c),c}(t("./constants"));function d(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,d=function(){return i},i)}function v(i){return(v=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(a){return y(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(i)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var m="defaultCanvas0",n=(b.default.prototype.createCanvas=function(i,a,l,c){var r,s,o;if(b.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(l=h.P2D,c=arguments[2]):r=l||h.P2D,c)(o=document.getElementById(m))&&o.parentNode.removeChild(o),o=c,this._defaultGraphicsCreated=!1;else{if(r===h.WEBGL)(o=document.getElementById(m))&&(o.parentNode.removeChild(o),s=this._renderer,this._elements=this._elements.filter(function(f){return f!==s})),(o=document.createElement("canvas")).id=m,o.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)o=this.canvas;else{o=c||document.createElement("canvas");for(var u=0;document.getElementById("defaultCanvas".concat(u));)u++;m="defaultCanvas".concat(u),o.id=m,o.classList.add("p5Canvas")}this._setupDone||(o.dataset.hidden=!0,o.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(l=document.createElement("main"),document.body.appendChild(l)),document.getElementsByTagName("main")[0])).appendChild(o)}return r===h.WEBGL?(this._setProperty("_renderer",new b.default.RendererGL(o,this,!0)),this._elements.push(this._renderer),i=(c=this._renderer._adjustDimensions(i,a)).adjustedWidth,a=c.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new b.default.Renderer2D(o,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(i,a),this._renderer._applyDefaults(),this._renderer},b.default.prototype.resizeCanvas=function(i,a,l){if(b.default._validateParameters("resizeCanvas",arguments),this._renderer){var c,r,s,o={};for(c in this.drawingContext){var u=this.drawingContext[c];v(u)!=="object"&&typeof u!="function"&&(o[c]=u)}for(s in this._renderer instanceof b.default.RendererGL&&(i=(r=this._renderer._adjustDimensions(i,a)).adjustedWidth,a=r.adjustedHeight),this.width=i,this.height=a,this._renderer.resize(i,a),o)try{this.drawingContext[s]=o[s]}catch{}l||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},b.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},b.default.prototype.createGraphics=function(i,a){for(var l=arguments.length,c=new Array(2<l?l-2:0),r=2;r<l;r++)c[r-2]=arguments[r];return c[0]instanceof HTMLCanvasElement&&(c[1]=c[0],c[0]=h.P2D),b.default._validateParameters("createGraphics",arguments),new b.default.Graphics(i,a,c[0],this,c[1])},b.default.prototype.createFramebuffer=function(i){return new b.default.Framebuffer(this,i)},b.default.prototype.clearDepth=function(i){this._assert3d("clearDepth"),this._renderer.clearDepth(i)},b.default.prototype.blendMode=function(i){b.default._validateParameters("blendMode",arguments),i===h.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),i=h.BLEND),this._renderer.blendMode(i)},b.default);I.default=n},{"../webgl/p5.RendererGL":337,"./constants":269,"./main":280,"./p5.Graphics":282,"./p5.Renderer2D":284,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],287:[function(t,X,I){"use strict";function y(a){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(l){return y(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=n(t("../main")),d=function(a){if(a&&a.__esModule)return a;if(a===null||b(a)!=="object"&&typeof a!="function")return{default:a};var l=m();if(l&&l.has(a))return l.get(a);var c,r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var o;Object.prototype.hasOwnProperty.call(a,c)&&((o=s?Object.getOwnPropertyDescriptor(a,c):null)&&(o.get||o.set)?Object.defineProperty(r,c,o):r[c]=a[c])}return r.default=a,l&&l.set(a,r),r}(t("../constants")),v=n(t("../helpers"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}function n(a){return a&&a.__esModule?a:{default:a}}function i(a){return function(l){if(Array.isArray(l)){for(var c=0,r=new Array(l.length);c<l.length;c++)r[c]=l[c];return r}}(a)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),h.default.prototype._normalizeArcAngles=function(a,l,c,r,s){var o;return a-=d.TWO_PI*Math.floor(a/d.TWO_PI),l-=d.TWO_PI*Math.floor(l/d.TWO_PI),o=Math.min(Math.abs(a-l),d.TWO_PI-Math.abs(a-l)),s&&(a=a<=d.HALF_PI?Math.atan(c/r*Math.tan(a)):a>d.HALF_PI&&a<=3*d.HALF_PI?Math.atan(c/r*Math.tan(a))+d.PI:Math.atan(c/r*Math.tan(a))+d.TWO_PI,l=l<=d.HALF_PI?Math.atan(c/r*Math.tan(l)):l>d.HALF_PI&&l<=3*d.HALF_PI?Math.atan(c/r*Math.tan(l))+d.PI:Math.atan(c/r*Math.tan(l))+d.TWO_PI),l<a&&(l+=d.TWO_PI),{start:a,stop:l,correspondToSamePoint:o<1e-5}},h.default.prototype.arc=function(a,l,c,r,s,o,u,f){return h.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&s!==o&&(s=this._toRadians(s),o=this._toRadians(o),c=Math.abs(c),r=Math.abs(r),a=v.default.modeAdjust(a,l,c,r,this._renderer._ellipseMode),(l=this._normalizeArcAngles(s,o,a.w,a.h,!0)).correspondToSamePoint?this._renderer.ellipse([a.x,a.y,a.w,a.h,f]):(this._renderer.arc(a.x,a.y,a.w,a.h,l.start,l.stop,u,f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[a.x,a.y,a.w,a.h,l.start,l.stop,u]))),this},h.default.prototype.ellipse=function(a,l,c,r,s){return h.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},h.default.prototype.circle=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];h.default._validateParameters("circle",l);var r=l.slice(0,2);return r.push(l[2],l[2]),this._renderEllipse.apply(this,i(r))},h.default.prototype._renderEllipse=function(a,l,c,r,s){return(this._renderer._doStroke||this._renderer._doFill)&&(c<0&&(c=Math.abs(c)),r===void 0?r=c:r<0&&(r=Math.abs(r)),a=v.default.modeAdjust(a,l,c,r,this._renderer._ellipseMode),this._renderer.ellipse([a.x,a.y,a.w,a.h,s]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[a.x,a.y,a.w,a.h])),this},h.default.prototype.line=function(){for(var a,l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return h.default._validateParameters("line",c),this._renderer._doStroke&&(a=this._renderer).line.apply(a,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",c),this},h.default.prototype.point=function(){for(var a,l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return h.default._validateParameters("point",c),this._renderer._doStroke&&(c.length===1&&c[0]instanceof h.default.Vector?this._renderer.point.call(this._renderer,c[0].x,c[0].y,c[0].z):((a=this._renderer).point.apply(a,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",c))),this},h.default.prototype.quad=function(){for(var a,l=arguments.length,c=new Array(l),r=0;r<l;r++)c[r]=arguments[r];return h.default._validateParameters("quad",c),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&c.length<12?this._renderer.quad.call(this._renderer,c[0],c[1],0,c[2],c[3],0,c[4],c[5],0,c[6],c[7],0,c[8],c[9]):((a=this._renderer).quad.apply(a,c),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",c))),this},h.default.prototype.rect=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return h.default._validateParameters("rect",l),this._renderRect.apply(this,l)},h.default.prototype.square=function(a,l,c,r,s,o,u){return h.default._validateParameters("square",arguments),this._renderRect.call(this,a,l,c,c,r,s,o,u)},h.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var a=v.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),l=[a.x,a.y,a.w,a.h],c=4;c<arguments.length;c++)l[c]=arguments[c];this._renderer.rect(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[a.x,a.y,a.w,a.h])}return this},h.default.prototype.triangle=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return h.default._validateParameters("triangle",l),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(l),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",l),this},t=h.default,I.default=t},{"../constants":269,"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../helpers":276,"../main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],288:[function(t,X,I){"use strict";function y(n){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(n)}function b(n){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(m=t("../main"))&&m.__esModule?m:{default:m},d=function(n){if(n&&n.__esModule)return n;if(n===null||b(n)!=="object"&&typeof n!="function")return{default:n};var i=v();if(i&&i.has(n))return i.get(n);var a,l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var r;Object.prototype.hasOwnProperty.call(n,a)&&((r=c?Object.getOwnPropertyDescriptor(n,a):null)&&(r.get||r.set)?Object.defineProperty(l,a,r):l[a]=n[a])}return l.default=n,i&&i.set(n,l),l}(t("../constants"));function v(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,v=function(){return n},n)}h.default.prototype.ellipseMode=function(n){return h.default._validateParameters("ellipseMode",arguments),n!==d.CORNER&&n!==d.CORNERS&&n!==d.RADIUS&&n!==d.CENTER||(this._renderer._ellipseMode=n),this},h.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},h.default.prototype.rectMode=function(n){return h.default._validateParameters("rectMode",arguments),n!==d.CORNER&&n!==d.CORNERS&&n!==d.RADIUS&&n!==d.CENTER||(this._renderer._rectMode=n),this},h.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},h.default.prototype.strokeCap=function(n){return h.default._validateParameters("strokeCap",arguments),n!==d.ROUND&&n!==d.SQUARE&&n!==d.PROJECT||this._renderer.strokeCap(n),this},h.default.prototype.strokeJoin=function(n){return h.default._validateParameters("strokeJoin",arguments),n!==d.ROUND&&n!==d.BEVEL&&n!==d.MITER||this._renderer.strokeJoin(n),this},h.default.prototype.strokeWeight=function(n){return h.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(n),this};var m=h.default;I.default=m},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],289:[function(t,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(b=t("../main"))&&b.__esModule?b:{default:b};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),y.default.prototype.bezier=function(){for(var h,d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];return y.default._validateParameters("bezier",v),(this._renderer._doStroke||this._renderer._doFill)&&(h=this._renderer).bezier.apply(h,v),this},y.default.prototype.bezierDetail=function(h){return y.default._validateParameters("bezierDetail",arguments),this._bezierDetail=h,this},y.default.prototype.bezierPoint=function(h,d,v,m,n){y.default._validateParameters("bezierPoint",arguments);var i=1-n;return Math.pow(i,3)*h+3*Math.pow(i,2)*n*d+3*i*Math.pow(n,2)*v+Math.pow(n,3)*m},y.default.prototype.bezierTangent=function(h,d,v,m,n){y.default._validateParameters("bezierTangent",arguments);var i=1-n;return 3*m*Math.pow(n,2)-3*v*Math.pow(n,2)+6*v*i*n-6*d*i*n+3*d*Math.pow(i,2)-3*h*Math.pow(i,2)},y.default.prototype.curve=function(){for(var h,d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];return y.default._validateParameters("curve",v),this._renderer._doStroke&&(h=this._renderer).curve.apply(h,v),this},y.default.prototype.curveDetail=function(h){return y.default._validateParameters("curveDetail",arguments),this._curveDetail=h<3?3:h,this},y.default.prototype.curveTightness=function(h){return y.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=h,this},y.default.prototype.curvePoint=function(h,d,v,m,n){y.default._validateParameters("curvePoint",arguments);var i=this._renderer._curveTightness,a=n*n*n,l=n*n;return h*((i-1)/2*a+(1-i)*l+(i-1)/2*n)+d*((i+3)/2*a+(-5-i)/2*l+1)+v*((-3-i)/2*a+(i+2)*l+(1-i)/2*n)+m*((1-i)/2*a+(i-1)/2*l)},y.default.prototype.curveTangent=function(h,d,v,m,l){y.default._validateParameters("curveTangent",arguments);var i=this._renderer._curveTightness,a=l*l*3,l=2*l;return h*((i-1)/2*a+(1-i)*l+(i-1)/2)+d*((i+3)/2*a+(-5-i)/2*l)+v*((-3-i)/2*a+(i+2)*l+(1-i)/2)+m*((1-i)/2*a+(i-1)/2*l)};var b=y.default;I.default=b},{"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../main":280}],290:[function(t,X,I){"use strict";function y(u){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(u)}function b(u){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(f){return y(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":y(f)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(o=t("../main"))&&o.__esModule?o:{default:o},d=function(u){if(u&&u.__esModule)return u;if(u===null||b(u)!=="object"&&typeof u!="function")return{default:u};var f=v();if(f&&f.has(u))return f.get(u);var C,E={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in u){var x;Object.prototype.hasOwnProperty.call(u,C)&&((x=j?Object.getOwnPropertyDescriptor(u,C):null)&&(x.get||x.set)?Object.defineProperty(E,C,x):E[C]=u[C])}return E.default=u,f&&f.set(u,E),E}(t("../constants"));function v(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,v=function(){return u},u)}var m=null,n=[],i=[],a=!1,l=!1,c=!1,r=!1,s=!0,o=(h.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(i=[],r=!0),this},h.default.prototype.beginShape=function(u){var f;return h.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(f=this._renderer).beginShape.apply(f,arguments):(m=u===d.POINTS||u===d.LINES||u===d.TRIANGLES||u===d.TRIANGLE_FAN||u===d.TRIANGLE_STRIP||u===d.QUADS||u===d.QUAD_STRIP?u:null,n=[],i=[]),this},h.default.prototype.bezierVertex=function(){for(var u,f=arguments.length,C=new Array(f),E=0;E<f;E++)C[E]=arguments[E];if(h.default._validateParameters("bezierVertex",C),this._renderer.isP3D)(u=this._renderer).bezierVertex.apply(u,C);else if(n.length===0)h.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{a=!0;for(var j=[],x=0;x<C.length;x++)j[x]=C[x];j.isVert=!1,(r?i:n).push(j)}return this},h.default.prototype.curveVertex=function(){for(var u,f=arguments.length,C=new Array(f),E=0;E<f;E++)C[E]=arguments[E];return h.default._validateParameters("curveVertex",C),this._renderer.isP3D?(u=this._renderer).curveVertex.apply(u,C):(l=!0,this.vertex(C[0],C[1])),this},h.default.prototype.endContour=function(){if(!this._renderer.isP3D){var u=i[0].slice();u.isVert=i[0].isVert,u.moveTo=!1,i.push(u),s&&(n.push(n[0]),s=!1);for(var f=0;f<i.length;f++)n.push(i[f])}return this},h.default.prototype.endShape=function(u){var f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(h.default._validateParameters("endShape",arguments),f<1&&(console.log("\u{1F338} p5.js says: You can not have less than one instance"),f=1),this._renderer.isP3D)this._renderer.endShape(u,l,a,c,r,m,f);else{if(f!==1&&console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode"),n.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;f=u===d.CLOSE,f&&!r&&n.push(n[0]),this._renderer.endShape(u,n,l,a,c,r,m),s=!(r=c=a=l=!1),f&&n.pop()}return this},h.default.prototype.quadraticVertex=function(){for(var u,f=arguments.length,C=new Array(f),E=0;E<f;E++)C[E]=arguments[E];if(h.default._validateParameters("quadraticVertex",C),this._renderer.isP3D)(u=this._renderer).quadraticVertex.apply(u,C);else{if(this._contourInited)return(u={}).x=C[0],u.y=C[1],u.x3=C[2],u.y3=C[3],u.type=d.QUADRATIC,this._contourVertices.push(u),this;if(0<n.length){c=!0;for(var j=[],x=0;x<C.length;x++)j[x]=C[x];j.isVert=!1,(r?i:n).push(j)}else h.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},h.default.prototype.vertex=function(u,f,C,E,j){var x;return this._renderer.isP3D?(x=this._renderer).vertex.apply(x,arguments):((x=[]).isVert=!0,x[0]=u,x[1]=f,x[2]=0,x[3]=0,x[4]=0,x[5]=this._renderer._getFill(),x[6]=this._renderer._getStroke(),C&&(x.moveTo=C),(r?(i.length===0&&(x.moveTo=!0),i):n).push(x)),this},h.default.prototype.normal=function(u,f,C){var E;return this._assert3d("normal"),h.default._validateParameters("normal",arguments),(E=this._renderer).normal.apply(E,arguments),this},h.default);I.default=o},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],291:[function(t,X,I){},{}],292:[function(t,X,I){"use strict";t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var y=this._styles.pop();y?(this._renderer.pop(y.renderer),Object.assign(this,y.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(y){if(!this._inUserDraw&&this._setupDone){var b=parseInt(y),h=((isNaN(b)||b<1)&&(b=1),this._isGlobal?window:this);if(typeof h.draw=="function"){h.setup===void 0&&h.scale(h._pixelDensity,h._pixelDensity);for(var d=0;d<b;d++){h.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),h._renderer.isP3D&&h._renderer._update(),h._setProperty("frameCount",h.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{h.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,I.default=t},{"./main":280,"core-js/modules/es.object.assign":181}],293:[function(t,X,I){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("./main"))&&t.__esModule?t:{default:t};function b(h){return function(d){if(Array.isArray(d)){for(var v=0,m=new Array(d.length);v<d.length;v++)m[v]=d[v];return m}}(h)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.applyMatrix=function(){var h=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||h?(h=this._renderer).applyMatrix.apply(h,b(arguments.length<=0?void 0:arguments[0])):(h=this._renderer).applyMatrix.apply(h,arguments),this},y.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},y.default.prototype.rotate=function(h,d){return y.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(h),d),this},y.default.prototype.rotateX=function(h){return this._assert3d("rotateX"),y.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(h)),this},y.default.prototype.rotateY=function(h){return this._assert3d("rotateY"),y.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(h)),this},y.default.prototype.rotateZ=function(h){return this._assert3d("rotateZ"),y.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(h)),this},y.default.prototype.scale=function(h,d,v){var m;return y.default._validateParameters("scale",arguments),h instanceof y.default.Vector?(h=(m=h).x,d=m.y,v=m.z):Array.isArray(h)&&(h=(m=h)[0],d=m[1],v=m[2]||1),isNaN(d)?d=v=h:isNaN(v)&&(v=1),this._renderer.scale(h,d,v),this},y.default.prototype.shearX=function(h){return y.default._validateParameters("shearX",arguments),h=this._toRadians(h),this._renderer.applyMatrix(1,0,Math.tan(h),1,0,0),this},y.default.prototype.shearY=function(h){return y.default._validateParameters("shearY",arguments),h=this._toRadians(h),this._renderer.applyMatrix(1,Math.tan(h),0,1,0,0),this},y.default.prototype.translate=function(h,d,v){return y.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(h,d,v):this._renderer.translate(h,d),this},t=y.default,I.default=t},{"./main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243}],294:[function(t,X,I){"use strict";function y(v){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var b=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(v){return function(m){if(Array.isArray(m)){for(var n=0,i=new Array(m.length);n<m.length;n++)i[n]=m[n];return i}}(v)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(v){return(d=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(m){return y(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":y(m)})(v)}b.default.prototype.storeItem=function(v,m){typeof v!="string"&&console.log("The argument that you passed to storeItem() - ".concat(v," is not a string.")),v.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(v," must not end with 'p5TypeID'.")),m===void 0&&console.log("You cannot store undefined variables using storeItem().");var n=d(m);switch(n){case"number":case"boolean":m=m.toString();break;case"object":m instanceof b.default.Color?n="p5.Color":m instanceof b.default.Vector&&(n="p5.Vector",m=[m.x,m.y,m.z]),m=JSON.stringify(m)}localStorage.setItem(v,m),v="".concat(v,"p5TypeID"),localStorage.setItem(v,n)},b.default.prototype.getItem=function(v){var m=localStorage.getItem(v),n=localStorage.getItem("".concat(v,"p5TypeID"));if(n===void 0)console.log("Unable to determine type of item stored under ".concat(v,"in local storage. Did you save the item with something other than setItem()?"));else if(m!==null)switch(n){case"number":m=parseFloat(m);break;case"boolean":m=m==="true";break;case"object":m=JSON.parse(m);break;case"p5.Color":m=JSON.parse(m),m=this.color.apply(this,h(m.levels));break;case"p5.Vector":m=JSON.parse(m),m=this.createVector.apply(this,h(m))}return m},b.default.prototype.clearStorage=function(){var v=this;Object.keys(localStorage).forEach(function(m){m.endsWith("p5TypeID")&&v.removeItem(m.replace("p5TypeID",""))})},b.default.prototype.removeItem=function(v){typeof v!="string"&&console.log("The argument that you passed to removeItem() - ".concat(v," is not a string.")),localStorage.removeItem(v),localStorage.removeItem("".concat(v,"p5TypeID"))}},{"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],295:[function(t,X,I){"use strict";function y(c){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(c)}function b(c){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(r){return y(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":y(r)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(r&&r.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),r&&v(c,r)}function v(c,r){return(v=Object.setPrototypeOf||function(s,o){return s.__proto__=o,s})(c,r)}function m(c){return function(){var r,s=n(c),s=(r=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(r=n(this).constructor,Reflect.construct(s,arguments,r)):s.apply(this,arguments),this);if(!r||b(r)!=="object"&&typeof r!="function"){if(s!==void 0)return s;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return r}}function n(c){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(c)}function i(c,r){if(!(c instanceof r))throw new TypeError("Cannot call a class as a function")}function a(c,r){for(var s=0;s<r.length;s++){var o=r[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(c,o.key,o)}}function l(c,r,s){r&&a(c.prototype,r),s&&a(c,s)}h.default.prototype.createStringDict=function(c,r){return h.default._validateParameters("createStringDict",arguments),new h.default.StringDict(c,r)},h.default.prototype.createNumberDict=function(c,r){return h.default._validateParameters("createNumberDict",arguments),new h.default.NumberDict(c,r)},h.default.TypedDict=function(){function c(r,s){return i(this,c),r instanceof Object?this.data=r:(this.data={},this.data[r]=s),this}return l(c,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(r){return this.data.hasOwnProperty(r)}},{key:"get",value:function(r){if(this.data.hasOwnProperty(r))return this.data[r];console.log("".concat(r," does not exist in this Dictionary"))}},{key:"set",value:function(r,s){this._validate(s)?this.data[r]=s:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(r){for(var s in r)this.set(s,r[s])}},{key:"create",value:function(r,s){r instanceof Object&&s===void 0?this._addObj(r):r!==void 0?this.set(r,s):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(r){if(!this.data.hasOwnProperty(r))throw new Error("".concat(r," does not exist in this Dictionary"));delete this.data[r]}},{key:"print",value:function(){for(var r in this.data)console.log("key:".concat(r," value:").concat(this.data[r]))}},{key:"saveTable",value:function(r){var s,o="";for(s in this.data)o+="".concat(s,",").concat(this.data[s],`
`);var u=new Blob([o],{type:"text/csv"});h.default.prototype.downloadFile(u,r||"mycsv","csv")}},{key:"saveJSON",value:function(r,s){h.default.prototype.saveJSON(this.data,r,s)}},{key:"_validate",value:function(r){return!0}}]),c}(),h.default.StringDict=function(){d(r,h.default.TypedDict);var c=m(r);function r(){i(this,r);for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return c.call.apply(c,[this].concat(o))}return l(r,[{key:"_validate",value:function(s){return typeof s=="string"}}]),r}(),h.default.NumberDict=function(){d(r,h.default.TypedDict);var c=m(r);function r(){i(this,r);for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return c.call.apply(c,[this].concat(o))}return l(r,[{key:"_validate",value:function(s){return typeof s=="number"}},{key:"add",value:function(s,o){this.data.hasOwnProperty(s)?this.data[s]+=o:console.log("The key - ".concat(s," does not exist in this dictionary."))}},{key:"sub",value:function(s,o){this.add(s,-o)}},{key:"mult",value:function(s,o){this.data.hasOwnProperty(s)?this.data[s]*=o:console.log("The key - ".concat(s," does not exist in this dictionary."))}},{key:"div",value:function(s,o){this.data.hasOwnProperty(s)?this.data[s]/=o:console.log("The key - ".concat(s," does not exist in this dictionary."))}},{key:"_valueTest",value:function(s){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var o,u=this.data[Object.keys(this.data)[0]];for(o in this.data)this.data[o]*s<u*s&&(u=this.data[o]);return u}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(s){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var o=Object.keys(this.data)[0],u=1;u<Object.keys(this.data).length;u++)Object.keys(this.data)[u]*s<o*s&&(o=Object.keys(this.data)[u]);return o}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),r}(),t=h.default.TypedDict,I.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],296:[function(t,X,I){"use strict";function y(o){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var b=(t=t("../core/main"))&&t.__esModule?t:{default:t};function h(o,u){for(var f=0;f<u.length;f++){var C=u[f];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(o,C.key,C)}}function d(o,u,f){u&&h(o.prototype,u),f&&h(o,f)}function v(o,u){return(v=Object.setPrototypeOf||function(f,C){return f.__proto__=C,f})(o,u)}function m(o){return function(){var u,f,C=i(o);return u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(u=i(this).constructor,Reflect.construct(C,arguments,u)):C.apply(this,arguments),C=this,!(f=u)||l(f)!=="object"&&typeof f!="function"?n(C):f}}function n(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function i(o){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(o)}function a(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function l(o){return(l=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(o)}function c(o,u,f){return(u._userNode||document.body).appendChild(o),f=new(f?b.default.MediaElement:b.default.Element)(o,u),u._elements.push(f),f}function r(o,x,f,C){var E=document.createElement(x),j=(typeof(f=f||"")=="string"&&(f=[f]),!0),x=!1,T=void 0;try{for(var _,M=f[Symbol.iterator]();!(j=(_=M.next()).done);j=!0){var p=_.value,S=document.createElement("source");S.setAttribute("src",p),E.appendChild(S)}}catch(k){x=!0,T=k}finally{try{j||M.return==null||M.return()}finally{if(x)throw T}}typeof C=="function"&&E.addEventListener("canplaythrough",function k(){C(),E.removeEventListener("canplaythrough",k)});var O=c(E,o,!0);return O.loadedmetadata=!1,E.addEventListener("loadedmetadata",function(){O.width=E.videoWidth,O.height=E.videoHeight,O.elt.width===0&&(O.elt.width=E.videoWidth),O.elt.height===0&&(O.elt.height=E.videoHeight),O.presetPlaybackRate&&(O.elt.playbackRate=O.presetPlaybackRate,delete O.presetPlaybackRate),O.loadedmetadata=!0}),O}b.default.prototype.select=function(o,u){return b.default._validateParameters("select",arguments),u=this._getContainer(u).querySelector(o),u?this._wrapElement(u):null},b.default.prototype.selectAll=function(o,u){b.default._validateParameters("selectAll",arguments);var f=[],C=this._getContainer(u).querySelectorAll(o);if(C)for(var E=0;E<C.length;E++){var j=this._wrapElement(C[E]);f.push(j)}return f},b.default.prototype._getContainer=function(o){var u=document;return typeof o=="string"?u=document.querySelector(o)||document:o instanceof b.default.Element?u=o.elt:o instanceof HTMLElement&&(u=o),u},b.default.prototype._wrapElement=function(o){var u,f=Array.prototype.slice.call(o.children);return o.tagName==="INPUT"&&o.type==="checkbox"?((u=new b.default.Element(o,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},u):o.tagName==="VIDEO"||o.tagName==="AUDIO"?new b.default.MediaElement(o,this):o.tagName==="SELECT"?this.createSelect(new b.default.Element(o,this)):0<f.length&&f.every(function(C){return C.tagName==="INPUT"||C.tagName==="LABEL"})?this.createRadio(new b.default.Element(o,this)):new b.default.Element(o,this)},b.default.prototype.removeElements=function(o){b.default._validateParameters("removeElements",arguments),this._elements.filter(function(u){return!(u.elt instanceof HTMLCanvasElement)}).map(function(u){return u.remove()})},b.default.Element.prototype.changed=function(o){return b.default.Element._adjustListener("change",o,this),this},b.default.Element.prototype.input=function(o){return b.default.Element._adjustListener("input",o,this),this},b.default.prototype.createDiv=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",u=document.createElement("div");return u.innerHTML=o,c(u,this)},b.default.prototype.createP=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",u=document.createElement("p");return u.innerHTML=o,c(u,this)},b.default.prototype.createSpan=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",u=document.createElement("span");return u.innerHTML=o,c(u,this)},b.default.prototype.createImg=function(){b.default._validateParameters("createImg",arguments);var o,u=document.createElement("img"),f=arguments;return 1<f.length&&typeof f[1]=="string"&&(u.alt=f[1]),2<f.length&&typeof f[2]=="string"&&(u.crossOrigin=f[2]),u.src=f[0],o=c(u,this),u.addEventListener("load",function(){o.width=u.offsetWidth||u.width,o.height=u.offsetHeight||u.height;var C=f[f.length-1];typeof C=="function"&&C(o)}),o},b.default.prototype.createA=function(o,u,f){b.default._validateParameters("createA",arguments);var C=document.createElement("a");return C.href=o,C.innerHTML=u,f&&(C.target=f),c(C,this)},b.default.prototype.createSlider=function(o,u,f,C){b.default._validateParameters("createSlider",arguments);var E=document.createElement("input");return E.type="range",E.min=o,E.max=u,C===0?E.step=1e-18:C&&(E.step=C),typeof f=="number"&&(E.value=f),c(E,this)},b.default.prototype.createButton=function(o,u){b.default._validateParameters("createButton",arguments);var f=document.createElement("button");return f.innerHTML=o,u&&(f.value=u),c(f,this)},b.default.prototype.createCheckbox=function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];b.default._validateParameters("createCheckbox",u);var C=document.createElement("div"),E=document.createElement("input"),j=(E.type="checkbox",document.createElement("label")),x=(j.appendChild(E),C.appendChild(j),c(C,this));return x.checked=function(){var T=x.elt.firstElementChild.getElementsByTagName("input")[0];if(T){if(arguments.length===0)return T.checked;T.checked=!(arguments.length<=0||!arguments[0])}return x},this.value=function(T){return x.value=T,this},u[0]&&(x.value(u[0]),(C=document.createElement("span")).innerHTML=u[0],j.appendChild(C)),u[1]&&(E.checked=!0),x},b.default.prototype.createSelect=function(){for(var o,u=arguments.length,f=new Array(u),C=0;C<u;C++)f[C]=arguments[C];b.default._validateParameters("createSelect",f);var E,j=f[0];return j instanceof b.default.Element&&j.elt instanceof HTMLSelectElement?this.elt=(o=j).elt:j instanceof HTMLSelectElement?(o=c(j,this),this.elt=j):(E=document.createElement("select"),j&&typeof j=="boolean"&&E.setAttribute("multiple","true"),o=c(E,this),this.elt=E),o.option=function(x,T){var _;if(x!==void 0){for(var M,p=0;p<this.elt.length;p+=1)if(this.elt[p].textContent===x){_=p;break}_!==void 0?T===!1?this.elt.remove(_):this.elt[_].value=T:((M=document.createElement("option")).textContent=x,M.value=T===void 0?x:T,this.elt.appendChild(M),this._pInst._elements.push(M))}},o.selected=function(x){if(x!==void 0){for(var T=0;T<this.elt.length;T+=1)this.elt[T].value.toString()===x.toString()&&(this.elt.selectedIndex=T);return this}if(this.elt.getAttribute("multiple")){var _=[],M=!0,p=!1,S=void 0;try{for(var O,k=this.elt.selectedOptions[Symbol.iterator]();!(M=(O=k.next()).done);M=!0){var F=O.value;_.push(F.value)}}catch(B){p=!0,S=B}finally{try{M||k.return==null||k.return()}finally{if(p)throw S}}return _}return this.elt.value},o.disable=function(x){if(typeof x=="string")for(var T=0;T<this.elt.length;T++)this.elt[T].value.toString()===x&&(this.elt[T].disabled=!0,this.elt[T].selected=!1);else this.elt.disabled=!0;return this},o.enable=function(x){if(typeof x=="string")for(var T=0;T<this.elt.length;T++)this.elt[T].value.toString()===x&&(this.elt[T].disabled=!1,this.elt[T].selected=!1);else{this.elt.disabled=!1;for(var _=0;_<this.elt.length;_++)this.elt[_].disabled=!1,this.elt[_].selected=!1}return this},o},b.default.prototype.createRadio=function(){function o(x){return x instanceof HTMLInputElement&&x.type==="radio"}function u(x){return x instanceof HTMLLabelElement}var f,C,E,j=arguments.length<=0?void 0:arguments[0];return j instanceof b.default.Element&&(j.elt instanceof HTMLDivElement||j.elt instanceof HTMLSpanElement)?(f=j,this.elt=j.elt):j instanceof HTMLDivElement||j instanceof HTMLSpanElement?(f=c(j,this),C=this.elt=j,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(E=arguments.length<=1?void 0:arguments[1])):(typeof j=="string"&&(E=j),C=document.createElement("div"),f=c(C,this),this.elt=C),f._name=E||"radioOption",f._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(x){return o(x)||u(x)&&o(x.firstElementChild)}).map(function(x){return o(x)?x:x.firstElementChild})},f.option=function(x,T){var _,M,p,S=!0,O=!1,k=void 0;try{for(var F,B=f._getOptionsArray()[Symbol.iterator]();!(S=(F=B.next()).done);S=!0){var L=F.value;if(L.value===x){_=L;break}}}catch(G){O=!0,k=G}finally{try{S||B.return==null||B.return()}finally{if(O)throw k}}return _===void 0&&((_=document.createElement("input")).setAttribute("type","radio"),_.setAttribute("value",x)),_.setAttribute("name",f._name),u(_.parentElement)?M=_.parentElement:(M=document.createElement("label")).insertAdjacentElement("afterbegin",_),M.lastElementChild instanceof HTMLSpanElement?p=M.lastElementChild:(p=document.createElement("span"),_.insertAdjacentElement("afterend",p)),p.innerHTML=T===void 0?x:T,this.elt.appendChild(M),_},f.remove=function(x){var T=!0,_=!1,M=void 0;try{for(var p,S=f._getOptionsArray()[Symbol.iterator]();!(T=(p=S.next()).done);T=!0){var O=p.value;if(O.value===x)return void(u(O.parentElement)?O.parentElement:O).remove()}}catch(k){_=!0,M=k}finally{try{T||S.return==null||S.return()}finally{if(_)throw M}}},f.value=function(){var x="",T=!0,_=!1,M=void 0;try{for(var p,S=f._getOptionsArray()[Symbol.iterator]();!(T=(p=S.next()).done);T=!0){var O=p.value;if(O.checked){x=O.value;break}}}catch(k){_=!0,M=k}finally{try{T||S.return==null||S.return()}finally{if(_)throw M}}return x},f.selected=function(x){var T=null;if(x===void 0){var _=!0,M=!1,p=void 0;try{for(var S,O=f._getOptionsArray()[Symbol.iterator]();!(_=(S=O.next()).done);_=!0){var k=S.value;if(k.checked){T=k;break}}}catch(K){M=!0,p=K}finally{try{_||O.return==null||O.return()}finally{if(M)throw p}}}else{f._getOptionsArray().forEach(function(P){P.checked=!1,P.removeAttribute("checked")});var F=!0,M=!1,p=void 0;try{for(var B,L=f._getOptionsArray()[Symbol.iterator]();!(F=(B=L.next()).done);F=!0){var G=B.value;G.value===x&&(G.setAttribute("checked",!0),G.checked=!0,T=G)}}catch(P){M=!0,p=P}finally{try{F||L.return==null||L.return()}finally{if(M)throw p}}}return T},f.disable=function(){var x=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],T=!0,_=!1,M=void 0;try{for(var p,S=f._getOptionsArray()[Symbol.iterator]();!(T=(p=S.next()).done);T=!0)p.value.setAttribute("disabled",x)}catch(O){_=!0,M=O}finally{try{T||S.return==null||S.return()}finally{if(_)throw M}}},f},b.default.prototype.createColorPicker=function(o){b.default._validateParameters("createColorPicker",arguments);var u=document.createElement("input");return u.type="color",o?o instanceof b.default.Color?u.value=o.toString("#rrggbb"):(b.default.prototype._colorMode="rgb",b.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},u.value=b.default.prototype.color(o).toString("#rrggbb")):u.value="#000000",(u=c(u,this)).color=function(){return o&&(o.mode&&(b.default.prototype._colorMode=o.mode),o.maxes&&(b.default.prototype._colorMaxes=o.maxes)),b.default.prototype.color(this.elt.value)},u},b.default.prototype.createInput=function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",f=(b.default._validateParameters("createInput",arguments),document.createElement("input"));return f.setAttribute("value",o),f.setAttribute("type",u),c(f,this)},b.default.prototype.createFileInput=function(o){var u,f=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(b.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(u=document.createElement("input")).setAttribute("type","file"),f&&u.setAttribute("multiple",!0),u.addEventListener("change",function(C){var E=!0,j=!1,x=void 0;try{for(var T,_=C.target.files[Symbol.iterator]();!(E=(T=_.next()).done);E=!0){var M=T.value;b.default.File._load(M,o)}}catch(p){j=!0,x=p}finally{try{E||_.return==null||_.return()}finally{if(j)throw x}}},!1),c(u,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},b.default.prototype.createVideo=function(o,u){return b.default._validateParameters("createVideo",arguments),r(this,"video",o,u)},b.default.prototype.createAudio=function(o,u){return b.default._validateParameters("createAudio",arguments),r(this,"audio",o,u)},b.default.prototype.VIDEO="video",b.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(o){var u=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return u?new Promise(function(f,C){u.call(navigator,o,f,C)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),b.default.prototype.createCapture=function(){for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];if(b.default._validateParameters("createCapture",u),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var C,E=!0,j=!0,x=!1,T=0,_=u;T<_.length;T++){var M=_[T];M===b.default.prototype.VIDEO?j=!1:M===b.default.prototype.AUDIO?E=!1:l(M)==="object"?(M.flipped!==void 0&&(x=M.flipped,delete M.flipped),p=Object.assign({},p,M)):typeof M=="function"&&(C=M)}var p=Object.assign({},{video:E,audio:j},p),S=document.createElement("video"),O=(S.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(p).then(function(k){try{"srcObject"in S?S.srcObject=k:S.src=window.URL.createObjectURL(k)}catch{S.src=k}}).catch(function(k){k.name==="NotFoundError"&&b.default._friendlyError("No webcam found on this device","createCapture"),k.name==="NotAllowedError"&&b.default._friendlyError("Access to the camera was denied","createCapture"),console.error(k)}),c(S,this,!0));return O.loadedmetadata=!1,S.addEventListener("loadedmetadata",function(){S.play(),S.width?(O.width=S.width,O.height=S.height,x&&(O.elt.style.transform="scaleX(-1)")):(O.width=O.elt.width=S.videoWidth,O.height=O.elt.height=S.videoHeight),O.loadedmetadata=!0,C&&C(S.srcObject)}),O.flipped=x,O},b.default.prototype.createElement=function(o,u){return b.default._validateParameters("createElement",arguments),o=document.createElement(o),u!==void 0&&(o.innerHTML=u),c(o,this)},b.default.Element.prototype.addClass=function(o){return this.elt.className?this.hasClass(o)||(this.elt.className=this.elt.className+" "+o):this.elt.className=o,this},b.default.Element.prototype.removeClass=function(o){return this.elt.classList.remove(o),this},b.default.Element.prototype.hasClass=function(o){return this.elt.classList.contains(o)},b.default.Element.prototype.toggleClass=function(o){return this.elt.classList.contains(o)?this.elt.classList.remove(o):this.elt.classList.add(o),this},b.default.Element.prototype.child=function(o){return o===void 0?this.elt.childNodes:(typeof o=="string"?(o[0]==="#"&&(o=o.substring(1)),o=document.getElementById(o)):o instanceof b.default.Element&&(o=o.elt),o instanceof HTMLElement&&this.elt.appendChild(o),this)},b.default.Element.prototype.center=function(o){var u=this.elt.style.display,f=this.elt.style.display==="none",C=this.parent().style.display==="none",E={x:this.elt.offsetLeft,y:this.elt.offsetTop},j=(f&&this.show(),C&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),x=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return o==="both"||o===void 0?this.position(j/2+this.parent().offsetLeft,x/2+this.parent().offsetTop):o==="horizontal"?this.position(j/2+this.parent().offsetLeft,E.y):o==="vertical"&&this.position(E.x,x/2+this.parent().offsetTop),this.style("display",u),f&&this.hide(),C&&this.parent().hide(),this},b.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},b.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},b.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var o="";return this.elt.style.transform&&(o=(o=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=o,this},b.default.Element.prototype._rotate=function(){var o="";return this.elt.style.transform&&(o=(o=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=o,this},b.default.Element.prototype.style=function(o,u){if((u=u instanceof b.default.Color?"rgba("+u.levels[0]+","+u.levels[1]+","+u.levels[2]+","+u.levels[3]/255+")":u)===void 0){if(o.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(o);for(var f=o.split(";"),C=0;C<f.length;C++){var E=f[C].split(":");E[0]&&E[1]&&(this.elt.style[E[0].trim()]=E[1].trim())}}else this.elt.style[o]=u,o!=="width"&&o!=="height"&&o!=="left"&&o!=="top"||(u=window.getComputedStyle(this.elt).getPropertyValue(o).replace(/[^\d.]/g,""),this[o]=Math.round(parseFloat(u,10)));return this},b.default.Element.prototype.attribute=function(o,u){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return u===void 0?this.elt.getAttribute(o):(this.elt.setAttribute(o,u),this);if(u===void 0)return this.elt.firstChild.getAttribute(o);for(var f=0;f<this.elt.childNodes.length;f++)this.elt.childNodes[f].setAttribute(o,u)},b.default.Element.prototype.removeAttribute=function(o){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var u=0;u<this.elt.childNodes.length;u++)this.elt.childNodes[u].removeAttribute(o);return this.elt.removeAttribute(o),this},b.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},b.default.Element.prototype.show=function(){return this.elt.style.display="block",this},b.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},b.default.Element.prototype.size=function(o,u){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var f=o,C=u,E=b.default.prototype.AUTO;if(f!==E||C!==E){if(f===E?f=u*this.width/this.height:C===E&&(C=o*this.height/this.width),this.elt instanceof HTMLCanvasElement){var j,x={},T=this.elt.getContext("2d");for(j in T)x[j]=T[j];for(j in this.elt.setAttribute("width",f*this._pInst._pixelDensity),this.elt.setAttribute("height",C*this._pInst._pixelDensity),this.elt.style.width=f+"px",this.elt.style.height=C+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),x)this.elt.getContext("2d")[j]=x[j]}else this.elt.style.width=f+"px",this.elt.style.height=C+"px",this.elt.width=f,this.elt.height=C;this.width=f,this.height=C,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",f),this._pInst._setProperty("height",C))}return this},b.default.Element.prototype.remove=function(){this instanceof b.default.MediaElement&&(this.stop(),(u=this.elt.srcObject)!==null&&u.getTracks().forEach(function(f){f.stop()}));var o,u=this._pInst._elements.indexOf(this);for(o in u!==-1&&this._pInst._elements.splice(u,1),this._events)this.elt.removeEventListener(o,this._events[o]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},b.default.Element.prototype.drop=function(o,u){var f;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",f=function(C){C.preventDefault()}),this.elt.addEventListener("dragleave",f)),b.default.Element._attachListener("drop",function(E){E.preventDefault(),typeof u=="function"&&u.call(this,E);var E=E.dataTransfer.files,j=!0,x=!1,T=void 0;try{for(var _,M=E[Symbol.iterator]();!(j=(_=M.next()).done);j=!0){var p=_.value;b.default.File._load(p,o)}}catch(S){x=!0,T=S}finally{try{j||M.return==null||M.return()}finally{if(x)throw T}}},this)):console.log("The File APIs are not fully supported in this browser."),this},b.default.Element.prototype.draggable=function(o){var u,f="ontouchstart"in window,C=0,E=0,j=0,x=0,T=f?"touchend":"mouseup",_=f?"touchmove":"mousemove";function M(S){var O;S=S||window.event,x=f?(O=S.changedTouches,C=j-parseInt(O[0].clientX),E=x-parseInt(O[0].clientY),j=parseInt(O[0].clientX),parseInt(O[0].clientY)):(C=j-parseInt(S.clientX),E=x-parseInt(S.clientY),j=parseInt(S.clientX),parseInt(S.clientY)),o.style.left=o.offsetLeft-C+"px",o.style.top=o.offsetTop-E+"px"}function p(){document.removeEventListener(T,p,!1),document.removeEventListener(_,M,!1)}return o===void 0?u=o=this.elt:o!==this.elt&&o.elt!==this.elt&&(o=o.elt,u=this.elt),u.addEventListener(f?"touchstart":"mousedown",function(S){{var O;S=S||window.event,x=f?(O=S.changedTouches,j=parseInt(O[0].clientX),parseInt(O[0].clientY)):(j=parseInt(S.clientX),parseInt(S.clientY))}return document.addEventListener(T,p,!1),document.addEventListener(_,M,!1),!1},!1),u.style.cursor="move",this};function s(o,u,f,C){a(this,s),this.callback=o,this.time=u,this.id=f,this.val=C}t=function(o){var u=C;if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),o&&v(u,o);var f=m(C);function C(E,j){a(this,C);var x=n(j=f.call(this,E,j));return j.elt.crossOrigin="anonymous",j._prevTime=0,j._cueIDCounter=0,j._cues=[],j.pixels=[],j._pixelsState=n(j),j._pixelDensity=1,j._modified=!1,j._frameOnCanvas=-1,Object.defineProperty(x,"src",{get:function(){var T=x.elt.children[0].src,_=x.elt.src===window.location.href?"":x.elt.src;return T===window.location.href?_:T},set:function(T){for(var _=0;_<x.elt.children.length;_++)x.elt.removeChild(x.elt.children[_]);var M=document.createElement("source");M.src=T,E.appendChild(M),x.elt.src=T,x.modified=!0}}),x._onended=function(){},x.elt.onended=function(){x._onended(x)},j}return d(C,[{key:"play",value:function(){var E;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(E=this.elt.play())&&E.catch&&E.catch(function(j){j.name==="NotAllowedError"?console.error(j):console.error("Media play method encountered an unexpected error",j)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var E=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(E)},{passive:!0,once:!0})}},{key:"autoplay",value:function(E){var j=this,x=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",E),E&&!x&&(E=function(){return j._setupAutoplayFailDetection()},this.elt.readyState===4?E():this.elt.addEventListener("canplay",E,{passive:!0,once:!0})),this}},{key:"volume",value:function(E){if(E===void 0)return this.elt.volume;this.elt.volume=E}},{key:"speed",value:function(E){if(E===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=E:this.presetPlaybackRate=E}},{key:"time",value:function(E){return E===void 0?this.elt.currentTime:(this.elt.currentTime=E,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var E=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&E&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var E=arguments.length,j=new Array(E),x=0;x<E;x++)j[x]=arguments[x];return b.default.Renderer2D.prototype.loadPixels.apply(this,j)}},{key:"updatePixels",value:function(E,j,x,T){return this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.updatePixels.call(this,E,j,x,T)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var E=arguments.length,j=new Array(E),x=0;x<E;x++)j[x]=arguments[x];return b.default.Renderer2D.prototype.get.apply(this,j)}},{key:"_getPixel",value:function(){this.loadPixels();for(var E=arguments.length,j=new Array(E),x=0;x<E;x++)j[x]=arguments[x];return b.default.Renderer2D.prototype._getPixel.apply(this,j)}},{key:"set",value:function(E,j,x){this.loadedmetadata&&(this._ensureCanvas(),b.default.Renderer2D.prototype.set.call(this,E,j,x),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var E=arguments.length,j=new Array(E),x=0;x<E;x++)j[x]=arguments[x];b.default.prototype.copy.apply(this,j)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var E=arguments.length,j=new Array(E),x=0;x<E;x++)j[x]=arguments[x];b.default.Image.prototype.mask.apply(this,j)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(E){this._modified=E}},{key:"onended",value:function(E){return this._onended=E,this}},{key:"connect",value:function(E){var j,x;if(typeof b.default.prototype.getAudioContext=="function")j=b.default.prototype.getAudioContext(),x=b.default.soundOut.input;else try{x=(j=E.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=j.createMediaElementSource(this.elt),this.audioSourceNode.connect(x)),E?E.input?this.audioSourceNode.connect(E.input):this.audioSourceNode.connect(E):this.audioSourceNode.connect(x)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(E,_,x){var T=this._cueIDCounter++,_=new s(_,E,T,x);return this._cues.push(_),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),T}},{key:"removeCue",value:function(E){for(var j=0;j<this._cues.length;j++)this._cues[j].id===E&&(console.log(E),this._cues.splice(j,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var E=this.time(),j=0;j<this._cues.length;j++){var x=this._cues[j].time,T=this._cues[j].val;this._prevTime<x&&x<=E&&this._cues[j].callback(T)}this._prevTime=E}}]),C}(b.default.Element),b.default.MediaElement=t,t=function(){function o(u,f){a(this,o),this.file=u,this._pInst=f,f=u.type.split("/"),this.type=f[0],this.subtype=f[1],this.name=u.name,this.size=u.size,this.data=void 0}return d(o,null,[{key:"_createLoader",value:function(u,f){var C=new FileReader;return C.onload=function(E){var j,x=new b.default.File(u);x.file.type==="application/json"?x.data=JSON.parse(E.target.result):x.file.type==="text/xml"?(j=new DOMParser().parseFromString(E.target.result,"text/xml"),x.data=new b.default.XML(j.documentElement)):x.data=E.target.result,f(x)},C}},{key:"_load",value:function(u,f){var C;/^text\//.test(u.type)||u.type==="application/json"?b.default.File._createLoader(u,f).readAsText(u):/^(video|audio)\//.test(u.type)?((C=new b.default.File(u)).data=URL.createObjectURL(u),f(C)):b.default.File._createLoader(u,f).readAsDataURL(u)}}]),o}(),b.default.File=t,t=b.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245}],297:[function(l,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(l=l("../core/main"))&&l.__esModule?l:{default:l};y.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",y.default.prototype.accelerationX=0,y.default.prototype.accelerationY=0,y.default.prototype.accelerationZ=0,y.default.prototype.pAccelerationX=0,y.default.prototype.pAccelerationY=0,y.default.prototype.pAccelerationZ=0,y.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},y.default.prototype.rotationX=0,y.default.prototype.rotationY=0,y.default.prototype.rotationZ=0,y.default.prototype.pRotationX=0,y.default.prototype.pRotationY=0;var b=y.default.prototype.pRotationZ=0,h=0,d=0,v="clockwise",m="clockwise",n="clockwise",i=(y.default.prototype.pRotateDirectionX=void 0,y.default.prototype.pRotateDirectionY=void 0,y.default.prototype.pRotateDirectionZ=void 0,y.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},y.default.prototype.turnAxis=void 0,.5),a=30,l=(y.default.prototype.setMoveThreshold=function(c){y.default._validateParameters("setMoveThreshold",arguments),i=c},y.default.prototype.setShakeThreshold=function(c){y.default._validateParameters("setShakeThreshold",arguments),a=c},y.default.prototype._ondeviceorientation=function(c){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(c.beta)),this._setProperty("rotationY",this._fromDegrees(c.gamma)),this._setProperty("rotationZ",this._fromDegrees(c.alpha)),this._handleMotion()},y.default.prototype._ondevicemotion=function(c){this._updatePAccelerations(),this._setProperty("accelerationX",2*c.acceleration.x),this._setProperty("accelerationY",2*c.acceleration.y),this._setProperty("accelerationZ",2*c.acceleration.z),this._handleMotion()},y.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var c,r,s,o,u,f=this._isGlobal?window:this;typeof f.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>i||Math.abs(this.accelerationY-this.pAccelerationY)>i||Math.abs(this.accelerationZ-this.pAccelerationZ)>i)&&f.deviceMoved(),typeof f.deviceTurned=="function"&&(r=this._toDegrees(this.rotationX)+180,s=this._toDegrees(this.pRotationX)+180,c=b+180,0<r-s&&r-s<270||r-s<-270?v="clockwise":(r-s<0||270<r-s)&&(v="counter-clockwise"),v!==this.pRotateDirectionX&&(c=r),90<Math.abs(r-c)&&Math.abs(r-c)<270&&(c=r,this._setProperty("turnAxis","X"),f.deviceTurned()),this.pRotateDirectionX=v,b=c-180,s=this._toDegrees(this.rotationY)+180,r=this._toDegrees(this.pRotationY)+180,c=h+180,0<s-r&&s-r<270||s-r<-270?m="clockwise":(s-r<0||270<s-this.pRotationY)&&(m="counter-clockwise"),m!==this.pRotateDirectionY&&(c=s),90<Math.abs(s-c)&&Math.abs(s-c)<270&&(c=s,this._setProperty("turnAxis","Y"),f.deviceTurned()),this.pRotateDirectionY=m,h=c-180,0<(r=this._toDegrees(this.rotationZ))-(s=this._toDegrees(this.pRotationZ))&&r-s<270||r-s<-270?n="clockwise":(r-s<0||270<r-s)&&(n="counter-clockwise"),n!==this.pRotateDirectionZ&&(d=r),90<Math.abs(r-d)&&Math.abs(r-d)<270&&(d=r,this._setProperty("turnAxis","Z"),f.deviceTurned()),this.pRotateDirectionZ=n,this._setProperty("turnAxis",void 0)),typeof f.deviceShaken=="function"&&(this.pAccelerationX!==null&&(o=Math.abs(this.accelerationX-this.pAccelerationX),u=Math.abs(this.accelerationY-this.pAccelerationY)),a<o+u&&f.deviceShaken())},y.default);I.default=l},{"../core/main":280}],298:[function(t,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};y.default.prototype.isKeyPressed=!1,y.default.prototype.keyIsPressed=!1,y.default.prototype.key="",y.default.prototype.keyCode=0,y.default.prototype._onkeydown=function(b){var h;this._downKeys[b.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",b.which),this._downKeys[b.which]=!0,this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),typeof(h=this._isGlobal?window:this).keyPressed!="function"||b.charCode||h.keyPressed(b)===!1&&b.preventDefault())},y.default.prototype._onkeyup=function(b){this._downKeys[b.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),this._setProperty("keyCode",b.which);var h=this._isGlobal?window:this;typeof h.keyReleased=="function"&&h.keyReleased(b)===!1&&b.preventDefault()},y.default.prototype._onkeypress=function(b){var h;b.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",b.which),this._setProperty("key",b.key||String.fromCharCode(b.which)||b.which),typeof(h=this._isGlobal?window:this).keyTyped=="function"&&h.keyTyped(b)===!1&&b.preventDefault())},y.default.prototype._onblur=function(b){this._downKeys={}},y.default.prototype.keyIsDown=function(b){return y.default._validateParameters("keyIsDown",arguments),this._downKeys[b]||!1},y.default.prototype._areDownKeys=function(){for(var b in this._downKeys)if(this._downKeys.hasOwnProperty(b)&&this._downKeys[b]===!0)return!0;return!1},t=y.default,I.default=t},{"../core/main":280}],299:[function(t,X,I){"use strict";function y(m){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(m)}function b(m){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(n){return y(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":y(n)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(h=t("../core/main"))&&h.__esModule?h:{default:h},d=function(m){if(m&&m.__esModule)return m;if(m===null||b(m)!=="object"&&typeof m!="function")return{default:m};var n=v();if(n&&n.has(m))return n.get(m);var i,a={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in m){var c;Object.prototype.hasOwnProperty.call(m,i)&&((c=l?Object.getOwnPropertyDescriptor(m,i):null)&&(c.get||c.set)?Object.defineProperty(a,i,c):a[i]=m[i])}return a.default=m,n&&n.set(m,a),a}(t("../core/constants"));function v(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,v=function(){return m},m)}h.default.prototype.movedX=0,h.default.prototype.movedY=0,h.default.prototype._hasMouseInteracted=!1,h.default.prototype.mouseX=0,h.default.prototype.mouseY=0,h.default.prototype.pmouseX=0,h.default.prototype.pmouseY=0,h.default.prototype.winMouseX=0,h.default.prototype.winMouseY=0,h.default.prototype.pwinMouseX=0,h.default.prototype.pwinMouseY=0,h.default.prototype.mouseButton=0,h.default.prototype.mouseIsPressed=!1,h.default.prototype._updateNextMouseCoords=function(m){var n,i,a,l,c;this._curElement!==null&&(!m.touches||0<m.touches.length)&&(n=this._curElement.elt,i=this.width,a=this.height,(l=m)&&!l.clientX&&(l.touches?l=l.touches[0]:l.changedTouches&&(l=l.changedTouches[0])),c=n.getBoundingClientRect(),i=n.scrollWidth/i||1,n=n.scrollHeight/a||1,a={x:(l.clientX-c.left)/i,y:(l.clientY-c.top)/n,winX:l.clientX,winY:l.clientY,id:l.identifier},this._setProperty("movedX",m.movementX),this._setProperty("movedY",m.movementY),this._setProperty("mouseX",a.x),this._setProperty("mouseY",a.y),this._setProperty("winMouseX",a.winX),this._setProperty("winMouseY",a.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},h.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},h.default.prototype._setMouseButton=function(m){m.button===1?this._setProperty("mouseButton",d.CENTER):m.button===2?this._setProperty("mouseButton",d.RIGHT):this._setProperty("mouseButton",d.LEFT)},h.default.prototype._onmousemove=function(m){var n=this._isGlobal?window:this;this._updateNextMouseCoords(m),this.mouseIsPressed?typeof n.mouseDragged=="function"?n.mouseDragged(m)===!1&&m.preventDefault():typeof n.touchMoved=="function"&&n.touchMoved(m)===!1&&m.preventDefault():typeof n.mouseMoved=="function"&&n.mouseMoved(m)===!1&&m.preventDefault()},h.default.prototype._onmousedown=function(m){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(m),this._updateNextMouseCoords(m),this.touchstart||(typeof n.mousePressed=="function"?n.mousePressed(m)===!1&&m.preventDefault():typeof n.touchStarted=="function"&&n.touchStarted(m)===!1&&m.preventDefault(),this.touchstart=!1)},h.default.prototype._onmouseup=function(m){var n=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof n.mouseReleased=="function"?n.mouseReleased(m)===!1&&m.preventDefault():typeof n.touchEnded=="function"&&n.touchEnded(m)===!1&&m.preventDefault(),this.touchend=!1)},h.default.prototype._ondragend=h.default.prototype._onmouseup,h.default.prototype._ondragover=h.default.prototype._onmousemove,h.default.prototype._onclick=function(m){var n=this._isGlobal?window:this;typeof n.mouseClicked=="function"&&n.mouseClicked(m)===!1&&m.preventDefault()},h.default.prototype._ondblclick=function(m){var n=this._isGlobal?window:this;typeof n.doubleClicked=="function"&&n.doubleClicked(m)===!1&&m.preventDefault()},h.default.prototype._mouseWheelDeltaY=0,h.default.prototype._pmouseWheelDeltaY=0,h.default.prototype._onwheel=function(m){var n=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",m.deltaY),typeof n.mouseWheel=="function"&&(m.delta=m.deltaY,n.mouseWheel(m)===!1&&m.preventDefault())},h.default.prototype.requestPointerLock=function(){var m=this._curElement.elt;return m.requestPointerLock=m.requestPointerLock||m.mozRequestPointerLock,m.requestPointerLock?(m.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},h.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=h.default,I.default=t},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],300:[function(t,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(y){if(this._curElement!==null){for(var b=[],h=0;h<y.touches.length;h++)b[h]=function(c,l,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=c.getBoundingClientRect(),l=c.scrollWidth/l||1,c=c.scrollHeight/r||1,r=n.touches[i]||n.changedTouches[i];return{x:(r.clientX-a.left)/l,y:(r.clientY-a.top)/c,winX:r.clientX,winY:r.clientY,id:r.identifier}}(this._curElement.elt,this.width,this.height,y,h);this._setProperty("touches",b)}},t.default.prototype._ontouchstart=function(y){var b=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(y),this._updateNextMouseCoords(y),this._updateMouseCoords(),typeof b.touchStarted=="function"&&(b.touchStarted(y)===!1&&y.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(y){var b=this._isGlobal?window:this;this._updateTouchCoords(y),this._updateNextMouseCoords(y),typeof b.touchMoved=="function"?b.touchMoved(y)===!1&&y.preventDefault():typeof b.mouseDragged=="function"&&b.mouseDragged(y)===!1&&y.preventDefault()},t.default.prototype._ontouchend=function(y){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(y),this._updateNextMouseCoords(y);var b=this._isGlobal?window:this;typeof b.touchEnded=="function"&&(b.touchEnded(y)===!1&&y.preventDefault(),this.touchend=!0)},t=t.default,I.default=t},{"../core/main":280}],301:[function(t,X,I){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y,b,h,d,v={_toPixels:function(m){var n,i;return m instanceof ImageData?m.data:m.getContext("2d")?m.getContext("2d").getImageData(0,0,m.width,m.height).data:m.getContext("webgl")?(i=(n=m.getContext("webgl")).drawingBufferWidth*n.drawingBufferHeight*4,i=new Uint8Array(i),n.readPixels(0,0,m.width,m.height,n.RGBA,n.UNSIGNED_BYTE,i),i):void 0},_getARGB:function(m,n){return n*=4,m[3+n]<<24&4278190080|m[n]<<16&16711680|m[1+n]<<8&65280|255&m[2+n]},_setPixels:function(m,n){for(var i,a=0,l=m.length;a<l;a++)m[0+(i=4*a)]=(16711680&n[a])>>>16,m[1+i]=(65280&n[a])>>>8,m[2+i]=255&n[a],m[3+i]=(4278190080&n[a])>>>24},_toImageData:function(m){return m instanceof ImageData?m:m.getContext("2d").getImageData(0,0,m.width,m.height)},_createImageData:function(m,n){return v._tmpCanvas=document.createElement("canvas"),v._tmpCtx=v._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(m,n)},apply:function(m,c,i){var a=m.getContext("2d"),l=a.getImageData(0,0,m.width,m.height),c=c(l,i);c instanceof ImageData?a.putImageData(c,0,0,0,0,m.width,m.height):a.putImageData(l,0,0,0,0,m.width,m.height)},threshold:function(m){for(var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,i=v._toPixels(m),a=Math.floor(255*n),l=0;l<i.length;l+=4){var c=void 0,c=a<=.2126*i[l]+.7152*i[l+1]+.0722*i[l+2]?255:0;i[l]=i[l+1]=i[l+2]=c}},gray:function(m){for(var n=v._toPixels(m),i=0;i<n.length;i+=4){var a=n[i],l=n[i+1],c=n[i+2];n[i]=n[i+1]=n[i+2]=.2126*a+.7152*l+.0722*c}},opaque:function(m){for(var n=v._toPixels(m),i=0;i<n.length;i+=4)n[i+3]=255;return n},invert:function(m){for(var n=v._toPixels(m),i=0;i<n.length;i+=4)n[i]=255-n[i],n[i+1]=255-n[i+1],n[i+2]=255-n[i+2]},posterize:function(m){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,i=v._toPixels(m);if(n<2||255<n)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var a=n-1,l=0;l<i.length;l+=4){var c=i[l],r=i[l+1],s=i[l+2];i[l]=255*(c*n>>8)/a,i[l+1]=255*(r*n>>8)/a,i[l+2]=255*(s*n>>8)/a}},dilate:function(m){for(var n,i,a,l,c,r,s,o,u,f=v._toPixels(m),C=0,E=f.length?f.length/4:0,j=new Int32Array(E);C<E;)for(i=(n=C)+m.width;C<i;)l=a=v._getARGB(f,C),(u=C-1)<n&&(u=C),i<=(o=C+1)&&(o=C),(c=C-m.width)<0&&(c=0),E<=(r=C+m.width)&&(r=C),c=v._getARGB(f,c),u=v._getARGB(f,u),r=v._getARGB(f,r),(l=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<(s=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))&&(a=u,l=s),l<(s=77*((u=v._getARGB(f,o))>>16&255)+151*(u>>8&255)+28*(255&u))&&(a=u,l=s),l<(o=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(a=c,l=o),l<(u=77*(r>>16&255)+151*(r>>8&255)+28*(255&r))&&(a=r,l=u),j[C++]=a;v._setPixels(f,j)},erode:function(m){for(var n,i,a,l,c,r,s,o,u,f=v._toPixels(m),C=0,E=f.length?f.length/4:0,j=new Int32Array(E);C<E;)for(i=(n=C)+m.width;C<i;)l=a=v._getARGB(f,C),(u=C-1)<n&&(u=C),i<=(o=C+1)&&(o=C),(c=C-m.width)<0&&(c=0),E<=(r=C+m.width)&&(r=C),c=v._getARGB(f,c),u=v._getARGB(f,u),r=v._getARGB(f,r),(s=77*(u>>16&255)+151*(u>>8&255)+28*(255&u))<(l=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(a=u,l=s),(s=77*((u=v._getARGB(f,o))>>16&255)+151*(u>>8&255)+28*(255&u))<l&&(a=u,l=s),(o=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<l&&(a=c,l=o),(u=77*(r>>16&255)+151*(r>>8&255)+28*(255&r))<l&&(a=r,l=u),j[C++]=a;v._setPixels(f,j)},blur:function(m,n){for(var i,a,l,c,r,s,o,u,f,C,E=v._toPixels(m),j=m.width,x=m.height,T=j*x,_=new Int32Array(T),M=0;M<T;M++)_[M]=v._getARGB(E,M);var p,S,O,k,F,B,L,G,K=new Int32Array(T),$=new Int32Array(T),P=new Int32Array(T),w=new Int32Array(T),D=0,H=3.5*n|0;if(y!==(H=H<1?1:H<248?H:248)){b=1+(y=H)<<1,h=new Int32Array(b),d=new Array(b);for(var N=0;N<b;N++)d[N]=new Int32Array(256);for(var z=1,W=H-1;z<H;z++){h[H+z]=h[W]=B=W*W,L=d[H+z],G=d[W--];for(var te=0;te<256;te++)L[te]=G[te]=B*te}F=h[H]=H*H,L=d[H];for(var V=0;V<256;V++)L[V]=F*V}for(S=0;S<x;S++){for(p=0;p<j;p++){if(c=l=a=r=i=0,(s=p-y)<0)C=-s,s=0;else{if(j<=s)break;C=0}for(O=C;O<b&&!(j<=s);O++){var Z=_[s+D];k=d[O],r+=k[(-16777216&Z)>>>24],a+=k[(16711680&Z)>>16],l+=k[(65280&Z)>>8],c+=k[255&Z],i+=h[O],s++}K[o=D+p]=r/i,$[o]=a/i,P[o]=l/i,w[o]=c/i}D+=j}for(f=(u=-y)*j,S=D=0;S<x;S++){for(p=0;p<j;p++){if(c=l=a=r=i=0,u<0)C=o=-u,s=p;else{if(x<=u)break;C=0,o=u,s=p+f}for(O=C;O<b&&!(x<=o);O++)k=d[O],r+=k[K[s]],a+=k[$[s]],l+=k[P[s]],c+=k[w[s]],i+=h[O],o++,s+=j;_[p+D]=r/i<<24|a/i<<16|l/i<<8|c/i}D+=j,f+=j,u++}v._setPixels(E,_)}};I.default=v},{"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int32-array":222,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239}],302:[function(t,X,I){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=h(t("../core/main")),b=h(t("omggif"));function h(v){return v&&v.__esModule?v:{default:v}}function d(v){return function(m){if(Array.isArray(m)){for(var n=0,i=new Array(m.length);n<m.length;n++)i[n]=m[n];return i}}(v)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.createImage=function(v,m){return y.default._validateParameters("createImage",arguments),new y.default.Image(v,m)},y.default.prototype.saveCanvas=function(){for(var v,m,n,i,a,l,c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];switch(y.default._validateParameters("saveCanvas",r),r[0]instanceof HTMLCanvasElement?(v=r[0],r.shift()):r[0]instanceof y.default.Element?(v=r[0].elt,r.shift()):r[0]instanceof y.default.Framebuffer?(i=r[0],(a=this.createGraphics(i.width,i.height)).pixelDensity(pixelDensity()),i.loadPixels(),a.loadPixels(),a.pixels.set(i.pixels),a.updatePixels(),v=a.elt,r.shift()):v=this._curElement&&this._curElement.elt,1<=r.length&&(m=r[0]),n=(n=2<=r.length?r[1]:n)||y.default.prototype._checkFileExtension(m,n)[1]||"png"){default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}v.toBlob(function(o){y.default.prototype.downloadFile(o,m,n),a&&a.remove()},l)},y.default.prototype.encodeAndDownloadGif=function(v,m){for(var n=v.gifProperties,i=n.loopLimit,a=(i===1?i=null:i===null&&(i=0),new Uint8Array(v.width*v.height*n.numFrames)),l=[],c={},r=0;r<n.numFrames;r++){for(var s=new Set,o=n.frames[r].image.data,u=o.length,f=new Uint32Array(v.width*v.height),C=0,E=0;C<u;C+=4,E++){var j=o[C+0]<<16|o[C+1]<<8|o[C+2]<<0;s.add(j),f[E]=j}var x=d(s).sort().toString();c[x]===void 0?c[x]={freq:1,frames:[r]}:(c[x].freq+=1,c[x].frames.push(r)),l.push(f)}for(var M=[],T=Object.keys(c).sort(function(P,w){return c[w].freq-c[P].freq}),_=T[0].split(",").map(function(P){return parseInt(P)}),M=M.concat(c[_].frames),p=new Set(_),S=1;S<T.length;S++){var O=T[S].split(",").map(function(P){return parseInt(P)}).filter(function(P){return!p.has(P)});if(_.length+O.length<=256){for(var k=0;k<O.length;k++)_.push(O[k]),p.add(O[k]);M=M.concat(c[T[S]].frames)}}M=new Set(M);for(var F={},B=0;B<_.length;B++)F[_[B]]||(F[_[B]]=B);for(var L=1;L<_.length;)L<<=1;_.length=L;for(var i={loop:i,palette:new Uint32Array(_)},G=new b.default.GifWriter(a,v.width,v.height,i),K={},$=0;$<n.numFrames;$++)(function(w){var D=!M.has(w),H=D?[]:_,N=new Uint8Array(v.width*v.height),z={},W=new Set,te=(l[w].forEach(function(J,re){D?(z[J]===void 0&&(z[J]=H.length,H.push(J)),N[re]=z[J]):N[re]=F[J],0<w&&l[w-1][re]!==J&&W.add(J)}),{}),V=H.filter(function(J){return!W.has(J)});if(0<V.length){var V=V[0],Z=(D?z:F)[V];if(0<w){for(var Y=0;Y<l[w].length;Y++)l[w-1][Y]===l[w][Y]&&(N[Y]=Z);te.transparent=Z,K.frameOpts.disposal=1}}if(te.delay=n.frames[w].delay/10,D){for(var q=1;q<H.length;)q<<=1;H.length=q,te.palette=new Uint32Array(H)}0<w&&G.addFrame(0,0,v.width,v.height,K.pixelPaletteIndex,K.frameOpts),K={pixelPaletteIndex:N,frameOpts:te}})($);K.frameOpts.disposal=1,G.addFrame(0,0,v.width,v.height,K.pixelPaletteIndex,K.frameOpts),i=new Blob([a.slice(0,G.end())],{type:"image/gif"}),y.default.prototype.downloadFile(i,m,"gif")},y.default.prototype.saveFrames=function(v,m,n,l,a){y.default._validateParameters("saveFrames",arguments),n=y.default.prototype.constrain(n=n||3,0,15),n*=1e3;var l=y.default.prototype.constrain(l||15,0,22),c=0,r=y.default.prototype._makeFrame,s=this._curElement.elt,o=[],u=setInterval(function(){o.push(r(v+c,m,s)),c++},1e3/l);setTimeout(function(){if(clearInterval(u),a)a(o);else for(var f=0,C=o;f<C.length;f++){var E=C[f];y.default.prototype.downloadFile(E.imageData,E.filename,E.ext)}o=[]},.01+n)},y.default.prototype._makeFrame=function(v,m,a){var i,a=this?this._curElement.elt:a;if(m)switch(m.toLowerCase()){case"png":i="image/png";break;case"jpeg":case"jpg":i="image/jpeg";break;default:i="image/png"}else m="png",i="image/png";var a=(a=a.toDataURL(i)).replace(i,"image/octet-stream"),l={};return l.imageData=a,l.filename=v,l.ext=m,l},t=y.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,omggif:253}],303:[function(t,X,I){"use strict";function y(s){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(s)}function b(s){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(o){return y(o)}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":y(o)})(s)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t("regenerator-runtime/runtime");var h=a(t("../core/main")),d=a(t("../core/helpers")),v=function(s){if(s&&s.__esModule)return s;if(s===null||b(s)!=="object"&&typeof s!="function")return{default:s};var o=i();if(o&&o.has(s))return o.get(s);var u,f={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in s){var E;Object.prototype.hasOwnProperty.call(s,u)&&((E=C?Object.getOwnPropertyDescriptor(s,u):null)&&(E.get||E.set)?Object.defineProperty(f,u,E):f[u]=s[u])}return f.default=s,o&&o.set(s,f),f}(t("../core/constants")),m=a(t("omggif")),n=t("gifenc");function i(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,i=function(){return s},s)}function a(s){return s&&s.__esModule?s:{default:s}}function l(s,o,u,f,C,E,j){try{var x=s[E](j),T=x.value}catch(_){return void u(_)}x.done?o(T):Promise.resolve(T).then(f,C)}function c(s,o,u,f,C,E,j,x,T,_,M){var p,S,O,k,F,B,L,G,K;return s===v.COVER&&(p=o,O=u,L=E,G=j,B=x,K=T,S=_,k=M,F=Math.max(L/S,G/k),L/=F,G/=F,F=B,B=K,p===v.CENTER?F+=(S-L)/2:p===v.RIGHT&&(F+=S-L),O===v.CENTER?B+=(k-G)/2:O===v.BOTTOM&&(B+=k-G),x=(K={x:F,y:B,w:L,h:G}).x,T=K.y,_=K.w,M=K.h),s===v.CONTAIN&&(p=o,S=u,O=f,k=C,F=E,B=j,L=_,G=M,K=Math.max(L/F,G/B),L/=K,G/=K,K=O,O=k,p===v.CENTER?K+=(F-L)/2:p===v.RIGHT&&(K+=F-L),S===v.CENTER?O+=(B-G)/2:S===v.BOTTOM&&(O+=B-G),f=(s={x:K,y:O,w:L,h:G}).x,C=s.y,E=s.w,j=s.h),{sx:x,sy:T,sw:_,sh:M,dx:f,dy:C,dw:E,dh:j}}function r(s,o){return 0<s&&s<o?s:o}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),h.default.prototype.loadImage=function(s,o,u){h.default._validateParameters("loadImage",arguments);var f=new h.default.Image(1,1,this),C=this,E=new Request(s,{method:"GET",mode:"cors"});return fetch(s,E).then(function(j){var x,T=j.headers.get("content-type");T===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),T&&T.includes("image/gif")?j.arrayBuffer().then(function(_){if(_){for(var _=new Uint8Array(_),M=f,p=o,S=u,O=function(D){C._decrementPreload()}.bind(C),k=new m.default.GifReader(_),F=(M.width=M.canvas.width=k.width,M.height=M.canvas.height=k.height,[]),B=k.numFrames(),L=new Uint8ClampedArray(M.width*M.height*4),G=0;G<B;G++){var K=k.frameInfo(G),$=M.drawingContext.getImageData(0,0,M.width,M.height),P=(L=$.data.slice(),function(D,H){try{H.decodeAndBlitFrameRGBA(D,L)}catch(N){h.default._friendlyFileLoadError(8,M.src),typeof S=="function"?S(N):console.error(N)}}(G,k),new ImageData(L,M.width,M.height)),P=(M.drawingContext.putImageData(P,0,0),K.delay);P===0&&(P=10),F.push({image:M.drawingContext.getImageData(0,0,M.width,M.height),delay:10*P}),K.disposal===2?M.drawingContext.clearRect(K.x,K.y,K.width,K.height):K.disposal===3&&M.drawingContext.putImageData($,0,0,K.x,K.y,K.width,K.height)}(_=k.loopCount())===null?_=1:_===0&&(_=null),M.drawingContext.putImageData(F[0].image,0,0),1<F.length&&(M.gifProperties={displayIndex:0,loopLimit:_,loopCount:0,frames:F,numFrames:B,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof p=="function"&&p(M),O()}},function(_){typeof u=="function"?(u(_),C._decrementPreload()):console.error(_)}):((x=new Image).onload=function(){f.width=f.canvas.width=x.width,f.height=f.canvas.height=x.height,f.drawingContext.drawImage(x,0,0),f.modified=!0,typeof o=="function"&&o(f),C._decrementPreload()},x.onerror=function(_){h.default._friendlyFileLoadError(0,x.src),typeof u=="function"?(u(_),C._decrementPreload()):console.error(_)},s.indexOf("data:image/")!==0&&(x.crossOrigin="Anonymous"),x.src=s),f.modified=!0}).catch(function(j){h.default._friendlyFileLoadError(0,s),typeof u=="function"?(u(j),C._decrementPreload()):console.error(j)}),f},h.default.prototype.saveGif=function(){s=regeneratorRuntime.mark(function u(f,C){var E,j,x,T,_,M,p,S,O,k,F,B,L,G,K,$,P,w,D,H,N,z,W,te,V,Z,Y=arguments;return regeneratorRuntime.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(E=2<Y.length&&Y[2]!==void 0?Y[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof f!="string")throw TypeError("fileName parameter must be a string");q.next=3;break;case 3:if(typeof C!="number")throw TypeError("Duration parameter must be a number");q.next=5;break;case 5:if(j=E&&E.delay||0,x=E&&E.units||"seconds",T=E&&E.silent||!1,_=E&&E.notificationDuration||0,M=E&&E.notificationID||"progressBar",typeof j!="number")throw TypeError("Delay parameter must be a number");q.next=12;break;case 12:if(x!=="seconds"&&x!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');q.next=14;break;case 14:if(typeof T!="boolean")throw TypeError("Silent parameter must be a boolean");q.next=16;break;case 16:if(typeof _!="number")throw TypeError("Notification duration parameter must be a number");q.next=18;break;case 18:if(typeof M!="string")throw TypeError("Notification ID parameter must be a string");q.next=20;break;case 20:return this._recording=!0,k=this._targetFrameRate,p=(p=1/(k=k!==1/0&&k!==void 0&&k!==0?k:60)*1e3)<20?20:p,O=(S=x==="seconds"?C*k:C)+(k=x==="seconds"?j*k:j),k=k,this.frameCount=k,F=this._pixelDensity,this.pixelDensity(1),B=[],document.getElementById(M)!==null&&document.getElementById(M).remove(),T||((L=this.createP("")).id(M),L.style("font-size","16px"),L.style("font-family","Montserrat"),L.style("background-color","#ffffffa0"),L.style("padding","8px"),L.style("border-radius","10px"),L.position(0,0)),this._renderer instanceof h.default.RendererGL&&(K=this.drawingContext,G=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4)),this.noLoop(),q.next=39,Promise.resolve();case 39:if(k<O)return this.redraw(),te=void 0,te=this._renderer instanceof h.default.RendererGL?(G=new Uint8Array(K.drawingBufferWidth*K.drawingBufferHeight*4),K.readPixels(0,0,K.drawingBufferWidth,K.drawingBufferHeight,K.RGBA,K.UNSIGNED_BYTE,G),function(J,re,ue){for(var ae=parseInt(ue/2),he=4*re,be=new Uint8Array(4*re),Me=0;Me<ae;++Me){var le=Me*he,pe=(ue-Me-1)*he;be.set(J.subarray(le,le+he)),J.copyWithin(le,pe,pe+he),J.set(be,pe)}return J}(G,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,B.push(te),k++,T||L.html("Saved frame <b>"+B.length.toString()+"</b> out of "+S.toString()),q.next=48,new Promise(function(J){return setTimeout(J,0)});q.next=50;break;case 48:q.next=39;break;case 50:T||L.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(F),$=(0,n.GIFEncoder)(),P=function(J){for(var re=new Uint8Array(J.length*J[0].length),ue=0;ue<J.length;ue++)re.set(J[ue],ue*J[0].length);var ae=(0,n.quantize)(re,256,{format:"rgba4444",oneBitAlpha:!0});return ae.length===256?ae[ae.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ae.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ae}(B),w={},D=function(J){for(var re=J.length/4,ue=new Uint8Array(re),ae=0;ae<re;ae++){var he=J[4*ae]<<24|J[4*ae+1]<<16|J[4*ae+2]<<8|J[4*ae+3];w[he]===void 0&&(w[he]=(0,n.nearestColorIndex)(P,J.slice(4*ae,4*(ae+1)))),ue[ae]=w[he]}return ue},H=P.length-1,N=[],z=0;case 60:if(!(z<B.length)){q.next=71;break}if(W=D(B[z]),te=W.slice(),z===0)$.writeFrame(W,this.width,this.height,{palette:P,delay:p,dispose:1});else{for(V=0;V<W.length;V++)W[V]===N[V]&&(W[V]=H);$.writeFrame(W,this.width,this.height,{delay:p,transparent:!0,transparentIndex:H,dispose:1})}return N=te,T||L.html("Rendered frame <b>"+z.toString()+"</b> out of "+S.toString()),q.next=68,new Promise(function(J){return setTimeout(J,0)});case 68:z++,q.next=60;break;case 71:$.finish(),Z=$.bytesView(),Z=new Blob([Z],{type:"image/gif"}),B=[],this._recording=!1,this.loop(),T||(L.html("Done. Downloading your gif!\u{1F338}"),0<_&&setTimeout(function(){return L.remove()},1e3*_)),h.default.prototype.downloadFile(Z,f,"gif");case 80:case"end":return q.stop()}},u,this)});var s,o=function(){var u=this,f=arguments;return new Promise(function(C,E){var j=s.apply(u,f);function x(_){l(j,C,E,x,T,"next",_)}function T(_){l(j,C,E,x,T,"throw",_)}x(void 0)})};return function(u,f){return o.apply(this,arguments)}}(),h.default.prototype.image=function(s,o,u,f,k,F,B,L,K,_,M,p){h.default._validateParameters("image",arguments);var G=s.width,S=s.height,O=(p=p||v.CENTER,M=M||v.CENTER,s.elt&&(G=G!==void 0?G:s.elt.width,S=S!==void 0?S:s.elt.height),s.elt&&s.elt.videoWidth&&!s.canvas&&(G=G!==void 0?G:s.elt.videoWidth,S=S!==void 0?S:s.elt.videoHeight),f||G),k=k||S,F=F||0,B=B||0,L=r(L!==void 0?L:G,G),G=r(K!==void 0?K:S,S),K=1;s.elt&&!s.canvas&&s.elt.style.width&&(K=s.elt.videoWidth&&!f?s.elt.videoWidth:s.elt.width,K/=parseInt(s.elt.style.width,10)),F*=K,B*=K,G*=K,L*=K,S=c(_,M,p,(S=d.default.modeAdjust(o,u,O,k,this._renderer._imageMode)).x,S.y,S.w,S.h,F,B,L,G),this._renderer.image(s,S.sx,S.sy,S.sw,S.sh,S.dx,S.dy,S.dw,S.dh)},h.default.prototype.tint=function(){for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];h.default._validateParameters("tint",o);var f=this.color.apply(this,o);this._renderer._tint=f.levels},h.default.prototype.noTint=function(){this._renderer._tint=null},h.default.prototype._getTintedImageCanvas=h.default.Renderer2D.prototype._getTintedImageCanvas,h.default.prototype.imageMode=function(s){h.default._validateParameters("imageMode",arguments),s!==v.CORNER&&s!==v.CORNERS&&s!==v.CENTER||(this._renderer._imageMode=s)},t=h.default,I.default=t},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/helpers":276,"../core/main":280,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,gifenc:250,omggif:253,"regenerator-runtime/runtime":257}],304:[function(t,X,I){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=h(t("../core/main")),b=h(t("./filters"));function h(v){return v&&v.__esModule?v:{default:v}}function d(v,m){for(var n=0;n<m.length;n++){var i=m[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(v,i.key,i)}}y.default.Image=function(){function v(a,l){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");this.width=a,this.height=l,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var m,n,i;return m=v,(n=[{key:"pixelDensity",value:function(a){return a!==void 0?(a<=0&&(y.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),a=1),this._pixelDensity=a,this.width/=a,this.height/=a,this):this._pixelDensity}},{key:"_animateGif",value:function(r){var l,c=this.gifProperties,r=r._lastRealFrameTime||window.performance.now();c.lastChangeTime===0&&(c.lastChangeTime=r),c.playing&&(c.timeDisplayed=r-c.lastChangeTime,l=c.frames[c.displayIndex].delay,c.timeDisplayed>=l&&(l=Math.floor(c.timeDisplayed/l),c.timeDisplayed=0,c.lastChangeTime=r,c.displayIndex+=l,c.loopCount=Math.floor(c.displayIndex/c.numFrames),c.loopLimit!==null&&c.loopCount>=c.loopLimit?c.playing=!1:(r=c.displayIndex%c.numFrames,this.drawingContext.putImageData(c.frames[r].image,0,0),c.displayIndex=r,this.setModified(!0))))}},{key:"_setProperty",value:function(a,l){this[a]=l,this.setModified(!0)}},{key:"loadPixels",value:function(){y.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(a,l,c,r){y.default.Renderer2D.prototype.updatePixels.call(this,a,l,c,r),this.setModified(!0)}},{key:"get",value:function(a,l,c,r){return y.default._validateParameters("p5.Image.get",arguments),y.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return y.default.Renderer2D.prototype._getPixel.apply(this,l)}},{key:"set",value:function(a,l,c){y.default.Renderer2D.prototype.set.call(this,a,l,c),this.setModified(!0)}},{key:"resize",value:function(a,l){a===0&&l===0?(a=this.canvas.width,l=this.canvas.height):a===0?a=this.canvas.width*l/this.canvas.height:l===0&&(l=this.canvas.height*a/this.canvas.width),a=Math.floor(a),l=Math.floor(l);var c=document.createElement("canvas");if(c.width=a,c.height=l,this.gifProperties)for(var r=this.gifProperties,s=0;s<r.numFrames;s++){for(var o=this.drawingContext.createImageData(a,l),u=(x=x=j=E=C=void 0,r.frames[s].image),f=o,C=0,E=0;E<f.height;E++)for(var j=0;j<f.width;j++){var x=Math.floor(j*u.width/f.width),x=4*(Math.floor(E*u.height/f.height)*u.width+x);f.data[C++]=u.data[x++],f.data[C++]=u.data[x++],f.data[C++]=u.data[x++],f.data[C++]=u.data[+x]}r.frames[s].image=o}c.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,c.width,c.height),this.canvas.width=this.width=a,this.canvas.height=this.height=l,this.drawingContext.drawImage(c,0,0,a,l,0,0,a,l),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];y.default.prototype.copy.apply(this,l)}},{key:"mask",value:function(a){var l=this.drawingContext.globalCompositeOperation,c=this._pixelDensity,r=1,s=[a=a===void 0?this:a,0,0,(r=a instanceof y.default.Renderer?a._pInst._pixelDensity:r)*a.width,r*a.height,0,0,c*this.width,c*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var o=0;o<this.gifProperties.frames.length;o++)this.drawingContext.putImageData(this.gifProperties.frames[o].image,0,0),this.copy.apply(this,s),this.gifProperties.frames[o].image=this.drawingContext.getImageData(0,0,c*this.width,c*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,s);this.drawingContext.globalCompositeOperation=l,this.setModified(!0)}},{key:"filter",value:function(a,l){b.default.apply(this.canvas,b.default[a],l),this.setModified(!0)}},{key:"blend",value:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];y.default._validateParameters("p5.Image.blend",arguments),y.default.prototype.blend.apply(this,l),this.setModified(!0)}},{key:"setModified",value:function(a){this._modified=a}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(a,l){this.gifProperties?y.default.prototype.encodeAndDownloadGif(this,a):y.default.prototype.saveCanvas(this.canvas,a,l)}},{key:"reset",value:function(){var a;this.gifProperties&&((a=this.gifProperties).playing=!0,a.timeSinceStart=0,a.timeDisplayed=0,a.lastChangeTime=0,a.loopCount=0,a.displayIndex=0,this.drawingContext.putImageData(a.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var a;if(this.gifProperties)return(a=this.gifProperties).displayIndex%a.numFrames}},{key:"setFrame",value:function(a){var l;this.gifProperties&&(a<(l=this.gifProperties).numFrames&&0<=a?(l.timeDisplayed=0,l.lastChangeTime=0,l.displayIndex=a,this.drawingContext.putImageData(l.frames[a].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(a,l){if(this.gifProperties){var c=this.gifProperties;if(l<c.numFrames&&0<=l)c.frames[l].delay=a;else{var r=!0,l=!1,s=void 0;try{for(var o,u=c.frames[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)o.value.delay=a}catch(C){l=!0,s=C}finally{try{r||u.return==null||u.return()}finally{if(l)throw s}}}}}}])&&d(m.prototype,n),i&&d(m,i),v}(),t=y.default.Image,I.default=t},{"../core/main":280,"./filters":301,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],305:[function(t,X,I){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=h(t("../core/main")),b=h(t("./filters"));function h(d){return d&&d.__esModule?d:{default:d}}t("../color/p5.Color"),y.default.prototype.pixels=[],y.default.prototype.blend=function(){for(var d,v=arguments.length,m=new Array(v),n=0;n<v;n++)m[n]=arguments[n];y.default._validateParameters("blend",m),this._renderer?(d=this._renderer).blend.apply(d,m):y.default.Renderer2D.prototype.blend.apply(this,m)},y.default.prototype.copy=function(){for(var d,v,m,n,i,a,l,c,r,s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];if(y.default._validateParameters("copy",o),o.length===9)d=o[0],v=o[1],m=o[2],n=o[3],i=o[4],a=o[5],l=o[6],c=o[7],r=o[8];else{if(o.length!==8)throw new Error("Signature not supported");d=this,v=o[0],m=o[1],n=o[2],i=o[3],a=o[4],l=o[5],c=o[6],r=o[7]}y.default.prototype._copyHelper(this,d,v,m,n,i,a,l,c,r)},y.default.prototype._copyHelper=function(d,v,m,n,i,a,l,c,r,s){var o=v.canvas.width/v.width,u=0,f=0;v._renderer&&v._renderer.isP3D&&(u=v.width/2,f=v.height/2),d._renderer&&d._renderer.isP3D?(d.push(),d.resetMatrix(),d.noLights(),d.blendMode(d.BLEND),d.imageMode(d.CORNER),y.default.RendererGL.prototype.image.call(d._renderer,v,m+u,n+f,i,a,l,c,r,s),d.pop()):d.drawingContext.drawImage(v.canvas,o*(m+u),o*(n+f),o*i,o*a,l,c,r,s)},y.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},y.default.prototype.filter=function(){for(var d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];y.default._validateParameters("filter",v);var l=function(){var c,r={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof y.default.Shader?r.shader=arguments.length<=0?void 0:arguments[0]:(r.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(r.value=arguments.length<=1?void 0:arguments[1]),((c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c])===!1&&(r.useWebGL=!1)),r}.apply(void 0,v),n=l.shader,i=l.operation,a=l.value,l=l.useWebGL;this._renderer.isP3D&&n?y.default.RendererGL.prototype.filter.call(this._renderer,n):l||this._renderer.isP3D?(!l&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?y.default.RendererGL.prototype.filter.call(this._renderer,i,a):((n=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),n.filter.apply(n,v),this.copy(n._renderer,0,0,this.width,this.height,0,0,this.width,this.height),n.clear())):this.canvas!==void 0?b.default.apply(this.canvas,b.default[i],a):b.default.apply(this.elt,b.default[i],a)},y.default.prototype.get=function(d,v,m,n){var i;return y.default._validateParameters("get",arguments),(i=this._renderer).get.apply(i,arguments)},y.default.prototype.loadPixels=function(){for(var d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];y.default._validateParameters("loadPixels",v),this._renderer.loadPixels()},y.default.prototype.set=function(d,v,m){this._renderer.set(d,v,m)},y.default.prototype.updatePixels=function(d,v,m,n){y.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(d,v,m,n)},t=y.default,I.default=t},{"../color/p5.Color":267,"../core/main":280,"./filters":301,"core-js/modules/es.array.filter":156}],306:[function(t,X,I){"use strict";function y(a){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var b=v(t("../core/main")),h=(t("whatwg-fetch"),t("es6-promise/auto"),v(t("fetch-jsonp"))),d=v(t("file-saver"));function v(a){return a&&a.__esModule?a:{default:a}}function m(a){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(l){return y(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}function n(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function i(a,l){l&&l!==!0&&l!=="true"||(l="");var c="";return(a=a||"untitled")&&a.includes(".")&&(c=a.split(".").pop()),l&&c!==l&&(c=l,a="".concat(a,".").concat(c)),[a,c]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),b.default.prototype.loadJSON=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];b.default._validateParameters("loadJSON",l);for(var r,s,o,u=l[0],f={},C="json",E=1;E<l.length;E++){var j=l[E];typeof j=="string"?j!=="jsonp"&&j!=="json"||(C=j):typeof j=="function"?r?s=j:r=j:m(j)==="object"&&(j.hasOwnProperty("jsonpCallback")||j.hasOwnProperty("jsonpCallbackFunction"))&&(C="jsonp",o=j)}var x=this;return this.httpDo(u,"GET",o,C,function(T){for(var _ in T)f[_]=T[_];r!==void 0&&r(T),x._decrementPreload()},function(T){if(b.default._friendlyFileLoadError(5,u),!s)throw T;s(T)}),f},b.default.prototype.loadStrings=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];b.default._validateParameters("loadStrings",l);for(var r,s,o=[],u=1;u<l.length;u++){var f=l[u];typeof f=="function"&&(r===void 0?r=f:s===void 0&&(s=f))}var C=this;return b.default.prototype.httpDo.call(this,l[0],"GET","text",function(E){for(var j=E.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),x=0,T=j.length;x<T;x+=32768)Array.prototype.push.apply(o,j.slice(x,Math.min(x+32768,T)));r!==void 0&&r(o),C._decrementPreload()},function(E){if(b.default._friendlyFileLoadError(3,E),!s)throw E;s(E)}),o},b.default.prototype.loadTable=function(a){var l,c,r,s=[],o=!1,u=a.substring(a.lastIndexOf(".")+1,a.length);u==="csv"?r=",":u==="ssv"?r=";":u==="tsv"&&(r="	");for(var f=1;f<arguments.length;f++)typeof arguments[f]=="function"?l===void 0?l=arguments[f]:c===void 0&&(c=arguments[f]):typeof arguments[f]=="string"&&(s.push(arguments[f]),arguments[f]==="header"&&(o=!0),arguments[f]==="csv"?r=",":arguments[f]==="ssv"?r=";":arguments[f]==="tsv"&&(r="	"));var C=new b.default.Table,E=this;return this.httpDo(a,"GET","table",function(j){for(var x,T,_={},M=0,p=[],S=0,O=null,k=function(){_.currentState=M,_.token=""},F=function(){O.push(_.token),k()},B=function(){_.currentState=4,p.push(O),O=null};;){if((x=j[S++])==null){if(_.escaped)throw new Error("Unclosed quote in file.");if(O){F(),B();break}}if(O===null&&(_.escaped=!1,O=[],k()),_.currentState===M){if(x==='"'){_.escaped=!0,_.currentState=1;continue}_.currentState=1}if(_.currentState===1&&_.escaped)if(x==='"')j[S]==='"'?(_.token+='"',S++):(_.escaped=!1,_.currentState=2);else{if(x==="\r")continue;_.token+=x}else x==="\r"?(j[S]===`
`&&S++,F(),B()):x===`
`?(F(),B()):x===r?F():_.currentState===1&&(_.token+=x)}if(o)C.columns=p.shift();else for(var L=0;L<p[0].length;L++)C.columns[L]="null";for(var G=0;G<p.length;G++)(p[G].length!==1||p[G][0]!=="undefined"&&p[G][0]!=="")&&((T=new b.default.TableRow).arr=p[G],T.obj=function(K,$){if(($=$||[])===void 0)for(var P=0;P<K.length;P++)$[P.toString()]=P;return Object.fromEntries($.map(function(w,D){return[w,K[D]]}))}(p[G],C.columns),C.addRow(T));typeof l=="function"&&l(C),E._decrementPreload()},function(j){b.default._friendlyFileLoadError(2,a),c?c(j):console.error(j)}),C},b.default.prototype.loadXML=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];for(var r,s,o=new b.default.XML,u=1;u<l.length;u++){var f=l[u];typeof f=="function"&&(r===void 0?r=f:s===void 0&&(s=f))}var C=this;return this.httpDo(l[0],"GET","xml",function(E){for(var j in E)o[j]=E[j];r!==void 0&&r(o),C._decrementPreload()},function(E){if(b.default._friendlyFileLoadError(1,E),!s)throw E;s(E)}),o},b.default.prototype.loadBytes=function(a,l,c){var r={},s=this;return this.httpDo(a,"GET","arrayBuffer",function(o){r.bytes=new Uint8Array(o),typeof l=="function"&&l(r),s._decrementPreload()},function(o){if(b.default._friendlyFileLoadError(6,a),!c)throw o;c(o)}),r},b.default.prototype.httpGet=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return b.default._validateParameters("httpGet",l),l.splice(1,0,"GET"),b.default.prototype.httpDo.apply(this,l)},b.default.prototype.httpPost=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return b.default._validateParameters("httpPost",l),l.splice(1,0,"POST"),b.default.prototype.httpDo.apply(this,l)},b.default.prototype.httpDo=function(){for(var a,l,c,r={},s=0,o="text/plain",u=arguments.length-1;0<u&&typeof(u<0||arguments.length<=u?void 0:arguments[u])=="function";u--)s++;var f=arguments.length-s,C=arguments.length<=0?void 0:arguments[0];if(f==2&&typeof C=="string"&&m(arguments.length<=1?void 0:arguments[1])==="object")M=new Request(C,arguments.length<=1?void 0:arguments[1]),l=arguments.length<=2?void 0:arguments[2],c=arguments.length<=3?void 0:arguments[3];else{for(var E,j="GET",x=1;x<arguments.length;x++){var T=x<0||arguments.length<=x?void 0:arguments[x];if(typeof T=="string")T==="GET"||T==="POST"||T==="PUT"||T==="DELETE"?j=T:T==="json"||T==="jsonp"||T==="binary"||T==="arrayBuffer"||T==="xml"||T==="text"||T==="table"?a=T:E=T;else if(typeof T=="number")E=T.toString();else if(m(T)==="object")if(T.hasOwnProperty("jsonpCallback")||T.hasOwnProperty("jsonpCallbackFunction"))for(var _ in T)r[_]=T[_];else o=T instanceof b.default.XML?(E=T.serialize(),"application/xml"):(E=JSON.stringify(T),"application/json");else typeof T=="function"&&(l?c=T:l=T)}var f=j==="GET"?new Headers:new Headers({"Content-Type":o}),M=new Request(C,{method:j,mode:"cors",body:E,headers:f})}return(f=(f=(a=a||(C.includes("json")?"json":C.includes("xml")?"xml":"text"))==="jsonp"?(0,h.default)(C,r):fetch(M)).then(function(p){if(!p.ok)throw(S=new Error(p.body)).status=p.status,S.ok=!1,S;var S=0;switch((S=a!=="jsonp"?p.headers.get("content-length"):S)&&64e6<S&&b.default._friendlyFileLoadError(7,C),a){case"json":case"jsonp":return p.json();case"binary":return p.blob();case"arrayBuffer":return p.arrayBuffer();case"xml":return p.text().then(function(O){return O=new DOMParser().parseFromString(O,"text/xml"),new b.default.XML(O.documentElement)});default:return p.text()}})).then(l||function(){}),f.catch(c||console.error),f},window.URL=window.URL||window.webkitURL,b.default.prototype._pWriters=[],b.default.prototype.createWriter=function(a,l){var c,r;for(r in b.default.prototype._pWriters)if(b.default.prototype._pWriters[r].name===a)return c=new b.default.PrintWriter(a+this.millis(),l),b.default.prototype._pWriters.push(c),c;return c=new b.default.PrintWriter(a,l),b.default.prototype._pWriters.push(c),c},b.default.PrintWriter=function(a,l){var c=this;this.name=a,this.content="",this.write=function(r){this.content+=r},this.print=function(r){this.content+="".concat(r,`
`)},this.clear=function(){this.content=""},this.close=function(){var r,s=[];for(r in s.push(this.content),b.default.prototype.writeFile(s,a,l),b.default.prototype._pWriters)b.default.prototype._pWriters[r].name===this.name&&b.default.prototype._pWriters.splice(r,1);c.clear(),c={}}},b.default.prototype.save=function(a,l,c){var r=arguments,s=(this._curElement||this).elt;if(r.length===0)b.default.prototype.saveCanvas(s);else if(r[0]instanceof b.default.Renderer||r[0]instanceof b.default.Graphics)b.default.prototype.saveCanvas(r[0].elt,r[1],r[2]);else if(r.length===1&&typeof r[0]=="string")b.default.prototype.saveCanvas(s,r[0]);else switch(i(r[1],r[2])[1]){case"json":return void b.default.prototype.saveJSON(r[0],r[1],r[2]);case"txt":return void b.default.prototype.saveStrings(r[0],r[1],r[2]);default:r[0]instanceof Array?b.default.prototype.saveStrings(r[0],r[1],r[2]):r[0]instanceof b.default.Table?b.default.prototype.saveTable(r[0],r[1],r[2]):r[0]instanceof b.default.Image?b.default.prototype.saveCanvas(r[0].canvas,r[1]):r[0]instanceof b.default.SoundFile&&b.default.prototype.saveSound(r[0],r[1],r[2],r[3])}},b.default.prototype.saveJSON=function(a,l,c){b.default._validateParameters("saveJSON",arguments),c=c?JSON.stringify(a):JSON.stringify(a,void 0,2),this.saveStrings(c.split(`
`),l,"json")},b.default.prototype.saveJSONObject=b.default.prototype.saveJSON,b.default.prototype.saveJSONArray=b.default.prototype.saveJSON,b.default.prototype.saveStrings=function(a,l,c,r){b.default._validateParameters("saveStrings",arguments);for(var s=this.createWriter(l,c||"txt"),o=0;o<a.length;o++)r?s.write(a[o]+`\r
`):s.write(a[o]+`
`);s.close(),s.clear()},b.default.prototype.saveTable=function(a,l,c){b.default._validateParameters("saveTable",arguments),r=c===void 0?l.substring(l.lastIndexOf(".")+1,l.length):c;var r,s=this.createWriter(l,r),o=a.columns,u=r==="tsv"?"	":",";if(r!=="html"){if(o[0]!=="0"){for(var f=0;f<o.length;f++)f<o.length-1?s.write(o[f]+u):s.write(o[f]);s.write(`
`)}for(var C=0;C<a.rows.length;C++){for(var E=void 0,E=0;E<a.rows[C].arr.length;E++)E<a.rows[C].arr.length-1?r==="csv"&&String(a.rows[C].arr[E]).includes(",")?s.write('"'+a.rows[C].arr[E]+'"'+u):s.write(a.rows[C].arr[E]+u):r==="csv"&&String(a.rows[C].arr[E]).includes(",")?s.write('"'+a.rows[C].arr[E]+'"'):s.write(a.rows[C].arr[E]);s.write(`
`)}}else{if(s.print("<html>"),s.print("<head>"),s.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),s.print("</head>"),s.print("<body>"),s.print("  <table>"),o[0]!=="0"){s.print("    <tr>");for(var j=0;j<o.length;j++){var x=n(o[j]);s.print("      <td>".concat(x)),s.print("      </td>")}s.print("    </tr>")}for(var T=0;T<a.rows.length;T++){s.print("    <tr>");for(var _=0;_<a.columns.length;_++){var M=n(a.rows[T].getString(_));s.print("      <td>".concat(M)),s.print("      </td>")}s.print("    </tr>")}s.print("  </table>"),s.print("</body>"),s.print("</html>")}s.close(),s.clear()},b.default.prototype.writeFile=function(s,l,c){var r="application/octet-stream",s=(b.default.prototype._isSafari()&&(r="text/plain"),new Blob(s,{type:r}));b.default.prototype.downloadFile(s,l,c)},b.default.prototype.downloadFile=function(a,s,o){var r,s=i(s,o),o=s[0];a instanceof Blob?d.default.saveAs(a,o):((r=document.createElement("a")).href=a,r.download=o,r.onclick=function(u){document.body.removeChild(u.target),u.stopPropagation()},r.style.display="none",document.body.appendChild(r),b.default.prototype._isSafari()&&(a=(a=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(s[1],'"'),alert(a)),r.click())},b.default.prototype._checkFileExtension=i,b.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=b.default,I.default=t},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245,"es6-promise/auto":246,"fetch-jsonp":248,"file-saver":249,"whatwg-fetch":258}],307:[function(t,X,I){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function b(h,d){for(var v=0;v<d.length;v++){var m=d[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}y.default.Table=function(){function h(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],i=this,a=h;if(!(i instanceof a))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=n}var d,v,m;return d=h,(v=[{key:"addRow",value:function(n){if(n=n||new y.default.TableRow,n.arr===void 0||n.obj===void 0)throw new Error("invalid TableRow: ".concat(n));return(n.table=this).rows.push(n),n}},{key:"removeRow",value:function(n){this.rows[n].table=null,n=this.rows.splice(n+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(n)}},{key:"getRow",value:function(n){return this.rows[n]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(n,i){if(typeof i=="string"){for(var a=0;a<this.rows.length;a++)if(this.rows[a].obj[i]===n)return this.rows[a]}else for(var l=0;l<this.rows.length;l++)if(this.rows[l].arr[i]===n)return this.rows[l];return null}},{key:"findRows",value:function(n,i){var a=[];if(typeof i=="string")for(var l=0;l<this.rows.length;l++)this.rows[l].obj[i]===n&&a.push(this.rows[l]);else for(var c=0;c<this.rows.length;c++)this.rows[c].arr[i]===n&&a.push(this.rows[c]);return a}},{key:"matchRow",value:function(n,i){if(typeof i=="number"){for(var a=0;a<this.rows.length;a++)if(this.rows[a].arr[i].match(n))return this.rows[a]}else for(var l=0;l<this.rows.length;l++)if(this.rows[l].obj[i].match(n))return this.rows[l];return null}},{key:"matchRows",value:function(n,i){var a=[];if(typeof i=="number")for(var l=0;l<this.rows.length;l++)this.rows[l].arr[i].match(n)&&a.push(this.rows[l]);else for(var c=0;c<this.rows.length;c++)this.rows[c].obj[i].match(n)&&a.push(this.rows[c]);return a}},{key:"getColumn",value:function(n){var i=[];if(typeof n=="string")for(var a=0;a<this.rows.length;a++)i.push(this.rows[a].obj[n]);else for(var l=0;l<this.rows.length;l++)i.push(this.rows[l].arr[n]);return i}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(n){this.columns.push(n||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(n,i){for(var a=[],l=0;l<n.length;l++)a.push(n.charAt(l).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var c=new RegExp(a.join("|"),"g");if(i===void 0)for(var r=0;r<this.columns.length;r++)for(var s=0;s<this.rows.length;s++){var o=(o=this.rows[s].arr[r]).replace(c,"");this.rows[s].arr[r]=o,this.rows[s].obj[this.columns[r]]=o}else if(typeof i=="string")for(var u=0;u<this.rows.length;u++){var f=(f=this.rows[u].obj[i]).replace(c,""),C=(this.rows[u].obj[i]=f,this.columns.indexOf(i));this.rows[u].arr[C]=f}else for(var E=0;E<this.rows.length;E++){var j=(j=this.rows[E].arr[i]).replace(c,"");this.rows[E].arr[i]=j,this.rows[E].obj[this.columns[i]]=j}}},{key:"trim",value:function(n){var i=new RegExp(" ","g");if(n===void 0)for(var a=0;a<this.columns.length;a++)for(var l=0;l<this.rows.length;l++){var c=(c=this.rows[l].arr[a]).replace(i,"");this.rows[l].arr[a]=c,this.rows[l].obj[this.columns[a]]=c}else if(typeof n=="string")for(var r=0;r<this.rows.length;r++){var s=(s=this.rows[r].obj[n]).replace(i,""),o=(this.rows[r].obj[n]=s,this.columns.indexOf(n));this.rows[r].arr[o]=s}else for(var u=0;u<this.rows.length;u++){var f=(f=this.rows[u].arr[n]).replace(i,"");this.rows[u].arr[n]=f,this.rows[u].obj[this.columns[n]]=f}}},{key:"removeColumn",value:function(l){typeof l=="string"?a=this.columns.indexOf(i=l):i=this.columns[a=l];var i,a,l=this.columns.splice(a+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(l);for(var c=0;c<this.rows.length;c++){var r=this.rows[c].arr,s=r.splice(a+1,r.length);r.pop(),this.rows[c].arr=r.concat(s),delete this.rows[c].obj[i]}}},{key:"set",value:function(n,i,a){this.rows[n].set(i,a)}},{key:"setNum",value:function(n,i,a){this.rows[n].setNum(i,a)}},{key:"setString",value:function(n,i,a){this.rows[n].setString(i,a)}},{key:"get",value:function(n,i){return this.rows[n].get(i)}},{key:"getNum",value:function(n,i){return this.rows[n].getNum(i)}},{key:"getString",value:function(n,i){return this.rows[n].getString(i)}},{key:"getObject",value:function(n){for(var i,a={},l=0;l<this.rows.length;l++)if(i=this.rows[l].obj,typeof n=="string"){if(!(0<=this.columns.indexOf(n)))throw new Error('This table has no column named "'.concat(n,'"'));a[i[n]]=i}else a[l]=this.rows[l].obj;return a}},{key:"getArray",value:function(){for(var n=[],i=0;i<this.rows.length;i++)n.push(this.rows[i].arr);return n}}])&&b(d.prototype,v),m&&b(d,m),h}(),t=y.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.splice":170,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201}],308:[function(t,X,I){"use strict";t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function y(b,h){for(var d=0;d<h.length;d++){var v=h[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}t.default.TableRow=function(){function b(m,n){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var i=[];m&&(i=m.split(n=n||",")),this.arr=i,this.obj=Object.fromEntries(i.entries()),this.table=null}var h,d,v;return h=b,(d=[{key:"set",value:function(m,n){if(typeof m=="string"){var i=this.table.columns.indexOf(m);if(!(0<=i))throw new Error('This table has no column named "'.concat(m,'"'));this.obj[m]=n,this.arr[i]=n}else{if(!(m<this.table.columns.length))throw new Error("Column #".concat(m," is out of the range of this table"));this.arr[m]=n,i=this.table.columns[m],this.obj[i]=n}}},{key:"setNum",value:function(m,n){n=parseFloat(n),this.set(m,n)}},{key:"setString",value:function(m,n){n=n.toString(),this.set(m,n)}},{key:"get",value:function(m){return(typeof m=="string"?this.obj:this.arr)[m]}},{key:"getNum",value:function(m){var n=parseFloat(typeof m=="string"?this.obj[m]:this.arr[m]);if(n.toString()==="NaN")throw"Error: ".concat(this.obj[m]," is NaN (Not a Number)");return n}},{key:"getString",value:function(m){return(typeof m=="string"?this.obj:this.arr)[m].toString()}}])&&y(h.prototype,d),v&&y(h,v),b}(),t=t.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243}],309:[function(t,X,I){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function b(d,v){for(var m=0;m<v.length;m++){var n=v[m];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(d,n.key,n)}}function h(d){for(var v=[],m=0;m<d.length;m++)v.push(new y.default.XML(d[m]));return v}y.default.XML=function(){function d(i){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");i?this.DOM=i:(i=document.implementation.createDocument(null,"doc"),this.DOM=i.createElement("root"))}var v,m,n;return v=d,(m=[{key:"getParent",value:function(){return new y.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(i){var a=this.DOM.innerHTML,l=this.DOM.attributes,c=document.implementation.createDocument(null,"default").createElement(i);c.innerHTML=a;for(var r=0;r<l.length;r++)c.setAttribute(l[r].nodeName,l[r].nodeValue);this.DOM=c}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var i=[],a=0;a<this.DOM.childNodes.length;a++)i.push(this.DOM.childNodes[a].nodeName);return i}},{key:"getChildren",value:function(i){return h(i?this.DOM.getElementsByTagName(i):this.DOM.children)}},{key:"getChild",value:function(i){if(typeof i!="string")return new y.default.XML(this.DOM.children[i]);var a=!0,l=!1,c=void 0;try{for(var r,s=this.DOM.children[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var o=r.value;if(o.tagName===i)return new y.default.XML(o)}}catch(u){l=!0,c=u}finally{try{a||s.return==null||s.return()}finally{if(l)throw c}}}},{key:"addChild",value:function(i){i instanceof y.default.XML&&this.DOM.appendChild(i.DOM)}},{key:"removeChild",value:function(i){var a=-1;if(typeof i=="string"){for(var l=0;l<this.DOM.children.length;l++)if(this.DOM.children[l].tagName===i){a=l;break}}else a=i;a!==-1&&this.DOM.removeChild(this.DOM.children[a])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var i=[],a=!0,l=!1,c=void 0;try{for(var r,s=this.DOM.attributes[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var o=r.value;i.push(o.nodeName)}}catch(u){l=!0,c=u}finally{try{a||s.return==null||s.return()}finally{if(l)throw c}}return i}},{key:"hasAttribute",value:function(i){var a={},l=!0,c=!1,r=void 0;try{for(var s,o=this.DOM.attributes[Symbol.iterator]();!(l=(s=o.next()).done);l=!0){var u=s.value;a[u.nodeName]=u.nodeValue}}catch(f){c=!0,r=f}finally{try{l||o.return==null||o.return()}finally{if(c)throw r}}return!!a[i]}},{key:"getNum",value:function(i,a){var l={},c=!0,r=!1,s=void 0;try{for(var o,u=this.DOM.attributes[Symbol.iterator]();!(c=(o=u.next()).done);c=!0){var f=o.value;l[f.nodeName]=f.nodeValue}}catch(C){r=!0,s=C}finally{try{c||u.return==null||u.return()}finally{if(r)throw s}}return Number(l[i])||a||0}},{key:"getString",value:function(i,a){var l={},c=!0,r=!1,s=void 0;try{for(var o,u=this.DOM.attributes[Symbol.iterator]();!(c=(o=u.next()).done);c=!0){var f=o.value;l[f.nodeName]=f.nodeValue}}catch(C){r=!0,s=C}finally{try{c||u.return==null||u.return()}finally{if(r)throw s}}return l[i]?String(l[i]):a||null}},{key:"setAttribute",value:function(i,a){this.DOM.setAttribute(i,a)}},{key:"getContent",value:function(i){var a=this.DOM.textContent;return(a=a.replace(/\s\s+/g,","))||i||null}},{key:"setContent",value:function(i){this.DOM.children.length||(this.DOM.textContent=i)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&b(v.prototype,m),n&&b(v,n),d}(),t=y.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],310:[function(t,X,I){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function b(h){return function(d){if(Array.isArray(d)){for(var v=0,m=new Array(d.length);v<d.length;v++)m[v]=d[v];return m}}(h)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(h)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}y.default.prototype.abs=Math.abs,y.default.prototype.ceil=Math.ceil,y.default.prototype.constrain=function(h,d,v){return y.default._validateParameters("constrain",arguments),Math.max(Math.min(h,v),d)},y.default.prototype.dist=function(){for(var h=arguments.length,d=new Array(h),v=0;v<h;v++)d[v]=arguments[v];return y.default._validateParameters("dist",d),d.length===4?Math.hypot(d[2]-d[0],d[3]-d[1]):d.length===6?Math.hypot(d[3]-d[0],d[4]-d[1],d[5]-d[2]):void 0},y.default.prototype.exp=Math.exp,y.default.prototype.floor=Math.floor,y.default.prototype.lerp=function(h,d,v){return y.default._validateParameters("lerp",arguments),v*(d-h)+h},y.default.prototype.log=Math.log,y.default.prototype.mag=function(h,d){return y.default._validateParameters("mag",arguments),Math.hypot(h,d)},y.default.prototype.map=function(h,d,v,m,n,i){return y.default._validateParameters("map",arguments),h=(h-d)/(v-d)*(n-m)+m,i?m<n?this.constrain(h,m,n):this.constrain(h,n,m):h},y.default.prototype.max=function(){for(var h=function(n){return Math.max.apply(Math,b(n))},d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];return Array.isArray(v[0])?h(v[0]):h(v)},y.default.prototype.min=function(){for(var h=function(n){return Math.min.apply(Math,b(n))},d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];return Array.isArray(v[0])?h(v[0]):h(v)},y.default.prototype.norm=function(h,d,v){return y.default._validateParameters("norm",arguments),this.map(h,d,v,0,1)},y.default.prototype.pow=Math.pow,y.default.prototype.round=function(h,d){return d?(d=Math.pow(10,d),Math.round(h*d)/d):Math.round(h)},y.default.prototype.sq=function(h){return h*h},y.default.prototype.sqrt=Math.sqrt,y.default.prototype.fract=function(m){y.default._validateParameters("fract",arguments);var d,v=0,m=Number(m);return isNaN(m)||Math.abs(m)===1/0?m:(m<0&&(m=-m,v=1),String(m).includes(".")&&!String(m).includes("e")?(d=String(m),d=+("0"+d.slice(d.indexOf("."))),Math.abs(v-d)):m<1?Math.abs(v-m):0)},t=y.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],311:[function(t,X,I){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function b(d,v,m){return(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(n,i,a){var l=[null];return l.push.apply(l,i),i=new(Function.bind.apply(n,l)),a&&h(i,a.prototype),i}).apply(null,arguments)}function h(d,v){return(h=Object.setPrototypeOf||function(m,n){return m.__proto__=n,m})(d,v)}y.default.prototype.createVector=function(d,v,m){return this instanceof y.default?b(y.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new y.default.Vector(d,v,m)},t=y.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193}],312:[function(m,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,m=(m=m("../core/main"))&&m.__esModule?m:{default:m};function y(n){return .5*(1-Math.cos(n*Math.PI))}var b,h=4095,d=4,v=.5,m=(m.default.prototype.noise=function(n){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(b==null){b=new Array(4096);for(var l=0;l<4096;l++)b[l]=Math.random()}n<0&&(n=-n),i<0&&(i=-i),a<0&&(a=-a);for(var c,r,s=Math.floor(n),o=Math.floor(i),u=Math.floor(a),f=n-s,C=i-o,E=a-u,j=0,x=.5,T=0;T<d;T++){var _=s+(o<<4)+(u<<8),M=y(f),p=y(C),S=b[_&h];S+=M*(b[_+1&h]-S),c=b[_+16&h],S+=p*((c+=M*(b[_+16+1&h]-c))-S),c=b[(_+=256)&h],c+=M*(b[_+1&h]-c),r=b[_+16&h],c+=p*((r+=M*(b[_+16+1&h]-r))-c),j+=(S+=y(E)*(c-S))*x,x*=v,s<<=1,o<<=1,u<<=1,1<=(f*=2)&&(s++,f--),1<=(C*=2)&&(o++,C--),1<=(E*=2)&&(u++,E--)}return j},m.default.prototype.noiseDetail=function(n,i){0<n&&(d=n),0<i&&(v=i)},m.default.prototype.noiseSeed=function(n){l=4294967296;var i,a,l,c={setSeed:function(s){a=i=(s??Math.random()*l)>>>0},getSeed:function(){return i},rand:function(){return(a=(1664525*a+1013904223)%l)/l}};c.setSeed(n),b=new Array(4096);for(var r=0;r<4096;r++)b[r]=c.rand()},m.default);I.default=m},{"../core/main":280}],313:[function(t,X,I){"use strict";function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(a){return y(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(n=t("../core/main"))&&n.__esModule?n:{default:n},d=function(i){if(i&&i.__esModule)return i;if(i===null||b(i)!=="object"&&typeof i!="function")return{default:i};var a=v();if(a&&a.has(i))return a.get(i);var l,c={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var s;Object.prototype.hasOwnProperty.call(i,l)&&((s=r?Object.getOwnPropertyDescriptor(i,l):null)&&(s.get||s.set)?Object.defineProperty(c,l,s):c[l]=i[l])}return c.default=i,a&&a.set(i,c),c}(t("../core/constants"));function v(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,v=function(){return i},i)}function m(i,a){for(var l=0;l<a.length;l++){var c=a[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(i,c.key,c)}}h.default.Vector=function(){function i(){var u=this,r=i;if(!(u instanceof r))throw new TypeError("Cannot call a class as a function");var s,o,u=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],s=(arguments.length<=2?void 0:arguments[2])||0,o=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(s=(arguments.length<=0?void 0:arguments[0])||0,o=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=s,this.y=o,this.z=u}var a,l,c;return a=i,c=[{key:"fromAngle",value:function(r){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new h.default.Vector(s*Math.cos(r),s*Math.sin(r),0)}},{key:"fromAngles",value:function(E,f){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,u=Math.cos(f),f=Math.sin(f),C=Math.cos(E),E=Math.sin(E);return new h.default.Vector(o*E*f,-o*C,o*E*u)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*d.TWO_PI)}},{key:"random3D",value:function(){var r=Math.random()*d.TWO_PI,s=2*Math.random()-1,u=Math.sqrt(1-s*s),o=u*Math.cos(r),u=u*Math.sin(r);return new h.default.Vector(o,u,s)}},{key:"copy",value:function(r){return r.copy(r)}},{key:"add",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2];return C?C.set(u):(C=u.copy(),s.length===3&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),C.add(f),C}},{key:"rem",value:function(r,s){if(r instanceof h.default.Vector&&s instanceof h.default.Vector)return(r=r.copy()).rem(s),r}},{key:"sub",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2];return C?C.set(u):(C=u.copy(),s.length===3&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),C.sub(f),C}},{key:"mult",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2];return C?C.set(u):(C=u.copy(),s.length===3&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),C.mult(f),C}},{key:"rotate",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2];return s.length===2?C=u.copy():(C instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),C.set(u)),C.rotate(f),C}},{key:"div",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2];return C?C.set(u):(C=u.copy(),s.length===3&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),C.div(f),C}},{key:"dot",value:function(r,s){return r.dot(s)}},{key:"cross",value:function(r,s){return r.cross(s)}},{key:"dist",value:function(r,s){return r.dist(s)}},{key:"lerp",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2],E=s[3];return E?E.set(u):(E=u.copy(),s.length===4&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),E.lerp(f,C),E}},{key:"slerp",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2],E=s[3];return E?E.set(u):(E=u.copy(),s.length===4&&h.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),E.slerp(f,C),E}},{key:"mag",value:function(r){return r.mag()}},{key:"magSq",value:function(r){return r.magSq()}},{key:"normalize",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1];return s.length<2?f=u.copy():(f instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),f.set(u)),f.normalize()}},{key:"limit",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2];return s.length<3?C=u.copy():(C instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),C.set(u)),C.limit(f)}},{key:"setMag",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2];return s.length<3?C=u.copy():(C instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),C.set(u)),C.setMag(f)}},{key:"heading",value:function(r){return r.heading()}},{key:"angleBetween",value:function(r,s){return r.angleBetween(s)}},{key:"reflect",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2];return s.length<3?C=u.copy():(C instanceof h.default.Vector||h.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),C.set(u)),C.reflect(f)}},{key:"array",value:function(r){return r.array()}},{key:"equals",value:function(r,s){var o;return r instanceof h.default.Vector?o=r:Array.isArray(r)?o=new h.default.Vector().set(r):h.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),o.equals(s)}}],(l=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(r,s,o){return r instanceof h.default.Vector?(this.x=r.x||0,this.y=r.y||0,this.z=r.z||0):Array.isArray(r)?(this.x=r[0]||0,this.y=r[1]||0,this.z=r[2]||0):(this.x=r||0,this.y=s||0,this.z=o||0),this}},{key:"copy",value:function(){return this.isPInst?new h.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new h.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(r,s,o){return r instanceof h.default.Vector?(this.x+=r.x||0,this.y+=r.y||0,this.z+=r.z||0):Array.isArray(r)?(this.x+=r[0]||0,this.y+=r[1]||0,this.z+=r[2]||0):(this.x+=r||0,this.y+=s||0,this.z+=o||0),this}},{key:"calculateRemainder2D",value:function(r,s){return r!==0&&(this.x=this.x%r),s!==0&&(this.y=this.y%s),this}},{key:"calculateRemainder3D",value:function(r,s,o){return r!==0&&(this.x=this.x%r),s!==0&&(this.y=this.y%s),o!==0&&(this.z=this.z%o),this}},{key:"rem",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u,f,C,E=s[0],j=s[1],x=s[2];if(E instanceof h.default.Vector){if([E.x,E.y,E.z].every(Number.isFinite))return u=parseFloat(E.x),f=parseFloat(E.y),C=parseFloat(E.z),this.calculateRemainder3D(u,f,C)}else if(Array.isArray(E)){if(E.every(Number.isFinite))return E.length===2?this.calculateRemainder2D(E[0],E[1]):E.length===3?this.calculateRemainder3D(E[0],E[1],E[2]):void 0}else if(s.length===1){if(Number.isFinite(E)&&E!==0)return this.x=this.x%E,this.y=this.y%E,this.z=this.z%E,this}else if(s.length===2){if(s.every(Number.isFinite))return this.calculateRemainder2D(E,j)}else if(s.length===3&&s.every(Number.isFinite))return this.calculateRemainder3D(E,j,x)}},{key:"sub",value:function(r,s,o){return r instanceof h.default.Vector?(this.x-=r.x||0,this.y-=r.y||0,this.z-=r.z||0):Array.isArray(r)?(this.x-=r[0]||0,this.y-=r[1]||0,this.z-=r[2]||0):(this.x-=r||0,this.y-=s||0,this.z-=o||0),this}},{key:"mult",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u,f=s[0],C=s[1],E=s[2];return f instanceof h.default.Vector?Number.isFinite(f.x)&&Number.isFinite(f.y)&&Number.isFinite(f.z)&&typeof f.x=="number"&&typeof f.y=="number"&&typeof f.z=="number"?(this.x*=f.x,this.y*=f.y,this.z*=f.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(f)?f.every(function(j){return Number.isFinite(j)})&&f.every(function(j){return typeof j=="number"})?f.length===1?(this.x*=f[0],this.y*=f[0],this.z*=f[0]):f.length===2?(this.x*=f[0],this.y*=f[1]):f.length===3&&(this.x*=f[0],this.y*=f[1],this.z*=f[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(u=s).every(function(j){return Number.isFinite(j)})&&u.every(function(j){return typeof j=="number"})?(s.length===1&&(this.x*=f,this.y*=f,this.z*=f),s.length===2&&(this.x*=f,this.y*=C),s.length===3&&(this.x*=f,this.y*=C,this.z*=E)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var u=s[0],f=s[1],C=s[2];if(u instanceof h.default.Vector)if(Number.isFinite(u.x)&&Number.isFinite(u.y)&&Number.isFinite(u.z)&&typeof u.x=="number"&&typeof u.y=="number"&&typeof u.z=="number"){var E=u.z===0&&this.z===0;if(u.x===0||u.y===0||!E&&u.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=u.x,this.y/=u.y,E||(this.z/=u.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(u))if(u.every(Number.isFinite)&&u.every(function(j){return typeof j=="number"})){if(u.some(function(j){return j===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;u.length===1?(this.x/=u[0],this.y/=u[0],this.z/=u[0]):u.length===2?(this.x/=u[0],this.y/=u[1]):u.length===3&&(this.x/=u[0],this.y/=u[1],this.z/=u[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(s.every(Number.isFinite)&&s.every(function(j){return typeof j=="number"})){if(s.some(function(j){return j===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;s.length===1&&(this.x/=u,this.y/=u,this.z/=u),s.length===2&&(this.x/=u,this.y/=f),s.length===3&&(this.x/=u,this.y/=f,this.z/=C)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var r=this.x,s=this.y,o=this.z;return r*r+s*s+o*o}},{key:"dot",value:function(r,s,o){return r instanceof h.default.Vector?this.dot(r.x,r.y,r.z):this.x*(r||0)+this.y*(s||0)+this.z*(o||0)}},{key:"cross",value:function(u){var s=this.y*u.z-this.z*u.y,o=this.z*u.x-this.x*u.z,u=this.x*u.y-this.y*u.x;return this.isPInst?new h.default.Vector(this._fromRadians,this._toRadians,s,o,u):new h.default.Vector(s,o,u)}},{key:"dist",value:function(r){return r.copy().sub(this).mag()}},{key:"normalize",value:function(){var r=this.mag();return r!==0&&this.mult(1/r),this}},{key:"limit",value:function(r){var s=this.magSq();return r*r<s&&this.div(Math.sqrt(s)).mult(r),this}},{key:"setMag",value:function(r){return this.normalize().mult(r)}},{key:"heading",value:function(){var r=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(r):r}},{key:"setHeading",value:function(r){this.isPInst&&(r=this._toRadians(r));var s=this.mag();return this.x=s*Math.cos(r),this.y=s*Math.sin(r),this}},{key:"rotate",value:function(s){var s=this.heading()+s,o=(this.isPInst&&(s=this._toRadians(s)),this.mag());return this.x=Math.cos(s)*o,this.y=Math.sin(s)*o,this}},{key:"angleBetween",value:function(r){var s;return this.magSq()*r.magSq()==0?NaN:(s=this.cross(r),r=Math.atan2(s.mag(),this.dot(r))*Math.sign(s.z||1),this.isPInst?this._fromRadians(r):r)}},{key:"lerp",value:function(r,s,o,u){return r instanceof h.default.Vector?this.lerp(r.x,r.y,r.z,s):(this.x+=(r-this.x)*u||0,this.y+=(s-this.y)*u||0,this.z+=(o-this.z)*u||0,this)}},{key:"slerp",value:function(r,s){if(s!==0){if(s===1)return this.set(r);var o=this.mag(),u=r.mag();if(o*u==0)this.mult(1-s).add(r.x*s,r.y*s,r.z*s);else{var f=this.cross(r),C=f.mag(),E=Math.atan2(C,this.dot(r));if(0<C)f.x/=C,f.y/=C,f.z/=C;else{if(E<.5*Math.PI)return this.mult(1-s).add(r.x*s,r.y*s,r.z*s),this;this.z===0&&r.z===0?f.set(0,0,1):this.x!==0?f.set(this.y,-this.x,0).normalize():f.set(1,0,0)}C=f.cross(this),r=1-s+s*u/o,f=r*Math.cos(s*E),u=r*Math.sin(s*E),this.x=this.x*f+C.x*u,this.y=this.y*f+C.y*u,this.z=this.z*f+C.z*u}}return this}},{key:"reflect",value:function(r){return r.normalize(),this.sub(r.mult(2*this.dot(r)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(C,s,o){var u,f,C=C instanceof h.default.Vector?(u=C.x||0,f=C.y||0,C.z||0):Array.isArray(C)?(u=C[0]||0,f=C[1]||0,C[2]||0):(u=C||0,f=s||0,o||0);return this.x===u&&this.y===f&&this.z===C}}])&&m(a.prototype,l),c&&m(a,c),i}();var n=h.default.Vector;I.default=n},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.every":154,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.constructor":178,"core-js/modules/es.number.is-finite":179,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],314:[function(v,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(v=v("../core/main"))&&v.__esModule?v:{default:v},b="_lcg_random_state",h=4294967296,d=0,v=(y.default.prototype._lcg=function(m){return this[m]=(1664525*this[m]+1013904223)%h,this[m]/h},y.default.prototype._lcgSetSeed=function(m,n){this[m]=(n??Math.random()*h)>>>0},y.default.prototype.randomSeed=function(m){this._lcgSetSeed(b,m),this._gaussian_previous=!1},y.default.prototype.random=function(m,n){var i,a;return y.default._validateParameters("random",arguments),i=this[b]!=null?this._lcg(b):Math.random(),m===void 0?i:n===void 0?Array.isArray(m)?m[Math.floor(i*m.length)]:i*m:(n<m&&(a=m,m=n,n=a),i*(n-m)+m)},y.default.prototype.randomGaussian=function(m){var n,i,a,l,c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)n=d,this._gaussian_previous=!1;else{for(;1<=(l=(i=this.random(2)-1)*i+(a=this.random(2)-1)*a););n=i*(l=Math.sqrt(-2*Math.log(l)/l)),d=a*l,this._gaussian_previous=!0}return n*c+(m||0)},y.default);I.default=v},{"../core/main":280}],315:[function(t,X,I){"use strict";function y(n){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(n)}function b(n){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=function(n){if(n&&n.__esModule)return n;if(n===null||b(n)!=="object"&&typeof n!="function")return{default:n};var i=v();if(i&&i.has(n))return i.get(n);var a,l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var r;Object.prototype.hasOwnProperty.call(n,a)&&((r=c?Object.getOwnPropertyDescriptor(n,a):null)&&(r.get||r.set)?Object.defineProperty(l,a,r):l[a]=n[a])}return l.default=n,i&&i.set(n,l),l}(t("../core/constants"));function v(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,v=function(){return n},n)}h.default.prototype._angleMode=d.RADIANS,h.default.prototype.acos=function(n){return this._fromRadians(Math.acos(n))},h.default.prototype.asin=function(n){return this._fromRadians(Math.asin(n))},h.default.prototype.atan=function(n){return this._fromRadians(Math.atan(n))},h.default.prototype.atan2=function(n,i){return this._fromRadians(Math.atan2(n,i))},h.default.prototype.cos=function(n){return Math.cos(this._toRadians(n))},h.default.prototype.sin=function(n){return Math.sin(this._toRadians(n))},h.default.prototype.tan=function(n){return Math.tan(this._toRadians(n))},h.default.prototype.degrees=function(n){return n*d.RAD_TO_DEG},h.default.prototype.radians=function(n){return n*d.DEG_TO_RAD},h.default.prototype.angleMode=function(n){if(h.default._validateParameters("angleMode",arguments),n===void 0)return this._angleMode;n!==d.DEGREES&&n!==d.RADIANS||n!==this._angleMode&&(n===d.RADIANS?(this._setProperty("pRotationX",this.pRotationX*d.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*d.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*d.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*d.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*d.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*d.RAD_TO_DEG)),this._angleMode=n)},h.default.prototype._toRadians=function(n){return this._angleMode===d.DEGREES?n*d.DEG_TO_RAD:n},h.default.prototype._toDegrees=function(n){return this._angleMode===d.RADIANS?n*d.RAD_TO_DEG:n},h.default.prototype._fromRadians=function(n){return this._angleMode===d.DEGREES?n*d.RAD_TO_DEG:n},h.default.prototype._fromDegrees=function(n){return this._angleMode===d.RADIANS?n*d.DEG_TO_RAD:n};var m=h.default;I.default=m},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],316:[function(t,X,I){"use strict";t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};y.default.prototype.textAlign=function(b,h){var d;return y.default._validateParameters("textAlign",arguments),(d=this._renderer).textAlign.apply(d,arguments)},y.default.prototype.textLeading=function(b){var h;return y.default._validateParameters("textLeading",arguments),(h=this._renderer).textLeading.apply(h,arguments)},y.default.prototype.textSize=function(b){var h;return y.default._validateParameters("textSize",arguments),(h=this._renderer).textSize.apply(h,arguments)},y.default.prototype.textStyle=function(b){var h;return y.default._validateParameters("textStyle",arguments),(h=this._renderer).textStyle.apply(h,arguments)},y.default.prototype.textWidth=function(){for(var b=arguments.length,h=new Array(b),d=0;d<b;d++)h[d]=arguments[d];if(h[0]+="",y.default._validateParameters("textWidth",h),h[0].length===0)return 0;for(var v=h[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),m=[],n=0;n<v.length;n++)m.push(this._renderer.textWidth(v[n]));return Math.max.apply(Math,m)},y.default.prototype.textAscent=function(){for(var b=arguments.length,h=new Array(b),d=0;d<b;d++)h[d]=arguments[d];return y.default._validateParameters("textAscent",h),this._renderer.textAscent()},y.default.prototype.textDescent=function(){for(var b=arguments.length,h=new Array(b),d=0;d<b;d++)h[d]=arguments[d];return y.default._validateParameters("textDescent",h),this._renderer.textDescent()},y.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},y.default.prototype.textWrap=function(b){return y.default._validateParameters("textWrap",[b]),this._renderer.textWrap(b)},t=y.default,I.default=t},{"../core/main":280,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],317:[function(t,X,I){"use strict";function y(a){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(l){return y(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(i=t("../core/main"))&&i.__esModule?i:{default:i},d=n(t("../core/constants")),v=n(t("opentype.js"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}function n(a){if(a&&a.__esModule)return a;if(a===null||b(a)!=="object"&&typeof a!="function")return{default:a};var l=m();if(l&&l.has(a))return l.get(a);var c,r,s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&((r=o?Object.getOwnPropertyDescriptor(a,c):null)&&(r.get||r.set)?Object.defineProperty(s,c,r):s[c]=a[c]);return s.default=a,l&&l.set(a,s),s}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),h.default.prototype.loadFont=function(a,l,c){h.default._validateParameters("loadFont",arguments);var r=new h.default.Font(this),s=this;return v.load(a,function(f,C){if(f)return h.default._friendlyFileLoadError(4,a),c!==void 0?c(f):void console.error(f,a);r.font=C,l!==void 0&&l(r),s._decrementPreload();var f=a.split("\\").pop().split("/").pop(),C=f.lastIndexOf("."),E=C<1?null:f.slice(C+1);["ttf","otf","woff","woff2"].includes(E)&&(E=f.slice(0,C!==-1?C:0),(f=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(E,`;
src: url(`).concat(a,`);
}
`))),document.head.appendChild(f))}),r},h.default.prototype.text=function(a,l,c,r,s){var o;return h.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(o=this._renderer).text.apply(o,arguments):this},h.default.prototype.textFont=function(a,l){if(h.default._validateParameters("textFont",arguments),arguments.length){if(a)return this._renderer._setProperty("_textFont",a),l&&(this._renderer._setProperty("_textSize",l),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",l*d._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var i=h.default;I.default=i},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,"opentype.js":254}],318:[function(t,X,I){"use strict";function y(j){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var b=(b=t("../core/main"))&&b.__esModule?b:{default:b},h=function(j){if(j&&j.__esModule)return j;if(j===null||v(j)!=="object"&&typeof j!="function")return{default:j};var x=d();if(x&&x.has(j))return x.get(j);var T,_={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(T in j){var p;Object.prototype.hasOwnProperty.call(j,T)&&((p=M?Object.getOwnPropertyDescriptor(j,T):null)&&(p.get||p.set)?Object.defineProperty(_,T,p):_[T]=j[T])}return _.default=j,x&&x.set(j,_),_}(t("../core/constants"));function d(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,d=function(){return j},j)}function v(j){return(v=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(x){return y(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":y(x)})(j)}function m(j,x){for(var T=0;T<x.length;T++){var _=x[T];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(j,_.key,_)}}function n(j,x){var T=j.length;return j[x<0?x%T+T:x%T]}function i(j,x,T,_){var M,p,S;return _?(i.tmpPoint1===void 0&&(i.tmpPoint1=[],i.tmpPoint2=[]),p=i.tmpPoint1,S=i.tmpPoint2,p.x=x.x-j.x,p.y=x.y-j.y,S.x=T.x-x.x,S.y=T.y-x.y,M=p.x*S.x+p.y*S.y,p=Math.sqrt(p.x*p.x+p.y*p.y),S=Math.sqrt(S.x*S.x+S.y*S.y),Math.acos(M/(p*S))<_):(x[0]-j[0])*(T[1]-j[1])-(T[0]-j[0])*(x[1]-j[1])==0}function a(w,H,D,N,z,p,S,O,k){var F=1-k,L=Math.pow(F,3),G=Math.pow(F,2),P=k*k,K=P*k,B=L*w+3*G*k*D+3*F*k*k*z+K*S,L=L*H+3*G*k*N+3*F*k*k*p+K*O,G=w+2*k*(D-w)+P*(z-2*D+w),K=H+2*k*(N-H)+P*(p-2*N+H),$=D+2*k*(z-D)+P*(S-2*z+D),P=N+2*k*(p-N)+P*(O-2*p+N),w=F*w+k*D,D=F*H+k*N,H=F*z+k*S,N=F*p+k*O,z=90-180*Math.atan2(G-$,K-P)/Math.PI;return($<G||K<P)&&(z+=180),{x:B,y:L,m:{x:G,y:K},n:{x:$,y:P},start:{x:w,y:D},end:{x:H,y:N},alpha:z}}function l(j,x,T,_,M,p,S,O,k){return k==null?C(j,x,T,_,M,p,S,O):a(j,x,T,_,M,p,S,O,function(F,B,L,G,K,$,P,w,D){if(!(D<0||C(F,B,L,G,K,$,P,w)<D)){var H,N=.5,z=1-N;for(H=C(F,B,L,G,K,$,P,w,z);.01<Math.abs(H-D);)H=C(F,B,L,G,K,$,P,w,z+=(H<D?1:-1)*(N/=2));return z}}(j,x,T,_,M,p,S,O,k))}function c(j,x,T){for(var _,M,p,S,O,k=0,F=0,B=(j=function(L,G){function K(ae,he,be){var Me,le;if(!ae)return["C",he.x,he.y,he.x,he.y,he.x,he.y];switch(ae[0]in{T:1,Q:1}||(he.qx=he.qy=null),ae[0]){case"M":he.X=ae[1],he.Y=ae[2];break;case"A":ae=["C"].concat(s.apply(0,[he.x,he.y].concat(ae.slice(1))));break;case"S":le=be==="C"||be==="S"?(Me=2*he.x-he.bx,2*he.y-he.by):(Me=he.x,he.y),ae=["C",Me,le].concat(ae.slice(1));break;case"T":be==="Q"||be==="T"?(he.qx=2*he.x-he.qx,he.qy=2*he.y-he.qy):(he.qx=he.x,he.qy=he.y),ae=["C"].concat(f(he.x,he.y,he.qx,he.qy,ae[1],ae[2]));break;case"Q":he.qx=ae[1],he.qy=ae[2],ae=["C"].concat(f(he.x,he.y,ae[1],ae[2],ae[3],ae[4]));break;case"L":ae=["C"].concat(u(he.x,he.y,ae[1],ae[2]));break;case"H":ae=["C"].concat(u(he.x,he.y,ae[1],he.y));break;case"V":ae=["C"].concat(u(he.x,he.y,he.x,ae[1]));break;case"Z":ae=["C"].concat(u(he.x,he.y,he.X,he.Y))}return ae}function $(ae,he){if(7<ae[he].length){ae[he].shift();for(var be=ae[he];be.length;)W[he]="A",H&&(te[he]="A"),ae.splice(he++,0,["C"].concat(be.splice(0,6)));ae.splice(he,1),w=Math.max(D.length,H&&H.length||0)}}function P(ae,he,be,Me,le){ae&&he&&ae[le][0]==="M"&&he[le][0]!=="M"&&(he.splice(le,0,["M",Me.x,Me.y]),be.bx=0,be.by=0,be.x=ae[le][1],be.y=ae[le][2],w=Math.max(D.length,H&&H.length||0))}var w,D=r(L),H=G&&r(G),N={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},z={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},W=[],te=[],V="",Z="";w=Math.max(D.length,H&&H.length||0);for(var Y=0;Y<w;Y++){(V=D[Y]?D[Y][0]:V)!=="C"&&(W[Y]=V,Y&&(Z=W[Y-1])),D[Y]=K(D[Y],N,Z),W[Y]!=="A"&&V==="C"&&(W[Y]="C"),$(D,Y),H&&((V=H[Y]?H[Y][0]:V)!=="C"&&(te[Y]=V,Y&&(Z=te[Y-1])),H[Y]=K(H[Y],z,Z),te[Y]!=="A"&&V==="C"&&(te[Y]="C"),$(H,Y)),P(D,H,N,z,Y),P(H,D,z,N,Y);var q=D[Y],J=H&&H[Y],re=q.length,ue=H&&J.length;N.x=q[re-2],N.y=q[re-1],N.bx=parseFloat(q[re-4])||N.x,N.by=parseFloat(q[re-3])||N.y,z.bx=H&&(parseFloat(J[ue-4])||z.x),z.by=H&&(parseFloat(J[ue-3])||z.y),z.x=H&&J[ue-2],z.y=H&&J[ue-1]}return H?[D,H]:D}(j)).length;F<B;F++){if((p=j[F])[0]==="M")_=+p[1],M=+p[2];else{if(x<k+(S=l(_,M,p[1],p[2],p[3],p[4],p[5],p[6]))&&!T)return{x:(O=l(_,M,p[1],p[2],p[3],p[4],p[5],p[6],x-k)).x,y:O.y,alpha:O.alpha};k+=S,_=+p[5],M=+p[6]}p.shift()}return O=(O=T?k:a(_,M,p[0],p[1],p[2],p[3],p[4],p[5],1)).alpha?{x:O.x,y:O.y,alpha:O.alpha}:O}function r(j){var x=[],T=0,_=0,M=0,p=0,S=0;if(j){j[0][0]==="M"&&(M=T=+j[0][1],p=_=+j[0][2],S++,x[0]=["M",T,_]);for(var O,k,F=j.length===3&&j[0][0]==="M"&&j[1][0].toUpperCase()==="R"&&j[2][0].toUpperCase()==="Z",B=S,L=j.length;B<L;B++){if(x.push(O=[]),(k=j[B])[0]!==k[0].toUpperCase())switch(O[0]=k[0].toUpperCase(),O[0]){case"A":O[1]=k[1],O[2]=k[2],O[3]=k[3],O[4]=k[4],O[5]=k[5],O[6]=+(k[6]+T),O[7]=+(k[7]+_);break;case"V":O[1]=+k[1]+_;break;case"H":O[1]=+k[1]+T;break;case"R":for(var G,K=2,$=(G=[T,_].concat(k.slice(1))).length;K<$;K++)G[K]=+G[K]+T,G[++K]=+G[K]+_;x.pop(),x=x.concat(o(G,F));break;case"M":M=+k[1]+T,p=+k[2]+_;break;default:for(var P=1,w=k.length;P<w;P++)O[P]=+k[P]+(P%2?T:_)}else if(k[0]==="R")G=[T,_].concat(k.slice(1)),x.pop(),x=x.concat(o(G,F)),O=["R"].concat(k.slice(-2));else for(var D=0,H=k.length;D<H;D++)O[D]=k[D];switch(O[0]){case"Z":T=M,_=p;break;case"H":T=O[1];break;case"V":_=O[1];break;case"M":M=O[O.length-2],p=O[O.length-1];break;default:T=O[O.length-2],_=O[O.length-1]}}}return x}function s(j,x,T,_,H,W,N,O,k,F){function B(ue,ae,he){return{x:ue*Math.cos(he)-ae*Math.sin(he),y:ue*Math.sin(he)+ae*Math.cos(he)}}var L,w=Math.PI,D=120*w/180,G=w/180*(+H||0),K=[],$=(F?(Y=F[0],L=F[1],V=F[2],Z=F[3]):(j=(z=B(j,x,-G)).x,x=z.y,1<($=(P=(j-(O=(z=B(O,k,-G)).x))/2)*P/(T*T)+(z=(x-(k=z.y))/2)*z/(_*_))&&(T*=$=Math.sqrt($),_*=$),$=T*T,te=_*_,V=(W=(W===N?-1:1)*Math.sqrt(Math.abs(($*te-$*z*z-te*P*P)/($*z*z+te*P*P))))*T*z/_+(j+O)/2,Z=W*-_*P/T+(x+k)/2,Y=Math.asin(((x-Z)/_).toFixed(9)),L=Math.asin(((k-Z)/_).toFixed(9)),(Y=j<V?w-Y:Y)<0&&(Y=2*w+Y),(L=O<V?w-L:L)<0&&(L=2*w+L),N&&L<Y&&(Y-=2*w),!N&&Y<L&&(L-=2*w)),L-Y),P=(Math.abs($)>D&&(te=L,z=O,W=k,L=Y+D*(N&&Y<L?1:-1),K=s(O=V+T*Math.cos(L),k=Z+_*Math.sin(L),T,_,H,0,N,z,W,[L,te,V,Z])),$=L-Y,Math.cos(Y)),w=Math.sin(Y),D=Math.cos(L),H=Math.sin(L),N=Math.tan($/4),z=4/3*T*N,W=4/3*_*N,te=[j,x],V=[j+z*w,x-W*P],Z=[O+z*H,k-W*D],Y=[O,k];if(V[0]=2*te[0]-V[0],V[1]=2*te[1]-V[1],F)return[V,Z,Y].concat(K);for(var q=[],J=0,re=(K=[V,Z,Y].concat(K).join().split(",")).length;J<re;J++)q[J]=J%2?B(K[J-1],K[J],G).y:B(K[J],K[J+1],G).x;return q}function o(j,x){for(var T=[],_=0,M=j.length;_<M-2*!x;_+=2){var p=[{x:+j[_-2],y:+j[_-1]},{x:+j[_],y:+j[_+1]},{x:+j[_+2],y:+j[_+3]},{x:+j[_+4],y:+j[_+5]}];x?_?M-4===_?p[3]={x:+j[0],y:+j[1]}:M-2===_&&(p[2]={x:+j[0],y:+j[1]},p[3]={x:+j[2],y:+j[3]}):p[0]={x:+j[M-2],y:+j[M-1]}:M-4===_?p[3]=p[2]:_||(p[0]={x:+j[_],y:+j[_+1]}),T.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return T}function u(j,x,T,_){return[j,x,T,_,T,_]}function f(j,x,T,_,M,p){return[1/3*j+2/3*T,1/3*x+2/3*_,1/3*M+2/3*T,1/3*p+2/3*_,M,p]}function C(j,x,T,_,M,p,S,O,k){for(var F=(k=1<(k=k??1)?1:k<0?0:k)/2,B=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],L=0,G=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],K=0;K<12;K++){var P=F*B[K]+F,$=E(P,j,T,M,S),P=E(P,x,_,p,O);L+=G[K]*Math.sqrt($*$+P*P)}return F*L}function E(j,x,T,_,M){return j*(j*(-3*x+9*T-9*_+3*M)+6*x-12*T+6*_)-3*x+3*T}b.default.Font=function(){function j(M){if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");this.parent=M,this.cache={},this.font=void 0}var x,T,_;return x=j,(T=[{key:"textBounds",value:function(M){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,B=3<arguments.length?arguments[3]:void 0,O=4<arguments.length?arguments[4]:void 0,k=O&&O.renderer&&O.renderer._pInst||this.parent,F=k._renderer.drawingContext,B=(F.textAlign||h.LEFT,F.textBaseline||h.BASELINE,B||k._renderer._textSize);if(!W){for(var L=[],G=[],K=[],$=(K[0]=[],[]),P=this._scale(B),w=k._renderer.textLeading(),D=0,H=(this.font.forEachGlyph(M,p,S,B,O,function(Z,Y,q,J){var re=Z.getMetrics();Z.index===0?K[D+=1]=[]:(K[D].push(Y+re.xMin*P),K[D].push(Y+re.xMax*P),$.push(q+D*w+-re.yMin*P),$.push(q+D*w+-re.yMax*P))}),0<K[D].length&&(L[D]=Math.min.apply(null,K[D]),G[D]=Math.max.apply(null,K[D])),0),N=0;N<=D;N++){L[N]=Math.min.apply(null,K[N]),G[N]=Math.max.apply(null,K[N]);var z=G[N]-L[N];H<z&&(H=z)}var F=Math.min.apply(null,L),W={x:F,y:S=Math.min.apply(null,$),h:Math.max.apply(null,$)-S,w:H,advance:F-p},B=this._handleAlignment(k._renderer,M,W.x,W.y,W.w+W.advance);W.x=B.x,W.y=B.y}return W}},{key:"textToPoints",value:function(M,p,S,O,k){var F=p,B=[],L=M.split(/\r?\n|\r|\n/g);O=O||this.parent._renderer._textSize;for(var G,K,$,P=0;P<L.length;P++){var w=0;p=F;for(var D=(D=L[P]).replace("	","  "),H=this._getGlyphs(D),N=0;N<H.length;N++){if(K=D,!(($=H)[G=N].name&&$[G].name==="space"||K.length===$.length&&K[G]===" "))for(var z=function(Z){for(var Y,q=[],J=0;J<Z.length;J++)Z[J].type==="M"&&(Y&&q.push(Y),Y=[]),Y.push(function(re){var ue=[re.type];return re.type==="M"||re.type==="L"?ue.push(re.x,re.y):re.type==="C"?ue.push(re.x1,re.y1,re.x2,re.y2,re.x,re.y):re.type==="Q"&&ue.push(re.x1,re.y1,re.x,re.y),ue}(Z[J]));return q.push(Y),q}(H[N].getPath(p,S,O).commands),W=0;W<z.length;W++)for(var te=function(Z,Y){for(var Y=function(he,be){if(v(he)!=="object")he=be;else for(var Me in be)he[Me]===void 0&&(he[Me]=be[Me]);return he}(Y,{sampleFactor:.1,simplifyThreshold:0}),q=c(Z,0,1),J=q/(q*Y.sampleFactor),re=[],ue=0;ue<q;ue+=J)re.push(c(Z,ue));return Y.simplifyThreshold&&function(ae){for(var he=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,be=0,Me=ae.length-1;3<ae.length&&0<=Me;--Me)i(n(ae,Me-1),n(ae,Me),n(ae,Me+1),he)&&(ae.splice(Me%ae.length,1),be++)}(re,Y.simplifyThreshold),re}(z[W],k),V=0;V<te.length;V++)te[V].x+=w,B.push(te[V]);w+=H[N].advanceWidth*this._scale(O)}S+=this.parent._renderer._textLeading}return B}},{key:"_getGlyphs",value:function(M){return this.font.stringToGlyphs(M)}},{key:"_getPath",value:function(M,F,S,O){var k=(O&&O.renderer&&O.renderer._pInst||this.parent)._renderer,F=this._handleAlignment(k,M,F,S);return this.font.getPath(M,F.x,F.y,k._textSize,O)}},{key:"_getPathData",value:function(M,p,S,O){var k=3;return typeof M=="string"&&2<arguments.length?M=this._getPath(M,p,S,O):v(p)==="object"&&(O=p),O&&typeof O.decimals=="number"&&(k=O.decimals),M.toPathData(k)}},{key:"_getSVG",value:function(M,p,S,O){var k=3;return typeof M=="string"&&2<arguments.length?M=this._getPath(M,p,S,O):v(p)==="object"&&(O=p),O&&(typeof O.decimals=="number"&&(k=O.decimals),typeof O.strokeWidth=="number"&&(M.strokeWidth=O.strokeWidth),O.fill!==void 0&&(M.fill=O.fill),O.stroke!==void 0&&(M.stroke=O.stroke)),M.toSVG(k)}},{key:"_renderPath",value:function(B,G,K,O){var k=O&&O.renderer||this.parent._renderer,F=k.drawingContext,B=(v(B)==="object"&&B.commands?B:this._getPath(B,G,K,O)).commands,L=(F.beginPath(),!0),G=!1,K=void 0;try{for(var $,P=B[Symbol.iterator]();!(L=($=P.next()).done);L=!0){var w=$.value;w.type==="M"?F.moveTo(w.x,w.y):w.type==="L"?F.lineTo(w.x,w.y):w.type==="C"?F.bezierCurveTo(w.x1,w.y1,w.x2,w.y2,w.x,w.y):w.type==="Q"?F.quadraticCurveTo(w.x1,w.y1,w.x,w.y):w.type==="Z"&&F.closePath()}}catch(D){G=!0,K=D}finally{try{L||P.return==null||P.return()}finally{if(G)throw K}}return k._doStroke&&k._strokeSet&&!k._clipping&&F.stroke(),k._doFill&&!k._clipping&&(k._fillSet||k._setFill(h._DEFAULT_TEXT_FILL),F.fill()),this}},{key:"_textWidth",value:function(M,p){return this.font.getAdvanceWidth(M,p)}},{key:"_textAscent",value:function(M){return this.font.ascender*this._scale(M)}},{key:"_textDescent",value:function(M){return-this.font.descender*this._scale(M)}},{key:"_scale",value:function(M){return 1/this.font.unitsPerEm*(M||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(M,p,S,O,k){var F=M._textSize;switch(k===void 0&&(k=this._textWidth(p,F)),M._textAlign){case h.CENTER:S-=k/2;break;case h.RIGHT:S-=k}switch(M._textBaseline){case h.TOP:O+=this._textAscent(F);break;case h.CENTER:O+=this._textAscent(F)/2;break;case h.BOTTOM:O-=this._textDescent(F)}return{x:S,y:O}}}])&&m(x.prototype,T),_&&m(x,_),j}(),t=b.default,I.default=t},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],319:[function(t,X,I){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(y,b){return y.push(b),y},t.default.prototype.arrayCopy=function(y,b,h,d,v){var m,n;y=v!==void 0?(n=Math.min(v,y.length),m=d,y.slice(b,n+b)):(n=h!==void 0?(n=h,Math.min(n,y.length)):y.length,h=b,y.slice(m=0,n)),Array.prototype.splice.apply(h,[m,n].concat(y))},t.default.prototype.concat=function(y,b){return y.concat(b)},t.default.prototype.reverse=function(y){return y.reverse()},t.default.prototype.shorten=function(y){return y.pop(),y},t.default.prototype.shuffle=function(y,b){for(var h,d,v=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(y),m=(y=b||v?y:y.slice()).length;1<m;)h=this.random(0,1)*m|0,d=y[--m],y[m]=y[h],y[h]=d;return y},t.default.prototype.sort=function(y,d){var h=d?y.slice(0,Math.min(d,y.length)):y,d=d?y.slice(Math.min(d,y.length)):[];return(h=typeof h[0]=="string"?h.sort():h.sort(function(v,m){return v-m})).concat(d)},t.default.prototype.splice=function(y,b,h){return Array.prototype.splice.apply(y,[h,0].concat(b)),y},t.default.prototype.subset=function(y,b,h){return h!==void 0?y.slice(b,b+h):y.slice(b,y.length)},t=t.default,I.default=t},{"../core/main":280,"core-js/modules/es.array-buffer.constructor":151,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187}],320:[function(t,X,I){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};y.default.prototype.float=function(b){return b instanceof Array?b.map(parseFloat):parseFloat(b)},y.default.prototype.int=function(b){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return b===1/0||b==="Infinity"?1/0:b===-1/0||b==="-Infinity"?-1/0:typeof b=="string"?parseInt(b,h):typeof b=="number"?0|b:typeof b=="boolean"?b?1:0:b instanceof Array?b.map(function(d){return y.default.prototype.int(d,h)}):void 0},y.default.prototype.str=function(b){return b instanceof Array?b.map(y.default.prototype.str):String(b)},y.default.prototype.boolean=function(b){return typeof b=="number"?b!==0:typeof b=="string"?b.toLowerCase()==="true":typeof b=="boolean"?b:b instanceof Array?b.map(y.default.prototype.boolean):void 0},y.default.prototype.byte=function(b){return b=y.default.prototype.int(b,10),typeof b=="number"?(b+128)%256-128:b instanceof Array?b.map(y.default.prototype.byte):void 0},y.default.prototype.char=function(b){return typeof b!="number"||isNaN(b)?b instanceof Array?b.map(y.default.prototype.char):typeof b=="string"?y.default.prototype.char(parseInt(b,10)):void 0:String.fromCharCode(b)},y.default.prototype.unchar=function(b){return typeof b=="string"&&b.length===1?b.charCodeAt(0):b instanceof Array?b.map(y.default.prototype.unchar):void 0},y.default.prototype.hex=function(b,h){if(h=h??8,b instanceof Array)return b.map(function(v){return y.default.prototype.hex(v,h)});if(b===1/0||b===-1/0)return(b===1/0?"F":"0").repeat(h);if(typeof b=="number"){b<0&&(b=4294967295+b+1);for(var d=Number(b).toString(16).toUpperCase();d.length<h;)d="0".concat(d);return d=d.length>=h?d.substring(d.length-h,d.length):d}},y.default.prototype.unhex=function(b){return b instanceof Array?b.map(y.default.prototype.unhex):parseInt("0x".concat(b),16)},t=y.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.map":167,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.repeat":200}],321:[function(t,X,I){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(n=t("../core/main"))&&n.__esModule?n:{default:n};function b(i,a){return function(l){if(Array.isArray(l))return l}(i)||function(l,c){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]"){var r=[],s=!0,o=!1,u=void 0;try{for(var f,C=l[Symbol.iterator]();!(s=(f=C.next()).done)&&(r.push(f.value),!c||r.length!==c);s=!0);}catch(E){o=!0,u=E}finally{try{s||C.return==null||C.return()}finally{if(o)throw u}}return r}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(i,a,l){var r=b(i.toString().split("."),2),c=r[0],r=r[1];return l===void 0?(c=c.padStart(a,"0"),r?c+"."+r:c):(c=(i=b(i.toFixed(l).toString().split("."),2))[0],r=i[1],c=c.padStart(a,"0"),r===void 0?c:c+"."+r)}function d(r,a){var l=(r=r.toString()).indexOf("."),c=l!==-1?r.substring(l):"",r=(r=l!==-1?r.substring(0,l):r).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(a===0)c="";else if(a!==void 0)if(a>c.length)for(var s=a-(c+=l===-1?".":"").length+1,o=0;o<s;o++)c+="0";else c=c.substring(0,a+1);return r+c}function v(i){return 0<parseFloat(i)?"+".concat(i.toString()):i.toString()}function m(i){return 0<=parseFloat(i)?" ".concat(i.toString()):i.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),y.default.prototype.join=function(i,a){return y.default._validateParameters("join",arguments),i.join(a)},y.default.prototype.match=function(i,a){return y.default._validateParameters("match",arguments),i.match(a)},y.default.prototype.matchAll=function(i,a){y.default._validateParameters("matchAll",arguments);for(var l=new RegExp(a,"g"),c=l.exec(i),r=[];c!==null;)r.push(c),c=l.exec(i);return r},y.default.prototype.nf=function(i,a,l){return y.default._validateParameters("nf",arguments),i instanceof Array?i.map(function(c){return h(c,a,l)}):Object.prototype.toString.call(i)==="[object Arguments]"?i.length===3?this.nf(i[0],i[1],i[2]):i.length===2?this.nf(i[0],i[1]):this.nf(i[0]):h(i,a,l)},y.default.prototype.nfc=function(i,a){return y.default._validateParameters("nfc",arguments),i instanceof Array?i.map(function(l){return d(l,a)}):d(i,a)},y.default.prototype.nfp=function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];y.default._validateParameters("nfp",a);var c=y.default.prototype.nf.apply(this,a);return c instanceof Array?c.map(v):v(c)},y.default.prototype.nfs=function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];y.default._validateParameters("nfs",a);var c=y.default.prototype.nf.apply(this,a);return c instanceof Array?c.map(m):m(c)},y.default.prototype.split=function(i,a){return y.default._validateParameters("split",arguments),i.split(a)},y.default.prototype.splitTokens=function(i,a){var l,c;return y.default._validateParameters("splitTokens",arguments),c=a!==void 0?(c=/\]/g.exec(a=a),(l=/\[/g.exec(a))&&c?(a=a.slice(0,c.index)+a.slice(c.index+1),l=/\[/g.exec(a),a=a.slice(0,l.index)+a.slice(l.index+1),new RegExp("[\\[".concat(a,"\\]]"),"g")):c?(a=a.slice(0,c.index)+a.slice(c.index+1),new RegExp("[".concat(a,"\\]]"),"g")):l?(a=a.slice(0,l.index)+a.slice(l.index+1),new RegExp("[".concat(a,"\\[]"),"g")):new RegExp("[".concat(a,"]"),"g")):/\s/g,i.split(c).filter(function(r){return r})},y.default.prototype.trim=function(i){return y.default._validateParameters("trim",arguments),i instanceof Array?i.map(this.trim):i.trim()};var n=y.default;I.default=n},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.pad-start":199,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],322:[function(t,X,I){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,I.default=t},{"../core/main":280}],323:[function(t,X,I){"use strict";function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}function b(i){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(a){return y(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(n=t("../core/main"))&&n.__esModule?n:{default:n},d=(t("./p5.Geometry"),function(i){if(i&&i.__esModule)return i;if(i===null||b(i)!=="object"&&typeof i!="function")return{default:i};var a=v();if(a&&a.has(i))return a.get(i);var l,c={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in i){var s;Object.prototype.hasOwnProperty.call(i,l)&&((s=r?Object.getOwnPropertyDescriptor(i,l):null)&&(s.get||s.set)?Object.defineProperty(c,l,s):c[l]=i[l])}return c.default=i,a&&a.set(i,c),c}(t("../core/constants")));function v(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,v=function(){return i},i)}h.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},h.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},h.default.prototype.buildGeometry=function(i){return this._renderer.buildGeometry(i)},h.default.prototype.freeGeometry=function(i){this._renderer._freeBuffers(i.gid)},h.default.prototype.plane=function(){var i,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,s=(this._assert3d("plane"),h.default._validateParameters("plane",arguments),"plane|".concat(c,"|").concat(r));return this._renderer.geometryInHash(s)||((i=new h.default.Geometry(c,r,function(){for(var o,u,f=0;f<=this.detailY;f++)for(var C=f/this.detailY,E=0;E<=this.detailX;E++)o=E/this.detailX,u=new h.default.Vector(o-.5,C-.5,0),this.vertices.push(u),this.uvs.push(o,C)})).computeFaces().computeNormals(),c<=1&&r<=1?i._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(s,i)),this._renderer.drawBuffersScaled(s,a,l,1),this},h.default.prototype.box=function(i,a,l,c,r){this._assert3d("box"),h.default._validateParameters("box",arguments),i===void 0&&(i=50),a===void 0&&(a=i),l===void 0&&(l=a);var s,o=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,o=(r===void 0&&(r=o?1:4),"box|".concat(c=c===void 0?o?1:4:c,"|").concat(r));return this._renderer.geometryInHash(o)||((s=new h.default.Geometry(c,r,function(){var u=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(f,C){for(var C=4*C,E=0;E<4;E++){var j=f[E],j=new h.default.Vector((2*(1&j)-1)/2,((2&j)-1)/2,((4&j)/2-1)/2);u.vertices.push(j),u.uvs.push(1&E,(2&E)/2)}u.faces.push([C,1+C,2+C]),u.faces.push([2+C,1+C,3+C])})})).computeNormals(),c<=4&&r<=4?s._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(o,s)),this._renderer.drawBuffersScaled(o,i,a,l),this},h.default.prototype.sphere=function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),h.default._validateParameters("sphere",arguments),this.ellipsoid(i,i,i,a,l),this};function m(i,a,l,c,r,s,o){i=i<=0?1:i,a=a<0?0:a,l=l<=0?i:l,c=c<3?3:c;for(var u,f,C=(s=s===void 0||s)?-2:0,E=(r=r<1?1:r)+((o=o===void 0?a!==0:o)?2:0),j=Math.atan2(i-a,l),x=Math.sin(j),T=Math.cos(j),_=C;_<=E;++_){var M=_/r,p=l*M,S=void 0,S=_<0?(M=p=0,i):r<_?(p=l,M=1,a):i+(a-i)*M;for(_!==-2&&_!==r+2||(S=0),p-=l/2,u=0;u<c;++u){var O=u/(c-1),F=2*Math.PI*O,k=Math.sin(F),F=Math.cos(F),B=(this.vertices.push(new h.default.Vector(k*S,p,F*S)),void 0),B=_<0?new h.default.Vector(0,-1,0):r<_&&a?new h.default.Vector(0,1,0):new h.default.Vector(k*T,x,F*T);this.vertexNormals.push(B),this.uvs.push(O,M)}}var L=0;if(s){for(f=0;f<c;++f)this.faces.push([L+f,L+c+(f+1)%c,L+c+f]);L+=2*c}for(_=0;_<r;++_){for(u=0;u<c;++u){var G=(u+1)%c;this.faces.push([L+u,L+G,L+c+G]),this.faces.push([L+u,L+c+G,L+c+u])}L+=c}if(o)for(L+=c,u=0;u<c;++u)this.faces.push([L+u,L+(u+1)%c,L+c])}h.default.prototype.cylinder=function(){var i,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,s=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],o=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],u=(this._assert3d("cylinder"),h.default._validateParameters("cylinder",arguments),"cylinder|".concat(c,"|").concat(r,"|").concat(s,"|").concat(o));return this._renderer.geometryInHash(u)||(i=new h.default.Geometry(c,r),m.call(i,1,1,1,c,r,s,o),c<=24&&r<=16?i._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(u,i)),this._renderer.drawBuffersScaled(u,a,l,a),this},h.default.prototype.cone=function(){var i,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,s=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],o=(this._assert3d("cone"),h.default._validateParameters("cone",arguments),"cone|".concat(c,"|").concat(r,"|").concat(s));return this._renderer.geometryInHash(o)||(i=new h.default.Geometry(c,r),m.call(i,1,0,1,c,r,s,!1),c<=24&&r<=16?i._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(o,i)),this._renderer.drawBuffersScaled(o,a,l,a),this},h.default.prototype.ellipsoid=function(){var i,a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:a,r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,s=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,o=(this._assert3d("ellipsoid"),h.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(r,"|").concat(s));return this._renderer.geometryInHash(o)||((i=new h.default.Geometry(r,s,function(){for(var u=0;u<=this.detailY;u++)for(var f=u/this.detailY,C=Math.PI*f-Math.PI/2,E=Math.cos(C),j=Math.sin(C),x=0;x<=this.detailX;x++){var T=x/this.detailX,M=2*Math.PI*T,_=Math.cos(M),M=Math.sin(M),M=new h.default.Vector(E*M,j,E*_);this.vertices.push(M),this.vertexNormals.push(M),this.uvs.push(T,f)}})).computeFaces(),r<=24&&s<=24?i._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(o,i)),this._renderer.drawBuffersScaled(o,a,l,c),this},h.default.prototype.torus=function(i,o,l,c){if(this._assert3d("torus"),h.default._validateParameters("torus",arguments),i===void 0)i=50;else if(!i)return;if(o===void 0)o=10;else if(!o)return;l===void 0&&(l=24),c===void 0&&(c=16);var r,s=(o/i).toPrecision(4),o="torus|".concat(s,"|").concat(l,"|").concat(c);return this._renderer.geometryInHash(o)||((r=new h.default.Geometry(l,c,function(){for(var u=0;u<=this.detailY;u++)for(var f=u/this.detailY,C=2*Math.PI*f,E=Math.cos(C),j=Math.sin(C),x=1+s*E,T=0;T<=this.detailX;T++){var _=T/this.detailX,M=2*Math.PI*_,S=Math.cos(M),M=Math.sin(M),p=new h.default.Vector(x*S,x*M,s*j),S=new h.default.Vector(E*S,E*M,j);this.vertices.push(p),this.vertexNormals.push(S),this.uvs.push(_,f)}})).computeFaces(),l<=24&&c<=16?r._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(o,r)),this._renderer.drawBuffersScaled(o,i,i,i),this},h.default.RendererGL.prototype.point=function(i,a){var l=[];return l.push(new h.default.Vector(i,a,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(l,this.immediateMode.buffers.point),this},h.default.RendererGL.prototype.triangle=function(o){var a=o[0],l=o[1],c=o[2],r=o[3],s=o[4],o=o[5],u=(this.geometryInHash("tri")||((u=new h.default.Geometry(1,1,function(){var E=[];E.push(new h.default.Vector(0,0,0)),E.push(new h.default.Vector(1,0,0)),E.push(new h.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=E,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),u.computeNormals(),this.createBuffers("tri",u)),this.uMVMatrix.copy());try{var f=Math.sign(a*r-c*l+c*o-s*r+s*l-a*o),C=new h.default.Matrix([c-a,r-l,0,0,s-a,o-l,0,0,0,0,f,0,a,l,0,1]).mult(this.uMVMatrix);this.uMVMatrix=C,this.drawBuffers("tri")}finally{this.uMVMatrix=u}return this},h.default.RendererGL.prototype.ellipse=function(i){this.arc(i[0],i[1],i[2],i[3],0,d.TWO_PI,d.OPEN,i[4])},h.default.RendererGL.prototype.arc=function(){var i,a=arguments.length<=0?void 0:arguments[0],l=arguments.length<=1?void 0:arguments[1],c=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3],s=arguments.length<=4?void 0:arguments[4],o=arguments.length<=5?void 0:arguments[5],u=arguments.length<=6?void 0:arguments[6],f=(arguments.length<=7?void 0:arguments[7])||25,C=(Math.abs(o-s)>=d.TWO_PI?"".concat(E="ellipse","|"):"".concat(E="arc","|").concat(s,"|").concat(o,"|").concat(u,"|")).concat(f,"|"),E=(this.geometryInHash(C)||((i=new h.default.Geometry(f,1,function(){if(s.toFixed(10)!==o.toFixed(10)){u!==d.PIE&&u!==void 0||(this.vertices.push(new h.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var j=0;j<=f;j++){var T=(o-s)*(j/f)+s,x=.5+Math.cos(T)/2,T=.5+Math.sin(T)/2;this.vertices.push(new h.default.Vector(x,T,0)),this.uvs.push([x,T]),j<f-1&&(this.faces.push([0,j+1,j+2]),this.edges.push([j+1,j+2]))}switch(u){case d.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case d.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case d.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),f<=50?i._edgesToVertices(i):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(E," with more than 50 detail")),this.createBuffers(C,i)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([a,l,0]),this.uMVMatrix.scale(c,r,1),this.drawBuffers(C)}finally{this.uMVMatrix=E}return this},h.default.RendererGL.prototype.rect=function(i){var a=i[0],l=i[1],c=i[2],r=i[3];if(i[4]===void 0){var u=this._pInst._glAttributes.perPixelLighting,s=i[4]||(u?1:24),o=i[5]||(u?1:16),u="rect|".concat(s,"|").concat(o),f=(this.geometryInHash(u)||((f=new h.default.Geometry(s,o,function(){for(var B=0;B<=this.detailY;B++)for(var L=B/this.detailY,G=0;G<=this.detailX;G++){var K=G/this.detailX,$=new h.default.Vector(K,L,0);this.vertices.push($),this.uvs.push(K,L)}0<s&&0<o&&(this.edges=[[0,s],[s,(s+1)*(o+1)-1],[(s+1)*(o+1)-1,(s+1)*o],[(s+1)*o,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(u,f)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([a,l,0]),this.uMVMatrix.scale(c,r,1),this.drawBuffers(u)}finally{this.uMVMatrix=f}}else{var u=i[4],f=i[5]===void 0?u:i[5],C=i[6]===void 0?f:i[6],i=i[7]===void 0?C:i[7],M=c,E=r,T=((M+=a)<a&&(T=a,a=M,M=T),(E+=l)<l&&(T=l,l=E,E=T),Math.min((M-a)/2,(E-l)/2)),j=(T<u&&(u=T),T<f&&(f=T),T<C&&(C=T),T<i&&(i=T),a),x=l,T=M,a=E,_=(this.beginShape(),f!==0?(this.vertex(T-f,x),this.quadraticVertex(T,x,T,x+f)):this.vertex(T,x),C!==0?(this.vertex(T,a-C),this.quadraticVertex(T,a,T-C,a)):this.vertex(T,a),i!==0?(this.vertex(j+i,a),this.quadraticVertex(j,a,j,a-i)):this.vertex(j,a),u!==0?(this.vertex(j,x+u),this.quadraticVertex(j,x,j+u,x)):this.vertex(j,x),!(this.immediateMode.geometry.uvs.length=0)),l=!1,M=void 0;try{for(var p,S=this.immediateMode.geometry.vertices[Symbol.iterator]();!(_=(p=S.next()).done);_=!0){var O=p.value,k=(O.x-j)/c,F=(O.y-x)/r;this.immediateMode.geometry.uvs.push(k,F)}}catch(P){l=!0,M=P}finally{try{_||S.return==null||S.return()}finally{if(l)throw M}}this.endShape(d.CLOSE)}return this},h.default.RendererGL.prototype.quad=function(i,a,l,c,r,s,o,u,f,C,E,j){var x=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,T=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,_="quad|".concat(i,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(r,"|").concat(s,"|").concat(o,"|").concat(u,"|").concat(f,"|").concat(C,"|").concat(E,"|").concat(j,"|").concat(x,"|").concat(T);if(!this.geometryInHash(_)){var M=new h.default.Geometry(x,T,function(){for(var G=1/(this.detailX-1),K=1/(this.detailY-1),$=0;$<this.detailY;$++)for(var P=0;P<this.detailX;P++){var w=P*G,D=$*K;this.vertices.push(new h.default.Vector((1-w)*((1-D)*i+D*C)+w*((1-D)*c+D*o),(1-w)*((1-D)*a+D*E)+w*((1-D)*r+D*u),(1-w)*((1-D)*l+D*j)+w*((1-D)*s+D*f))),this.uvs.push([w,D])}});M.faces=[];for(var p=0;p<T-1;p++)for(var S=0;S<x-1;S++){var O=S+p*x,k=S+1+(p+1)*x,F=S+(p+1)*x;M.faces.push([O,S+1+p*x,k]),M.faces.push([O,k,F])}M.computeNormals();for(var B=[M.edges.length=0,2,3,1],L=0;L<B.length;L++)M.edges.push([B[L],B[(L+1)%B.length]]);M._edgesToVertices(),this.createBuffers(_,M)}return this.drawBuffers(_),this},h.default.RendererGL.prototype.bezier=function(i,a,l,c,r,s,o,u,f,C,E,j){arguments.length===8&&(E=u,C=o,u=s,o=r,r=c,c=l,l=s=f=j=0);var x=this._pInst._bezierDetail||20;this.beginShape();for(var T=0;T<=x;T++){var _=Math.pow(1-T/x,3),M=T/x*3*Math.pow(1-T/x,2),p=3*Math.pow(T/x,2)*(1-T/x),S=Math.pow(T/x,3);this.vertex(i*_+c*M+o*p+C*S,a*_+r*M+u*p+E*S,l*_+s*M+f*p+j*S)}return this.endShape(),this},h.default.RendererGL.prototype.curve=function(i,a,l,c,r,s,o,u,f,C,E,j){arguments.length===8&&(C=o,E=u,o=r,u=c,r=c=l,l=s=f=j=0);var x=this._pInst._curveDetail;this.beginShape();for(var T=0;T<=x;T++){var _=.5*Math.pow(T/x,3),M=.5*Math.pow(T/x,2),p=T/x*.5;this.vertex(_*(3*c-i-3*o+C)+M*(2*i-5*c+4*o-C)+p*(-i+o)+2*c*.5,_*(3*r-a-3*u+E)+M*(2*a-5*r+4*u-E)+p*(-a+u)+2*r*.5,_*(3*s-l-3*f+j)+M*(2*l-5*s+4*f-j)+p*(-l+f)+2*s*.5)}return this.endShape(),this},h.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},h.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var i,a,l,c,r,s,o=[],u=[],f=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,E=0,j=1,x=0;E<1;){if(s=parseFloat(E.toFixed(6)),this._lookUpTableBezier[x]=this._bezierCoefficients(s),j.toFixed(6)===C.toFixed(6)){s=parseFloat(j.toFixed(6))+parseFloat(E.toFixed(6)),++x,this._lookUpTableBezier[x]=this._bezierCoefficients(s);break}E+=C,j-=C,++x}}for(var T=this._lookUpTableBezier.length,_=[],M=0;M<4;M++)_.push([]);_[0]=this.immediateMode.geometry.vertexColors.slice(-4),_[3]=this.curFillColor.slice();var p=[];for(M=0;M<4;M++)p.push([]);if(p[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),p[3]=this.curStrokeColor.slice(),f===6){this.isBezier=!0;var o=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],u=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],S=Math.hypot(o[0]-o[1],u[0]-u[1]),k=Math.hypot(o[1]-o[2],u[1]-u[2]),O=Math.hypot(o[2]-o[3],u[2]-u[3]),k=S+k+O;for(S/=k,O/=k,r=0;r<4;r++)_[1].push(_[0][r]*(1-S)+_[3][r]*S),_[2].push(_[0][r]*O+_[3][r]*(1-O)),p[1].push(p[0][r]*(1-S)+p[3][r]*S),p[2].push(p[0][r]*O+p[3][r]*(1-O));for(c=0;c<T;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],M=i=a=0;M<4;M++){for(r=0;r<4;r++)this.curFillColor[r]+=this._lookUpTableBezier[c][M]*_[M][r],this.curStrokeColor[r]+=this._lookUpTableBezier[c][M]*p[M][r];i+=o[M]*this._lookUpTableBezier[c][M],a+=u[M]*this._lookUpTableBezier[c][M]}this.vertex(i,a)}this.curFillColor=_[3],this.curStrokeColor=p[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(f===9){this.isBezier=!0,o=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],u=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var F=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],B=Math.hypot(o[0]-o[1],u[0]-u[1],F[0]-F[1]),k=Math.hypot(o[1]-o[2],u[1]-u[2],F[1]-F[2]),L=Math.hypot(o[2]-o[3],u[2]-u[3],F[2]-F[3]),f=B+k+L;for(B/=f,L/=f,r=0;r<4;r++)_[1].push(_[0][r]*(1-B)+_[3][r]*B),_[2].push(_[0][r]*L+_[3][r]*(1-L)),p[1].push(p[0][r]*(1-B)+p[3][r]*B),p[2].push(p[0][r]*L+p[3][r]*(1-L));for(c=0;c<T;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],M=i=a=l=0;M<4;M++){for(r=0;r<4;r++)this.curFillColor[r]+=this._lookUpTableBezier[c][M]*_[M][r],this.curStrokeColor[r]+=this._lookUpTableBezier[c][M]*p[M][r];i+=o[M]*this._lookUpTableBezier[c][M],a+=u[M]*this._lookUpTableBezier[c][M],l+=F[M]*this._lookUpTableBezier[c][M]}this.vertex(i,a,l)}this.curFillColor=_[3],this.curStrokeColor=p[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},h.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var i,a,l,c,r,s,o=[],u=[],f=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var C=1/this._lutQuadraticDetail,E=0,j=1,x=0;E<1;){if(s=parseFloat(E.toFixed(6)),this._lookUpTableQuadratic[x]=this._quadraticCoefficients(s),j.toFixed(6)===C.toFixed(6)){s=parseFloat(j.toFixed(6))+parseFloat(E.toFixed(6)),++x,this._lookUpTableQuadratic[x]=this._quadraticCoefficients(s);break}E+=C,j-=C,++x}}for(var T=this._lookUpTableQuadratic.length,_=[],M=0;M<3;M++)_.push([]);_[0]=this.immediateMode.geometry.vertexColors.slice(-4),_[2]=this.curFillColor.slice();var p=[];for(M=0;M<3;M++)p.push([]);if(p[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),p[2]=this.curStrokeColor.slice(),f===4){this.isQuadratic=!0;var o=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],u=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],S=Math.hypot(o[0]-o[1],u[0]-u[1]);for(S/=S+Math.hypot(o[1]-o[2],u[1]-u[2]),r=0;r<4;r++)_[1].push(_[0][r]*(1-S)+_[2][r]*S),p[1].push(p[0][r]*(1-S)+p[2][r]*S);for(c=0;c<T;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],M=i=a=0;M<3;M++){for(r=0;r<4;r++)this.curFillColor[r]+=this._lookUpTableQuadratic[c][M]*_[M][r],this.curStrokeColor[r]+=this._lookUpTableQuadratic[c][M]*p[M][r];i+=o[M]*this._lookUpTableQuadratic[c][M],a+=u[M]*this._lookUpTableQuadratic[c][M]}this.vertex(i,a)}this.curFillColor=_[2],this.curStrokeColor=p[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(f===6){this.isQuadratic=!0,o=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],u=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var O=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],k=Math.hypot(o[0]-o[1],u[0]-u[1],O[0]-O[1]);for(k/=k+Math.hypot(o[1]-o[2],u[1]-u[2],O[1]-O[2]),r=0;r<4;r++)_[1].push(_[0][r]*(1-k)+_[2][r]*k),p[1].push(p[0][r]*(1-k)+p[2][r]*k);for(c=0;c<T;c++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],M=i=a=l=0;M<3;M++){for(r=0;r<4;r++)this.curFillColor[r]+=this._lookUpTableQuadratic[c][M]*_[M][r],this.curStrokeColor[r]+=this._lookUpTableQuadratic[c][M]*p[M][r];i+=o[M]*this._lookUpTableQuadratic[c][M],a+=u[M]*this._lookUpTableQuadratic[c][M],l+=O[M]*this._lookUpTableQuadratic[c][M]}this.vertex(i,a,l)}this.curFillColor=_[2],this.curStrokeColor=p[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},h.default.RendererGL.prototype.curveVertex=function(){var i,a,l,c,r,s,o=[],u=[],f=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var C=1/this._lutBezierDetail,E=0,j=1,x=0;E<1;){if(s=parseFloat(E.toFixed(6)),this._lookUpTableBezier[x]=this._bezierCoefficients(s),j.toFixed(6)===C.toFixed(6)){s=parseFloat(j.toFixed(6))+parseFloat(E.toFixed(6)),++x,this._lookUpTableBezier[x]=this._bezierCoefficients(s);break}E+=C,j-=C,++x}}var T=this._lookUpTableBezier.length;if(f===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,o=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),u=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),r=0;r<T;r++)a=o[0]*this._lookUpTableBezier[r][0]+o[1]*this._lookUpTableBezier[r][1]+o[2]*this._lookUpTableBezier[r][2]+o[3]*this._lookUpTableBezier[r][3],l=u[0]*this._lookUpTableBezier[r][0]+u[1]*this._lookUpTableBezier[r][1]+u[2]*this._lookUpTableBezier[r][2]+u[3]*this._lookUpTableBezier[r][3],this.vertex(a,l);for(r=0;r<f;r++)this.immediateMode._curveVertex.shift()}}else if(f===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,o=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),u=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),i=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),r=0;r<T;r++)a=o[0]*this._lookUpTableBezier[r][0]+o[1]*this._lookUpTableBezier[r][1]+o[2]*this._lookUpTableBezier[r][2]+o[3]*this._lookUpTableBezier[r][3],l=u[0]*this._lookUpTableBezier[r][0]+u[1]*this._lookUpTableBezier[r][1]+u[2]*this._lookUpTableBezier[r][2]+u[3]*this._lookUpTableBezier[r][3],c=i[0]*this._lookUpTableBezier[r][0]+i[1]*this._lookUpTableBezier[r][1]+i[2]*this._lookUpTableBezier[r][2]+i[3]*this._lookUpTableBezier[r][3],this.vertex(a,l,c);for(r=0;r<f;r++)this.immediateMode._curveVertex.shift()}},h.default.RendererGL.prototype.image=function(i,j,l,x,r,s,o,u,f){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(i),this._pInst.textureMode(d.NORMAL);var C=0,E=(j<=i.width&&(C=j/i.width),1),j=(j+x<=i.width&&(E=(j+x)/i.width),0),x=(l<=i.height&&(j=l/i.height),1);l+r<=i.height&&(x=(l+r)/i.height),this.beginShape(),this.vertex(s,o,0,C,j),this.vertex(s+u,o,0,E,j),this.vertex(s+u,o+f,0,E,x),this.vertex(s,o+f,0,C,x),this.endShape(d.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(d.REMOVE)};var n=h.default;I.default=n},{"../core/constants":269,"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],324:[function(t,X,I){"use strict";function y(a){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(l){return y(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(i=t("../core/main"))&&i.__esModule?i:{default:i},d=function(a){if(a&&a.__esModule)return a;if(a===null||b(a)!=="object"&&typeof a!="function")return{default:a};var l=v();if(l&&l.has(a))return l.get(a);var c,r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var o;Object.prototype.hasOwnProperty.call(a,c)&&((o=s?Object.getOwnPropertyDescriptor(a,c):null)&&(o.get||o.set)?Object.defineProperty(r,c,o):r[c]=a[c])}return r.default=a,l&&l.set(a,r),r}(t("../core/constants"));function v(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,v=function(){return a},a)}function m(a){return function(l){if(Array.isArray(l)){for(var c=0,r=new Array(l.length);c<l.length;c++)r[c]=l[c];return r}}(a)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(a,l){for(var c=0;c<l.length;c++){var r=l[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}var i=function(){function a(s){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(this.renderer=s)._pInst.push(),this.identityMatrix=new h.default.Matrix,s.uMVMatrix=new h.default.Matrix,this.geometry=new h.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(a.nextGeometryId),a.nextGeometryId++,this.hasTransform=!1}var l,c,r;return l=a,(c=[{key:"transformVertices",value:function(s){var o=this;return this.hasTransform?s.map(function(u){return o.renderer.uMVMatrix.multiplyPoint(u)}):s}},{key:"transformNormals",value:function(s){var o=this;return this.hasTransform?s.map(function(u){return o.renderer.uNMatrix.multiplyVec3(u)}):s}},{key:"addGeometry",value:function(s){for(var o,u=this,f=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(E,j){return E===u.identityMatrix.mat4[j]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),C=((o=this.geometry.vertices).push.apply(o,m(this.transformVertices(s.vertices))),(o=this.geometry.vertexNormals).push.apply(o,m(this.transformNormals(s.vertexNormals))),(o=this.geometry.uvs).push.apply(o,m(s.uvs)),this.renderer._doFill&&(o=this.geometry.faces).push.apply(o,m(s.faces.map(function(E){return E.map(function(j){return j+f})}))),this.renderer._doStroke&&(o=this.geometry.edges).push.apply(o,m(s.edges.map(function(E){return E.map(function(j){return j+f})}))),m(s.vertexColors));C.length<4*s.vertices.length;)C.push.apply(C,m(this.renderer.curFillColor));(o=this.geometry.vertexColors).push.apply(o,m(C))}},{key:"addImmediate",value:function(){var s=this.renderer.immediateMode.geometry,o=this.renderer.immediateMode.shapeMode,u=[];if(this.renderer._doFill)if(o===d.TRIANGLE_STRIP||o===d.QUAD_STRIP)for(var f=2;f<s.vertices.length;f++)f%2==0?u.push([f,f-1,f-2]):u.push([f,f-2,f-1]);else if(o===d.TRIANGLE_FAN)for(var C=2;C<s.vertices.length;C++)u.push([0,C-1,C]);else for(var E=0;E<s.vertices.length;E+=3)u.push([E,E+1,E+2]);this.addGeometry(Object.assign({},s,{faces:u}))}},{key:"addRetained",value:function(s){this.addGeometry(s.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&n(l.prototype,c),r&&n(l,r),a}();i.nextGeometryId=0,I.default=i},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],325:[function(t,X,I){"use strict";function y(n){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var b=(m=t("../core/main"))&&m.__esModule?m:{default:m},h=function(n){if(n&&n.__esModule)return n;if(n===null||v(n)!=="object"&&typeof n!="function")return{default:n};var i=d();if(i&&i.has(n))return i.get(n);var a,l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var r;Object.prototype.hasOwnProperty.call(n,a)&&((r=c?Object.getOwnPropertyDescriptor(n,a):null)&&(r.get||r.set)?Object.defineProperty(l,a,r):l[a]=n[a])}return l.default=n,i&&i.set(n,l),l}(t("../core/constants"));function d(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,d=function(){return n},n)}function v(n){return(v=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(n)}b.default.prototype.orbitControl=function(n,i,a,f){var c=this,r=(this._assert3d("orbitControl"),b.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);n===void 0&&(n=1),i===void 0&&(i=n),a===void 0&&(a=1),v(f)!=="object"&&(f={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var E=f.disableTouchActions;this.touchActionsDisabled===!0||E!==void 0&&!E||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var s,o,u,E=f.freeRotation,f=E!==void 0&&E,C=[],E=(this.touches.forEach(function(S){c._renderer.prevTouches.forEach(function(O){S.id===O.id&&(O={x:S.x,y:S.y,px:O.x,py:O.y},C.push(O))})}),this._renderer.prevTouches=this.touches,0),j=0,x=0,T=0,_=0,M=this.height<this.width?this.height:this.width,p=!1;return 0<C.length?(p=0<C[0].x&&C[0].x<this.width&&0<C[0].y&&C[0].y<this.height,C.length===1?(j=-n*((s=C[0]).x-s.px)/M,x=i*(s.y-s.py)/M):(s=C[0],o=C[1],E=-(Math.hypot(s.x-o.x,s.y-o.y)-Math.hypot(s.px-o.px,s.py-o.py))*a*4e-4,T=.5*(s.x+o.x)-.5*(s.px+o.px),_=.5*(s.y+o.y)-.5*(s.py+o.py)),0<this.touches.length?p&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(p=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(E=Math.sign(this._mouseWheelDeltaY)*a,E*=.01,this._mouseWheelDeltaY=0,p&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(j=-n*this.movedX/M,x=i*this.movedY/M):this.mouseButton===this.RIGHT&&(T=this.movedX,_=this.movedY*r.yScale),p&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),E!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=E),.001<Math.abs(this._renderer.zoomVelocity)?(f?r._orbitFree(0,0,this._renderer.zoomVelocity):r._orbit(0,0,this._renderer.zoomVelocity),r.projMatrix.mat4[15]!==0&&(r.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),r.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=r.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=r.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,j===0&&x===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*j,.6*x),1e-6<this._renderer.rotateVelocity.magSq()?(f?r._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):r._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),T===0&&_===0||!this._renderer.executeRotateAndMove||(s=2*T/this.width,o=2*-_/this.height,this._renderer.moveVelocity.add(.15*s,.15*o)),1e-6<this._renderer.moveVelocity.magSq()?(a=r._getLocalAxes(),n=r.eyeX-r.centerX,i=r.eyeY-r.centerY,M=r.eyeZ-r.centerZ,p=Math.sqrt(n*n+i*i+M*M),E=new b.default.Vector(r.centerX,r.centerY,r.centerZ),E=r.cameraMatrix.multiplyPoint(E),(E=this._renderer.uPMatrix.multiplyAndNormalizePoint(E)).x-=this._renderer.moveVelocity.x,E.y-=this._renderer.moveVelocity.y,x=(j=this._renderer.uPMatrix.mat4)[15]===0?(u=(j[8]+E.x)/j[0]*p,(j[9]+E.y)/j[5]*p):(u=(E.x-j[12])/j[0],(E.y-j[13])/j[5]),r.setPosition(r.eyeX+u*a.x[0]+x*a.y[0],r.eyeY+u*a.x[1]+x*a.y[1],r.eyeZ+u*a.x[2]+x*a.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},b.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];b.default._validateParameters("debugMode",i);for(var l=this._registeredMethods.post.length-1;0<=l;l--)this._registeredMethods.post[l].toString()!==this._grid().toString()&&this._registeredMethods.post[l].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(l,1);i[0]===h.GRID?this.registerMethod("post",this._grid(i[1],i[2],i[3],i[4],i[5])):i[0]===h.AXES?this.registerMethod("post",this._axesIcon(i[1],i[2],i[3],i[4])):(this.registerMethod("post",this._grid(i[0],i[1],i[2],i[3],i[4])),this.registerMethod("post",this._axesIcon(i[5],i[6],i[7],i[8])))},b.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1)},b.default.prototype._grid=function(n,i,a,l,c){n===void 0&&(n=this.width/2),i===void 0&&(i=Math.round(n/30)<4?4:Math.round(n/30)),a===void 0&&(a=0),l===void 0&&(l=0),c===void 0&&(c=0);var r=n/i,s=n/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix);for(var o=0;o<=i;o++)this.beginShape(this.LINES),this.vertex(-s+a,l,o*r-s+c),this.vertex(s+a,l,o*r-s+c),this.endShape();for(var u=0;u<=i;u++)this.beginShape(this.LINES),this.vertex(u*r-s+a,l,-s+c),this.vertex(u*r-s+a,l,s+c),this.endShape();this.pop()}},b.default.prototype._axesIcon=function(n,i,a,l){return n===void 0&&(n=40<this.width/20?this.width/20:40),i===void 0&&(i=-this.width/4),a===void 0&&(a=i),l===void 0&&(l=i),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(i,a,l),this.vertex(i+n,a,l),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(i,a,l),this.vertex(i,a+n,l),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(i,a,l),this.vertex(i,a,l+n),this.endShape(),this.pop()}};var m=b.default;I.default=m},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],326:[function(t,X,I){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};y.default.prototype.ambientLight=function(b,h,d,v){this._assert3d("ambientLight"),y.default._validateParameters("ambientLight",arguments);var m=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(m._array[0],m._array[1],m._array[2]),this._renderer._enableLighting=!0,this},y.default.prototype.specularColor=function(b,h,d){this._assert3d("specularColor"),y.default._validateParameters("specularColor",arguments);var v=this.color.apply(this,arguments);return this._renderer.specularColors=[v._array[0],v._array[1],v._array[2]],this},y.default.prototype.directionalLight=function(b,c,l,v,m,n){this._assert3d("directionalLight"),y.default._validateParameters("directionalLight",arguments),b=b instanceof y.default.Color?b:this.color(b,c,l);var i,a,c=arguments[arguments.length-1],l=typeof c=="number"?(i=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(i=c.x,a=c.y,c.z),c=Math.sqrt(i*i+a*a+l*l);return this._renderer.directionalLightDirections.push(i/c,a/c,l/c),this._renderer.directionalLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},y.default.prototype.pointLight=function(b,l,c,v,m,n){this._assert3d("pointLight"),y.default._validateParameters("pointLight",arguments),b=b instanceof y.default.Color?b:this.color(b,l,c);var i,a,l=arguments[arguments.length-1],c=typeof l=="number"?(i=arguments[arguments.length-3],a=arguments[arguments.length-2],arguments[arguments.length-1]):(i=l.x,a=l.y,l.z);return this._renderer.pointLightPositions.push(i,a,c),this._renderer.pointLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},y.default.prototype.imageLight=function(b){this._renderer.activeImageLight=b,this._renderer._enableLighting=!0},y.default.prototype.panorama=function(b){this.filter(this._renderer._getSphereMapping(b))},y.default.prototype.lights=function(){this._assert3d("lights");var b=this.color("rgb(128,128,128)");return this.ambientLight(b),this.directionalLight(b,0,0,-1),this},y.default.prototype.lightFalloff=function(b,h,d){return this._assert3d("lightFalloff"),y.default._validateParameters("lightFalloff",arguments),b<0&&(b=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),h<0&&(h=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),d<0&&(d=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),b===0&&h===0&&d===0&&(b=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=b,this._renderer.linearAttenuation=h,this._renderer.quadraticAttenuation=d,this},y.default.prototype.spotLight=function(b,h,d,v,m,n,i,a,l,c,r){this._assert3d("spotLight"),y.default._validateParameters("spotLight",arguments);var s,o,u,f=arguments.length;switch(f){case 11:case 10:s=this.color(b,h,d),o=new y.default.Vector(v,m,n),u=new y.default.Vector(i,a,l);break;case 9:b instanceof y.default.Color?(s=b,o=new y.default.Vector(h,d,v),u=new y.default.Vector(m,n,i),c=a,r=l):v instanceof y.default.Vector?(s=this.color(b,h,d),o=v,u=new y.default.Vector(m,n,i),c=a,r=l):i instanceof y.default.Vector?(s=this.color(b,h,d),o=new y.default.Vector(v,m,n),u=i,c=a,r=l):(s=this.color(b,h,d),o=new y.default.Vector(v,m,n),u=new y.default.Vector(i,a,l));break;case 8:c=(u=b instanceof y.default.Color?(s=b,o=new y.default.Vector(h,d,v),new y.default.Vector(m,n,i)):v instanceof y.default.Vector?(s=this.color(b,h,d),o=v,new y.default.Vector(m,n,i)):(s=this.color(b,h,d),o=new y.default.Vector(v,m,n),i),a);break;case 7:b instanceof y.default.Color&&h instanceof y.default.Vector?(s=b,o=h,u=new y.default.Vector(d,v,m),c=n,r=i):b instanceof y.default.Color&&m instanceof y.default.Vector?(s=b,o=new y.default.Vector(h,d,v),u=m,c=n,r=i):v instanceof y.default.Vector&&m instanceof y.default.Vector?(s=this.color(b,h,d),o=v,u=m,c=n,r=i):u=b instanceof y.default.Color?(s=b,o=new y.default.Vector(h,d,v),new y.default.Vector(m,n,i)):v instanceof y.default.Vector?(s=this.color(b,h,d),o=v,new y.default.Vector(m,n,i)):(s=this.color(b,h,d),o=new y.default.Vector(v,m,n),i);break;case 6:v instanceof y.default.Vector&&m instanceof y.default.Vector?(s=this.color(b,h,d),o=v,u=m,c=n):b instanceof y.default.Color&&m instanceof y.default.Vector?(s=b,o=new y.default.Vector(h,d,v),u=m,c=n):b instanceof y.default.Color&&h instanceof y.default.Vector&&(s=b,o=h,u=new y.default.Vector(d,v,m),c=n);break;case 5:b instanceof y.default.Color&&h instanceof y.default.Vector&&d instanceof y.default.Vector?(s=b,o=h,u=d,c=v,r=m):v instanceof y.default.Vector&&m instanceof y.default.Vector?(s=this.color(b,h,d),o=v,u=m):b instanceof y.default.Color&&m instanceof y.default.Vector?(s=b,o=new y.default.Vector(h,d,v),u=m):b instanceof y.default.Color&&h instanceof y.default.Vector&&(s=b,o=h,u=new y.default.Vector(d,v,m));break;case 4:s=b,o=h,u=d,c=v;break;case 3:s=b,o=h,u=d;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(f<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(s._array[0],s._array[1],s._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(o.x,o.y,o.z),u.normalize(),this._renderer.spotLightDirections.push(u.x,u.y,u.z),c===void 0&&(c=Math.PI/3),r!==void 0&&r<1?(r=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):r===void 0&&(r=100),c=this._renderer._pInst._toRadians(c),this._renderer.spotLightAngle.push(Math.cos(c)),this._renderer.spotLightConc.push(r),this._renderer._enableLighting=!0,this},y.default.prototype.noLights=function(){this._assert3d("noLights");for(var b=arguments.length,h=new Array(b),d=0;d<b;d++)h[d]=arguments[d];return y.default._validateParameters("noLights",h),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=y.default,I.default=t},{"../core/main":280,"core-js/modules/es.array.filter":156}],327:[function(t,X,I){"use strict";function y(i){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t("regenerator-runtime/runtime");var b=(n=t("../core/main"))&&n.__esModule?n:{default:n};function h(i){return function(a){if(Array.isArray(a)){for(var l=0,c=new Array(a.length);l<a.length;l++)c[l]=a[l];return c}}(i)||function(a){if(Symbol.iterator in Object(a)||Object.prototype.toString.call(a)==="[object Arguments]")return Array.from(a)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(i,a,l,c,r,s,o){try{var u=i[s](o),f=u.value}catch(C){return void l(C)}u.done?a(f):Promise.resolve(f).then(c,r)}function v(i){return function(){var a=this,l=arguments;return new Promise(function(c,r){var s=i.apply(a,l);function o(f){d(s,c,r,o,u,"next",f)}function u(f){d(s,c,r,o,u,"throw",f)}o(void 0)})}}function m(i){return(m=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(a){return y(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":y(a)})(i)}t("./p5.Geometry"),b.default.prototype.loadModel=function(i,a){b.default._validateParameters("loadModel",arguments);var l,c,r=!1,s=!1,o=!1,u=i.slice(-4),f=(a&&m(a)==="object"?(r=a.normalize||!1,l=a.successCallback,c=a.failureCallback,u=a.fileType||u,s=a.flipU||!1,o=a.flipV||!1):typeof a=="boolean"?(r=a,l=arguments[2],c=arguments[3],arguments[4]!==void 0&&(u=arguments[4])):(l=typeof a=="function"?a:void 0,c=arguments[2],arguments[3]!==void 0&&(u=arguments[3])),new b.default.Geometry),C=(f.gid="".concat(i,"|").concat(r),this);function E(){return(E=v(regeneratorRuntime.mark(function x(T){var _,M,p,S;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:for(_=[],M=0;M<T.length;M++)(p=T[M].match(/^mtllib (.+)/))&&function(){var k="",F=p[1],B=i.split("/");k=1<B.length?(B.pop(),B.join("/")+"/"+F):F,_.push(function(){return j.apply(this,arguments)}(k).then(function(L){return L?(G=C,K=k,new Promise(function($,P){var w=null,D={};G.loadStrings(K,function(H){for(var N=0;N<H.length;++N){var z,W=H[N].trim().split(/\s+/);W[0]==="newmtl"?(z=W[1],D[w=z]={}):W[0]==="Kd"?D[w].diffuseColor=[parseFloat(W[1]),parseFloat(W[2]),parseFloat(W[3])]:W[0]==="Ka"?D[w].ambientColor=[parseFloat(W[1]),parseFloat(W[2]),parseFloat(W[3])]:W[0]==="Ks"?D[w].specularColor=[parseFloat(W[1]),parseFloat(W[2]),parseFloat(W[3])]:W[0]==="map_Kd"&&(D[w].texturePath=W[1])}$(D)},P)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(k)),{});var G,K}).catch(function(L){return console.warn("Error loading MTL file: ".concat(k),L),{}}))}();return O.prev=2,O.next=5,Promise.all(_);case 5:return S=O.sent,S=Object.assign.apply(Object,[{}].concat(h(S))),O.abrupt("return",S);case 10:return O.prev=10,O.t0=O.catch(2),O.abrupt("return",{});case 13:case"end":return O.stop()}},x,null,[[2,10]])}))).apply(this,arguments)}function j(){return(j=v(regeneratorRuntime.mark(function x(T){var _;return regeneratorRuntime.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,fetch(T,{method:"HEAD"});case 3:return _=M.sent,M.abrupt("return",_.ok);case 7:return M.prev=7,M.t0=M.catch(0),M.abrupt("return",!1);case 10:case"end":return M.stop()}},x,null,[[0,7]])}))).apply(this,arguments)}return u.match(/\.stl$/i)?this.httpDo(i,"GET","arrayBuffer",function(x){(function(T,_){if(function(M){for(var p=new DataView(M),S=[115,111,108,105,100],O=0;O<5;O++)if(function(k,F,B){for(var L=0,G=k.length;L<G;L++)if(k[L]!==F.getUint8(B+L,!1))return;return 1}(S,p,O))return;return 1}(_))(function(M,p){for(var S,O,k,F,B,L,G,K=new DataView(p),$=K.getUint32(80,!0),P=!1,w=0;w<70;w++)K.getUint32(w,!1)===1129270351&&K.getUint8(w+4)===82&&K.getUint8(w+5)===61&&(P=!0,F=[],B=K.getUint8(w+6)/255,L=K.getUint8(w+7)/255,G=K.getUint8(w+8)/255);for(var D=0;D<$;D++){for(var H,N=84+50*D,z=K.getFloat32(N,!0),W=K.getFloat32(4+N,!0),te=K.getFloat32(8+N,!0),V=(P&&(H=K.getUint16(48+N,!0),k=32768&H?(S=B,O=L,G):(S=(31&H)/31,O=(H>>5&31)/31,(H>>10&31)/31)),new b.default.Vector(z,W,te)),Z=1;Z<=3;Z++){var Y=N+12*Z,Y=new b.default.Vector(K.getFloat32(Y,!0),K.getFloat32(4+Y,!0),K.getFloat32(8+Y,!0));M.vertices.push(Y),M.vertexNormals.push(V),P&&F.push(S,O,k)}M.faces.push([3*D,3*D+1,3*D+2]),M.uvs.push([0,0],[0,0],[0,0])}})(T,_);else{if(_=new DataView(_),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");_=new TextDecoder("utf-8").decode(_).split(`
`),function(M,p){for(var S,O,k="",F=[],B=0;B<p.length;++B){for(var L=p[B].trim(),G=L.split(" "),K=0;K<G.length;++K)G[K]===""&&G.splice(K,1);if(G.length!==0)switch(k){case"":if(G[0]!=="solid")return console.error(L),console.error('Invalid state "'.concat(G[0],'", should be "solid"'));k="solid";break;case"solid":if(G[0]!=="facet"||G[1]!=="normal")return console.error(L),console.error('Invalid state "'.concat(G[0],'", should be "facet normal"'));S=new b.default.Vector(parseFloat(G[2]),parseFloat(G[3]),parseFloat(G[4])),M.vertexNormals.push(S,S,S),k="facet normal";break;case"facet normal":if(G[0]!=="outer"||G[1]!=="loop")return console.error(L),console.error('Invalid state "'.concat(G[0],'", should be "outer loop"'));k="vertex";break;case"vertex":if(G[0]==="vertex")O=new b.default.Vector(parseFloat(G[1]),parseFloat(G[2]),parseFloat(G[3])),M.vertices.push(O),M.uvs.push([0,0]),F.push(M.vertices.indexOf(O));else{if(G[0]!=="endloop")return console.error(L),console.error('Invalid state "'.concat(G[0],'", should be "vertex" or "endloop"'));M.faces.push(F),F=[],k="endloop"}break;case"endloop":if(G[0]!=="endfacet")return console.error(L),console.error('Invalid state "'.concat(G[0],'", should be "endfacet"'));k="endfacet";break;case"endfacet":if(G[0]!=="endsolid"){if(G[0]!=="facet"||G[1]!=="normal")return console.error(L),console.error('Invalid state "'.concat(G[0],'", should be "endsolid" or "facet normal"'));S=new b.default.Vector(parseFloat(G[2]),parseFloat(G[3]),parseFloat(G[4])),M.vertexNormals.push(S,S,S),k="facet normal"}break;default:console.error('Invalid state "'.concat(k,'"'))}}}(T,_)}})(f,x),r&&f.normalize(),s&&f.flipU(),o&&f.flipV(),C._decrementPreload(),typeof l=="function"&&l(f)},c):u.match(/\.obj$/i)?this.loadStrings(i,function(){var x=v(regeneratorRuntime.mark(function T(_){var M;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,function(){return E.apply(this,arguments)}(_);case 3:M=p.sent,function(S,O){for(var k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},F={v:[],vt:[],vn:[]},B={},L=null,G=new Set,K=!1,$=!1,P=0;P<O.length;++P){var w=O[P].trim().split(/\b\s+/);if(0<w.length){if(w[0]==="usemtl")L=w[1];else if(w[0]==="v"||w[0]==="vn"){var D=new b.default.Vector(parseFloat(w[1]),parseFloat(w[2]),parseFloat(w[3]));F[w[0]].push(D)}else if(w[0]==="vt")D=[parseFloat(w[1]),1-parseFloat(w[2])],F[w[0]].push(D);else if(w[0]==="f")for(var H=3;H<w.length;++H){for(var N=[],z=[1,H-1,H],W=0;W<z.length;++W){for(var te,V=w[z[W]],Z=V.split("/"),Y=0;Y<Z.length;Y++)Z[Y]=parseInt(Z[Y])-1;B[V]||(B[V]={}),B[V][L]===void 0?(te=S.vertices.length,S.vertices.push(F.v[Z[0]].copy()),S.uvs.push(F.vt[Z[1]]?F.vt[Z[1]].slice():[0,0]),S.vertexNormals.push(F.vn[Z[2]]?F.vn[Z[2]].copy():new b.default.Vector),B[V][L]=te,N.push(te),L&&k[L]&&k[L].diffuseColor&&G.add(F.v[Z[0]])):N.push(B[V][L])}if(N[0]!==N[1]&&N[0]!==N[2]&&N[1]!==N[2])if(S.faces.push(N),L&&k[L]&&k[L].diffuseColor){K=K=!0;for(var q=k[L].diffuseColor,J=0;J<N.length;J++)S.vertexColors.push(q[0]),S.vertexColors.push(q[1]),S.vertexColors.push(q[2])}else $=!0}}}if(S.vertexNormals.length===0&&S.computeNormals(),K===$)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}(f,_,M),p.next=11;break;case 7:return p.prev=7,p.t0=p.catch(0),c?c(p.t0):b.default._friendlyError("Error during parsing: "+p.t0.message),p.abrupt("return");case 11:return p.prev=11,r&&f.normalize(),s&&f.flipU(),o&&f.flipV(),C._decrementPreload(),typeof l=="function"&&l(f),p.finish(11);case 18:case"end":return p.stop()}},T,null,[[0,7,11,18]])}));return function(T){return x.apply(this,arguments)}}(),c):(b.default._friendlyFileLoadError(3,i),c?c():b.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),f},b.default.prototype.model=function(i){this._assert3d("model"),b.default._validateParameters("model",arguments),0<i.vertices.length&&(this._renderer.geometryInHash(i.gid)||(i.edges.length===0&&i._makeTriangleEdges(),i._edgesToVertices(),this._renderer.createBuffers(i.gid,i)),this._renderer.drawBuffers(i.gid))};var n=b.default;I.default=n},{"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243,"regenerator-runtime/runtime":257}],328:[function(t,X,I){"use strict";function y(n){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(n)}function b(n){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=function(n){if(n&&n.__esModule)return n;if(n===null||b(n)!=="object"&&typeof n!="function")return{default:n};var i=v();if(i&&i.has(n))return i.get(n);var a,l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var r;Object.prototype.hasOwnProperty.call(n,a)&&((r=c?Object.getOwnPropertyDescriptor(n,a):null)&&(r.get||r.set)?Object.defineProperty(l,a,r):l[a]=n[a])}return l.default=n,i&&i.set(n,l),l}(t("../core/constants"));function v(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,v=function(){return n},n)}t("./p5.Texture"),h.default.prototype.loadShader=function(n,i,a,l){h.default._validateParameters("loadShader",arguments),l=l||console.error;function c(){s._decrementPreload(),a&&a(r)}var r=new h.default.Shader,s=this,o=!1,u=!1;return this.loadStrings(n,function(f){r._vertSrc=f.join(`
`),u=!0,o&&c()},l),this.loadStrings(i,function(f){r._fragSrc=f.join(`
`),o=!0,u&&c()},l),r},h.default.prototype.createShader=function(n,i){return h.default._validateParameters("createShader",arguments),new h.default.Shader(this._renderer,n,i)},h.default.prototype.createFilterShader=function(n){h.default._validateParameters("createFilterShader",arguments);var i=n.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,i=new h.default.Shader(this._renderer,i,n);return this._renderer.GL?i.ensureCompiledOnContext(this):i.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),i},h.default.prototype.shader=function(n){return this._assert3d("shader"),h.default._validateParameters("shader",arguments),n.ensureCompiledOnContext(this),n.isStrokeShader()?this._renderer.userStrokeShader=n:(this._renderer.userFillShader=n,this._renderer._useNormalMaterial=!1),this},h.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},h.default.prototype.texture=function(n){return this._assert3d("texture"),h.default._validateParameters("texture",arguments),n.gifProperties&&n._animateGif(this),this._renderer.drawMode=d.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=n,this._renderer._setProperty("_doFill",!0),this},h.default.prototype.textureMode=function(n){n!==d.IMAGE&&n!==d.NORMAL?console.warn("You tried to set ".concat(n," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=n},h.default.prototype.textureWrap=function(n){var i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:n,a=(this._renderer.textureWrapX=n,this._renderer.textureWrapY=i,!0),l=!1,c=void 0;try{for(var r,s=this._renderer.textures.values()[Symbol.iterator]();!(a=(r=s.next()).done);a=!0)r.value.setWrapMode(n,i)}catch(o){l=!0,c=o}finally{try{a||s.return==null||s.return()}finally{if(l)throw c}}},h.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return h.default._validateParameters("normalMaterial",i),this._renderer.drawMode=d.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},h.default.prototype.ambientMaterial=function(n,i,a){this._assert3d("ambientMaterial"),h.default._validateParameters("ambientMaterial",arguments);var l=h.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=l._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},h.default.prototype.emissiveMaterial=function(n,i,a,l){this._assert3d("emissiveMaterial"),h.default._validateParameters("emissiveMaterial",arguments);var c=h.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=c._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},h.default.prototype.specularMaterial=function(n,i,a,l){this._assert3d("specularMaterial"),h.default._validateParameters("specularMaterial",arguments);var c=h.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=c._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},h.default.prototype.shininess=function(n){return this._assert3d("shininess"),h.default._validateParameters("shininess",arguments),this._renderer._useShininess=n=n<1?1:n,this},h.default.prototype.metalness=function(n){return this._assert3d("metalness"),n=1-Math.exp(-n/100),this._renderer._useMetalness=n,this},h.default.RendererGL.prototype._applyColorBlend=function(n,c){var a=this.GL,l=this.drawMode===d.TEXTURE,c=c||this.userFillShader||this.userStrokeShader||this.userPointShader||l||this.curBlendMode!==d.BLEND||n[n.length-1]<1||this._isErasing;return c!==this._isBlending&&(c||this.curBlendMode!==d.BLEND&&this.curBlendMode!==d.ADD?a.enable(a.BLEND):a.disable(a.BLEND),a.depthMask(!0),this._isBlending=c),this._applyBlendMode(),n},h.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var n=this.GL;switch(this.curBlendMode){case d.BLEND:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case d.ADD:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE);break;case d.REMOVE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ZERO,n.ONE_MINUS_SRC_ALPHA);break;case d.MULTIPLY:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA);break;case d.SCREEN:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_COLOR);break;case d.EXCLUSION:n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE_MINUS_DST_COLOR,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE);break;case d.REPLACE:n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO);break;case d.SUBTRACT:n.blendEquationSeparate(n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case d.DARKEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case d.LIGHTEST:this.blendExt?(n.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var m=h.default;I.default=m},{"../core/constants":269,"../core/main":280,"./p5.Texture":339,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],329:[function(t,X,I){"use strict";t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function b(h,d){for(var v=0;v<d.length;v++){var m=d[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}y.default.prototype.camera=function(){var h;this._assert3d("camera");for(var d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];return y.default._validateParameters("camera",v),(h=this._renderer._curCamera).camera.apply(h,v),this},y.default.prototype.perspective=function(){var h;this._assert3d("perspective");for(var d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];return y.default._validateParameters("perspective",v),(h=this._renderer._curCamera).perspective.apply(h,v),this},y.default.prototype.linePerspective=function(h){if(y.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof y.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(h===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=h},y.default.prototype.ortho=function(){var h;this._assert3d("ortho");for(var d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];return y.default._validateParameters("ortho",v),(h=this._renderer._curCamera).ortho.apply(h,v),this},y.default.prototype.frustum=function(){var h;this._assert3d("frustum");for(var d=arguments.length,v=new Array(d),m=0;m<d;m++)v[m]=arguments[m];return y.default._validateParameters("frustum",v),(h=this._renderer._curCamera).frustum.apply(h,v),this},y.default.prototype.createCamera=function(){this._assert3d("createCamera");var h=new y.default.Camera(this._renderer);return h._computeCameraDefaultSettings(),h._setDefaultCamera(),this._renderer._curCamera=h},y.default.Camera=function(){function h(n){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._renderer=n,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new y.default.Matrix,this.projMatrix=new y.default.Matrix,this.yScale=1}var d,v,m;return d=h,(v=[{key:"perspective",value:function(c,i,a,l){this.cameraType=0<arguments.length?"custom":"default",c===void 0?(c=this.defaultCameraFOV,this.cameraFOV=c):this.cameraFOV=this._renderer._pInst._toRadians(c),i===void 0&&(i=this.defaultAspectRatio),a===void 0&&(a=this.defaultCameraNear),l===void 0&&(l=this.defaultCameraFar),a<=1e-4&&(a=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),l<a&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=i,this.cameraNear=a,this.cameraFar=l,this.projMatrix=y.default.Matrix.identity();var c=1/Math.tan(this.cameraFOV/2),r=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(c/i,0,0,0,0,-c*this.yScale,0,0,0,0,(l+a)*r,-1,0,0,2*l*a*r,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(j,E,a,l,c,r){j===void 0&&(j=-this._renderer.width/2),E===void 0&&(E=+this._renderer.width/2),a===void 0&&(a=-this._renderer.height/2),l===void 0&&(l=+this._renderer.height/2),c===void 0&&(c=0),r===void 0&&(r=Math.max(this._renderer.width,this._renderer.height)+800),this.cameraNear=c;var x=E-j,s=l-a,o=(this.cameraFar=r)-c,u=2/x,f=2/s*this.yScale,C=-2/o,E=-(E+j)/x,j=-(l+a)/s,x=-(r+c)/o;this.projMatrix=y.default.Matrix.identity(),this.projMatrix.set(u,0,0,0,0,-f,0,0,0,0,C,0,E,j,x,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(j,E,a,l,c,r){j===void 0&&(j=.05*-this._renderer.width),E===void 0&&(E=.05*+this._renderer.width),a===void 0&&(a=.05*+this._renderer.height),l===void 0&&(l=.05*-this._renderer.height),c===void 0&&(c=this.defaultCameraNear),r===void 0&&(r=this.defaultCameraFar),this.cameraNear=c;var x=E-j,s=l-a,o=(this.cameraFar=r)-c,u=2*c/x,f=2*c/s*this.yScale,C=-2*r*c/o,E=(E+j)/x,j=(l+a)/s,x=-(r+c)/o;this.projMatrix=y.default.Matrix.identity(),this.projMatrix.set(u,0,0,0,0,-f,0,0,E,j,x,-1,0,0,C,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(u,i,a,l){var c=this.centerX,r=this.centerY,s=this.centerZ,o=(c-=this.eyeX,r-=this.eyeY,s-=this.eyeZ,y.default.Matrix.identity(this._renderer._pInst)),u=(o.rotate(this._renderer._pInst._toRadians(u),i,a,l),[c*o.mat4[0]+r*o.mat4[4]+s*o.mat4[8],c*o.mat4[1]+r*o.mat4[5]+s*o.mat4[9],c*o.mat4[2]+r*o.mat4[6]+s*o.mat4[10]]);u[0]+=this.eyeX,u[1]+=this.eyeY,u[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,u[0],u[1],u[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(n){var i=this._getLocalAxes();this._rotateView(n,i.y[0],i.y[1],i.y[2])}},{key:"tilt",value:function(n){var i=this._getLocalAxes();this._rotateView(n,i.x[0],i.x[1],i.x[2])}},{key:"lookAt",value:function(n,i,a){this.camera(this.eyeX,this.eyeY,this.eyeZ,n,i,a,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(n,i,a,l,c,r,s,o,u){return n===void 0&&(n=this.defaultEyeX,i=this.defaultEyeY,a=this.defaultEyeZ,l=n,c=i,o=1,u=s=r=0),this.eyeX=n,this.eyeY=i,this.eyeZ=a,l!==void 0&&(this.centerX=l,this.centerY=c,this.centerZ=r),s!==void 0&&(this.upX=s,this.upY=o,this.upZ=u),l=this._getLocalAxes(),this.cameraMatrix.set(l.x[0],l.y[0],l.z[0],0,l.x[1],l.y[1],l.z[1],0,l.x[2],l.y[2],l.z[2],0,0,0,0,1),c=-n,this.cameraMatrix.translate([c,-i,-a]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(l,c,a){var r=this._getLocalAxes(),l=[r.x[0]*l,r.x[1]*l,r.x[2]*l],c=[r.y[0]*c,r.y[1]*c,r.y[2]*c],r=[r.z[0]*a,r.z[1]*a,r.z[2]*a];this.camera(this.eyeX+l[0]+c[0]+r[0],this.eyeY+l[1]+c[1]+r[1],this.eyeZ+l[2]+c[2]+r[2],this.centerX+l[0]+c[0]+r[0],this.centerY+l[1]+c[1]+r[1],this.centerZ+l[2]+c[2]+r[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(n,i,a){var l=n-this.eyeX,c=i-this.eyeY,r=a-this.eyeZ;this.camera(n,i,a,this.centerX+l,this.centerY+c,this.centerZ+r,this.upX,this.upY,this.upZ)}},{key:"set",value:function(n){for(var i=0,a=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];i<a.length;i++){var l=a[i];this[l]=n[l]}this.cameraMatrix=n.cameraMatrix.copy(),this.projMatrix=n.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(n,i,a){var l,c,r,s,o,u,f,C,E,j,x,T,_,M,p,S,O,k;a===0?this.set(n):a===1?this.set(i):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=n.projMatrix.mat4[0]*Math.pow(i.projMatrix.mat4[0]/n.projMatrix.mat4[0],a),this.projMatrix.mat4[5]=n.projMatrix.mat4[5]*Math.pow(i.projMatrix.mat4[5]/n.projMatrix.mat4[5],a),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),s=new y.default.Vector(n.eyeX,n.eyeY,n.eyeZ),o=new y.default.Vector(i.eyeX,i.eyeY,i.eyeZ),S=new y.default.Vector(n.centerX,n.centerY,n.centerZ),k=new y.default.Vector(i.centerX,i.centerY,i.centerZ),r=y.default.Vector.dist(s,S),l=y.default.Vector.dist(o,k),l=r*Math.pow(l/r,a),r=y.default.Vector.sub(s,o),c=1,1e-6<(O=(M=s.copy().sub(o).sub(S).add(k)).magSq())&&(c=y.default.Vector.dot(r,M)/O,c=Math.max(0,Math.min(c,1))),r=y.default.Vector.lerp(y.default.Vector.lerp(s,S,c),y.default.Vector.lerp(o,k,c),a),M=n.cameraMatrix.createSubMatrix3x3(),O=i.cameraMatrix.createSubMatrix3x3(),s=M.row(2),S=O.row(2),o=M.row(1),k=O.row(1),n=new y.default.Vector,i=new y.default.Vector,u=new y.default.Vector,f=new y.default.Vector,1-(C=.5*((M=(O=O.mult3x3(M.copy().transpose3x3())).diagonal())[0]+M[1]+M[2]-1))<1e-7?(n.set(y.default.Vector.lerp(s,S,a)).normalize(),u.set(n).mult(c*l).add(r),f.set(n).mult((c-1)*l).add(r),i.set(y.default.Vector.lerp(o,k,a)).normalize()):(S=1/(1-C),k=Math.max(M[0],M[1],M[2]),T=O.mat3[1]+O.mat3[3],_=O.mat3[2]+O.mat3[6],p=O.mat3[5]+O.mat3[7],k=k===M[0]?(j=.5*T*(S/=E=Math.sqrt((M[0]-C)*S)),x=.5*_*S,.5*(O.mat3[7]-O.mat3[5])/E):k===M[1]?(x=.5*p*(S/=j=Math.sqrt((M[1]-C)*S)),E=.5*T*S,.5*(O.mat3[2]-O.mat3[6])/j):(E=.5*_*(S/=x=Math.sqrt((M[2]-C)*S)),j=.5*p*S,.5*(O.mat3[3]-O.mat3[1])/x),T=a*Math.atan2(k,C),_=Math.cos(T),M=Math.sin(T),(k=new y.default.Matrix("mat3",[_+(p=1-_)*E*E,p*(S=E*j)+M*x,p*(O=x*E)-M*j,p*S-M*x,_+p*j*j,p*(a=j*x)+M*E,p*O+M*j,p*a-M*E,_+p*x*x])).multiplyVec3(s,n),u.set(n).mult(c*l).add(r),f.set(n).mult((c-1)*l).add(r),k.multiplyVec3(o,i)),this.camera(u.x,u.y,u.z,f.x,f.y,f.z,i.x,i.y,i.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var n=new y.default.Camera(this._renderer);return n.cameraFOV=this.cameraFOV,n.aspectRatio=this.aspectRatio,n.eyeX=this.eyeX,n.eyeY=this.eyeY,n.eyeZ=this.eyeZ,n.centerX=this.centerX,n.centerY=this.centerY,n.centerZ=this.centerZ,n.upX=this.upX,n.upY=this.upY,n.upZ=this.upZ,n.cameraNear=this.cameraNear,n.cameraFar=this.cameraFar,n.cameraType=this.cameraType,n.cameraMatrix=this.cameraMatrix.copy(),n.projMatrix=this.projMatrix.copy(),n.yScale=this.yScale,n}},{key:"_getLocalAxes",value:function(){var n=this.eyeX-this.centerX,i=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,s=Math.sqrt(n*n+i*i+a*a),s=(s!==0&&(n/=s,i/=s,a/=s),this.upX),l=(o=this.upY)*a-(u=this.upZ)*i,c=-s*a+u*n,r=s*i-o*n,s=i*r-a*c,o=-n*r+a*l,u=n*c-i*l,f=Math.sqrt(l*l+c*c+r*r),f=(f!==0&&(l/=f,c/=f,r/=f),Math.sqrt(s*s+o*o+u*u));return f!==0&&(s/=f,o/=f,u/=f),{x:[l,c,r],y:[s,o,u],z:[n,i,a]}}},{key:"_orbit",value:function(n,f,u){var c=this.eyeX-this.centerX,r=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,l=Math.hypot(c,r,s),c=new y.default.Vector(c,r,s).normalize(),r=new y.default.Vector(this.upX,this.upY,this.upZ).normalize(),s=y.default.Vector.cross(r,c).normalize(),o=y.default.Vector.cross(s,r),u=((l=(l*=Math.pow(10,u))<this.cameraNear?this.cameraNear:l)>this.cameraFar&&(l=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,y.default.Vector.dot(c,r))))+f),f=n;(u<=0||u>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),r.mult(Math.cos(u)),o.mult(Math.cos(f)*Math.sin(u)),s.mult(Math.sin(f)*Math.sin(u)),c.set(r).add(o).add(s),this.eyeX=l*c.x+this.centerX,this.eyeY=l*c.y+this.centerY,this.eyeZ=l*c.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(u,f,E){var c=this.eyeX-this.centerX,r=this.eyeY-this.centerY,s=this.eyeZ-this.centerZ,l=Math.hypot(c,r,s),c=new y.default.Vector(c,r,s).normalize(),r=new y.default.Vector(this.upX,this.upY,this.upZ),s=y.default.Vector.cross(r,c).normalize(),o=y.default.Vector.cross(c,s),j=Math.atan2(f,u),j=(o.mult(Math.sin(j)),s.mult(Math.cos(j)).add(o),Math.sqrt(u*u+f*f)),o=y.default.Vector.cross(c,s),u=((l=(l*=Math.pow(10,E))<this.cameraNear?this.cameraNear:l)>this.cameraFar&&(l=this.cameraFar),Math.cos(j)),f=Math.sin(j),E=r.dot(c),j=r.dot(s),C=E*u+j*f,E=-E*f+j*u,j=r.dot(o);r.x=C*c.x+E*s.x+j*o.x,r.y=C*c.y+E*s.y+j*o.y,r.z=C*c.z+E*s.z+j*o.z,s.mult(-f),c.mult(u).add(s).mult(l),this.camera(c.x+this.centerX,c.y+this.centerY,c.z+this.centerZ,this.centerX,this.centerY,this.centerZ,r.x,r.y,r.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&b(d.prototype,v),m&&b(d,m),h}(),y.default.prototype.setCamera=function(h){this._renderer._curCamera=h,this._renderer.uPMatrix.set(h.projMatrix)},t=y.default.Camera,I.default=t},{"../core/main":280,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.string.sub":205}],330:[function(t,X,I){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function y(b,h){for(var d=0;d<h.length;d++){var v=h[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}t.default.DataArray=function(){function b(){var m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,n=this,i=b;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(m),this.initialLength=m}var h,d,v;return h=b,(d=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var m;this.length<this.data.length/2&&(m=1<<Math.ceil(Math.log2(this.length)),(m=new Float32Array(m)).set(this.data.subarray(0,this.length),0),this.data=m)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var m=arguments.length,n=new Array(m),i=0;i<m;i++)n[i]=arguments[i];this.ensureLength(this.length+n.length),this.data.set(n,this.length),this.length+=n.length}},{key:"slice",value:function(m,n){return this.data.slice(m,Math.min(n,this.length))}},{key:"subArray",value:function(m,n){return this.data.subarray(m,Math.min(n,this.length))}},{key:"ensureLength",value:function(m){for(;this.data.length<m;){var n=new Float32Array(2*this.data.length);n.set(this.data,0),this.data=n}}}])&&y(h.prototype,d),v&&y(h,v),b}(),t=t.default.DataArray,I.default=t},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.log2":176,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],331:[function(x,X,I){"use strict";function y(T){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(T)}function b(T){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(_){return y(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":y(_)})(T)}x("core-js/modules/es.symbol"),x("core-js/modules/es.symbol.description"),x("core-js/modules/es.symbol.iterator"),x("core-js/modules/es.array.fill"),x("core-js/modules/es.array.includes"),x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.get-own-property-descriptor"),x("core-js/modules/es.object.get-prototype-of"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.reflect.construct"),x("core-js/modules/es.reflect.get"),x("core-js/modules/es.regexp.to-string"),x("core-js/modules/es.string.includes"),x("core-js/modules/es.string.iterator"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.uint8-array"),x("core-js/modules/es.typed-array.uint8-clamped-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),x("core-js/modules/es.weak-map"),x("core-js/modules/web.dom-collections.iterator"),x("core-js/modules/es.array.fill"),x("core-js/modules/es.array.includes"),x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.get-prototype-of"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.string.includes"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.uint8-array"),x("core-js/modules/es.typed-array.uint8-clamped-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(j=x("../core/main"))&&j.__esModule?j:{default:j},d=function(T){if(T&&T.__esModule)return T;if(T===null||b(T)!=="object"&&typeof T!="function")return{default:T};var _=n();if(_&&_.has(T))return _.get(T);var M,p={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in T){var O;Object.prototype.hasOwnProperty.call(T,M)&&((O=S?Object.getOwnPropertyDescriptor(T,M):null)&&(O.get||O.set)?Object.defineProperty(p,M,O):p[M]=T[M])}return p.default=T,_&&_.set(T,p),p}(x("../core/constants")),v=x("./p5.Texture"),m=x("./p5.RendererGL");function n(){var T;return typeof WeakMap!="function"?null:(T=new WeakMap,n=function(){return T},T)}function i(T,_){return function(M){if(Array.isArray(M))return M}(T)||function(M,p){if(Symbol.iterator in Object(M)||Object.prototype.toString.call(M)==="[object Arguments]"){var S=[],O=!0,k=!1,F=void 0;try{for(var B,L=M[Symbol.iterator]();!(O=(B=L.next()).done)&&(S.push(B.value),!p||S.length!==p);O=!0);}catch(G){k=!0,F=G}finally{try{O||L.return==null||L.return()}finally{if(k)throw F}}return S}}(T,_)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(T,_,M){return _ in T?Object.defineProperty(T,_,{value:M,enumerable:!0,configurable:!0,writable:!0}):T[_]=M,T}function l(T,_){if(!(T instanceof _))throw new TypeError("Cannot call a class as a function")}function c(T,_){for(var M=0;M<_.length;M++){var p=_[M];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(T,p.key,p)}}function r(T,_,M){_&&c(T.prototype,_),M&&c(T,M)}function s(T,_,M){return(s=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(k,S,O){var k=function(F,B){for(;!Object.prototype.hasOwnProperty.call(F,B)&&(F=f(F))!==null;);return F}(k,S);if(k)return(k=Object.getOwnPropertyDescriptor(k,S)).get?k.get.call(O):k.value})(T,_,M||T)}function o(T,_){return(o=Object.setPrototypeOf||function(M,p){return M.__proto__=p,M})(T,_)}function u(T){return function(){var _,M=f(T),M=(_=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(_=f(this).constructor,Reflect.construct(M,arguments,_)):M.apply(this,arguments),this);if(!_||b(_)!=="object"&&typeof _!="function"){if(M!==void 0)return M;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return _}}function f(T){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)})(T)}var C=function(T){var _=p;if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),T&&o(_,T);var M=u(p);function p(S){var O;return l(this,p),(O=M.call(this,S.target._renderer)).fbo=S,O.yScale=-1,O}return r(p,[{key:"_computeCameraDefaultSettings",value:function(){s(f(p.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),p}(h.default.Camera),E=(h.default.FramebufferCamera=C,function(){function T(_,M){l(this,T),this.framebuffer=_,this.property=M}return r(T,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),T}()),j=(h.default.FramebufferTexture=E,function(){function T(_){var M=this,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},S=(l(this,T),this.target=_,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=p.format||d.UNSIGNED_BYTE,this.channels=p.channels||(_._renderer._pInst._glAttributes.alpha?d.RGBA:d.RGB),this.useDepth=p.depth===void 0||p.depth,this.depthFormat=p.depthFormat||d.FLOAT,this.textureFiltering=p.textureFiltering||d.LINEAR,p.antialias===void 0?this.antialiasSamples=_._renderer._pInst._glAttributes.antialias?2:0:typeof p.antialias=="number"?this.antialiasSamples=p.antialias:this.antialiasSamples=p.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&_.webglVersion!==d.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=p.density||_.pixelDensity(),_._renderer.GL);if(this.gl=S,p.width&&p.height?(O=_._renderer._adjustDimensions(p.width,p.height),this.width=O.adjustedWidth,this.height=O.adjustedHeight,this._autoSized=!1):(p.width===void 0!=(p.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=_.width,this.height=_.height,this._autoSized=!0),this._checkIfFormatsAvailable(),p.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(p.stencil===void 0||p.stencil),this.framebuffer=S.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=S.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var O=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=O,this.draw(function(){return M.target.clear()})}return r(T,[{key:"resize",value:function(_,M){this._autoSized=!1;var p=this.target._renderer._adjustDimensions(_,M);_=p.adjustedWidth,M=p.adjustedHeight,this.width=_,this.height=M,this._handleResize()}},{key:"pixelDensity",value:function(_){if(!_)return this.density;this._autoSized=!1,this.density=_,this._handleResize()}},{key:"autoSized",value:function(_){if(_===void 0)return this._autoSized;this._autoSized=_,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var _=this.gl,_=(this.useDepth&&this.target.webglVersion===d.WEBGL&&!_.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===d.WEBGL&&this.depthFormat===d.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),[d.UNSIGNED_BYTE,d.FLOAT,d.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&![d.UNSIGNED_INT,d.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=d.FLOAT),(0,v.checkWebGLCapabilities)(this.target._renderer));_.float||this.format!==d.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&!_.float&&this.depthFormat===d.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),_.halfFloat||this.format!==d.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.channels===d.RGB&&[d.FLOAT,d.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=d.RGBA)}},{key:"_recreateTextures",value:function(){var _=this.gl,M=(this._updateSize(),_.getParameter(_.TEXTURE_BINDING_2D)),p=_.getParameter(_.FRAMEBUFFER_BINDING),S=_.createTexture();if(!S)throw new Error("Unable to create color texture");_.bindTexture(_.TEXTURE_2D,S);var O=this._glColorFormat();if(_.texImage2D(_.TEXTURE_2D,0,O.internalFormat,this.width*this.density,this.height*this.density,0,O.format,O.type,null),this.colorTexture=S,_.bindFramebuffer(_.FRAMEBUFFER,this.framebuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,S,0),this.useDepth){var S=_.createTexture();if(!S)throw new Error("Unable to create depth texture");var k=this._glDepthFormat();_.bindTexture(_.TEXTURE_2D,S),_.texImage2D(_.TEXTURE_2D,0,k.internalFormat,this.width*this.density,this.height*this.density,0,k.format,k.type,null),_.framebufferTexture2D(_.FRAMEBUFFER,this.useStencil?_.DEPTH_STENCIL_ATTACHMENT:_.DEPTH_ATTACHMENT,_.TEXTURE_2D,S,0),this.depthTexture=S}this.antialias&&(this.colorRenderbuffer=_.createRenderbuffer(),_.bindRenderbuffer(_.RENDERBUFFER,this.colorRenderbuffer),_.renderbufferStorageMultisample(_.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,_.getParameter(_.MAX_SAMPLES))),O.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(k=this._glDepthFormat(),this.depthRenderbuffer=_.createRenderbuffer(),_.bindRenderbuffer(_.RENDERBUFFER,this.depthRenderbuffer),_.renderbufferStorageMultisample(_.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,_.getParameter(_.MAX_SAMPLES))),k.internalFormat,this.width*this.density,this.height*this.density)),_.bindFramebuffer(_.FRAMEBUFFER,this.aaFramebuffer),_.framebufferRenderbuffer(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&_.framebufferRenderbuffer(_.FRAMEBUFFER,this.useStencil?_.DEPTH_STENCIL_ATTACHMENT:_.DEPTH_ATTACHMENT,_.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new E(this,"depthTexture"),S=_.NEAREST,this.depthP5Texture=new h.default.Texture(this.target._renderer,this.depth,{minFilter:S,magFilter:S}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new E(this,"colorTexture"),O=this.textureFiltering===d.LINEAR?_.LINEAR:_.NEAREST,this.colorP5Texture=new h.default.Texture(this.target._renderer,this.color,{minFilter:O,magFilter:O}),this.target._renderer.textures.set(this.color,this.colorP5Texture),_.bindTexture(_.TEXTURE_2D,M),_.bindFramebuffer(_.FRAMEBUFFER,p)}},{key:"_glColorFormat",value:function(){var _,M,p=this.gl,S=this.format===d.FLOAT?p.FLOAT:this.format===d.HALF_FLOAT?this.target.webglVersion===d.WEBGL2?p.HALF_FLOAT:p.getExtension("OES_texture_half_float").HALF_FLOAT_OES:p.UNSIGNED_BYTE,O=this.channels===d.RGBA?p.RGBA:p.RGB;return{internalFormat:this.target.webglVersion===d.WEBGL2?(a(M={},p.FLOAT,a({},p.RGBA,p.RGBA32F)),a(M,p.HALF_FLOAT,a({},p.RGBA,p.RGBA16F)),a(M,p.UNSIGNED_BYTE,(a(_={},p.RGBA,p.RGBA8),a(_,p.RGB,p.RGB8),_)),M[S][O]):this.format===d.HALF_FLOAT?p.RGBA:O,format:O,type:S}}},{key:"_glDepthFormat",value:function(){var p=this.gl,_=this.useStencil?this.depthFormat===d.FLOAT?p.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===d.WEBGL2?p.UNSIGNED_INT_24_8:p.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===d.FLOAT?p.FLOAT:p.UNSIGNED_INT,M=this.useStencil?p.DEPTH_STENCIL:p.DEPTH_COMPONENT,p=this.useStencil?this.depthFormat===d.FLOAT?p.DEPTH32F_STENCIL8:this.target.webglVersion===d.WEBGL2?p.DEPTH24_STENCIL8:p.DEPTH_STENCIL:this.target.webglVersion===d.WEBGL2?this.depthFormat===d.FLOAT?p.DEPTH_COMPONENT32F:p.DEPTH_COMPONENT24:p.DEPTH_COMPONENT;return{internalFormat:p,format:M,type:_}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var S=this.color,_=this.depth,M=this.colorRenderbuffer,p=this.depthRenderbuffer,S=(this._deleteTexture(S),_&&this._deleteTexture(_),this.gl);M&&S.deleteRenderbuffer(M),p&&S.deleteRenderbuffer(p),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var _=new C(this);return _._computeCameraDefaultSettings(),_._setDefaultCamera(),this.target._renderer._curCamera=_}},{key:"_deleteTexture",value:function(_){this.gl.deleteTexture(_.rawTexture()),this.target._renderer.textures.delete(_)}},{key:"remove",value:function(){var _=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),_.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&_.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&_.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&_.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var _=this.gl;_.bindFramebuffer(_.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var _=this.gl,M=(_.bindFramebuffer(_.READ_FRAMEBUFFER,this.aaFramebuffer),_.bindFramebuffer(_.DRAW_FRAMEBUFFER,this.framebuffer),[[_.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&M.push([_.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var p=0,S=M;p<S.length;p++){var k=i(S[p],2),O=k[0],k=k[1];_.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,O,k)}}}},{key:"end",value:function(){var _=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(_.bindFramebuffer(_.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(_){this.begin(),_(),this.end()}},{key:"loadPixels",value:function(){var _=this.gl,M=this.target._renderer.activeFramebuffer(),p=(_.bindFramebuffer(_.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,m.readPixelsWebGL)(this.pixels,_,this.framebuffer,0,0,this.width*this.density,this.height*this.density,p.format,p.type),M?_.bindFramebuffer(_.FRAMEBUFFER,M._framebufferToBind()):_.bindFramebuffer(_.FRAMEBUFFER,null)}},{key:"get",value:function(_,M,p,S){h.default._validateParameters("p5.Framebuffer.get",arguments);var O=this._glColorFormat();if(_===void 0&&M===void 0)M=_=0,p=this.width,S=this.height;else if(p===void 0&&S===void 0)return(_<0||M<0||_>=this.width||M>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),_=this.target.constrain(_,0,this.width-1),M=this.target.constrain(M,0,this.height-1)),(0,m.readPixelWebGL)(this.gl,this.framebuffer,_*this.density,M*this.density,O.format,O.type);_=this.target.constrain(_,0,this.width-1),M=this.target.constrain(M,0,this.height-1),p=this.target.constrain(p,1,this.width-_),S=this.target.constrain(S,1,this.height-M);for(var k=(0,m.readPixelsWebGL)(void 0,this.gl,this.framebuffer,_*this.density,M*this.density,p*this.density,S*this.density,O.format,O.type),F=new Uint8ClampedArray(p*S*this.density*this.density*4),B=(F.fill(255),O.type===this.gl.RGB?3:4),L=0;L<S*this.density;L++)for(var G=0;G<p*this.density;G++)for(var K=0;K<4;K++){var $,P=4*(L*p*this.density+G)+K;K<B&&($=B==4?P:(L*p*this.density+G)*B+K,F[P]=k[$])}return _=new h.default.Image(p*this.density,S*this.density),_.imageData=_.canvas.getContext("2d").createImageData(_.width,_.height),_.imageData.data.set(F),_.pixels=_.imageData.data,_.updatePixels(),this.density!==1&&_.resize(p,S),_}},{key:"updatePixels",value:function(){var _=this.gl,M=(this.colorP5Texture.bindTexture(),this._glColorFormat()),p=M.format===_.RGBA?4:3,p=this.width*this.height*this.density*this.density*p,S=M.type===_.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof S)||this.pixels.length!==p)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");_.texImage2D(_.TEXTURE_2D,0,M.internalFormat,this.width*this.density,this.height*this.density,0,M.format,M.type,this.pixels),this.colorP5Texture.unbindTexture(),S=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(_.clearDepth(1),_.clear(_.DEPTH_BUFFER_BIT)),this.end()):(_.bindFramebuffer(_.FRAMEBUFFER,this.framebuffer),this.useDepth&&(_.clearDepth(1),_.clear(_.DEPTH_BUFFER_BIT)),S?_.bindFramebuffer(_.FRAMEBUFFER,S._framebufferToBind()):_.bindFramebuffer(_.FRAMEBUFFER,null))}}]),T}()),x=h.default.Framebuffer=j;I.default=x},{"../core/constants":269,"../core/main":280,"./p5.RendererGL":337,"./p5.Texture":339,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],332:[function(t,X,I){"use strict";function y(a){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(l){return y(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(i=t("../core/main"))&&i.__esModule?i:{default:i},d=function(a){if(a&&a.__esModule)return a;if(a===null||b(a)!=="object"&&typeof a!="function")return{default:a};var l=v();if(l&&l.has(a))return l.get(a);var c,r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var o;Object.prototype.hasOwnProperty.call(a,c)&&((o=s?Object.getOwnPropertyDescriptor(a,c):null)&&(o.get||o.set)?Object.defineProperty(r,c,o):r[c]=a[c])}return r.default=a,l&&l.set(a,r),r}(t("../core/constants"));function v(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,v=function(){return a},a)}function m(a){return function(l){if(Array.isArray(l)){for(var c=0,r=new Array(l.length);c<l.length;c++)r[c]=l[c];return r}}(a)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(a,l){for(var c=0;c<l.length;c++){var r=l[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}h.default.Geometry=function(){function a(s,o,u){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new h.default.DataArray,this.lineTangentsIn=new h.default.DataArray,this.lineTangentsOut=new h.default.DataArray,this.lineSides=new h.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new h.default.DataArray,this.detailX=s!==void 0?s:1,this.detailY=o!==void 0?o:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,u instanceof Function&&u.call(this)}var l,c,r;return l=a,(c=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var s=new h.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),o=new h.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),u=0;u<this.vertices.length;u++){var f=this.vertices[u];s.x=Math.min(s.x,f.x),s.y=Math.min(s.y,f.y),s.z=Math.min(s.z,f.z),o.x=Math.max(o.x,f.x),o.y=Math.max(o.y,f.y),o.z=Math.max(o.z,f.z)}var C=new h.default.Vector(o.x-s.x,o.y-s.y,o.z-s.z),E=new h.default.Vector((s.x+o.x)/2,(s.y+o.y)/2,(s.z+o.z)/2);this.boundingBoxCache={min:s,max:o,size:C,offset:E}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var s=0;s<this.vertexColors.length;s+=4)if(this.vertexColors[s+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var s=0;s<this.lineVertexColors.length;s+=4)if(this.lineVertexColors[s+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(s,o){return o%2==0?1-s:s})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(s,o){return o%2==0?s:1-s})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var s,o,u,f=this.detailX+1,C=0;C<this.detailY;C++)for(var E=0;E<this.detailX;E++)o=(C+1)*f+E+1,this.faces.push([C*f+E,s=C*f+E+1,u=(C+1)*f+E]),this.faces.push([u,s,o]);return this}},{key:"_getFaceNormal",value:function(o){var o=this.faces[o],u=this.vertices[o[0]],C=this.vertices[o[1]],o=this.vertices[o[2]],C=h.default.Vector.sub(C,u),o=h.default.Vector.sub(o,u),u=h.default.Vector.cross(C,o),f=h.default.Vector.mag(u),C=f/(h.default.Vector.mag(C)*h.default.Vector.mag(o));return C===0||isNaN(C)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),u):(1<C&&(C=1),u.mult(Math.asin(C)/f))}},{key:"computeNormals",value:function(){var s,o=this,u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:d.FLAT,f=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,C=this.vertexNormals,E=this.vertices,j=this.faces;if(u===d.SMOOTH){for(var x={},T=[],_=Math.pow(10,f===void 0?3:f),M=function(F){return Math.round(F*_)/_},p=function(F){return"".concat(M(F.x),",").concat(M(F.y),",").concat(M(F.z))},S=0;S<E.length;S++){var O=E[S],k=p(O);x[k]===void 0&&(x[k]=T.length,T.push(O))}j.forEach(function(F){for(var B=0;B<3;++B){var L=F[B],L=E[L],L=p(L);F[B]=x[L]}}),this.edges.forEach(function(F){for(var B=0;B<2;++B){var L=F[B],L=E[L],L=p(L);F[B]=x[L]}}),this.vertices=E=T}for(s=C.length=0;s<E.length;++s)C.push(new h.default.Vector);for(j.forEach(function(F,B){for(var L=o._getFaceNormal(B),G=0;G<3;++G){var K=F[G];C[K].add(L)}}),s=0;s<E.length;++s)C[s].normalize();return this}},{key:"averageNormals",value:function(){for(var s=0;s<=this.detailY;s++){var o=this.detailX+1,u=h.default.Vector.add(this.vertexNormals[s*o],this.vertexNormals[s*o+this.detailX]),u=h.default.Vector.div(u,2);this.vertexNormals[s*o]=u,this.vertexNormals[s*o+this.detailX]=u}return this}},{key:"averagePoleNormals",value:function(){for(var s=new h.default.Vector(0,0,0),o=0;o<this.detailX;o++)s.add(this.vertexNormals[o]);for(var s=h.default.Vector.div(s,this.detailX),u=0;u<this.detailX;u++)this.vertexNormals[u]=s;s=new h.default.Vector(0,0,0);for(var f=this.vertices.length-1;f>this.vertices.length-1-this.detailX;f--)s.add(this.vertexNormals[f]);s=h.default.Vector.div(s,this.detailX);for(var C=this.vertices.length-1;C>this.vertices.length-1-this.detailX;C--)this.vertexNormals[C]=s;return this}},{key:"_makeTriangleEdges",value:function(){for(var s=this.edges.length=0;s<this.faces.length;s++)this.edges.push([this.faces[s][0],this.faces[s][1]]),this.edges.push([this.faces[s][1],this.faces[s][2]]),this.edges.push([this.faces[s][2],this.faces[s][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var s,o=new Map,u=new Set,f=0;f<this.edges.length;f++){var C,E=this.edges[f-1],j=this.edges[f],x=this.vertices[j[0]],T=this.vertices[j[1]],_=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*j[0],4*(j[0]+1)):[0,0,0,0],M=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*j[1],4*(j[1]+1)):[0,0,0,0],p=T.copy().sub(x).normalize(),S=0<p.magSq();S&&this._addSegment(x,T,_,M,p),0<f&&E[1]===j[0]?u.has(j[0])||(u.add(j[0]),o.delete(j[0]),s&&S&&p.dot(s)<1-1e-8&&this._addJoin(x,s,p,_)):(S&&!u.has(j[0])&&((C=o.get(j[0]))?(this._addJoin(x,C.dir,p,_),o.delete(j[0]),u.add(j[0])):o.set(j[0],{point:x,dir:p.copy().mult(-1),color:_})),s&&!u.has(E[1])&&((C=o.get(E[1]))?(this._addJoin(this.vertices[E[1]],s,C.dir.copy().mult(-1),_),o.delete(E[1]),u.add(E[1])):o.set(E[1],{point:this.vertices[E[1]],dir:s,color:_}),s=void 0)),f!==this.edges.length-1||u.has(j[1])||((x=o.get(j[1]))?(this._addJoin(T,p,x.dir.copy().mult(-1),M),o.delete(j[1]),u.add(j[1])):o.set(j[1],{point:T,dir:p,color:M})),S&&(s=p)}var O=!0,k=!1,F=void 0;try{for(var B,L=o.values()[Symbol.iterator]();!(O=(B=L.next()).done);O=!0){var G=B.value,K=G.point,$=G.dir,P=G.color;this._addCap(K,$,P)}}catch(w){k=!0,F=w}finally{try{O||L.return==null||L.return()}finally{if(k)throw F}}return this}},{key:"_addSegment",value:function(E,j,u,f,C){var E=E.array(),j=j.array(),x=C.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var T=0,_=[this.lineTangentsIn,this.lineTangentsOut];T<_.length;T++)for(var M=_[T],p=0;p<6;p++)M.push.apply(M,m(x));return(C=this.lineVertices).push.apply(C,m(E).concat(m(j),m(E),m(j),m(j),m(E))),(C=this.lineVertexColors).push.apply(C,m(u).concat(m(f),m(u),m(f),m(f),m(u))),this}},{key:"_addCap",value:function(s,o,u){for(var f,C=s.array(),E=o.array(),j=[0,0,0],x=0;x<6;x++)(f=this.lineVertices).push.apply(f,m(C)),(f=this.lineTangentsIn).push.apply(f,m(E)),(f=this.lineTangentsOut).push.apply(f,j),(f=this.lineVertexColors).push.apply(f,m(u));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(s,o,u,f){for(var C,E=s.array(),j=o.array(),x=u.array(),T=0;T<12;T++)(C=this.lineVertices).push.apply(C,m(E)),(C=this.lineTangentsIn).push.apply(C,m(j)),(C=this.lineTangentsOut).push.apply(C,m(x)),(C=this.lineVertexColors).push.apply(C,m(f));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var s=this.vertices[0].copy(),o=this.vertices[0].copy(),u=0;u<this.vertices.length;u++)s.x=Math.max(s.x,this.vertices[u].x),o.x=Math.min(o.x,this.vertices[u].x),s.y=Math.max(s.y,this.vertices[u].y),o.y=Math.min(o.y,this.vertices[u].y),s.z=Math.max(s.z,this.vertices[u].z),o.z=Math.min(o.z,this.vertices[u].z);for(var f=h.default.Vector.lerp(s,o,.5),C=h.default.Vector.sub(s,o),E=200/Math.max(Math.max(C.x,C.y),C.z),j=0;j<this.vertices.length;j++)this.vertices[j].sub(f),this.vertices[j].mult(E)}return this}}])&&n(l.prototype,c),r&&n(l,r),a}();var i=h.default.Geometry;I.default=i},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],333:[function(v,X,I){"use strict";v("core-js/modules/es.array.iterator"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.typed-array.float32-array"),v("core-js/modules/es.typed-array.copy-within"),v("core-js/modules/es.typed-array.every"),v("core-js/modules/es.typed-array.fill"),v("core-js/modules/es.typed-array.filter"),v("core-js/modules/es.typed-array.find"),v("core-js/modules/es.typed-array.find-index"),v("core-js/modules/es.typed-array.for-each"),v("core-js/modules/es.typed-array.includes"),v("core-js/modules/es.typed-array.index-of"),v("core-js/modules/es.typed-array.iterator"),v("core-js/modules/es.typed-array.join"),v("core-js/modules/es.typed-array.last-index-of"),v("core-js/modules/es.typed-array.map"),v("core-js/modules/es.typed-array.reduce"),v("core-js/modules/es.typed-array.reduce-right"),v("core-js/modules/es.typed-array.reverse"),v("core-js/modules/es.typed-array.set"),v("core-js/modules/es.typed-array.slice"),v("core-js/modules/es.typed-array.some"),v("core-js/modules/es.typed-array.sort"),v("core-js/modules/es.typed-array.subarray"),v("core-js/modules/es.typed-array.to-locale-string"),v("core-js/modules/es.typed-array.to-string"),v("core-js/modules/es.array.iterator"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.typed-array.float32-array"),v("core-js/modules/es.typed-array.copy-within"),v("core-js/modules/es.typed-array.every"),v("core-js/modules/es.typed-array.fill"),v("core-js/modules/es.typed-array.filter"),v("core-js/modules/es.typed-array.find"),v("core-js/modules/es.typed-array.find-index"),v("core-js/modules/es.typed-array.for-each"),v("core-js/modules/es.typed-array.includes"),v("core-js/modules/es.typed-array.index-of"),v("core-js/modules/es.typed-array.iterator"),v("core-js/modules/es.typed-array.join"),v("core-js/modules/es.typed-array.last-index-of"),v("core-js/modules/es.typed-array.map"),v("core-js/modules/es.typed-array.reduce"),v("core-js/modules/es.typed-array.reduce-right"),v("core-js/modules/es.typed-array.reverse"),v("core-js/modules/es.typed-array.set"),v("core-js/modules/es.typed-array.slice"),v("core-js/modules/es.typed-array.some"),v("core-js/modules/es.typed-array.sort"),v("core-js/modules/es.typed-array.subarray"),v("core-js/modules/es.typed-array.to-locale-string"),v("core-js/modules/es.typed-array.to-string"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(v=v("../core/main"))&&v.__esModule?v:{default:v};function b(m,n){for(var i=0;i<n.length;i++){var a=n[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(m,a.key,a)}}var h=Array,d=function(m){return Array.isArray(m)},v=(typeof Float32Array<"u"&&(h=Float32Array,d=function(m){return Array.isArray(m)||m instanceof Float32Array}),y.default.Matrix=function(){function m(){var l=this,c=m;if(l instanceof c)return arguments.length&&((l=arguments.length-1)<0||arguments.length<=l?void 0:arguments[l])instanceof y.default&&(this.p5=(c=arguments.length-1)<0||arguments.length<=c?void 0:arguments[c]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new h([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new h([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var n,i,a;return n=m,a=[{key:"identity",value:function(l){return new y.default.Matrix(l)}}],(i=[{key:"set",value:function(l){var c=arguments;if(l instanceof y.default.Matrix?c=l.mat4:d(l)&&(c=l),c.length!==16)y.default._friendlyError("Expected 16 values but received ".concat(c.length,"."),"p5.Matrix.set");else for(var r=0;r<16;r++)this.mat4[r]=c[r];return this}},{key:"get",value:function(){return new y.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var l;return this.mat3!==void 0?((l=new y.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],l.mat3[1]=this.mat3[1],l.mat3[2]=this.mat3[2],l.mat3[3]=this.mat3[3],l.mat3[4]=this.mat3[4],l.mat3[5]=this.mat3[5],l.mat3[6]=this.mat3[6],l.mat3[7]=this.mat3[7],l.mat3[8]=this.mat3[8]):((l=new y.default.Matrix(this.p5)).mat4[0]=this.mat4[0],l.mat4[1]=this.mat4[1],l.mat4[2]=this.mat4[2],l.mat4[3]=this.mat4[3],l.mat4[4]=this.mat4[4],l.mat4[5]=this.mat4[5],l.mat4[6]=this.mat4[6],l.mat4[7]=this.mat4[7],l.mat4[8]=this.mat4[8],l.mat4[9]=this.mat4[9],l.mat4[10]=this.mat4[10],l.mat4[11]=this.mat4[11],l.mat4[12]=this.mat4[12],l.mat4[13]=this.mat4[13],l.mat4[14]=this.mat4[14],l.mat4[15]=this.mat4[15]),l}},{key:"transpose",value:function(l){var c,r,s,o,u,f;return l instanceof y.default.Matrix?(c=l.mat4[1],r=l.mat4[2],s=l.mat4[3],o=l.mat4[6],u=l.mat4[7],f=l.mat4[11],this.mat4[0]=l.mat4[0],this.mat4[1]=l.mat4[4],this.mat4[2]=l.mat4[8],this.mat4[3]=l.mat4[12],this.mat4[4]=c,this.mat4[5]=l.mat4[5],this.mat4[6]=l.mat4[9],this.mat4[7]=l.mat4[13],this.mat4[8]=r,this.mat4[9]=o,this.mat4[10]=l.mat4[10],this.mat4[11]=l.mat4[14],this.mat4[12]=s,this.mat4[13]=u,this.mat4[14]=f,this.mat4[15]=l.mat4[15]):d(l)&&(c=l[1],r=l[2],s=l[3],o=l[6],u=l[7],f=l[11],this.mat4[0]=l[0],this.mat4[1]=l[4],this.mat4[2]=l[8],this.mat4[3]=l[12],this.mat4[4]=c,this.mat4[5]=l[5],this.mat4[6]=l[9],this.mat4[7]=l[13],this.mat4[8]=r,this.mat4[9]=o,this.mat4[10]=l[10],this.mat4[11]=l[14],this.mat4[12]=s,this.mat4[13]=u,this.mat4[14]=f,this.mat4[15]=l[15]),this}},{key:"invert",value:function(k){k instanceof y.default.Matrix?(c=k.mat4[0],r=k.mat4[1],s=k.mat4[2],o=k.mat4[3],u=k.mat4[4],f=k.mat4[5],C=k.mat4[6],E=k.mat4[7],j=k.mat4[8],x=k.mat4[9],T=k.mat4[10],_=k.mat4[11],M=k.mat4[12],p=k.mat4[13],S=k.mat4[14],O=k.mat4[15]):d(k)&&(c=k[0],r=k[1],s=k[2],o=k[3],u=k[4],f=k[5],C=k[6],E=k[7],j=k[8],x=k[9],T=k[10],_=k[11],M=k[12],p=k[13],S=k[14],O=k[15]);var c,r,s,o,u,f,C,E,j,x,T,_,M,p,S,O,k=c*f-r*u,F=c*C-s*u,B=c*E-o*u,L=r*C-s*f,G=r*E-o*f,K=s*E-o*C,$=j*p-x*M,P=j*S-T*M,w=j*O-_*M,D=x*S-T*p,H=x*O-_*p,N=T*O-_*S,z=k*N-F*H+B*D+L*w-G*P+K*$;return z?(this.mat4[0]=(f*N-C*H+E*D)*(z=1/z),this.mat4[1]=(s*H-r*N-o*D)*z,this.mat4[2]=(p*K-S*G+O*L)*z,this.mat4[3]=(T*G-x*K-_*L)*z,this.mat4[4]=(C*w-u*N-E*P)*z,this.mat4[5]=(c*N-s*w+o*P)*z,this.mat4[6]=(S*B-M*K-O*F)*z,this.mat4[7]=(j*K-T*B+_*F)*z,this.mat4[8]=(u*H-f*w+E*$)*z,this.mat4[9]=(r*w-c*H-o*$)*z,this.mat4[10]=(M*G-p*B+O*k)*z,this.mat4[11]=(x*B-j*G-_*k)*z,this.mat4[12]=(f*P-u*D-C*$)*z,this.mat4[13]=(c*D-r*P+s*$)*z,this.mat4[14]=(p*F-M*L-S*k)*z,this.mat4[15]=(j*L-x*F+T*k)*z,this):null}},{key:"invert3x3",value:function(){var l=this.mat3[0],c=this.mat3[1],r=this.mat3[2],s=this.mat3[3],o=this.mat3[4],u=this.mat3[5],f=this.mat3[6],C=this.mat3[7],E=this.mat3[8],j=E*o-u*C,x=-E*s+u*f,T=C*s-o*f,_=l*j+c*x+r*T;return _?(this.mat3[0]=j*(_=1/_),this.mat3[1]=(-E*c+r*C)*_,this.mat3[2]=(u*c-r*o)*_,this.mat3[3]=x*_,this.mat3[4]=(E*l-r*f)*_,this.mat3[5]=(-u*l+r*s)*_,this.mat3[6]=T*_,this.mat3[7]=(-C*l+c*f)*_,this.mat3[8]=(o*l-c*s)*_,this):null}},{key:"transpose3x3",value:function(l){var c=(l=l===void 0?this.mat3:l)[1],r=l[2],s=l[5];return this.mat3[0]=l[0],this.mat3[1]=l[3],this.mat3[2]=l[6],this.mat3[3]=c,this.mat3[4]=l[4],this.mat3[5]=l[7],this.mat3[6]=r,this.mat3[7]=s,this.mat3[8]=l[8],this}},{key:"inverseTranspose",value:function(l){if(l=l.mat4,this.mat3===void 0?y.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=l[0],this.mat3[1]=l[1],this.mat3[2]=l[2],this.mat3[3]=l[4],this.mat3[4]=l[5],this.mat3[5]=l[6],this.mat3[6]=l[8],this.mat3[7]=l[9],this.mat3[8]=l[10]),l=this.invert3x3(),l)l.transpose3x3(this.mat3);else for(var c=0;c<9;c++)this.mat3[c]=0;return this}},{key:"determinant",value:function(){var l=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],c=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],s=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],o=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],u=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],f=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],C=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],E=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],j=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],x=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return l*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-c*x+r*j+s*E-o*C+u*f}},{key:"mult",value:function(r){var c;if(r===this||r===this.mat4)c=this.copy().mat4;else if(r instanceof y.default.Matrix)c=r.mat4;else if(d(r))c=r;else{if(arguments.length!==16)return;c=arguments}var r=this.mat4[0],s=this.mat4[1],o=this.mat4[2],u=this.mat4[3];return this.mat4[0]=r*c[0]+s*c[4]+o*c[8]+u*c[12],this.mat4[1]=r*c[1]+s*c[5]+o*c[9]+u*c[13],this.mat4[2]=r*c[2]+s*c[6]+o*c[10]+u*c[14],this.mat4[3]=r*c[3]+s*c[7]+o*c[11]+u*c[15],r=this.mat4[4],s=this.mat4[5],o=this.mat4[6],u=this.mat4[7],this.mat4[4]=r*c[0]+s*c[4]+o*c[8]+u*c[12],this.mat4[5]=r*c[1]+s*c[5]+o*c[9]+u*c[13],this.mat4[6]=r*c[2]+s*c[6]+o*c[10]+u*c[14],this.mat4[7]=r*c[3]+s*c[7]+o*c[11]+u*c[15],r=this.mat4[8],s=this.mat4[9],o=this.mat4[10],u=this.mat4[11],this.mat4[8]=r*c[0]+s*c[4]+o*c[8]+u*c[12],this.mat4[9]=r*c[1]+s*c[5]+o*c[9]+u*c[13],this.mat4[10]=r*c[2]+s*c[6]+o*c[10]+u*c[14],this.mat4[11]=r*c[3]+s*c[7]+o*c[11]+u*c[15],r=this.mat4[12],s=this.mat4[13],o=this.mat4[14],u=this.mat4[15],this.mat4[12]=r*c[0]+s*c[4]+o*c[8]+u*c[12],this.mat4[13]=r*c[1]+s*c[5]+o*c[9]+u*c[13],this.mat4[14]=r*c[2]+s*c[6]+o*c[10]+u*c[14],this.mat4[15]=r*c[3]+s*c[7]+o*c[11]+u*c[15],this}},{key:"apply",value:function(r){var c;if(r===this||r===this.mat4)c=this.copy().mat4;else if(r instanceof y.default.Matrix)c=r.mat4;else if(d(r))c=r;else{if(arguments.length!==16)return;c=arguments}var r=this.mat4,s=r[0],o=r[4],u=r[8],f=r[12],s=(r[0]=c[0]*s+c[1]*o+c[2]*u+c[3]*f,r[4]=c[4]*s+c[5]*o+c[6]*u+c[7]*f,r[8]=c[8]*s+c[9]*o+c[10]*u+c[11]*f,r[12]=c[12]*s+c[13]*o+c[14]*u+c[15]*f,r[1]),o=r[5],u=r[9],f=r[13],s=(r[1]=c[0]*s+c[1]*o+c[2]*u+c[3]*f,r[5]=c[4]*s+c[5]*o+c[6]*u+c[7]*f,r[9]=c[8]*s+c[9]*o+c[10]*u+c[11]*f,r[13]=c[12]*s+c[13]*o+c[14]*u+c[15]*f,r[2]),o=r[6],u=r[10],f=r[14],s=(r[2]=c[0]*s+c[1]*o+c[2]*u+c[3]*f,r[6]=c[4]*s+c[5]*o+c[6]*u+c[7]*f,r[10]=c[8]*s+c[9]*o+c[10]*u+c[11]*f,r[14]=c[12]*s+c[13]*o+c[14]*u+c[15]*f,r[3]),o=r[7],u=r[11],f=r[15];return r[3]=c[0]*s+c[1]*o+c[2]*u+c[3]*f,r[7]=c[4]*s+c[5]*o+c[6]*u+c[7]*f,r[11]=c[8]*s+c[9]*o+c[10]*u+c[11]*f,r[15]=c[12]*s+c[13]*o+c[14]*u+c[15]*f,this}},{key:"scale",value:function(l,c,r){return l instanceof y.default.Vector?(c=l.y,r=l.z,l=l.x):l instanceof Array&&(c=l[1],r=l[2],l=l[0]),this.mat4[0]*=l,this.mat4[1]*=l,this.mat4[2]*=l,this.mat4[3]*=l,this.mat4[4]*=c,this.mat4[5]*=c,this.mat4[6]*=c,this.mat4[7]*=c,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this}},{key:"rotate",value:function(k,H,D,s){H instanceof y.default.Vector?(D=H.y,s=H.z,H=H.x):H instanceof Array&&(D=H[1],s=H[2],H=H[0]);var o=Math.sqrt(H*H+D*D+s*s),o=(H*=1/o,D*=1/o,s*=1/o,this.mat4[0]),u=this.mat4[1],f=this.mat4[2],C=this.mat4[3],E=this.mat4[4],j=this.mat4[5],x=this.mat4[6],T=this.mat4[7],_=this.mat4[8],M=this.mat4[9],p=this.mat4[10],S=this.mat4[11],O=Math.sin(k),k=Math.cos(k),F=1-k,B=H*H*F+k,L=D*H*F+s*O,G=s*H*F-D*O,K=H*D*F-s*O,$=D*D*F+k,P=s*D*F+H*O,w=H*s*F+D*O,D=D*s*F-H*O,H=s*s*F+k;return this.mat4[0]=o*B+E*L+_*G,this.mat4[1]=u*B+j*L+M*G,this.mat4[2]=f*B+x*L+p*G,this.mat4[3]=C*B+T*L+S*G,this.mat4[4]=o*K+E*$+_*P,this.mat4[5]=u*K+j*$+M*P,this.mat4[6]=f*K+x*$+p*P,this.mat4[7]=C*K+T*$+S*P,this.mat4[8]=o*w+E*D+_*H,this.mat4[9]=u*w+j*D+M*H,this.mat4[10]=f*w+x*D+p*H,this.mat4[11]=C*w+T*D+S*H,this}},{key:"translate",value:function(s){var c=s[0],r=s[1],s=s[2]||0;this.mat4[12]+=this.mat4[0]*c+this.mat4[4]*r+this.mat4[8]*s,this.mat4[13]+=this.mat4[1]*c+this.mat4[5]*r+this.mat4[9]*s,this.mat4[14]+=this.mat4[2]*c+this.mat4[6]*r+this.mat4[10]*s,this.mat4[15]+=this.mat4[3]*c+this.mat4[7]*r+this.mat4[11]*s}},{key:"rotateX",value:function(l){this.rotate(l,1,0,0)}},{key:"rotateY",value:function(l){this.rotate(l,0,1,0)}},{key:"rotateZ",value:function(l){this.rotate(l,0,0,1)}},{key:"perspective",value:function(o,c,r,s){var o=1/Math.tan(o/2),u=1/(r-s);return this.mat4[0]=o/c,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=o,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(s+r)*u,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*s*r*u,this.mat4[15]=0,this}},{key:"ortho",value:function(l,c,r,s,o,u){var f=1/(l-c),C=1/(r-s),E=1/(o-u);return this.mat4[0]=-2*f,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*C,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*E,this.mat4[11]=0,this.mat4[12]=(l+c)*f,this.mat4[13]=(s+r)*C,this.mat4[14]=(u+o)*E,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(l,c,r,s){var o=new Array(4),u=this.mat4;return o[0]=u[0]*l+u[4]*c+u[8]*r+u[12]*s,o[1]=u[1]*l+u[5]*c+u[9]*r+u[13]*s,o[2]=u[2]*l+u[6]*c+u[10]*r+u[14]*s,o[3]=u[3]*l+u[7]*c+u[11]*r+u[15]*s,o}},{key:"multiplyPoint",value:function(r){var s=r.x,c=r.y,r=r.z,s=this.multiplyVec4(s,c,r,1);return new y.default.Vector(s[0],s[1],s[2])}},{key:"multiplyAndNormalizePoint",value:function(r){var s=r.x,c=r.y,r=r.z,s=this.multiplyVec4(s,c,r,1);return s[0]/=s[3],s[1]/=s[3],s[2]/=s[3],new y.default.Vector(s[0],s[1],s[2])}},{key:"multiplyDirection",value:function(r){var s=r.x,c=r.y,r=r.z,s=this.multiplyVec4(s,c,r,0);return new y.default.Vector(s[0],s[1],s[2])}},{key:"mult3x3",value:function(r){var c;if(r===this||r===this.mat3)c=this.copy().mat3;else if(r instanceof y.default.Matrix)c=r.mat3;else if(d(r))c=r;else{if(arguments.length!==9)return;c=arguments}var r=this.mat3[0],s=this.mat3[1],o=this.mat3[2];return this.mat3[0]=r*c[0]+s*c[3]+o*c[6],this.mat3[1]=r*c[1]+s*c[4]+o*c[7],this.mat3[2]=r*c[2]+s*c[5]+o*c[8],r=this.mat3[3],s=this.mat3[4],o=this.mat3[5],this.mat3[3]=r*c[0]+s*c[3]+o*c[6],this.mat3[4]=r*c[1]+s*c[4]+o*c[7],this.mat3[5]=r*c[2]+s*c[5]+o*c[8],r=this.mat3[6],s=this.mat3[7],o=this.mat3[8],this.mat3[6]=r*c[0]+s*c[3]+o*c[6],this.mat3[7]=r*c[1]+s*c[4]+o*c[7],this.mat3[8]=r*c[2]+s*c[5]+o*c[8],this}},{key:"column",value:function(l){return new y.default.Vector(this.mat3[3*l],this.mat3[3*l+1],this.mat3[3*l+2])}},{key:"row",value:function(l){return new y.default.Vector(this.mat3[l],this.mat3[l+3],this.mat3[l+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(l,c){return(c=c===void 0?l.copy():c).x=this.row(0).dot(l),c.y=this.row(1).dot(l),c.z=this.row(2).dot(l),c}},{key:"createSubMatrix3x3",value:function(){var l=new y.default.Matrix("mat3");return l.mat3[0]=this.mat4[0],l.mat3[1]=this.mat4[1],l.mat3[2]=this.mat4[2],l.mat3[3]=this.mat4[4],l.mat3[4]=this.mat4[5],l.mat3[5]=this.mat4[6],l.mat3[6]=this.mat4[8],l.mat3[7]=this.mat4[9],l.mat3[8]=this.mat4[10],l}}])&&b(n.prototype,i),a&&b(n,a),m}(),y.default.Matrix);I.default=v},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],334:[function(t,X,I){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function y(b,h){for(var d=0;d<h.length;d++){var v=h[d];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}t.default.RenderBuffer=function(){function b(m,n,i,a,l,c){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.size=m,this.src=n,this.dst=i,this.attr=a,this._renderer=l,this.map=c}var h,d,v;return h=b,(d=[{key:"_prepareBuffer",value:function(m,n){var i,a,l,s=n.attributes,c=this._renderer.GL,r=m.model||m,s=s[this.attr];s&&(i=m[this.dst],0<(a=r[this.src]).length?((l=!i)&&(m[this.dst]=i=c.createBuffer()),c.bindBuffer(c.ARRAY_BUFFER,i),!l&&r.dirtyFlags[this.src]===!1||(l=(m=this.map)?m(a):a,this._renderer._bindBuffer(i,c.ARRAY_BUFFER,l),r.dirtyFlags[this.src]=!1),n.enableAttrib(s,this.size)):(m=s.location)!==-1&&this._renderer.registerEnabled.has(m)&&(c.disableVertexAttribArray(m),this._renderer.registerEnabled.delete(m)))}}])&&y(h.prototype,d),v&&y(h,v),b}(),t=t.default.RenderBuffer,I.default=t},{"../core/main":280,"core-js/modules/es.array.map":167}],335:[function(t,X,I){"use strict";function y(a){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(a)}function b(a){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(l){return y(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":y(l)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(i=t("../core/main"))&&i.__esModule?i:{default:i},d=function(a){if(a&&a.__esModule)return a;if(a===null||b(a)!=="object"&&typeof a!="function")return{default:a};var l=v();if(l&&l.has(a))return l.get(a);var c,r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in a){var o;Object.prototype.hasOwnProperty.call(a,c)&&((o=s?Object.getOwnPropertyDescriptor(a,c):null)&&(o.get||o.set)?Object.defineProperty(r,c,o):r[c]=a[c])}return r.default=a,l&&l.set(a,r),r}(t("../core/constants"));function v(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,v=function(){return a},a)}function m(a){return function(l){if(Array.isArray(l)){for(var c=0,r=new Array(l.length);c<l.length;c++)r[c]=l[c];return r}}(a)||function(l){if(Symbol.iterator in Object(l)||Object.prototype.toString.call(l)==="[object Arguments]")return Array.from(l)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),h.default.RendererGL.prototype.beginShape=function(a){return this.immediateMode.shapeMode=a!==void 0?a:d.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var n={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},i=(h.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==d.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},h.default.RendererGL.prototype.vertex=function(a,l){if(this.immediateMode.shapeMode===d.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var c in n){var r=n[c],c=this.immediateMode.geometry[c];c.push.apply(c,m(c.slice(c.length-3*r,c.length-2*r)).concat(m(c.slice(c.length-r,c.length))))}var s,o,u=s=o=0,f=(arguments.length===3?u=arguments[2]:arguments.length===4?(s=arguments[2],o=arguments[3]):arguments.length===5&&(u=arguments[2],s=arguments[3],o=arguments[4]),new h.default.Vector(a,l,u)),f=(this.immediateMode.geometry.vertices.push(f),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),f=(this.immediateMode.geometry.vertexColors.push(f[0],f[1],f[2],f[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(f[0],f[1],f[2],f[3]),this.textureMode!==d.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(s/=this._tex.width,o/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(s,o),this.immediateMode._bezierVertex[0]=a,this.immediateMode._bezierVertex[1]=l,this.immediateMode._bezierVertex[2]=u,this.immediateMode._quadraticVertex[0]=a,this.immediateMode._quadraticVertex[1]=l,this.immediateMode._quadraticVertex[2]=u,this},h.default.RendererGL.prototype.normal=function(a,l,c){return a instanceof h.default.Vector?this._currentNormal=a:this._currentNormal=new h.default.Vector(a,l,c),this},h.default.RendererGL.prototype.endShape=function(a,l,c,r,s,o){var u,f=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===d.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===d.TESS&&(this.immediateMode.shapeMode,d.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),u=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==d.LINE_STRIP&&this.immediateMode.shapeMode!==d.LINES||(this.immediateMode.shapeMode=d.TRIANGLE_FAN,u=!0),this.immediateMode.shapeMode===d.QUADS?this.immediateMode.shapeMode=d.TRIANGLES:this.immediateMode.shapeMode===d.QUAD_STRIP&&(this.immediateMode.shapeMode=d.TRIANGLE_STRIP),this._doFill&&!u&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(f),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},h.default.RendererGL.prototype._processVertices=function(a){var l;this.immediateMode.geometry.vertices.length!==0&&(l=this._doStroke,a=a===d.CLOSE,l&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,a),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),l=this.immediateMode.shapeMode===d.TESS,a=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||l||a)&&this.immediateMode.shapeMode!==d.LINES&&this._tesselateShape())},h.default.RendererGL.prototype._calculateEdges=function(a,l,c){var r=[],s=0,o=this.immediateMode.contourIndices.slice(),u=0;switch(a){case d.TRIANGLE_STRIP:for(s=0;s<l.length-2;s++)r.push([s,s+1]),r.push([s,s+2]);r.push([s,s+1]);break;case d.TRIANGLE_FAN:for(s=1;s<l.length-1;s++)r.push([0,s]),r.push([s,s+1]);r.push([0,l.length-1]);break;case d.TRIANGLES:for(s=0;s<l.length-2;s+=3)r.push([s,s+1]),r.push([s+1,s+2]),r.push([s+2,s]);break;case d.LINES:for(s=0;s<l.length-1;s+=2)r.push([s,s+1]);break;case d.QUADS:for(s=0;s<l.length-5;s+=6)r.push([s,s+1]),r.push([s+1,s+2]),r.push([s+3,s+5]),r.push([s+4,s+5]);break;case d.QUAD_STRIP:for(s=0;s<l.length-2;s+=2)r.push([s,s+1]),r.push([s,s+2]),r.push([s+1,s+3]);r.push([s,s+1]);break;default:for(s=0;s<l.length;s++)s+1<l.length&&s+1!==o[0]?r.push([s,s+1]):((c||u)&&r.push([s,u]),0<o.length&&(u=o.shift()))}return a!==d.TESS&&c&&r.push([l.length-1,0]),r},h.default.RendererGL.prototype._tesselateShape=function(){for(var a=this,l=(this.immediateMode.shapeMode=d.TRIANGLES,[[]]),c=0;c<this.immediateMode.geometry.vertices.length;c++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===c&&(this.immediateMode.contourIndices.shift(),l.push([])),l[l.length-1].push(this.immediateMode.geometry.vertices[c].x,this.immediateMode.geometry.vertices[c].y,this.immediateMode.geometry.vertices[c].z,this.immediateMode.geometry.uvs[2*c],this.immediateMode.geometry.uvs[2*c+1],this.immediateMode.geometry.vertexColors[4*c],this.immediateMode.geometry.vertexColors[4*c+1],this.immediateMode.geometry.vertexColors[4*c+2],this.immediateMode.geometry.vertexColors[4*c+3],this.immediateMode.geometry.vertexNormals[c].x,this.immediateMode.geometry.vertexNormals[c].y,this.immediateMode.geometry.vertexNormals[c].z);for(var r,s=this._triangulate(l),o=this.immediateMode.geometry.vertices,u=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),f=0,C=s.length;f<C;f+=h.default.RendererGL.prototype.tessyVertexSize)u.push.apply(u,m(s.slice(f+5,f+9))),this.normal.apply(this,m(s.slice(f+9,f+12))),this.vertex.apply(this,m(s.slice(f,f+5)));this.geometryBuilder&&(r=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(E){return E.map(function(j){if(!r.has(j)){var x=o[j],T=a.immediateMode.geometry.vertices.findIndex(function(F){return x.x===F.x&&x.y===F.y&&x.z===F.z});if(T===-1){for(var _=1/0,M=0,p=0;p<a.immediateMode.geometry.vertices.length;p++){var O=a.immediateMode.geometry.vertices[p],k=x.x-O.x,S=x.y-O.y,O=x.z-O.z,k=k*k+S*S+O*O;k<_&&(_=k,M=p)}T=M}r.set(j,T)}return r.get(j)})})),this.immediateMode.geometry.vertexColors=u},h.default.RendererGL.prototype._drawImmediateFill=function(){var a,l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,c=this.GL,r=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,a=this._getImmediateFillShader(),this._setFillUniforms(a),!0),s=!1,o=void 0;try{for(var u,f=this.immediateMode.buffers.fill[Symbol.iterator]();!(r=(u=f.next()).done);r=!0)u.value._prepareBuffer(this.immediateMode.geometry,a)}catch(C){s=!0,o=C}finally{try{r||f.return==null||f.return()}finally{if(s)throw o}}if(a.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),l===1)c.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{c.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,l)}catch{console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode")}a.unbindShader()},h.default.RendererGL.prototype._drawImmediateStroke=function(){var a=this.GL,l=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),c=(this._setStrokeUniforms(l),!0),r=!1,s=void 0;try{for(var o,u=this.immediateMode.buffers.stroke[Symbol.iterator]();!(c=(o=u.next()).done);c=!0)o.value._prepareBuffer(this.immediateMode.geometry,l)}catch(f){r=!0,s=f}finally{try{c||u.return==null||u.return()}finally{if(r)throw s}}l.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),a.drawArrays(a.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),l.unbindShader()},h.default.RendererGL);I.default=i},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.find-index":157,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],336:[function(t,X,I){"use strict";function y(n){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(n)}function b(n){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(i){return y(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":y(i)})(n)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var h=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(n){if(n&&n.__esModule)return n;if(n===null||b(n)!=="object"&&typeof n!="function")return{default:n};var i=v();if(i&&i.has(n))return i.get(n);var a,l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in n){var r;Object.prototype.hasOwnProperty.call(n,a)&&((r=c?Object.getOwnPropertyDescriptor(n,a):null)&&(r.get||r.set)?Object.defineProperty(l,a,r):l[a]=n[a])}return l.default=n,i&&i.set(n,l),l}(t("../core/constants")));function v(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,v=function(){return n},n)}h.default.RendererGL.prototype.freeGeometry=function(n){n.gid?this._freeBuffers(n.gid):console.warn("The model you passed to freeGeometry does not have an id!")},h.default.RendererGL.prototype._initBufferDefaults=function(n){var i;return this._freeBuffers(n),1e3<Object.keys(this.retainedMode.geometry).length&&(i=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(i)),this.retainedMode.geometry[n]={}},h.default.RendererGL.prototype._freeBuffers=function(n){var i,a=this.retainedMode.geometry[n];function l(c){var r=!0,s=!1,o=void 0;try{for(var u,f=c[Symbol.iterator]();!(r=(u=f.next()).done);r=!0){var C=u.value;a[C.dst]&&(i.deleteBuffer(a[C.dst]),a[C.dst]=null)}}catch(E){s=!0,o=E}finally{try{r||f.return==null||f.return()}finally{if(s)throw o}}}a&&(delete this.retainedMode.geometry[n],i=this.GL,a.indexBuffer&&i.deleteBuffer(a.indexBuffer),l(this.retainedMode.buffers.stroke),l(this.retainedMode.buffers.fill))},h.default.RendererGL.prototype.createBuffers=function(s,i){var a,l,c,r=this.GL,s=this._initBufferDefaults(s),o=(s.model=i,s.indexBuffer);return i.faces.length?(o=o||(s.indexBuffer=r.createBuffer()),c=(l=(a=h.default.RendererGL.prototype._flatten(i.faces)).some(function(u){return 65535<u}))?Uint32Array:Uint16Array,this._bindBuffer(o,r.ELEMENT_ARRAY_BUFFER,a,c),s.indexBufferType=l?r.UNSIGNED_INT:r.UNSIGNED_SHORT,s.vertexCount=3*i.faces.length):(o&&(r.deleteBuffer(o),s.indexBuffer=null),s.vertexCount=i.vertices?i.vertices.length:0),s.lineVertexCount=i.lineVertices?i.lineVertices.length/3:0,s},h.default.RendererGL.prototype.drawBuffers=function(n){var i=this.GL,a=this.retainedMode.geometry[n];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[n].vertexCount){this._useVertexColor=0<a.model.vertexColors.length;var l=this._getRetainedFillShader(),c=(this._setFillUniforms(l),!0),r=!1,s=void 0;try{for(var o,u=this.retainedMode.buffers.fill[Symbol.iterator]();!(c=(o=u.next()).done);c=!0)o.value._prepareBuffer(a,l)}catch(x){r=!0,s=x}finally{try{c||u.return==null||u.return()}finally{if(r)throw s}}l.disableRemainingAttributes(),a.indexBuffer&&this._bindBuffer(a.indexBuffer,i.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,a.model.hasFillTransparency()),this._drawElements(i.TRIANGLES,n),l.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<a.lineVertexCount){this._useLineColor=0<a.model.vertexStrokeColors.length;var f=this._getRetainedStrokeShader(),C=(this._setStrokeUniforms(f),!0),r=!1,s=void 0;try{for(var E,j=this.retainedMode.buffers.stroke[Symbol.iterator]();!(C=(E=j.next()).done);C=!0)E.value._prepareBuffer(a,f)}catch(_){r=!0,s=_}finally{try{C||j.return==null||j.return()}finally{if(r)throw s}}f.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,a.model.hasStrokeTransparency()),this._drawArrays(i.TRIANGLES,n),f.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(a),this},h.default.RendererGL.prototype.drawBuffersScaled=function(n,i,a,l){var c=this.uMVMatrix.copy();try{this.uMVMatrix.scale(i,a,l),this.drawBuffers(n)}finally{this.uMVMatrix=c}},h.default.RendererGL.prototype._drawArrays=function(n,i){return this.GL.drawArrays(n,0,this.retainedMode.geometry[i].lineVertexCount),this},h.default.RendererGL.prototype._drawElements=function(n,a){var a=this.retainedMode.geometry[a],l=this.GL;if(a.indexBuffer){if(this._pInst.webglVersion!==d.WEBGL2&&a.indexBufferType===l.UNSIGNED_INT&&!l.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");l.drawElements(l.TRIANGLES,a.vertexCount,a.indexBufferType,0)}else l.drawArrays(n||l.TRIANGLES,0,a.vertexCount)},h.default.RendererGL.prototype._drawPoints=function(n,i){var a=this.GL,l=this._getImmediatePointShader();this._setPointUniforms(l),this._bindBuffer(i,a.ARRAY_BUFFER,this._vToNArray(n),Float32Array,a.STATIC_DRAW),l.enableAttrib(l.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),a.drawArrays(a.Points,0,n.length),l.unbindShader()};var m=h.default.RendererGL;I.default=m},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"./p5.RendererGL":337,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],337:[function(p,X,I){"use strict";function y(L){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G})(L)}function b(L){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(G){return y(G)}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":y(G)})(L)}p("core-js/modules/es.symbol"),p("core-js/modules/es.symbol.description"),p("core-js/modules/es.symbol.iterator"),p("core-js/modules/es.array.concat"),p("core-js/modules/es.array.copy-within"),p("core-js/modules/es.array.every"),p("core-js/modules/es.array.fill"),p("core-js/modules/es.array.flat"),p("core-js/modules/es.array.flat-map"),p("core-js/modules/es.array.from"),p("core-js/modules/es.array.includes"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.array.map"),p("core-js/modules/es.array.slice"),p("core-js/modules/es.array.some"),p("core-js/modules/es.array.unscopables.flat"),p("core-js/modules/es.array.unscopables.flat-map"),p("core-js/modules/es.map"),p("core-js/modules/es.object.assign"),p("core-js/modules/es.object.get-own-property-descriptor"),p("core-js/modules/es.object.get-prototype-of"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.reflect.construct"),p("core-js/modules/es.reflect.get"),p("core-js/modules/es.regexp.to-string"),p("core-js/modules/es.set"),p("core-js/modules/es.string.includes"),p("core-js/modules/es.string.iterator"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.float64-array"),p("core-js/modules/es.typed-array.int16-array"),p("core-js/modules/es.typed-array.uint8-array"),p("core-js/modules/es.typed-array.uint16-array"),p("core-js/modules/es.typed-array.uint32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),p("core-js/modules/es.weak-map"),p("core-js/modules/web.dom-collections.iterator"),p("core-js/modules/es.symbol"),p("core-js/modules/es.symbol.description"),p("core-js/modules/es.symbol.iterator"),p("core-js/modules/es.array.concat"),p("core-js/modules/es.array.copy-within"),p("core-js/modules/es.array.every"),p("core-js/modules/es.array.fill"),p("core-js/modules/es.array.flat"),p("core-js/modules/es.array.flat-map"),p("core-js/modules/es.array.from"),p("core-js/modules/es.array.includes"),p("core-js/modules/es.array.iterator"),p("core-js/modules/es.array.map"),p("core-js/modules/es.array.slice"),p("core-js/modules/es.array.some"),p("core-js/modules/es.array.unscopables.flat"),p("core-js/modules/es.array.unscopables.flat-map"),p("core-js/modules/es.map"),p("core-js/modules/es.object.assign"),p("core-js/modules/es.object.to-string"),p("core-js/modules/es.set"),p("core-js/modules/es.string.includes"),p("core-js/modules/es.string.iterator"),p("core-js/modules/es.typed-array.float32-array"),p("core-js/modules/es.typed-array.float64-array"),p("core-js/modules/es.typed-array.int16-array"),p("core-js/modules/es.typed-array.uint8-array"),p("core-js/modules/es.typed-array.uint16-array"),p("core-js/modules/es.typed-array.uint32-array"),p("core-js/modules/es.typed-array.copy-within"),p("core-js/modules/es.typed-array.every"),p("core-js/modules/es.typed-array.fill"),p("core-js/modules/es.typed-array.filter"),p("core-js/modules/es.typed-array.find"),p("core-js/modules/es.typed-array.find-index"),p("core-js/modules/es.typed-array.for-each"),p("core-js/modules/es.typed-array.includes"),p("core-js/modules/es.typed-array.index-of"),p("core-js/modules/es.typed-array.iterator"),p("core-js/modules/es.typed-array.join"),p("core-js/modules/es.typed-array.last-index-of"),p("core-js/modules/es.typed-array.map"),p("core-js/modules/es.typed-array.reduce"),p("core-js/modules/es.typed-array.reduce-right"),p("core-js/modules/es.typed-array.reverse"),p("core-js/modules/es.typed-array.set"),p("core-js/modules/es.typed-array.slice"),p("core-js/modules/es.typed-array.some"),p("core-js/modules/es.typed-array.sort"),p("core-js/modules/es.typed-array.subarray"),p("core-js/modules/es.typed-array.to-locale-string"),p("core-js/modules/es.typed-array.to-string"),p("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.readPixelsWebGL=F,I.readPixelWebGL=B,I.default=void 0;var h=a(p("../core/main")),d=function(L){if(L&&L.__esModule)return L;if(L===null||b(L)!=="object"&&typeof L!="function")return{default:L};var G=i();if(G&&G.has(L))return G.get(L);var K,$={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(K in L){var w;Object.prototype.hasOwnProperty.call(L,K)&&((w=P?Object.getOwnPropertyDescriptor(L,K):null)&&(w.get||w.set)?Object.defineProperty($,K,w):$[K]=L[K])}return $.default=L,G&&G.set(L,$),$}(p("../core/constants")),v=a(p("./GeometryBuilder")),m=a(p("libtess")),n=(p("./p5.Shader"),p("./p5.Camera"),p("../core/p5.Renderer"),p("./p5.Matrix"),p("./p5.Framebuffer"),p("path"),p("./p5.Texture"));function i(){var L;return typeof WeakMap!="function"?null:(L=new WeakMap,i=function(){return L},L)}function a(L){return L&&L.__esModule?L:{default:L}}function l(L){return function(G){if(Array.isArray(G)){for(var K=0,$=new Array(G.length);K<G.length;K++)$[K]=G[K];return $}}(L)||function(G){if(Symbol.iterator in Object(G)||Object.prototype.toString.call(G)==="[object Arguments]")return Array.from(G)}(L)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(L,G){for(var K=0;K<G.length;K++){var $=G[K];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}function r(L,G,K){return(r=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(D,P,w){var D=function(H,N){for(;!Object.prototype.hasOwnProperty.call(H,N)&&(H=f(H))!==null;);return H}(D,P);if(D)return(D=Object.getOwnPropertyDescriptor(D,P)).get?D.get.call(w):D.value})(L,G,K||L)}function s(L,G){return(s=Object.setPrototypeOf||function(K,$){return K.__proto__=$,K})(L,G)}function o(L){return function(){var G,K,$=f(L);return G=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(G=f(this).constructor,Reflect.construct($,arguments,G)):$.apply(this,arguments),$=this,!(K=G)||b(K)!=="object"&&typeof K!="function"?u($):K}}function u(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function f(L){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(G){return G.__proto__||Object.getPrototypeOf(G)})(L)}function C(L,G,K){G in L?Object.defineProperty(L,G,{value:K,enumerable:!0,configurable:!0,writable:!0}):L[G]=K}function E(L,G){M+="#define STROKE_CAP_".concat(L," ").concat(G,`
`),T[d[L]]=G}function j(L,G){M+="#define STROKE_JOIN_".concat(L," ").concat(G,`
`),_[d[L]]=G}var x,T={},_={},M="",p=(E("ROUND",0),E("PROJECT",1),E("SQUARE",2),j("ROUND",0),j("MITER",1),j("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float metallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),S={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:p+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:p+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:M+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:M+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},O=S.sphereMappingFrag;for(x in S)S[x]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+S[x];C(p={},d.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),C(p,d.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),C(p,d.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),C(p,d.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),C(p,d.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),C(p,d.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),C(p,d.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),C(p,d.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var k=p;function F(L,G,te,$,P,w,D,H,N,z){var W=G.getParameter(G.FRAMEBUFFER_BINDING),te=(G.bindFramebuffer(G.FRAMEBUFFER,te),H===G.RGBA?4:3),V=w*D*te,Z=N===G.UNSIGNED_BYTE?Uint8Array:Float32Array;if(L instanceof Z&&L.length===V||(L=new Z(V)),G.readPixels($,z?z-P-D:P,w,D,H,N,L),G.bindFramebuffer(G.FRAMEBUFFER,W),z)for(var Y=Math.floor(D/2),q=new Z(w*te),J=0;J<Y;J++){var re=J*w*4,ue=(D-J-1)*w*4;q.set(L.subarray(re,re+4*w)),L.copyWithin(re,ue,ue+4*w),L.set(q,ue)}return L}function B(L,N,K,$,P,w,D){var H=L.getParameter(L.FRAMEBUFFER_BINDING),N=(L.bindFramebuffer(L.FRAMEBUFFER,N),P===L.RGBA?4:3),N=new(w===L.UNSIGNED_BYTE?Uint8Array:Float32Array)(N);return L.readPixels(K,D?D-$-1:$,1,1,P,w,N),L.bindFramebuffer(L.FRAMEBUFFER,H),Array.from(N)}h.default.prototype.setAttributes=function(L,G){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var K=!0;if(G!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[L]!==G&&(this._glAttributes[L]=G,K=!1)):L instanceof Object&&this._glAttributes!==L&&(this._glAttributes=L,K=!1),this._renderer.isP3D&&!K){if(!this._setupDone){for(var $ in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty($))return void h.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},h.default.RendererGL=function(L){var G=P;if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function");G.prototype=Object.create(L&&L.prototype,{constructor:{value:G,writable:!0,configurable:!0}}),L&&s(G,L);var K,$=o(P);function P(w,D,H,N){if(this instanceof P)return(w=$.call(this,w,D,H))._setAttributeDefaults(D),w._initContext(),w.isP3D=!0,w.geometryBuilder=void 0,w.GL=w.drawingContext,w._pInst._setProperty("drawingContext",w.drawingContext),w._isErasing=!1,w._clipDepths=[],w._isClipApplied=!1,w._stencilTestOn=!1,w._enableLighting=!1,w.ambientLightColors=[],w.mixedAmbientLight=[],w.mixedSpecularColor=[],w.specularColors=[1,1,1],w.directionalLightDirections=[],w.directionalLightDiffuseColors=[],w.directionalLightSpecularColors=[],w.pointLightPositions=[],w.pointLightDiffuseColors=[],w.pointLightSpecularColors=[],w.spotLightPositions=[],w.spotLightDirections=[],w.spotLightDiffuseColors=[],w.spotLightSpecularColors=[],w.spotLightAngle=[],w.spotLightConc=[],w.activeImageLight=null,w.diffusedTextures=new Map,w.specularTextures=new Map,w.drawMode=d.FILL,w.curFillColor=w._cachedFillStyle=[1,1,1,1],w.curAmbientColor=w._cachedFillStyle=[1,1,1,1],w.curSpecularColor=w._cachedFillStyle=[0,0,0,0],w.curEmissiveColor=w._cachedFillStyle=[0,0,0,0],w.curStrokeColor=w._cachedStrokeStyle=[0,0,0,1],w.curBlendMode=d.BLEND,w.preEraseBlend=void 0,w._cachedBlendMode=void 0,w.webglVersion===d.WEBGL2?w.blendExt=w.GL:w.blendExt=w.GL.getExtension("EXT_blend_minmax"),w._isBlending=!1,w._hasSetAmbient=!1,w._useSpecularMaterial=!1,w._useEmissiveMaterial=!1,w._useNormalMaterial=!1,w._useShininess=1,w._useMetalness=0,w._useLineColor=!1,w._useVertexColor=!1,w.registerEnabled=new Set,w._tint=[255,255,255,255],w.constantAttenuation=1,w.linearAttenuation=0,w.quadraticAttenuation=0,w.uMVMatrix=new h.default.Matrix,w.uPMatrix=new h.default.Matrix,w.uNMatrix=new h.default.Matrix("mat3"),w.curMatrix=new h.default.Matrix("mat3"),w._currentNormal=new h.default.Vector(0,0,1),w._curCamera=new h.default.Camera(u(w)),w._curCamera._computeCameraDefaultSettings(),w._curCamera._setDefaultCamera(),w.filterCamera=new h.default.Camera(u(w)),w.filterCamera._computeCameraDefaultSettings(),w.filterCamera._setDefaultCamera(),w.prevTouches=[],w.zoomVelocity=0,w.rotateVelocity=new h.default.Vector(0,0),w.moveVelocity=new h.default.Vector(0,0),w.executeZoom=!1,w.executeRotateAndMove=!1,w.specularShader=void 0,w.sphereMapping=void 0,w.diffusedShader=void 0,w._defaultLightShader=void 0,w._defaultImmediateModeShader=void 0,w._defaultNormalShader=void 0,w._defaultColorShader=void 0,w._defaultPointShader=void 0,w.userFillShader=void 0,w.userStrokeShader=void 0,w.userPointShader=void 0,w.retainedMode={geometry:{},buffers:{stroke:[new h.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",u(w)),new h.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",u(w)),new h.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",u(w)),new h.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",u(w)),new h.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",u(w))],fill:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",u(w),w._vToNArray),new h.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",u(w),w._vToNArray),new h.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",u(w)),new h.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",u(w)),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",u(w),w._flatten)],text:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",u(w),w._vToNArray),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",u(w),w._flatten)]}},w.immediateMode={geometry:new h.default.Geometry,shapeMode:d.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new h.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",u(w),w._vToNArray),new h.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",u(w),w._vToNArray),new h.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",u(w)),new h.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",u(w)),new h.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",u(w),w._flatten)],stroke:[new h.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",u(w)),new h.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",u(w)),new h.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",u(w)),new h.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",u(w)),new h.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",u(w))],point:w.GL.createBuffer()}},w.pointSize=5,w.curStrokeWeight=1,w.curStrokeCap=d.ROUND,w.curStrokeJoin=d.ROUND,w.textures=new Map,w.framebuffers=new Set,w.activeFramebuffers=[],w.filterShader=void 0,w.filterLayer=void 0,w.filterLayerTemp=void 0,w.defaultFilterShaders={},w.textureMode=d.IMAGE,w.textureWrapX=d.CLAMP,w.textureWrapY=d.CLAMP,w._tex=null,w._curveTightness=6,w._lookUpTableBezier=[],w._lookUpTableQuadratic=[],w._lutBezierDetail=0,w._lutQuadraticDetail=0,w.isProcessingVertices=!1,w._tessy=w._initTessy(),w.fontInfos={},w._curShader=void 0,w;throw new TypeError("Cannot call a class as a function")}return G=P,(L=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new v.default(this)}},{key:"endGeometry",value:function(){var w;if(this.geometryBuilder)return w=this.geometryBuilder.finish(),this.geometryBuilder=void 0,w;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(w){return this.beginGeometry(),w(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(w){var D={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};w._glAttributes===null?w._glAttributes=D:w._glAttributes=Object.assign(D,w._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?d.WEBGL2:d.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var w=this.drawingContext;w.enable(w.DEPTH_TEST),w.depthFunc(w.LEQUAL),w.viewport(0,0,w.drawingBufferWidth,w.drawingBufferHeight),w.pixelStorei(w.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var w=this.drawingContext;return w.getParameter(w.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(w,D){this._maxTextureSize||(this._maxTextureSize=this._getParam());var N=this._maxTextureSize,N=(h.default.prototype._maxAllowedPixelDimensions,Math.floor(N/this.pixelDensity())),H=Math.min(w,N),N=Math.min(D,N);return H===w&&N===D||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(H,", height: ").concat(N,".")),{adjustedWidth:H,adjustedHeight:N}}},{key:"_resetContext",value:function(w,D){var H,N=this.width,z=this.height,te=this.canvas.id,W=this._pInst instanceof h.default.Graphics,te=(W?((H=this._pInst).canvas.parentNode.removeChild(H.canvas),H.canvas=document.createElement("canvas"),(H._pInst._userNode||document.body).appendChild(H.canvas),h.default.Element.call(H,H.canvas,H._pInst),H.width=N,H.height=z):((H=this.canvas)&&H.parentNode.removeChild(H),(H=document.createElement("canvas")).id=te,(this._pInst._userNode||document.body).appendChild(H),this._pInst.canvas=H,this.canvas=H),new h.default.RendererGL(this._pInst.canvas,this._pInst,!W));this._pInst._setProperty("_renderer",te),te.resize(N,z),te._applyDefaults(),W||this._pInst._elements.push(te),typeof D=="function"&&setTimeout(function(){D.apply(window._renderer,w)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var N=(N=this._pInst).color.apply(N,arguments),w=N.levels[0]/255,D=N.levels[1]/255,H=N.levels[2]/255,N=N.levels[3]/255;this.clear(w,D,H,N)}},{key:"fill",value:function(w,D,H,N){var z=h.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=z._array,this.drawMode=d.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(w,D,H,N){var z=h.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=z._array}},{key:"strokeCap",value:function(w){this.curStrokeCap=w}},{key:"strokeJoin",value:function(w){this.curStrokeJoin=w}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(w,D){w.width===D.width&&w.height===D.height||w.resize(D.width,D.height),w.pixelDensity()!==D.pixelDensity()&&w.pixelDensity(D.pixelDensity())}},{key:"filter",value:function(){var w,D,H=this,N=this.getFilterLayer(),z=void 0,W=void 0,te=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(W=arguments.length<=0?void 0:arguments[0],C(w={},d.BLUR,3),C(w,d.POSTERIZE,4),C(w,d.THRESHOLD,.5),z=W in(w=w)&&(arguments.length<=1?void 0:arguments[1])===void 0?w[W]:arguments.length<=1?void 0:arguments[1],W in this.defaultFilterShaders||(this.defaultFilterShaders[W]=new h.default.Shader(N._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,k[W])),this.filterShader=this.defaultFilterShaders[W]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),V=(this.matchSize(N,te),N.draw(function(){return H._pInst.clear()}),[1/(te.width*te.pixelDensity()),1/(te.height*te.pixelDensity())]);W===d.BLUR?(D=this.getFilterLayerTemp(),this.matchSize(D,te),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(d.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",V),this.filterShader.setUniform("canvasSize",[te.width,te.height]),this.filterShader.setUniform("radius",Math.max(1,z)),D.draw(function(){H.filterShader.setUniform("direction",[1,0]),H.filterShader.setUniform("tex0",te),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(te.width,te.height)}),N.draw(function(){H.filterShader.setUniform("direction",[0,1]),H.filterShader.setUniform("tex0",D),H._pInst.clear(),H._pInst.shader(H.filterShader),H._pInst.noLights(),H._pInst.plane(te.width,te.height)}),this._pInst.pop()):N.draw(function(){H._pInst.noStroke(),H._pInst.blendMode(d.BLEND),H._pInst.shader(H.filterShader),H.filterShader.setUniform("tex0",te),H.filterShader.setUniform("texelSize",V),H.filterShader.setUniform("canvasSize",[te.width,te.height]),H.filterShader.setUniform("filterParameter",z),H._pInst.noLights(),H._pInst.plane(te.width,te.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(d.CORNER),this._pInst.blendMode(d.BLEND),te.filterCamera._resize(),this._pInst.setCamera(te.filterCamera),this._pInst.resetMatrix(),this._pInst.image(N,-te.width/2,-te.height/2,te.width,te.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(w){return w?this._pInst.pixelDensity(w):this._pInst.pixelDensity()}},{key:"blendMode",value:function(w){w===d.DARKEST||w===d.LIGHTEST||w===d.ADD||w===d.BLEND||w===d.SUBTRACT||w===d.SCREEN||w===d.EXCLUSION||w===d.REPLACE||w===d.MULTIPLY||w===d.REMOVE?this.curBlendMode=w:w!==d.BURN&&w!==d.OVERLAY&&w!==d.HARD_LIGHT&&w!==d.SOFT_LIGHT&&w!==d.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(w,D){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(d.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,w/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,D/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},w=(r(f(P.prototype),"beginClip",this).call(this,w),this.drawTarget()._isClipApplied=!0,this.GL);w.clearStencil(0),w.clear(w.STENCIL_BUFFER_BIT),w.enable(w.STENCIL_TEST),this._stencilTestOn=!0,w.stencilFunc(w.ALWAYS,1,255),w.stencilOp(w.KEEP,w.KEEP,w.REPLACE),w.disable(w.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var w=this.GL;w.stencilOp(w.KEEP,w.KEEP,w.KEEP),w.stencilFunc(this._clipInvert?w.EQUAL:w.NOTEQUAL,0,255),w.enable(w.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),r(f(P.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(w){this.curStrokeWeight!==w&&(this.pointSize=w,this.curStrokeWeight=w)}},{key:"_getPixel",value:function(w,D){var H=this.GL;return B(H,null,w,D,H.RGBA,H.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var w,D,H=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(w=this._pInst._pixelDensity,D=this.GL,H._setProperty("pixels",F(H.pixels,D,null,0,0,this.width*w,this.height*w,D.RGBA,D.UNSIGNED_BYTE,this.height*w)))}},{key:"updatePixels",value:function(){var w=this._getTempFramebuffer();w.pixels=this._pixelsState.pixels,w.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(d.CENTER),this._pInst.image(w,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:d.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:d.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(w){return this.retainedMode.geometry[w]!==void 0}},{key:"viewport",value:function(w,D){this._viewport=[0,0,w,D],this.GL.viewport(0,0,w,D)}},{key:"resize",value:function(z,N){h.default.Renderer.prototype.resize.call(this,z,N),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var z=this._pixelsState,H=(z.pixels!==void 0&&z._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),N=!1,z=void 0;try{for(var W,te=this.framebuffers[Symbol.iterator]();!(H=(W=te.next()).done);H=!0)W.value._canvasSizeChanged()}catch(V){N=!0,z=V}finally{try{H||te.return==null||te.return()}finally{if(N)throw z}}}},{key:"clear",value:function(){var w=(arguments.length<=0?void 0:arguments[0])||0,D=(arguments.length<=1?void 0:arguments[1])||0,H=(arguments.length<=2?void 0:arguments[2])||0,N=(arguments.length<=3?void 0:arguments[3])||0,z=this.activeFramebuffer();z&&z.format===d.UNSIGNED_BYTE&&!z.antialias&&N===0&&(N=1e-10),this.GL.clearColor(w*N,D*N,H*N,N),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(w,D,H,N,z,W){arguments.length===16?h.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([w,D,0,0,H,N,0,0,0,0,1,0,z,W,0,1])}},{key:"translate",value:function(w,D,H){return w instanceof h.default.Vector&&(H=w.z,D=w.y,w=w.x),this.uMVMatrix.translate([w,D,H]),this}},{key:"scale",value:function(w,D,H){return this.uMVMatrix.scale(w,D,H),this}},{key:"rotate",value:function(w,D){return D===void 0?this.rotateZ(w):(h.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(w){return this.rotate(w,1,0,0),this}},{key:"rotateY",value:function(w){return this.rotate(w,0,1,0),this}},{key:"rotateZ",value:function(w){return this.rotate(w,0,0,1),this}},{key:"push",value:function(){var w=h.default.Renderer.prototype.push.apply(this),D=w.properties;return D.uMVMatrix=this.uMVMatrix.copy(),D.uPMatrix=this.uPMatrix.copy(),D._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),D.ambientLightColors=this.ambientLightColors.slice(),D.specularColors=this.specularColors.slice(),D.directionalLightDirections=this.directionalLightDirections.slice(),D.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),D.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),D.pointLightPositions=this.pointLightPositions.slice(),D.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),D.pointLightSpecularColors=this.pointLightSpecularColors.slice(),D.spotLightPositions=this.spotLightPositions.slice(),D.spotLightDirections=this.spotLightDirections.slice(),D.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),D.spotLightSpecularColors=this.spotLightSpecularColors.slice(),D.spotLightAngle=this.spotLightAngle.slice(),D.spotLightConc=this.spotLightConc.slice(),D.userFillShader=this.userFillShader,D.userStrokeShader=this.userStrokeShader,D.userPointShader=this.userPointShader,D.pointSize=this.pointSize,D.curStrokeWeight=this.curStrokeWeight,D.curStrokeColor=this.curStrokeColor,D.curFillColor=this.curFillColor,D.curAmbientColor=this.curAmbientColor,D.curSpecularColor=this.curSpecularColor,D.curEmissiveColor=this.curEmissiveColor,D._hasSetAmbient=this._hasSetAmbient,D._useSpecularMaterial=this._useSpecularMaterial,D._useEmissiveMaterial=this._useEmissiveMaterial,D._useShininess=this._useShininess,D._useMetalness=this._useMetalness,D.constantAttenuation=this.constantAttenuation,D.linearAttenuation=this.linearAttenuation,D.quadraticAttenuation=this.quadraticAttenuation,D._enableLighting=this._enableLighting,D._useNormalMaterial=this._useNormalMaterial,D._tex=this._tex,D.drawMode=this.drawMode,D._currentNormal=this._currentNormal,D.curBlendMode=this.curBlendMode,D.activeImageLight=this.activeImageLight,w}},{key:"pop",value:function(){var w;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var D=arguments.length,H=new Array(D),N=0;N<D;N++)H[N]=arguments[N];(w=r(f(P.prototype),"pop",this)).call.apply(w,[this].concat(H)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var w=this.drawTarget();w._isClipApplied!==this._stencilTestOn&&(w._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var w=this.userStrokeShader;return w&&w.isStrokeShader()?w:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(w){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(O)),this.uNMatrix.inverseTranspose(this.uMVMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",w),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var w=this.userFillShader;if(this._useNormalMaterial&&(!w||!w.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!w||!w.isLightShader())return this._getLightShader()}else if(this._tex){if(!w||!w.isTextureShader())return this._getLightShader()}else if(!w)return this._getImmediateModeShader();return w}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var w=this.userFillShader;if(this._enableLighting){if(!w||!w.isLightShader())return this._getLightShader()}else if(this._tex){if(!w||!w.isTextureShader())return this._getLightShader()}else if(!w)return this._getColorShader();return w}},{key:"_getImmediatePointShader",value:function(){var w=this.userPointShader;return w&&w.isPointShader()?w:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+S.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+S.phongFrag):this._defaultLightShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+S.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+S.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+S.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+S.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+S.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+S.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+S.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+S.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+S.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+S.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+S.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+S.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===d.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new h.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+S.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+S.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(w,D){var H="";return this.webglVersion===d.WEBGL2&&(H+=`#version 300 es
#define WEBGL2
`),w==="vert"?H+=`#define VERTEX_SHADER
`:w==="frag"&&(H+=`#define FRAGMENT_SHADER
`),D&&(H+="precision ".concat(D,` float;
`)),H}},{key:"_getEmptyTexture",value:function(){var w;return this._emptyTexture||((w=new h.default.Image(1,1)).set(0,0,255),this._emptyTexture=new h.default.Texture(this,w)),this._emptyTexture}},{key:"getTexture",value:function(w){w instanceof h.default.Framebuffer&&(w=w.color);var D=this.textures.get(w);return D||(D=new h.default.Texture(this,w),this.textures.set(w,D),D)}},{key:"getDiffusedTexture",value:function(w){var D,H,N=this;return this.diffusedTextures.get(w)!=null?this.diffusedTextures.get(w):(D=Math.floor(w.height/w.width*200),H=this._pInst.createFramebuffer({width:200,height:D,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(S.imageLightVert,S.imageLightDiffusedFrag)),H.draw(function(){N._pInst.shader(N.diffusedShader),N.diffusedShader.setUniform("environmentMap",w),N._pInst.noStroke(),N._pInst.rectMode(d.CENTER),N._pInst.noLights(),N._pInst.rect(0,0,200,D)}),this.diffusedTextures.set(w,H),H)}},{key:"getSpecularTexture",value:function(w){var D=this;if(this.specularTextures.get(w)!=null)return this.specularTextures.get(w);for(var H,N=[],z=this._pInst.createFramebuffer({width:512,height:512,density:1}),W=Math.log(512)/Math.log(2),te=(this.specularShader||(this.specularShader=this._pInst.createShader(S.imageLightVert,S.imageLightSpecularFrag)),512);1<=te;te/=2)(function(V){z.resize(V,V);var Z=1-Math.log(V)/Math.log(2)/W;z.draw(function(){D._pInst.shader(D.specularShader),D._pInst.clear(),D.specularShader.setUniform("environmentMap",w),D.specularShader.setUniform("roughness",Z),D._pInst.noStroke(),D._pInst.noLights(),D._pInst.plane(V,V)}),N.push(z.get().drawingContext.getImageData(0,0,V,V))})(te);return z.remove(),H=new n.MipmapTexture(this,N,{}),this.specularTextures.set(w,H),H}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(w){return new h.default.Framebuffer(this,w)}},{key:"_setStrokeUniforms",value:function(w){w.bindShader(),w.setUniform("uUseLineColor",this._useLineColor),w.setUniform("uMaterialColor",this.curStrokeColor),w.setUniform("uStrokeWeight",this.curStrokeWeight),w.setUniform("uStrokeCap",T[this.curStrokeCap]),w.setUniform("uStrokeJoin",_[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(w){var D=this,H=(w.bindShader(),this.mixedSpecularColor=l(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(N,z){return D.curFillColor[z]*D._useMetalness+N*(1-D._useMetalness)})),w.setUniform("uUseVertexColor",this._useVertexColor),w.setUniform("uMaterialColor",this.curFillColor),w.setUniform("isTexture",!!this._tex),this._tex&&w.setUniform("uSampler",this._tex),w.setUniform("uTint",this._tint),w.setUniform("uHasSetAmbient",this._hasSetAmbient),w.setUniform("uAmbientMatColor",this.curAmbientColor),w.setUniform("uSpecularMatColor",this.mixedSpecularColor),w.setUniform("uEmissiveMatColor",this.curEmissiveColor),w.setUniform("uSpecular",this._useSpecularMaterial),w.setUniform("uEmissive",this._useEmissiveMaterial),w.setUniform("uShininess",this._useShininess),w.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(w),w.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),H=(w.setUniform("uPointLightCount",H),w.setUniform("uPointLightLocation",this.pointLightPositions),w.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),w.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),H=(w.setUniform("uDirectionalLightCount",H),w.setUniform("uLightingDirection",this.directionalLightDirections),w.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),w.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),H=(this.mixedAmbientLight=l(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(N){return N-=D._useMetalness,Math.max(0,N)})),w.setUniform("uAmbientLightCount",H),w.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);w.setUniform("uSpotLightCount",H),w.setUniform("uSpotLightAngle",this.spotLightAngle),w.setUniform("uSpotLightConc",this.spotLightConc),w.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),w.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),w.setUniform("uSpotLightLocation",this.spotLightPositions),w.setUniform("uSpotLightDirection",this.spotLightDirections),w.setUniform("uConstantAttenuation",this.constantAttenuation),w.setUniform("uLinearAttenuation",this.linearAttenuation),w.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),w.bindTextures()}},{key:"_setImageLightUniforms",value:function(w){var D,H;w.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(D=this.getDiffusedTexture(this.activeImageLight),w.setUniform("environmentMapDiffused",D),D=this.getSpecularTexture(this.activeImageLight),H=20/this._useShininess,w.setUniform("levelOfDetail",8*H),w.setUniform("environmentMapSpecular",D))}},{key:"_setPointUniforms",value:function(w){w.bindShader(),w.setUniform("uMaterialColor",this.curStrokeColor),w.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(w,D,H,N,z){D=D||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(D,w),H!==void 0&&((w=H)instanceof h.default.DataArray?w=H.dataArray():w instanceof(N||Float32Array)||(w=new(N||Float32Array)(w)),this.GL.bufferData(D,w,z||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(w,D){return w.length===D.length&&w.every(function(H,N){return H===D[N]})}},{key:"_isTypedArray",value:function(w){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(D){return w instanceof D})}},{key:"_flatten",value:function(w){return w.flat()}},{key:"_vToNArray",value:function(w){return w.flatMap(function(D){return[D.x,D.y,D.z]})}},{key:"_bezierCoefficients",value:function(w){var D=w*w,H=1-w,N=H*H;return[N*H,3*N*w,3*H*D,D*w]}},{key:"_quadraticCoefficients",value:function(w){var D=1-w;return[D*D,2*D*w,w*w]}},{key:"_bezierToCatmull",value:function(w){return[w[1],w[1]+(w[2]-w[0])/this._curveTightness,w[2]-(w[3]-w[1])/this._curveTightness,w[2]]}},{key:"_initTessy",value:function(){var w=new m.default.GluTesselator;return w.gluTessCallback(m.default.gluEnum.GLU_TESS_VERTEX_DATA,function(D,H){var N=!0,z=!1,W=void 0;try{for(var te,V=D[Symbol.iterator]();!(N=(te=V.next()).done);N=!0){var Z=te.value;H.push(Z)}}catch(Y){z=!0,W=Y}finally{try{N||V.return==null||V.return()}finally{if(z)throw W}}}),w.gluTessCallback(m.default.gluEnum.GLU_TESS_BEGIN,function(D){D!==m.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(D))}),w.gluTessCallback(m.default.gluEnum.GLU_TESS_ERROR,function(D){console.log("error callback"),console.log("error number: ".concat(D))}),w.gluTessCallback(m.default.gluEnum.GLU_TESS_COMBINE,function(D,H,N){for(var z=new Array(h.default.RendererGL.prototype.tessyVertexSize).fill(0),W=0;W<N.length;W++)for(var te=0;te<z.length;te++)N[W]!==0&&H[W]&&(z[te]+=H[W][te]*N[W]);return z}),w.gluTessCallback(m.default.gluEnum.GLU_TESS_EDGE_FLAG,function(D){}),w.gluTessProperty(m.default.gluEnum.GLU_TESS_WINDING_RULE,m.default.windingRule.GLU_TESS_WINDING_NONZERO),w}},{key:"_triangulate",value:function(w){var D=w[0]?w[0][2]:void 0,H=!0,N=!0,Z=!1,q=void 0;try{for(var z,W=w[Symbol.iterator]();!(N=(z=W.next()).done);N=!0)for(var te=z.value,V=0;V<te.length;V+=h.default.RendererGL.prototype.tessyVertexSize)if(te[V+2]!==D){H=!1;break}}catch(Me){Z=!0,q=Me}finally{try{N||W.return==null||W.return()}finally{if(Z)throw q}}H?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var Z=[],Y=(this._tessy.gluTessBeginPolygon(Z),!0),q=!1,J=void 0;try{for(var re,ue=w[Symbol.iterator]();!(Y=(re=ue.next()).done);Y=!0){var ae=re.value;this._tessy.gluTessBeginContour();for(var he=0;he<ae.length;he+=h.default.RendererGL.prototype.tessyVertexSize){var be=ae.slice(he,he+h.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(be,be)}this._tessy.gluTessEndContour()}}catch(Me){q=!0,J=Me}finally{try{Y||ue.return==null||ue.return()}finally{if(q)throw J}}return this._tessy.gluTessEndPolygon(),Z}}])&&c(G.prototype,L),K&&c(G,K),P}(h.default.Renderer),h.default.prototype._assert3d=function(L){if(!this._renderer.isP3D)throw new Error("".concat(L,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},h.default.RendererGL.prototype.tessyVertexSize=12,p=h.default.RendererGL,I.default=p},{"../core/constants":269,"../core/main":280,"../core/p5.Renderer":283,"./GeometryBuilder":324,"./p5.Camera":329,"./p5.Framebuffer":331,"./p5.Matrix":333,"./p5.Shader":338,"./p5.Texture":339,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.every":154,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.flat-map":158,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.array.unscopables.flat-map":171,"core-js/modules/es.map":174,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.float64-array":217,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int16-array":221,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,libtess:252,path:255}],338:[function(t,X,I){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var y=(t=t("../core/main"))&&t.__esModule?t:{default:t};function b(h,d){for(var v=0;v<d.length;v++){var m=d[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}y.default.Shader=function(){function h(n,i,a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this._renderer=n,this._vertSrc=i,this._fragSrc=a,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var d,v,m;return d=h,(v=[{key:"init",value:function(){if(this._glProgram===0){var n=this._renderer.GL;if(this._vertShader=n.createShader(n.VERTEX_SHADER),n.shaderSource(this._vertShader,this._vertSrc),n.compileShader(this._vertShader),!n.getShaderParameter(this._vertShader,n.COMPILE_STATUS))return y.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(n.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=n.createShader(n.FRAGMENT_SHADER),n.shaderSource(this._fragShader,this._fragSrc),n.compileShader(this._fragShader),!n.getShaderParameter(this._fragShader,n.COMPILE_STATUS))return y.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(n.getShaderInfoLog(this._fragShader))),null;this._glProgram=n.createProgram(),n.attachShader(this._glProgram,this._vertShader),n.attachShader(this._glProgram,this._fragShader),n.linkProgram(this._glProgram),n.getProgramParameter(this._glProgram,n.LINK_STATUS)||y.default._friendlyError("Snap! Error linking shader program: ".concat(n.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(n){var i=new y.default.Shader(n._renderer,this._vertSrc,this._fragSrc);return i.ensureCompiledOnContext(n),i}},{key:"ensureCompiledOnContext",value:function(n){if(this._glProgram!==0&&this._renderer!==n._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=n._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var n=this._renderer.GL,i=n.getProgramParameter(this._glProgram,n.ACTIVE_ATTRIBUTES),a=0;a<i;++a){var l=n.getActiveAttrib(this._glProgram,a),c=l.name,r=n.getAttribLocation(this._glProgram,c),s={};s.name=c,s.location=r,s.index=a,s.type=l.type,s.size=l.size,this.attributes[c]=s}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var n=this._renderer.GL,i=n.getProgramParameter(this._glProgram,n.ACTIVE_UNIFORMS),a=0,l=0;l<i;++l){var c=n.getActiveUniform(this._glProgram,l),r={},s=(r.location=n.getUniformLocation(this._glProgram,c.name),r.size=c.size,c.name);1<c.size&&(s=s.substring(0,s.indexOf("[0]"))),r.name=s,r.type=c.type,r._cachedData=void 0,r.type===n.SAMPLER_2D&&(r.samplerIndex=a,a++,this.samplers.push(r)),r.isArray=1<c.size||r.type===n.FLOAT_MAT3||r.type===n.FLOAT_MAT4||r.type===n.FLOAT_VEC2||r.type===n.FLOAT_VEC3||r.type===n.FLOAT_VEC4||r.type===n.INT_VEC2||r.type===n.INT_VEC4||r.type===n.INT_VEC3,this.uniforms[s]=r}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var n=this._renderer.GL,i=!0,a=!1,l=void 0;try{for(var c,r=this.samplers[Symbol.iterator]();!(i=(c=r.next()).done);i=!0){var s=c.value,o=s.texture;o===void 0&&(o=this._renderer._getEmptyTexture()),n.activeTexture(n.TEXTURE0+s.samplerIndex),o.bindTexture(),o.update(),n.uniform1i(s.location,s.samplerIndex)}}catch(u){a=!0,l=u}finally{try{i||r.return==null||r.return()}finally{if(a)throw l}}}},{key:"updateTextures",value:function(){var n=!0,i=!1,a=void 0;try{for(var l,c=this.samplers[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var r=l.value.texture;r&&r.update()}}catch(s){i=!0,a=s}finally{try{n||c.return==null||c.return()}finally{if(i)throw a}}}},{key:"unbindTextures",value:function(){var n=!0,i=!1,a=void 0;try{for(var l,c=this.samplers[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var r=l.value;this.setUniform(r.name,this._renderer._getEmptyTexture())}}catch(s){i=!0,a=s}finally{try{n||c.return==null||c.return()}finally{if(i)throw a}}}},{key:"_setMatrixUniforms",value:function(){var n=this._renderer._curCamera.cameraMatrix,i=this._renderer.uPMatrix,a=this._renderer.uMVMatrix,l=a.copy();l.mult(i),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",n.mat4),this.setUniform("uProjectionMatrix",i.mat4),this.setUniform("uModelViewMatrix",a.mat4),this.setUniform("uModelViewProjectionMatrix",l.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer._curCamera.cameraMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var n=this._renderer.GL;return this._renderer._curShader!==this&&(n.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(n,i){var a=this.uniforms[n];if(a){var l=this._renderer.GL;if(a.isArray){if(a._cachedData&&this._renderer._arraysEqual(a._cachedData,i))return;a._cachedData=i.slice(0)}else{if(a._cachedData&&a._cachedData===i)return;Array.isArray(i)?a._cachedData=i.slice(0):a._cachedData=i}var c=a.location;switch(this.useProgram(),a.type){case l.BOOL:i===!0?l.uniform1i(c,1):l.uniform1i(c,0);break;case l.INT:1<a.size?i.length&&l.uniform1iv(c,i):l.uniform1i(c,i);break;case l.FLOAT:1<a.size?i.length&&l.uniform1fv(c,i):l.uniform1f(c,i);break;case l.FLOAT_MAT3:l.uniformMatrix3fv(c,!1,i);break;case l.FLOAT_MAT4:l.uniformMatrix4fv(c,!1,i);break;case l.FLOAT_VEC2:1<a.size?i.length&&l.uniform2fv(c,i):l.uniform2f(c,i[0],i[1]);break;case l.FLOAT_VEC3:1<a.size?i.length&&l.uniform3fv(c,i):l.uniform3f(c,i[0],i[1],i[2]);break;case l.FLOAT_VEC4:1<a.size?i.length&&l.uniform4fv(c,i):l.uniform4f(c,i[0],i[1],i[2],i[3]);break;case l.INT_VEC2:1<a.size?i.length&&l.uniform2iv(c,i):l.uniform2i(c,i[0],i[1]);break;case l.INT_VEC3:1<a.size?i.length&&l.uniform3iv(c,i):l.uniform3i(c,i[0],i[1],i[2]);break;case l.INT_VEC4:1<a.size?i.length&&l.uniform4iv(c,i):l.uniform4i(c,i[0],i[1],i[2],i[3]);break;case l.SAMPLER_2D:l.activeTexture(l.TEXTURE0+a.samplerIndex),a.texture=i instanceof y.default.Texture?i:this._renderer.getTexture(i),l.uniform1i(c,a.samplerIndex),a.texture.src.gifProperties&&a.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(n){return n!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(n,i,a,l,c,r){var s;return n&&(n=n.location)!==-1&&(s=this._renderer.GL,this._renderer.registerEnabled.has(n)||(s.enableVertexAttribArray(n),this._renderer.registerEnabled.add(n)),this._renderer.GL.vertexAttribPointer(n,i,a||s.FLOAT,l||!1,c||0,r||0)),this}},{key:"disableRemainingAttributes",value:function(){var n=this,i=!0,a=!1,l=void 0;try{for(var c,r=this._renderer.registerEnabled.values()[Symbol.iterator]();!(i=(c=r.next()).done);i=!0)(function(){var s=c.value;Object.keys(n.attributes).some(function(o){return n.attributes[o].location===s})||(n._renderer.GL.disableVertexAttribArray(s),n._renderer.registerEnabled.delete(s))})()}catch(s){a=!0,l=s}finally{try{i||r.return==null||r.return()}finally{if(a)throw l}}}}])&&b(d.prototype,v),m&&b(d,m),h}(),t=y.default.Shader,I.default=t},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],339:[function(t,X,I){"use strict";function y(o){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function b(o){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(I,"__esModule",{value:!0}),I.checkWebGLCapabilities=s,I.default=I.MipmapTexture=void 0;var h=(r=t("../core/main"))&&r.__esModule?r:{default:r},d=function(o){if(o&&o.__esModule)return o;if(o===null||b(o)!=="object"&&typeof o!="function")return{default:o};var u=v();if(u&&u.has(o))return u.get(o);var f,C={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in o){var j;Object.prototype.hasOwnProperty.call(o,f)&&((j=E?Object.getOwnPropertyDescriptor(o,f):null)&&(j.get||j.set)?Object.defineProperty(C,f,j):C[f]=o[f])}return C.default=o,u&&u.set(o,C),C}(t("../core/constants"));function v(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,v=function(){return o},o)}function m(o,u){return(m=Object.setPrototypeOf||function(f,C){return f.__proto__=C,f})(o,u)}function n(o){return function(){var u,f=i(o),f=(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(u=i(this).constructor,Reflect.construct(f,arguments,u)):f.apply(this,arguments),this);if(!u||b(u)!=="object"&&typeof u!="function"){if(f!==void 0)return f;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return u}}function i(o){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)})(o)}function a(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function l(o,u){for(var f=0;f<u.length;f++){var C=u[f];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(o,C.key,C)}}function c(o,u,f){u&&l(o.prototype,u),f&&l(o,f)}h.default.Texture=function(){function o(x,f,j){a(this,o),this._renderer=x;var E=this._renderer.GL,j=(j=j||{},this.src=f,this.glTex=void 0,this.glTarget=E.TEXTURE_2D,this.glFormat=j.format||E.RGBA,this.mipmaps=!1,this.glMinFilter=j.minFilter||E.LINEAR,this.glMagFilter=j.magFilter||E.LINEAR,this.glWrapS=j.wrapS||E.CLAMP_TO_EDGE,this.glWrapT=j.wrapT||E.CLAMP_TO_EDGE,this.glDataType=j.dataType||E.UNSIGNED_BYTE,s(x)),x=(this.glFormat!==E.HALF_FLOAT||j.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=E.FLOAT),this.glFormat!==E.HALF_FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||j.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.glFormat!==E.FLOAT||j.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=E.UNSIGNED_BYTE),this.glFormat!==E.FLOAT||this.glMinFilter!==E.LINEAR&&this.glMagFilter!==E.LINEAR||j.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===E.LINEAR&&(this.glMinFilter=E.NEAREST),this.glMagFilter===E.LINEAR&&(this.glMagFilter=E.NEAREST)),this.isSrcMediaElement=h.default.MediaElement!==void 0&&f instanceof h.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=h.default.Element!==void 0&&f instanceof h.default.Element&&!(f instanceof h.default.Graphics)&&!(f instanceof h.default.Renderer),this.isSrcP5Image=f instanceof h.default.Image,this.isSrcP5Graphics=f instanceof h.default.Graphics,this.isSrcP5Renderer=f instanceof h.default.Renderer,this.isImageData=typeof ImageData<"u"&&f instanceof ImageData,this.isFramebufferTexture=f instanceof h.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=x.width,this.height=x.height,this.init(x),this}return c(o,[{key:"_getTextureDataFromSource",value:function(){var u;return this.isFramebufferTexture?u=this.src.rawTexture():this.isSrcP5Image?u=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?u=this.src.elt:this.isImageData&&(u=this.src),u}},{key:"init",value:function(u){var f,C=this._renderer.GL;this.isFramebufferTexture||(this.glTex=C.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(f=new Uint8Array([1,1,1,1]),C.texImage2D(this.glTarget,0,C.RGBA,1,1,0,this.glFormat,this.glDataType,f)):C.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,u))}},{key:"update",value:function(){var u,f,C,E=this.src;return E.width!==0&&E.height!==0&&!this.isFramebufferTexture&&(u=this._getTextureDataFromSource(),f=!1,C=this._renderer.GL,u.width!==this.width||u.height!==this.height?(f=!0,this.width=u.width||E.width,this.height=u.height||E.height,this.isSrcP5Image?E.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&E.setModified(!0)):this.isSrcP5Image?E.isModified()&&E.setModified(!(f=!0)):this.isSrcMediaElement?E.isModified()?E.setModified(!(f=!0)):E.loadedmetadata&&this._videoPrevUpdateTime!==E.time()&&(this._videoPrevUpdateTime=E.time(),f=!0):this.isImageData?E._dirty&&(f=!(E._dirty=!1)):f=!0,f&&(this.bindTexture(),C.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,u)),f)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(u,f){var C=this._renderer.GL;this.glMinFilter=this.glFilter(u),this.glMagFilter=this.glFilter(f),this.bindTexture(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.glMinFilter),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(u){var f=this._renderer.GL;return u===d.NEAREST?f.NEAREST:f.LINEAR}},{key:"setWrapMode",value:function(u,f){function C(T){return(T&T-1)==0}var E=this._renderer.GL,x=this._getTextureDataFromSource(),x=x.naturalWidth&&x.naturalHeight?(j=x.naturalWidth,x.naturalHeight):(j=this.width,this.height),j=C(j),x=C(x);u===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||j&&x?this.glWrapS=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):u===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||j&&x?this.glWrapS=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=E.CLAMP_TO_EDGE):this.glWrapS=E.CLAMP_TO_EDGE,f===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||j&&x?this.glWrapT=E.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):f===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||j&&x?this.glWrapT=E.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=E.CLAMP_TO_EDGE):this.glWrapT=E.CLAMP_TO_EDGE,this.bindTexture(),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,this.glWrapS),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),o}();var r=function(o){var u=C;if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),o&&m(u,o);var f=n(C);function C(E,j,x){return a(this,C),j=(E=f.call(this,E,j,x))._renderer.GL,E.glMinFilter===j.LINEAR&&(E.glMinFilter=j.LINEAR_MIPMAP_LINEAR),E}return c(C,[{key:"glFilter",value:function(E){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(E){var j=this._renderer.GL;this.glTex=j.createTexture(),this.bindTexture();for(var x=0;x<E.length;x++)j.texImage2D(this.glTarget,x,this.glFormat,this.glFormat,this.glDataType,E[x]);this.glMinFilter=j.LINEAR_MIPMAP_LINEAR,j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,this.glMagFilter),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),C}(h.default.Texture);function s(E){var u=E.GL,E=E.webglVersion,f=E===d.WEBGL2?u.getExtension("EXT_color_buffer_float")&&u.getExtension("EXT_float_blend"):u.getExtension("OES_texture_float"),C=f&&u.getExtension("OES_texture_float_linear"),E=E===d.WEBGL2?u.getExtension("EXT_color_buffer_float"):u.getExtension("OES_texture_half_float");return{float:f,floatLinear:C,halfFloat:E,halfFloatLinear:E&&u.getExtension("OES_texture_half_float_linear")}}I.MipmapTexture=r,t=h.default.Texture,I.default=t},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],340:[function(t,X,I){"use strict";function y(o){return(y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function b(o){return(b=typeof Symbol=="function"&&y(Symbol.iterator)==="symbol"?function(u){return y(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":y(u)})(o)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var h,d=(h=t("../core/main"))&&h.__esModule?h:{default:h},v=function(o){if(o&&o.__esModule)return o;if(o===null||b(o)!=="object"&&typeof o!="function")return{default:o};var u=m();if(u&&u.has(o))return u.get(o);var f,C={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in o){var j;Object.prototype.hasOwnProperty.call(o,f)&&((j=E?Object.getOwnPropertyDescriptor(o,f):null)&&(j.get||j.set)?Object.defineProperty(C,f,j):C[f]=o[f])}return C.default=o,u&&u.set(o,C),C}(t("../core/constants"));function m(){var o;return typeof WeakMap!="function"?null:(o=new WeakMap,m=function(){return o},o)}function n(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function i(o,u){for(var f=0;f<u.length;f++){var C=u[f];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(o,C.key,C)}}function a(o,u,f){u&&i(o.prototype,u),f&&i(o,f)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),d.default.RendererGL.prototype._applyTextProperties=function(){},d.default.RendererGL.prototype.textWidth=function(o){return this._isOpenType()?this._textFont._textWidth(o,this._textSize):0};var l=function(){function o(u,f){n(this,o),this.width=u,this.height=f,this.infos=[]}return a(o,[{key:"findImage",value:function(u){var f,C,E=this.width*this.height;if(E<u)throw new Error("font is too complex to render in 3D");for(var j=this.infos.length-1;0<=j;--j){var x=this.infos[j];if(x.index+u<E){C=(f=x).imageData;break}}if(!f){try{C=new ImageData(this.width,this.height)}catch{var T=document.getElementsByTagName("canvas")[0],_=!T,M=(T||((T=document.createElement("canvas")).style.display="none",document.body.appendChild(T)),T.getContext("2d"));M&&(C=M.createImageData(this.width,this.height)),_&&document.body.removeChild(T)}this.infos.push(f={index:0,imageData:C})}return M=f.index,f.index+=u,C._dirty=!0,{imageData:C,index:M}}}]),o}();function c(x,u,f,C,E){var j=x.imageData.data,x=4*x.index++;j[x++]=u,j[x++]=f,j[x++]=C,j[+x]=E}var r=Math.sqrt(3),s=function(){function o(u){n(this,o),this.font=u,this.strokeImageInfos=new l(64,64),this.colDimImageInfos=new l(64,64),this.rowDimImageInfos=new l(64,64),this.colCellImageInfos=new l(64,64),this.rowCellImageInfos=new l(64,64),this.glyphInfos={}}return a(o,[{key:"getGlyphInfo",value:function(u){var f=this.glyphInfos[u.index];if(!f){var C=u.getBoundingBox(),E=C.x1,j=C.y1,x=C.x2-E,T=C.y2-j,_=u.path.commands;if(x==0||T==0||!_.length)return this.glyphInfos[u.index]={};for(var M=[],p=[],S=[],O=8;0<=O;--O)S.push([]);for(O=8;0<=O;--O)p.push([]);var k,F,B,L,G=function(){function ge(ve,Se,je,me){n(this,ge),this.p0=ve,this.c0=Se,this.c1=je,this.p1=me}return a(ge,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return d.default.Vector.sub(d.default.Vector.sub(this.p1,this.p0),d.default.Vector.mult(d.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(we){var Se=d.default.Vector.lerp(this.p0,this.c0,we),me=d.default.Vector.lerp(this.c0,this.c1,we),je=d.default.Vector.lerp(Se,me,we),me=(this.c1=d.default.Vector.lerp(this.c1,this.p1,we),this.c0=d.default.Vector.lerp(me,this.c1,we),d.default.Vector.lerp(je,this.c0,we)),we=new ge(this.p0,Se,je,me);return this.p0=me,we}},{key:"splitInflections",value:function(){var ve=d.default.Vector.sub(this.c0,this.p0),Se=d.default.Vector.sub(d.default.Vector.sub(this.c1,this.c0),ve),je=d.default.Vector.sub(d.default.Vector.sub(d.default.Vector.sub(this.p1,this.c1),ve),d.default.Vector.mult(Se,2)),me=[],we=Se.x*je.y-Se.y*je.x;return we!==0&&0<=(ve=(je=ve.x*je.y-ve.y*je.x)*je-4*we*(ve.x*Se.y-ve.y*Se.x))&&(we<0&&(we=-we,je=-je),ve=(-je+(Se=Math.sqrt(ve)))/(2*we),0<(je=(-je-Se)/(2*we))&&je<1&&(me.push(this.split(je)),ve=1-(1-ve)/(1-je)),0<ve&&ve<1&&me.push(this.split(ve))),me.push(this),me}}]),ge}(),K=!0,$=!1,P=void 0;try{for(var w,D=_[Symbol.iterator]();!(K=(w=D.next()).done);K=!0){var H=w.value,N=(H.x-E)/x,z=(H.y-j)/T;if(!le(k,F,N,z)){switch(H.type){case"M":B=N,L=z;break;case"L":Me(k,F,N,z);break;case"Q":var W=(H.x1-E)/x,te=(H.y1-j)/T;he([k,N,W],[F,z,te],{x:k,y:F,cx:W,cy:te});break;case"Z":le(k,F,B,L)?M.push({x:k,y:F}):(Me(k,F,B,L),M.push({x:B,y:L}));break;case"C":for(var V=function(ce,Ee,Pe,je,me,we,xe,oe){var ce=new G(new d.default.Vector(ce,Ee),new d.default.Vector(Pe,je),new d.default.Vector(me,we),new d.default.Vector(xe,oe)).splitInflections(),se=[],fe=30/r,ke=!0,Ee=!1,Pe=void 0;try{for(var Be,Ge=ce[Symbol.iterator]();!(ke=(Be=Ge.next()).done);ke=!0){for(var He=Be.value,qe=[],et=void 0;!(.125<=(et=fe/He.quadError()));){var Qe=Math.pow(et,.3333333333333333),Ye=He.split(Qe),nt=He.split(1-Qe/(1-Qe));se.push(Ye),qe.push(He),He=nt}et<1&&se.push(He.split(.5)),se.push(He),Array.prototype.push.apply(se,qe.reverse())}}catch(Je){Ee=!0,Pe=Je}finally{try{ke||Ge.return==null||Ge.return()}finally{if(Ee)throw Pe}}return se}(k,F,(H.x1-E)/x,(H.y1-j)/T,(H.x2-E)/x,(H.y2-j)/T,N,z),Z=0;Z<V.length;Z++){var Y=V[Z].toQuadratic();he([Y.x,Y.x1,Y.cx],[Y.y,Y.y1,Y.cy],Y)}break;default:throw new Error("unknown command type: ".concat(H.type))}k=N,F=z}}}catch(ge){$=!0,P=ge}finally{try{K||D.return==null||D.return()}finally{if($)throw P}}for(var q=M.length,J=this.strokeImageInfos.findImage(q),re=J.index,ue=0;ue<q;++ue){var ae=M[ue];c(J,be(ae.x),be(ae.y),be(ae.cx),be(ae.cy))}(f=this.glyphInfos[u.index]={glyph:u,uGlyphRect:[C.x1,-C.y1,C.x2,-C.y2],strokeImageInfo:J,strokes:M,colInfo:pe(S,this.colDimImageInfos,this.colCellImageInfos),rowInfo:pe(p,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[f.colInfo.dimOffset,f.rowInfo.dimOffset]}return f;function he(ge,ve,Se){var je=M.length;function me(se,fe,ke){for(var Ee=se.length;0<Ee--;){var Pe=se[Ee];Pe<fe&&(fe=Pe),ke<Pe&&(ke=Pe)}return{min:fe,max:ke}}M.push(Se);for(var Se=me(ge,1,0),ge=Math.max(Math.floor(9*Se.min-.5),0),we=Math.min(Math.ceil(9*Se.max+.5),9),xe=ge;xe<we;++xe)S[xe].push(je);for(var Se=me(ve,1,0),ge=Math.max(Math.floor(9*Se.min-.5),0),oe=Math.min(Math.ceil(9*Se.max+.5),9),ce=ge;ce<oe;++ce)p[ce].push(je)}function be(ge){return(ge=(Se=255)*ge)<(ve=0)?ve:Se<ge?Se:ge;var ve,Se}function Me(ge,ve,Se,je){he([ge,Se],[ve,je],{x:ge,y:ve,cx:(ge+Se)/2,cy:(ve+je)/2})}function le(ge,ve,Se,je){return Math.abs(Se-ge)<1e-5&&Math.abs(je-ve)<1e-5}function pe(ge,ve,Se){for(var je=ge.length,me=ve.findImage(je),ve=me.index,we=0,xe=0;xe<je;++xe)we+=ge[xe].length;for(var oe=Se.findImage(we),ce=0;ce<je;++ce){var se=ge[ce],fe=se.length,ke=oe.index;c(me,ke>>7,127&ke,fe>>7,127&fe);for(var Ee=0;Ee<fe;++Ee){var Pe=se[Ee]+re;c(oe,Pe>>7,127&Pe,0,0)}}return{cellImageInfo:oe,dimOffset:ve,dimImageInfo:me}}}}]),o}();d.default.RendererGL.prototype._renderText=function(o,u,f,C,E){if(this._textFont&&typeof this._textFont!="string"){if(!(E<=C)&&this._doFill){if(this._isOpenType()){o.push();var E=this._doStroke,j=this.drawMode,x=(this._doStroke=!1,this.drawMode=v.TEXTURE,this._textFont.font),T=(T=this._textFont._fontInfo)||(this._textFont._fontInfo=new s(x)),f=this._textFont._handleAlignment(this,u,f,C),C=this._textSize/x.unitsPerEm,_=(this.translate(f.x,f.y,0),this.scale(C,C,1),this.GL),f=!this._defaultFontShader,M=this._getFontShader(),p=(M.init(),M.bindShader(),f&&(M.setUniform("uGridImageSize",[64,64]),M.setUniform("uCellsImageSize",[64,64]),M.setUniform("uStrokeImageSize",[64,64]),M.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),S=(p||((C=this._textGeom=new d.default.Geometry(1,1,function(){for(var Z=0;Z<=1;Z++)for(var Y=0;Y<=1;Y++)this.vertices.push(new d.default.Vector(Y,Z,0)),this.uvs.push(Y,Z)})).computeFaces().computeNormals(),p=this.createBuffers("glyph",C)),!0),f=!1,C=void 0;try{for(var O,k=this.retainedMode.buffers.text[Symbol.iterator]();!(S=(O=k.next()).done);S=!0)O.value._prepareBuffer(p,M)}catch(Z){f=!0,C=Z}finally{try{S||k.return==null||k.return()}finally{if(f)throw C}}this._bindBuffer(p.indexBuffer,_.ELEMENT_ARRAY_BUFFER),M.setUniform("uMaterialColor",this.curFillColor),_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var F=0,B=null,L=x.stringToGlyphs(u),G=!0,K=!1,$=void 0;try{for(var P,w=L[Symbol.iterator]();!(G=(P=w.next()).done);G=!0){var D,H,N=P.value,z=(B&&(F+=x.getKerningValue(B,N)),T.getGlyphInfo(N));z.uGlyphRect&&(D=z.rowInfo,H=z.colInfo,M.setUniform("uSamplerStrokes",z.strokeImageInfo.imageData),M.setUniform("uSamplerRowStrokes",D.cellImageInfo.imageData),M.setUniform("uSamplerRows",D.dimImageInfo.imageData),M.setUniform("uSamplerColStrokes",H.cellImageInfo.imageData),M.setUniform("uSamplerCols",H.dimImageInfo.imageData),M.setUniform("uGridOffset",z.uGridOffset),M.setUniform("uGlyphRect",z.uGlyphRect),M.setUniform("uGlyphOffset",F),M.bindTextures(),_.drawElements(_.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),F+=N.advanceWidth,B=N}}catch(Z){K=!0,$=Z}finally{try{G||w.return==null||w.return()}finally{if(K)throw $}}}finally{M.unbindShader(),this._doStroke=E,this.drawMode=j,_.pixelStorei(_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),o.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return o}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":269,"../core/main":280,"./p5.RendererGL.Retained":336,"./p5.Shader":338,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}]},{},[264])(264)})});var Ys=(()=>{class _e{constructor(de,t){this.el=de,this._zone=t,this.updateChange=new wr(!0),this.chartInstance=new wr}ngOnChanges(de){let t=de.update&&de.update.currentValue;(de.options||t)&&(this.wrappedUpdateOrCreateChart(),t&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){this.chart&&this.chart.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null,this.chartInstance.emit(this.chart))}static{this.\u0275fac=function(t){return new(t||_e)(Nt(Hr),Nt(Hs))}}static{this.\u0275cmp=or({type:_e,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},standalone:!1,features:[zr],decls:0,vars:0,template:function(t,X){},encapsulation:2})}}return _e})(),Zs=(()=>{class _e{static{this.\u0275fac=function(t){return new(t||_e)}}static{this.\u0275mod=Wr({type:_e})}static{this.\u0275inj=Vr({})}}return _e})();var lo=Rs(Ks());function Qs(_e){let ee=Jt(()=>_e());return to(ee)?new Proxy(_e,{get(de,t){return t in ee?(Ws(de[t])||Object.defineProperty(de,t,{value:ar(()=>de()[t]),configurable:!0}),Qs(de[t])):de[t]}}):_e}function to(_e){return _e?.constructor===Object}var ro=new WeakMap,lr=Symbol("STATE_SOURCE");function ai(_e,...ee){_e[lr].update(de=>ee.reduce((t,X)=>at(at({},t),typeof X=="function"?X(t):X),de)),no(_e)}function io(_e){return _e[lr]()}function so(_e){return ro.get(_e[lr])||[]}function no(_e){let ee=so(_e);for(let de of ee){let t=Jt(()=>io(_e));de(t)}}function li(..._e){let ee=[..._e],de=typeof ee[0]=="function"?{}:ee.shift(),t=ee;return(()=>{class I{constructor(){let b=t.reduce((l,c)=>c(l),oo()),{stateSignals:h,computedSignals:d,methods:v,hooks:m}=b,n=at(at(at({},h),d),v);this[lr]=b[lr];for(let l in n)this[l]=n[l];let{onInit:i,onDestroy:a}=m;i&&i(),a&&nr(zs).onDestroy(a)}static \u0275fac=function(h){return new(h||I)};static \u0275prov=Ii({token:I,factory:I.\u0275fac,providedIn:de.providedIn||null})}return I})()}function oo(){return{[lr]:fr({}),stateSignals:{},computedSignals:{},methods:{},hooks:{}}}function ci(_e){return ee=>{let de=_e(at(at(at({[lr]:ee[lr]},ee.stateSignals),ee.computedSignals),ee.methods));return Object.keys(de),It(at({},ee),{methods:at(at({},ee.methods),de)})}}function ui(_e){return ee=>{let de=typeof _e=="function"?_e():_e,t=Object.keys(de);ee[lr].update(I=>at(at({},I),de));let X=t.reduce((I,y)=>{let b=ar(()=>ee[lr]()[y]);return It(at({},I),{[y]:Qs(b)})},{});return It(at({},ee),{stateSignals:at(at({},ee.stateSignals),X)})}}var ao={detections:[]},Pr=li(ui(ao),ci(_e=>({updateValues(ee){ai(_e,de=>({detections:ee}))}})));var Js={chart:{animation:!1,spacingTop:0,spacingRight:0,spacingBottom:0,spacingLeft:0},credits:{enabled:!1},title:{text:void 0},yAxis:{labels:{enabled:!1},title:{text:void 0}},xAxis:{labels:{enabled:!1},title:{text:void 0}},legend:{enabled:!1},series:[{type:"line",data:[]}]};var en=(()=>{class _e{Highcharts=lo;_detections=nr(Pr);options=ar(()=>It(at({},Js),{series:[{type:"line",data:[...this._detections.detections()]}]}));static \u0275fac=function(t){return new(t||_e)};static \u0275cmp=or({type:_e,selectors:[["sem-linescan"]],decls:1,vars:4,consts:[["constructorType","chart",2,"width","100%","height","200px","display","block",3,"Highcharts","oneToOne","options","runOutsideAngular"]],template:function(t,X){t&1&&qt(0,"highcharts-chart",0),t&2&&ni("Highcharts",X.Highcharts)("oneToOne",!0)("options",X.options())("runOutsideAngular",!0)},dependencies:[Zs,Ys],encapsulation:2,changeDetection:0})}return _e})();var cn=(()=>{class _e{_renderer;_elementRef;onChange=de=>{};onTouched=()=>{};constructor(de,t){this._renderer=de,this._elementRef=t}setProperty(de,t){this._renderer.setProperty(this._elementRef.nativeElement,de,t)}registerOnTouched(de){this.onTouched=de}registerOnChange(de){this.onChange=de}setDisabledState(de){this.setProperty("disabled",de)}static \u0275fac=function(t){return new(t||_e)(Nt(Ri),Nt(Hr))};static \u0275dir=Qt({type:_e})}return _e})(),Hi=(()=>{class _e extends cn{static \u0275fac=(()=>{let de;return function(X){return(de||(de=si(_e)))(X||_e)}})();static \u0275dir=Qt({type:_e,features:[pr]})}return _e})(),xi=new Mr("");var co={provide:xi,useExisting:Ar(()=>wi),multi:!0};function uo(){let _e=Ui()?Ui().getUserAgent():"";return/android (\d+)/.test(_e.toLowerCase())}var ho=new Mr(""),wi=(()=>{class _e extends cn{_compositionMode;_composing=!1;constructor(de,t,X){super(de,t),this._compositionMode=X,this._compositionMode==null&&(this._compositionMode=!uo())}writeValue(de){let t=de??"";this.setProperty("value",t)}_handleInput(de){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(de)}_compositionStart(){this._composing=!0}_compositionEnd(de){this._composing=!1,this._compositionMode&&this.onChange(de)}static \u0275fac=function(t){return new(t||_e)(Nt(Ri),Nt(Hr),Nt(ho,8))};static \u0275dir=Qt({type:_e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,X){t&1&&Xr("input",function(y){return X._handleInput(y.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(y){return X._compositionEnd(y.target.value)})},standalone:!1,features:[_r([co]),pr]})}return _e})();var un=new Mr(""),hn=new Mr("");function dn(_e){return _e!=null}function fn(_e){return Xs(_e)?Ns(_e):_e}function pn(_e){let ee={};return _e.forEach(de=>{ee=de!=null?at(at({},ee),de):ee}),Object.keys(ee).length===0?null:ee}function mn(_e,ee){return ee.map(de=>de(_e))}function fo(_e){return!_e.validate}function gn(_e){return _e.map(ee=>fo(ee)?ee:de=>ee.validate(de))}function po(_e){if(!_e)return null;let ee=_e.filter(dn);return ee.length==0?null:function(de){return pn(mn(de,ee))}}function yn(_e){return _e!=null?po(gn(_e)):null}function mo(_e){if(!_e)return null;let ee=_e.filter(dn);return ee.length==0?null:function(de){let t=mn(de,ee).map(fn);return Us(t).pipe(Bs(pn))}}function vn(_e){return _e!=null?mo(gn(_e)):null}function tn(_e,ee){return _e===null?[ee]:Array.isArray(_e)?[..._e,ee]:[_e,ee]}function bn(_e){return _e._rawValidators}function xn(_e){return _e._rawAsyncValidators}function Gi(_e){return _e?Array.isArray(_e)?_e:[_e]:[]}function di(_e,ee){return Array.isArray(_e)?_e.includes(ee):_e===ee}function rn(_e,ee){let de=Gi(ee);return Gi(_e).forEach(X=>{di(de,X)||de.push(X)}),de}function sn(_e,ee){return Gi(ee).filter(de=>!di(_e,de))}var fi=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(ee){this._rawValidators=ee||[],this._composedValidatorFn=yn(this._rawValidators)}_setAsyncValidators(ee){this._rawAsyncValidators=ee||[],this._composedAsyncValidatorFn=vn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(ee){this._onDestroyCallbacks.push(ee)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(ee=>ee()),this._onDestroyCallbacks=[]}reset(ee=void 0){this.control&&this.control.reset(ee)}hasError(ee,de){return this.control?this.control.hasError(ee,de):!1}getError(ee,de){return this.control?this.control.getError(ee,de):null}},Ir=class extends fi{name;get formDirective(){return null}get path(){return null}},Kr=class extends fi{_parent=null;name=null;valueAccessor=null},pi=class{_cd;constructor(ee){this._cd=ee}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},go={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},La=It(at({},go),{"[class.ng-submitted]":"isSubmitted"}),wn=(()=>{class _e extends pi{constructor(de){super(de)}static \u0275fac=function(t){return new(t||_e)(Nt(Kr,2))};static \u0275dir=Qt({type:_e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,X){t&2&&Ni("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)},standalone:!1,features:[pr]})}return _e})(),_n=(()=>{class _e extends pi{constructor(de){super(de)}static \u0275fac=function(t){return new(t||_e)(Nt(Ir,10))};static \u0275dir=Qt({type:_e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,X){t&2&&Ni("ng-untouched",X.isUntouched)("ng-touched",X.isTouched)("ng-pristine",X.isPristine)("ng-dirty",X.isDirty)("ng-valid",X.isValid)("ng-invalid",X.isInvalid)("ng-pending",X.isPending)("ng-submitted",X.isSubmitted)},standalone:!1,features:[pr]})}return _e})();var qr="VALID",hi="INVALID",Lr="PENDING",Yr="DISABLED",jr=class{},mi=class extends jr{value;source;constructor(ee,de){super(),this.value=ee,this.source=de}},Zr=class extends jr{pristine;source;constructor(ee,de){super(),this.pristine=ee,this.source=de}},$r=class extends jr{touched;source;constructor(ee,de){super(),this.touched=ee,this.source=de}},Dr=class extends jr{status;source;constructor(ee,de){super(),this.status=ee,this.source=de}},Vi=class extends jr{source;constructor(ee){super(),this.source=ee}},zi=class extends jr{source;constructor(ee){super(),this.source=ee}};function jn(_e){return(_i(_e)?_e.validators:_e)||null}function yo(_e){return Array.isArray(_e)?yn(_e):_e||null}function Sn(_e,ee){return(_i(ee)?ee.asyncValidators:_e)||null}function vo(_e){return Array.isArray(_e)?vn(_e):_e||null}function _i(_e){return _e!=null&&!Array.isArray(_e)&&typeof _e=="object"}function bo(_e,ee,de){let t=_e.controls;if(!(ee?Object.keys(t):t).length)throw new ii(1e3,"");if(!t[de])throw new ii(1001,"")}function xo(_e,ee,de){_e._forEachChild((t,X)=>{if(de[X]===void 0)throw new ii(1002,"")})}var gi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(ee,de){this._assignValidators(ee),this._assignAsyncValidators(de)}get validator(){return this._composedValidatorFn}set validator(ee){this._rawValidators=this._composedValidatorFn=ee}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(ee){this._rawAsyncValidators=this._composedAsyncValidatorFn=ee}get parent(){return this._parent}get status(){return Jt(this.statusReactive)}set status(ee){Jt(()=>this.statusReactive.set(ee))}_status=ar(()=>this.statusReactive());statusReactive=fr(void 0);get valid(){return this.status===qr}get invalid(){return this.status===hi}get pending(){return this.status==Lr}get disabled(){return this.status===Yr}get enabled(){return this.status!==Yr}errors;get pristine(){return Jt(this.pristineReactive)}set pristine(ee){Jt(()=>this.pristineReactive.set(ee))}_pristine=ar(()=>this.pristineReactive());pristineReactive=fr(!0);get dirty(){return!this.pristine}get touched(){return Jt(this.touchedReactive)}set touched(ee){Jt(()=>this.touchedReactive.set(ee))}_touched=ar(()=>this.touchedReactive());touchedReactive=fr(!1);get untouched(){return!this.touched}_events=new Fs;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(ee){this._assignValidators(ee)}setAsyncValidators(ee){this._assignAsyncValidators(ee)}addValidators(ee){this.setValidators(rn(ee,this._rawValidators))}addAsyncValidators(ee){this.setAsyncValidators(rn(ee,this._rawAsyncValidators))}removeValidators(ee){this.setValidators(sn(ee,this._rawValidators))}removeAsyncValidators(ee){this.setAsyncValidators(sn(ee,this._rawAsyncValidators))}hasValidator(ee){return di(this._rawValidators,ee)}hasAsyncValidator(ee){return di(this._rawAsyncValidators,ee)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(ee={}){let de=this.touched===!1;this.touched=!0;let t=ee.sourceControl??this;this._parent&&!ee.onlySelf&&this._parent.markAsTouched(It(at({},ee),{sourceControl:t})),de&&ee.emitEvent!==!1&&this._events.next(new $r(!0,t))}markAllAsTouched(ee={}){this.markAsTouched({onlySelf:!0,emitEvent:ee.emitEvent,sourceControl:this}),this._forEachChild(de=>de.markAllAsTouched(ee))}markAsUntouched(ee={}){let de=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=ee.sourceControl??this;this._forEachChild(X=>{X.markAsUntouched({onlySelf:!0,emitEvent:ee.emitEvent,sourceControl:t})}),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee,t),de&&ee.emitEvent!==!1&&this._events.next(new $r(!1,t))}markAsDirty(ee={}){let de=this.pristine===!0;this.pristine=!1;let t=ee.sourceControl??this;this._parent&&!ee.onlySelf&&this._parent.markAsDirty(It(at({},ee),{sourceControl:t})),de&&ee.emitEvent!==!1&&this._events.next(new Zr(!1,t))}markAsPristine(ee={}){let de=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=ee.sourceControl??this;this._forEachChild(X=>{X.markAsPristine({onlySelf:!0,emitEvent:ee.emitEvent})}),this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee,t),de&&ee.emitEvent!==!1&&this._events.next(new Zr(!0,t))}markAsPending(ee={}){this.status=Lr;let de=ee.sourceControl??this;ee.emitEvent!==!1&&(this._events.next(new Dr(this.status,de)),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.markAsPending(It(at({},ee),{sourceControl:de}))}disable(ee={}){let de=this._parentMarkedDirty(ee.onlySelf);this.status=Yr,this.errors=null,this._forEachChild(X=>{X.disable(It(at({},ee),{onlySelf:!0}))}),this._updateValue();let t=ee.sourceControl??this;ee.emitEvent!==!1&&(this._events.next(new mi(this.value,t)),this._events.next(new Dr(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(It(at({},ee),{skipPristineCheck:de}),this),this._onDisabledChange.forEach(X=>X(!0))}enable(ee={}){let de=this._parentMarkedDirty(ee.onlySelf);this.status=qr,this._forEachChild(t=>{t.enable(It(at({},ee),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent}),this._updateAncestors(It(at({},ee),{skipPristineCheck:de}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(ee,de){this._parent&&!ee.onlySelf&&(this._parent.updateValueAndValidity(ee),ee.skipPristineCheck||this._parent._updatePristine({},de),this._parent._updateTouched({},de))}setParent(ee){this._parent=ee}getRawValue(){return this.value}updateValueAndValidity(ee={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qr||this.status===Lr)&&this._runAsyncValidator(t,ee.emitEvent)}let de=ee.sourceControl??this;ee.emitEvent!==!1&&(this._events.next(new mi(this.value,de)),this._events.next(new Dr(this.status,de)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!ee.onlySelf&&this._parent.updateValueAndValidity(It(at({},ee),{sourceControl:de}))}_updateTreeValidity(ee={emitEvent:!0}){this._forEachChild(de=>de._updateTreeValidity(ee)),this.updateValueAndValidity({onlySelf:!0,emitEvent:ee.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yr:qr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(ee,de){if(this.asyncValidator){this.status=Lr,this._hasOwnPendingAsyncValidator={emitEvent:de!==!1};let t=fn(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(X=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(X,{emitEvent:de,shouldHaveEmitted:ee})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let ee=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,ee}return!1}setErrors(ee,de={}){this.errors=ee,this._updateControlsErrors(de.emitEvent!==!1,this,de.shouldHaveEmitted)}get(ee){let de=ee;return de==null||(Array.isArray(de)||(de=de.split(".")),de.length===0)?null:de.reduce((t,X)=>t&&t._find(X),this)}getError(ee,de){let t=de?this.get(de):this;return t&&t.errors?t.errors[ee]:null}hasError(ee,de){return!!this.getError(ee,de)}get root(){let ee=this;for(;ee._parent;)ee=ee._parent;return ee}_updateControlsErrors(ee,de,t){this.status=this._calculateStatus(),ee&&this.statusChanges.emit(this.status),(ee||t)&&this._events.next(new Dr(this.status,de)),this._parent&&this._parent._updateControlsErrors(ee,de,t)}_initObservables(){this.valueChanges=new wr,this.statusChanges=new wr}_calculateStatus(){return this._allControlsDisabled()?Yr:this.errors?hi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lr)?Lr:this._anyControlsHaveStatus(hi)?hi:qr}_anyControlsHaveStatus(ee){return this._anyControls(de=>de.status===ee)}_anyControlsDirty(){return this._anyControls(ee=>ee.dirty)}_anyControlsTouched(){return this._anyControls(ee=>ee.touched)}_updatePristine(ee,de){let t=!this._anyControlsDirty(),X=this.pristine!==t;this.pristine=t,this._parent&&!ee.onlySelf&&this._parent._updatePristine(ee,de),X&&this._events.next(new Zr(this.pristine,de))}_updateTouched(ee={},de){this.touched=this._anyControlsTouched(),this._events.next(new $r(this.touched,de)),this._parent&&!ee.onlySelf&&this._parent._updateTouched(ee,de)}_onDisabledChange=[];_registerOnCollectionChange(ee){this._onCollectionChange=ee}_setUpdateStrategy(ee){_i(ee)&&ee.updateOn!=null&&(this._updateOn=ee.updateOn)}_parentMarkedDirty(ee){let de=this._parent&&this._parent.dirty;return!ee&&!!de&&!this._parent._anyControlsDirty()}_find(ee){return null}_assignValidators(ee){this._rawValidators=Array.isArray(ee)?ee.slice():ee,this._composedValidatorFn=yo(this._rawValidators)}_assignAsyncValidators(ee){this._rawAsyncValidators=Array.isArray(ee)?ee.slice():ee,this._composedAsyncValidatorFn=vo(this._rawAsyncValidators)}},yi=class extends gi{constructor(ee,de,t){super(jn(de),Sn(t,de)),this.controls=ee,this._initObservables(),this._setUpdateStrategy(de),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(ee,de){return this.controls[ee]?this.controls[ee]:(this.controls[ee]=de,de.setParent(this),de._registerOnCollectionChange(this._onCollectionChange),de)}addControl(ee,de,t={}){this.registerControl(ee,de),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(ee,de={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],this.updateValueAndValidity({emitEvent:de.emitEvent}),this._onCollectionChange()}setControl(ee,de,t={}){this.controls[ee]&&this.controls[ee]._registerOnCollectionChange(()=>{}),delete this.controls[ee],de&&this.registerControl(ee,de),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(ee){return this.controls.hasOwnProperty(ee)&&this.controls[ee].enabled}setValue(ee,de={}){xo(this,!0,ee),Object.keys(ee).forEach(t=>{bo(this,!0,t),this.controls[t].setValue(ee[t],{onlySelf:!0,emitEvent:de.emitEvent})}),this.updateValueAndValidity(de)}patchValue(ee,de={}){ee!=null&&(Object.keys(ee).forEach(t=>{let X=this.controls[t];X&&X.patchValue(ee[t],{onlySelf:!0,emitEvent:de.emitEvent})}),this.updateValueAndValidity(de))}reset(ee={},de={}){this._forEachChild((t,X)=>{t.reset(ee?ee[X]:null,{onlySelf:!0,emitEvent:de.emitEvent})}),this._updatePristine(de,this),this._updateTouched(de,this),this.updateValueAndValidity(de)}getRawValue(){return this._reduceChildren({},(ee,de,t)=>(ee[t]=de.getRawValue(),ee))}_syncPendingControls(){let ee=this._reduceChildren(!1,(de,t)=>t._syncPendingControls()?!0:de);return ee&&this.updateValueAndValidity({onlySelf:!0}),ee}_forEachChild(ee){Object.keys(this.controls).forEach(de=>{let t=this.controls[de];t&&ee(t,de)})}_setUpControls(){this._forEachChild(ee=>{ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(ee){for(let[de,t]of Object.entries(this.controls))if(this.contains(de)&&ee(t))return!0;return!1}_reduceValue(){let ee={};return this._reduceChildren(ee,(de,t,X)=>((t.enabled||this.disabled)&&(de[X]=t.value),de))}_reduceChildren(ee,de){let t=ee;return this._forEachChild((X,I)=>{t=de(t,X,I)}),t}_allControlsDisabled(){for(let ee of Object.keys(this.controls))if(this.controls[ee].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(ee){return this.controls.hasOwnProperty(ee)?this.controls[ee]:null}};var Mn=new Mr("CallSetDisabledState",{providedIn:"root",factory:()=>Wi}),Wi="always";function wo(_e,ee){return[...ee.path,_e]}function nn(_e,ee,de=Wi){Xi(_e,ee),ee.valueAccessor.writeValue(_e.value),(_e.disabled||de==="always")&&ee.valueAccessor.setDisabledState?.(_e.disabled),jo(_e,ee),Mo(_e,ee),So(_e,ee),_o(_e,ee)}function on(_e,ee,de=!0){let t=()=>{};ee.valueAccessor&&(ee.valueAccessor.registerOnChange(t),ee.valueAccessor.registerOnTouched(t)),bi(_e,ee),_e&&(ee._invokeOnDestroyCallbacks(),_e._registerOnCollectionChange(()=>{}))}function vi(_e,ee){_e.forEach(de=>{de.registerOnValidatorChange&&de.registerOnValidatorChange(ee)})}function _o(_e,ee){if(ee.valueAccessor.setDisabledState){let de=t=>{ee.valueAccessor.setDisabledState(t)};_e.registerOnDisabledChange(de),ee._registerOnDestroy(()=>{_e._unregisterOnDisabledChange(de)})}}function Xi(_e,ee){let de=bn(_e);ee.validator!==null?_e.setValidators(tn(de,ee.validator)):typeof de=="function"&&_e.setValidators([de]);let t=xn(_e);ee.asyncValidator!==null?_e.setAsyncValidators(tn(t,ee.asyncValidator)):typeof t=="function"&&_e.setAsyncValidators([t]);let X=()=>_e.updateValueAndValidity();vi(ee._rawValidators,X),vi(ee._rawAsyncValidators,X)}function bi(_e,ee){let de=!1;if(_e!==null){if(ee.validator!==null){let X=bn(_e);if(Array.isArray(X)&&X.length>0){let I=X.filter(y=>y!==ee.validator);I.length!==X.length&&(de=!0,_e.setValidators(I))}}if(ee.asyncValidator!==null){let X=xn(_e);if(Array.isArray(X)&&X.length>0){let I=X.filter(y=>y!==ee.asyncValidator);I.length!==X.length&&(de=!0,_e.setAsyncValidators(I))}}}let t=()=>{};return vi(ee._rawValidators,t),vi(ee._rawAsyncValidators,t),de}function jo(_e,ee){ee.valueAccessor.registerOnChange(de=>{_e._pendingValue=de,_e._pendingChange=!0,_e._pendingDirty=!0,_e.updateOn==="change"&&Cn(_e,ee)})}function So(_e,ee){ee.valueAccessor.registerOnTouched(()=>{_e._pendingTouched=!0,_e.updateOn==="blur"&&_e._pendingChange&&Cn(_e,ee),_e.updateOn!=="submit"&&_e.markAsTouched()})}function Cn(_e,ee){_e._pendingDirty&&_e.markAsDirty(),_e.setValue(_e._pendingValue,{emitModelToViewChange:!1}),ee.viewToModelUpdate(_e._pendingValue),_e._pendingChange=!1}function Mo(_e,ee){let de=(t,X)=>{ee.valueAccessor.writeValue(t),X&&ee.viewToModelUpdate(t)};_e.registerOnChange(de),ee._registerOnDestroy(()=>{_e._unregisterOnChange(de)})}function Co(_e,ee){_e==null,Xi(_e,ee)}function To(_e,ee){return bi(_e,ee)}function ko(_e,ee){if(!_e.hasOwnProperty("model"))return!1;let de=_e.model;return de.isFirstChange()?!0:!Object.is(ee,de.currentValue)}function Eo(_e){return Object.getPrototypeOf(_e.constructor)===Hi}function Ao(_e,ee){_e._syncPendingControls(),ee.forEach(de=>{let t=de.control;t.updateOn==="submit"&&t._pendingChange&&(de.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Oo(_e,ee){if(!ee)return null;Array.isArray(ee);let de,t,X;return ee.forEach(I=>{I.constructor===wi?de=I:Eo(I)?t=I:X=I}),X||t||de||null}function Po(_e,ee){let de=_e.indexOf(ee);de>-1&&_e.splice(de,1)}function an(_e,ee){let de=_e.indexOf(ee);de>-1&&_e.splice(de,1)}function ln(_e){return typeof _e=="object"&&_e!==null&&Object.keys(_e).length===2&&"value"in _e&&"disabled"in _e}var Sr=class extends gi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(ee=null,de,t){super(jn(de),Sn(t,de)),this._applyFormState(ee),this._setUpdateStrategy(de),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_i(de)&&(de.nonNullable||de.initialValueIsDefault)&&(ln(ee)?this.defaultValue=ee.value:this.defaultValue=ee)}setValue(ee,de={}){this.value=this._pendingValue=ee,this._onChange.length&&de.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,de.emitViewToModelChange!==!1)),this.updateValueAndValidity(de)}patchValue(ee,de={}){this.setValue(ee,de)}reset(ee=this.defaultValue,de={}){this._applyFormState(ee),this.markAsPristine(de),this.markAsUntouched(de),this.setValue(this.value,de),this._pendingChange=!1}_updateValue(){}_anyControls(ee){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(ee){this._onChange.push(ee)}_unregisterOnChange(ee){an(this._onChange,ee)}registerOnDisabledChange(ee){this._onDisabledChange.push(ee)}_unregisterOnDisabledChange(ee){an(this._onDisabledChange,ee)}_forEachChild(ee){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(ee){ln(ee)?(this.value=this._pendingValue=ee.value,ee.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=ee}};var Lo=_e=>_e instanceof Sr;var Tn=(()=>{class _e{static \u0275fac=function(t){return new(t||_e)};static \u0275dir=Qt({type:_e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return _e})(),Do={provide:xi,useExisting:Ar(()=>qi),multi:!0},qi=(()=>{class _e extends Hi{writeValue(de){let t=de??"";this.setProperty("value",t)}registerOnChange(de){this.onChange=t=>{de(t==""?null:parseFloat(t))}}static \u0275fac=(()=>{let de;return function(X){return(de||(de=si(_e)))(X||_e)}})();static \u0275dir=Qt({type:_e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,X){t&1&&Xr("input",function(y){return X.onChange(y.target.value)})("blur",function(){return X.onTouched()})},standalone:!1,features:[_r([Do]),pr]})}return _e})();var Io={provide:xi,useExisting:Ar(()=>Yi),multi:!0},Yi=(()=>{class _e extends Hi{writeValue(de){this.setProperty("value",parseFloat(de))}registerOnChange(de){this.onChange=t=>{de(t==""?null:parseFloat(t))}}static \u0275fac=(()=>{let de;return function(X){return(de||(de=si(_e)))(X||_e)}})();static \u0275dir=Qt({type:_e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,X){t&1&&Xr("change",function(y){return X.onChange(y.target.value)})("input",function(y){return X.onChange(y.target.value)})("blur",function(){return X.onTouched()})},standalone:!1,features:[_r([Io]),pr]})}return _e})(),kn=new Mr("");var Ro={provide:Ir,useExisting:Ar(()=>Zi)},Zi=(()=>{class _e extends Ir{callSetDisabledState;get submitted(){return Jt(this._submittedReactive)}set submitted(de){this._submittedReactive.set(de)}_submitted=ar(()=>this._submittedReactive());_submittedReactive=fr(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new wr;constructor(de,t,X){super(),this.callSetDisabledState=X,this._setValidators(de),this._setAsyncValidators(t)}ngOnChanges(de){this._checkFormPresent(),de.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(bi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(de){let t=this.form.get(de.path);return nn(t,de,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(de),t}getControl(de){return this.form.get(de.path)}removeControl(de){on(de.control||null,de,!1),Po(this.directives,de)}addFormGroup(de){this._setUpFormContainer(de)}removeFormGroup(de){this._cleanUpFormContainer(de)}getFormGroup(de){return this.form.get(de.path)}addFormArray(de){this._setUpFormContainer(de)}removeFormArray(de){this._cleanUpFormContainer(de)}getFormArray(de){return this.form.get(de.path)}updateModel(de,t){this.form.get(de.path).setValue(t)}onSubmit(de){return this._submittedReactive.set(!0),Ao(this.form,this.directives),this.ngSubmit.emit(de),this.form._events.next(new Vi(this.control)),de?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(de=void 0){this.form.reset(de),this._submittedReactive.set(!1),this.form._events.next(new zi(this.form))}_updateDomValue(){this.directives.forEach(de=>{let t=de.control,X=this.form.get(de.path);t!==X&&(on(t||null,de),Lo(X)&&(nn(X,de,this.callSetDisabledState),de.control=X))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(de){let t=this.form.get(de.path);Co(t,de),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(de){if(this.form){let t=this.form.get(de.path);t&&To(t,de)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xi(this.form,this),this._oldForm&&bi(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(t){return new(t||_e)(Nt(un,10),Nt(hn,10),Nt(Mn,8))};static \u0275dir=Qt({type:_e,selectors:[["","formGroup",""]],hostBindings:function(t,X){t&1&&Xr("submit",function(y){return X.onSubmit(y)})("reset",function(){return X.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_r([Ro]),pr,zr]})}return _e})();var Fo={provide:Kr,useExisting:Ar(()=>$i)},$i=(()=>{class _e extends Kr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(de){}model;update=new wr;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(de,t,X,I,y){super(),this._ngModelWarningConfig=y,this._parent=de,this._setValidators(t),this._setAsyncValidators(X),this.valueAccessor=Oo(this,I)}ngOnChanges(de){this._added||this._setUpControl(),ko(de,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(de){this.viewModel=de,this.update.emit(de)}get path(){return wo(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(t){return new(t||_e)(Nt(Ir,13),Nt(un,10),Nt(hn,10),Nt(xi,10),Nt(kn,8))};static \u0275dir=Qt({type:_e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[_r([Fo]),pr,zr]})}return _e})();var No=(()=>{class _e{static \u0275fac=function(t){return new(t||_e)};static \u0275mod=Wr({type:_e});static \u0275inj=Vr({})}return _e})();var ji=(()=>{class _e{static withConfig(de){return{ngModule:_e,providers:[{provide:kn,useValue:de.warnOnNgModelWithFormControl??"always"},{provide:Mn,useValue:de.callSetDisabledState??Wi}]}}static \u0275fac=function(t){return new(t||_e)};static \u0275mod=Wr({type:_e});static \u0275inj=Vr({imports:[No]})}return _e})();var Uo={numLines:3,ivRadius:10,ivDepth:10,electronsPerFrame:1e3,energyMean:50,energyStdDev:20},Rr=li(ui(Uo),ci(_e=>({updateValues(ee){ai(_e,ee)}})));var On=Rs(An());var Si=class{_p;_canvasWidth;_detections=[];_xPosition=0;constructor(ee,de){this._p=ee,this._canvasWidth=de,this._detections=Array.from({length:this._canvasWidth},()=>0),this._xPosition=0}draw(){let ee=this._xPosition,de=10,t=50;this._p.fill(255),this._p.triangle(ee-de,0,ee+de,0,ee,t)}increment(){this._xPosition++,this._xPosition>this._canvasWidth&&(this._xPosition=0)}setDetectionCount(ee,de){this._detections[ee]=de}get xPosition(){return this._xPosition}get detections(){return[...this._detections]}};var Mi=class{_p;_featureHeight=100;_canvasWidth;_canvasHeight;_substrate;_numLines=2;_featureWidth;_lineRegions=[];constructor(ee,de,t){this._p=ee,this._canvasWidth=de,this._canvasHeight=t,this._featureWidth=this._canvasWidth/(this._numLines*2+1),this._substrate=this._canvasHeight/1.25}draw(){this._lineRegions=[];let ee=this._featureWidth,de=this._substrate-this._featureHeight;for(let t=0;t<this._numLines*2;t++)this._p.line(ee*(t+1),this._substrate,ee*(t+1),de);for(let t=0;t<this._numLines*2;t+=2)this._p.line(ee*(t+1),de,ee*(t+2),de),this._lineRegions.push({x1:ee*(t+1),x2:ee*(t+2)});for(let t=0;t<this._numLines*2+1;t+=2)this._p.line(ee*t,this._substrate,ee*(t+1),this._substrate)}getYGeometry(ee){return this.findLineRegion(ee)?this._substrate-this._featureHeight:this._substrate}isPointInMaterial(ee,de){return de>this._substrate?!0:de<this._substrate-this._featureHeight?!1:!!this.findLineRegion(ee)}set numLines(ee){this._numLines=ee,this._featureWidth=this._canvasWidth/(this._numLines*2+1)}findLineRegion(ee){return this._lineRegions.find(de=>ee>de.x1&&ee<de.x2)}};var Ci=class{_p;_r;_x;_y;constructor(ee,de,t,X,I){this._p=ee,this._x=de,this._r=I,this._y=t+X+I}draw(){this._p.fill("#fff"),this._p.circle(this._x,this._y,2*this._r)}get randomPoint(){let ee=this._p.random(this._p.TWO_PI),de=this._r*this._p.sqrt(this._p.random()),t=this._x+de*this._p.cos(ee),X=this._y+de*this._p.sin(ee);return[t,X]}};var Go=["sketch"],Vo=["sketchContainer"],Pn=(()=>{class _e{_p5;_optionsStore=nr(Rr);_detectionStore=nr(Pr);_sketch=Fi("sketch");_sketchContainer=Fi("sketchContainer");_width=fr(600);_onResize=Gs(window,"resize").pipe(Vs(100),Di(()=>this._width.set(this._sketchContainer()?.nativeElement.offsetWidth)),Di(()=>this._redraw()));ngOnInit(){this._onResize.subscribe()}ngAfterViewInit(){this._width.set(this._sketchContainer()?.nativeElement.offsetWidth),this._draw()}_draw(){this._p5=new On.default(de=>{let t=this._width(),X=300,I=new Si(de,t),y=new Mi(de,t,X);y.numLines=3,de.setup=()=>{de.createCanvas(t,X)},de.draw=()=>{de.background(220),de.stroke(0),y.numLines=this._optionsStore.numLines(),y.draw();let b=y.getYGeometry(I.xPosition),h=new Ci(de,I.xPosition,b,this._optionsStore.ivDepth(),this._optionsStore.ivRadius());h.draw(),I.draw();let d=0;for(let v=0;v<this._optionsStore.electronsPerFrame();v++){let[m,n]=h.randomPoint;if(y.isPointInMaterial(m,n)){de.circle(m,n,3);let i=de.random(de.TWO_PI),a=this._optionsStore.energyMean(),l=de.randomGaussian(a,20),c=m+l*de.cos(i),r=n+l*de.sin(i);y.isPointInMaterial(c,r)?(de.stroke(252,42,42,5),de.line(m,n,c,r)):(d++,de.stroke(42,252,42,50),de.noStroke(),de.ellipse(m,n,2,2),de.stroke(42,252,42,50),de.line(m,n,c,r))}}I.setDetectionCount(I.xPosition,d),I.increment(),this._detectionStore.updateValues(I.detections)}},this._sketch()?.nativeElement)}_redraw(){this._p5&&(this._p5.remove(),this._p5=null,this._draw())}static \u0275fac=function(t){return new(t||_e)};static \u0275cmp=or({type:_e,selectors:[["sem-microscope"]],viewQuery:function(t,X){t&1&&(Bi(X._sketch,Go,5),Bi(X._sketchContainer,Vo,5)),t&2&&qs(2)},decls:15,vars:0,consts:[["sketchContainer",""],["sketch",""],[1,"relative","h-[300px]"],[1,"absolute","h-[300px]"],[1,"mt-4","flex","flex-wrap","gap-6"],[1,"flex","items-center","gap-2"],[1,"block","h-4","w-4","rounded","bg-[rgba(42,252,42,0.5)]"],[1,"whitespace-nowrap"],[1,"block","h-4","w-4","rounded","bg-[rgba(252,42,42,0.25)]"]],template:function(t,X){t&1&&(Rt(0,"div",2,0),qt(2,"div",3,1),bt(),Rt(4,"div",4)(5,"div",5)(6,"span",6),Vt(7,"\xA0"),bt(),Rt(8,"span",7),Vt(9,"Escaped Secondary Electrons"),bt()(),Rt(10,"div",5)(11,"span",8),Vt(12,"\xA0"),bt(),Rt(13,"span",7),Vt(14,"Internal Secondary Electrons"),bt()()())},encapsulation:2,changeDetection:0})}return _e})();var Ln=(()=>{class _e{_optionsStore=nr(Rr);formGroup=new yi({numLines:new Sr(3),ivRadius:new Sr(10),ivDepth:new Sr(10),electronsPerFrame:new Sr(1e3),energyMean:new Sr(50),energyStdDev:new Sr(20)});ngOnInit(){this.formGroup.valueChanges.subscribe(de=>{this._optionsStore.updateValues(de)})}static \u0275fac=function(t){return new(t||_e)};static \u0275cmp=or({type:_e,selectors:[["sem-microscope-options"]],decls:43,vars:1,consts:[[3,"formGroup"],[1,"py-8"],[1,"text-base","font-semibold","leading-7","text-gray-900"],[1,"form-control","w-full"],[1,"label"],[1,"label-text","text-sm","text-gray-500"],["formControlName","numLines","type","number",1,"input","input-bordered","w-full"],["formControlName","ivDepth","type","range","min","2","max","30","step","2",1,"range"],["formControlName","ivRadius","type","range","min","2","max","20","step","2",1,"range"],["formControlName","electronsPerFrame","type","number",1,"input","input-bordered","w-full"],["formControlName","energyMean","type","range","min","5","max","100","step","5",1,"range"],["formControlName","energyStdDev","type","range","min","2","max","60","step","2",1,"range"]],template:function(t,X){t&1&&(Rt(0,"form",0)(1,"div",1)(2,"div")(3,"h2",2),Vt(4," Pattern Geometry "),bt()(),Rt(5,"label",3)(6,"div",4)(7,"span",5),Vt(8,"NUMBER OF LINES"),bt()(),qt(9,"input",6),bt()(),Rt(10,"div",1)(11,"div")(12,"h2",2),Vt(13," Interaction Volume "),bt()(),Rt(14,"label",3)(15,"div",4)(16,"span",5),Vt(17,"DEPTH"),bt()(),qt(18,"input",7),bt(),Rt(19,"label",3)(20,"div",4)(21,"span",5),Vt(22,"RADIUS"),bt()(),qt(23,"input",8),bt()(),Rt(24,"div",1)(25,"div")(26,"h2",2),Vt(27," Secondary Electrons "),bt()(),Rt(28,"label",3)(29,"div",4)(30,"span",5),Vt(31," ELECTRONS PER FRAME "),bt()(),qt(32,"input",9),bt(),Rt(33,"label",3)(34,"div",4)(35,"span",5),Vt(36,"ENERGY MEAN"),bt()(),qt(37,"input",10),bt(),Rt(38,"label",3)(39,"div",4)(40,"span",5),Vt(41,"ENERGY STD DEV"),bt()(),qt(42,"input",11),bt()()()),t&2&&ni("formGroup",X.formGroup)},dependencies:[ji,Tn,wi,qi,Yi,wn,_n,Zi,$i],encapsulation:2,changeDetection:0})}return _e})();var ul=(()=>{class _e{static \u0275fac=function(t){return new(t||_e)};static \u0275cmp=or({type:_e,selectors:[["sem-simulation"]],features:[_r([Rr,Pr])],decls:15,vars:0,consts:[["sketchContainer",""],[1,"relative","flex","h-full","w-full","flex-col-reverse","md:h-[calc(100vh-65px)]","md:flex-row"],[1,"z-10","grid","min-w-[400px]","grid-cols-1","divide-y","p-4"],[1,"flex","w-full","flex-col","gap-4","bg-gray-200","p-4"],[1,"card","bg-base-100","shadow-xl"],[1,"card-body"],[1,"card-title","text-base"]],template:function(t,X){t&1&&(Rt(0,"main",1)(1,"div",2),qt(2,"sem-microscope-options"),bt(),Rt(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),Vt(7," Secondary Electron Detections vs Position "),bt(),qt(8,"sem-linescan"),bt()(),Rt(9,"div",4)(10,"div",5,0)(12,"h2",6),Vt(13,"SEM Simulation"),bt(),qt(14,"sem-microscope"),bt()()()())},dependencies:[en,ji,Pn,Ln],encapsulation:2,changeDetection:0})}return _e})();export{ul as SimulationComponent};
