var d0=Object.create;var pu=Object.defineProperty,h0=Object.defineProperties,f0=Object.getOwnPropertyDescriptor,p0=Object.getOwnPropertyDescriptors,m0=Object.getOwnPropertyNames,Cf=Object.getOwnPropertySymbols,g0=Object.getPrototypeOf,Df=Object.prototype.hasOwnProperty,y0=Object.prototype.propertyIsEnumerable;var Ef=(n,r,s)=>r in n?pu(n,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[r]=s,Qe=(n,r)=>{for(var s in r||={})Df.call(r,s)&&Ef(n,s,r[s]);if(Cf)for(var s of Cf(r))y0.call(r,s)&&Ef(n,s,r[s]);return n},St=(n,r)=>h0(n,p0(r));var Ho=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(r,s)=>(typeof require<"u"?require:r)[s]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var Mf=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports);var v0=(n,r,s,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of m0(r))!Df.call(n,o)&&o!==s&&pu(n,o,{get:()=>r[o],enumerable:!(t=f0(r,o))||t.enumerable});return n};var jf=(n,r,s)=>(s=n!=null?d0(g0(n)):{},v0(r||!n||!n.__esModule?pu(s,"default",{value:n,enumerable:!0}):s,n));var cv=Mf((uv,Th)=>{"use strict";(function(n){typeof uv=="object"&&typeof Th<"u"?Th.exports=n():typeof define=="function"&&define.amd?define([],n):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).p5=n()})(function(){var n,r,s;return function t(o,y,i){function p(x,w){if(!y[x]){if(!o[x]){var c=typeof Ho=="function"&&Ho;if(!w&&c)return c(x,!0);if(u)return u(x,!0);throw(w=new Error("Cannot find module '"+x+"'")).code="MODULE_NOT_FOUND",w}c=y[x]={exports:{}},o[x][0].call(c.exports,function(a){return p(o[x][1][a]||a)},c,c.exports,t,o,y,i)}return y[x].exports}for(var u=typeof Ho=="function"&&Ho,v=0;v<i.length;v++)p(i[v]);return p}({1:[function(t,o,y){"use strict";y.byteLength=function(f){var f=c(f),d=f[0],f=f[1];return 3*(d+f)/4-f},y.toByteArray=function(a){var d,f,l=c(a),m=l[0],l=l[1],h=new u(function(_,A){return 3*(_+A)/4-A}(m,l)),g=0,b=0<l?m-4:m;for(f=0;f<b;f+=4)d=p[a.charCodeAt(f)]<<18|p[a.charCodeAt(f+1)]<<12|p[a.charCodeAt(f+2)]<<6|p[a.charCodeAt(f+3)],h[g++]=d>>16&255,h[g++]=d>>8&255,h[g++]=255&d;return l===2&&(d=p[a.charCodeAt(f)]<<2|p[a.charCodeAt(f+1)]>>4,h[g++]=255&d),l===1&&(d=p[a.charCodeAt(f)]<<10|p[a.charCodeAt(f+1)]<<4|p[a.charCodeAt(f+2)]>>2,h[g++]=d>>8&255,h[g++]=255&d),h},y.fromByteArray=function(a){for(var d,f=a.length,m=f%3,l=[],h=0,g=f-m;h<g;h+=16383)l.push(function(b,_,A){for(var P,j=[],E=_;E<A;E+=3)P=(b[E]<<16&16711680)+(b[E+1]<<8&65280)+(255&b[E+2]),j.push(function(k){return i[k>>18&63]+i[k>>12&63]+i[k>>6&63]+i[63&k]}(P));return j.join("")}(a,h,g<h+16383?g:h+16383));return m==1?(d=a[f-1],l.push(i[d>>2]+i[d<<4&63]+"==")):m==2&&(d=(a[f-2]<<8)+a[f-1],l.push(i[d>>10]+i[d>>4&63]+i[d<<2&63]+"=")),l.join("")};for(var i=[],p=[],u=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=0,w=v.length;x<w;++x)i[x]=v[x],p[v.charCodeAt(x)]=x;function c(a){var d=a.length;if(0<d%4)throw new Error("Invalid string. Length must be a multiple of 4");return a=a.indexOf("="),d=(a=a===-1?d:a)===d?0:4-a%4,[a,d]}p[45]=62,p[95]=63},{}],2:[function(t,o,y){},{}],3:[function(t,o,y){},{}],4:[function(t,o,y){(function(c){"use strict";var p=t("base64-js"),u=t("ieee754"),v=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,x=(y.Buffer=c,y.SlowBuffer=function(N){return+N!=N&&(N=0),c.alloc(+N)},y.INSPECT_MAX_BYTES=50,2147483647);function w(N){if(x<N)throw new RangeError('The value "'+N+'" is invalid for option "size"');return N=new Uint8Array(N),Object.setPrototypeOf(N,c.prototype),N}function c(N,D,B){if(typeof N!="number")return a(N,D,B);if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(N)}function a(N,D,B){if(typeof N=="string"){var Y=N,G=D;if(c.isEncoding(G=typeof G=="string"&&G!==""?G:"utf8"))return q=0|h(Y,G),X=w(q),X=(Y=X.write(Y,G))!==q?X.slice(0,Y):X;throw new TypeError("Unknown encoding: "+G)}if(ArrayBuffer.isView(N))return m(N);if(N!=null){if(W(N,ArrayBuffer)||N&&W(N.buffer,ArrayBuffer)){var q=N,Y=D,X=B;if(Y<0||q.byteLength<Y)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<Y+(X||0))throw new RangeError('"length" is outside of buffer bounds');return q=Y===void 0&&X===void 0?new Uint8Array(q):X===void 0?new Uint8Array(q,Y):new Uint8Array(q,Y,X),Object.setPrototypeOf(q,c.prototype),q}if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(G=N.valueOf&&N.valueOf(),G!=null&&G!==N)return c.from(G,D,B);var ne=function($){{var K,Q;if(c.isBuffer($))return K=0|l($.length),(Q=w(K)).length!==0&&$.copy(Q,0,0,K),Q}if($.length!==void 0)return typeof $.length!="number"||ee($.length)?w(0):m($);if($.type==="Buffer"&&Array.isArray($.data))return m($.data)}(N);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return c.from(N[Symbol.toPrimitive]("string"),D,B)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}function d(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function f(N){return d(N),w(N<0?0:0|l(N))}function m(N){for(var D=N.length<0?0:0|l(N.length),B=w(D),Y=0;Y<D;Y+=1)B[Y]=255&N[Y];return B}function l(N){if(x<=N)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+x.toString(16)+" bytes");return 0|N}function h(N,D){if(c.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||W(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var B=N.length,Y=2<arguments.length&&arguments[2]===!0;if(!Y&&B===0)return 0;for(var G=!1;;)switch(D){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return V(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*B;case"hex":return B>>>1;case"base64":return H(N).length;default:if(G)return Y?-1:V(N).length;D=(""+D).toLowerCase(),G=!0}}function g(N,D,B){var Y,G=!1;if((D=D===void 0||D<0?0:D)>this.length||(B=B===void 0||B>this.length?this.length:B)<=0||(B>>>=0)<=(D>>>=0))return"";for(N=N||"utf8";;)switch(N){case"hex":var q=this,ue=D,X=B,Q=q.length;(!X||X<0||Q<X)&&(X=Q);for(var ne="",$=ue=!ue||ue<0?0:ue;$<X;++$)ne+=J[q[$]];return ne;case"utf8":case"utf-8":return E(this,D,B);case"ascii":var K=this,Q=D,Z=B,re="";Z=Math.min(K.length,Z);for(var ie=Q;ie<Z;++ie)re+=String.fromCharCode(127&K[ie]);return re;case"latin1":case"binary":var he=this,ue=D,fe=B,xe="";fe=Math.min(he.length,fe);for(var Ee=ue;Ee<fe;++Ee)xe+=String.fromCharCode(he[Ee]);return xe;case"base64":return ce=this,Y=B,(me=D)===0&&Y===ce.length?p.fromByteArray(ce):p.fromByteArray(ce.slice(me,Y));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var ce=D,me=B,ye=this.slice(ce,me),be="",Ce=0;Ce<ye.length;Ce+=2)be+=String.fromCharCode(ye[Ce]+256*ye[Ce+1]);return be;default:if(G)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),G=!0}}function b(N,D,B){var Y=N[D];N[D]=N[B],N[B]=Y}function _(N,D,B,Y,G){if(N.length===0)return-1;if(typeof B=="string"?(Y=B,B=0):2147483647<B?B=2147483647:B<-2147483648&&(B=-2147483648),(B=(B=ee(B=+B)?G?0:N.length-1:B)<0?N.length+B:B)>=N.length){if(G)return-1;B=N.length-1}else if(B<0){if(!G)return-1;B=0}if(typeof D=="string"&&(D=c.from(D,Y)),c.isBuffer(D))return D.length===0?-1:A(N,D,B,Y,G);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?(G?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(N,D,B):A(N,[D],B,Y,G);throw new TypeError("val must be string, number or Buffer")}function A(N,D,B,Y,G){var q=1,X=N.length,ne=D.length;if(Y!==void 0&&((Y=String(Y).toLowerCase())==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(N.length<2||D.length<2)return-1;X/=q=2,ne/=2,B/=2}function $(ie,he){return q===1?ie[he]:ie.readUInt16BE(he*q)}if(G)for(var K=-1,Q=B;Q<X;Q++)if($(N,Q)===$(D,K===-1?0:Q-K)){if(Q-(K=K===-1?Q:K)+1===ne)return K*q}else K!==-1&&(Q-=Q-K),K=-1;else for(Q=B=X<B+ne?X-ne:B;0<=Q;Q--){for(var Z=!0,re=0;re<ne;re++)if($(N,Q+re)!==$(D,re)){Z=!1;break}if(Z)return Q}return-1}function P(N,D,B,Y){return F(function(G){for(var q=[],X=0;X<G.length;++X)q.push(255&G.charCodeAt(X));return q}(D),N,B,Y)}function j(N,D,B,Y){return F(function(G,q){for(var X,ne,$=[],K=0;K<G.length&&!((q-=2)<0);++K)ne=G.charCodeAt(K),X=ne>>8,ne=ne%256,$.push(ne),$.push(X);return $}(D,N.length-B),N,B,Y)}function E(N,D,B){B=Math.min(N.length,B);for(var Y=[],G=D;G<B;){var q,X,ne,$,K=N[G],Q=null,Z=239<K?4:223<K?3:191<K?2:1;if(G+Z<=B)switch(Z){case 1:K<128&&(Q=K);break;case 2:(192&(q=N[G+1]))==128&&127<($=(31&K)<<6|63&q)&&(Q=$);break;case 3:q=N[G+1],X=N[G+2],(192&q)==128&&(192&X)==128&&2047<($=(15&K)<<12|(63&q)<<6|63&X)&&($<55296||57343<$)&&(Q=$);break;case 4:q=N[G+1],X=N[G+2],ne=N[G+3],(192&q)==128&&(192&X)==128&&(192&ne)==128&&65535<($=(15&K)<<18|(63&q)<<12|(63&X)<<6|63&ne)&&$<1114112&&(Q=$)}Q===null?(Q=65533,Z=1):65535<Q&&(Q-=65536,Y.push(Q>>>10&1023|55296),Q=56320|1023&Q),Y.push(Q),G+=Z}var re=Y,ie=re.length;if(ie<=k)return String.fromCharCode.apply(String,re);for(var he="",ue=0;ue<ie;)he+=String.fromCharCode.apply(String,re.slice(ue,ue+=k));return he}y.kMaxLength=x,(c.TYPED_ARRAY_SUPPORT=function(){try{var N=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(N,D),N.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=a,Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(N,D,B){return D=D,B=B,d(N=N),!(N<=0)&&D!==void 0?typeof B=="string"?w(N).fill(D,B):w(N).fill(D):w(N)},c.allocUnsafe=f,c.allocUnsafeSlow=f,c.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==c.prototype},c.compare=function(N,D){if(W(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),W(D,Uint8Array)&&(D=c.from(D,D.offset,D.byteLength)),!c.isBuffer(N)||!c.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===D)return 0;for(var B=N.length,Y=D.length,G=0,q=Math.min(B,Y);G<q;++G)if(N[G]!==D[G]){B=N[G],Y=D[G];break}return B<Y?-1:Y<B?1:0},c.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(N,D){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return c.alloc(0);if(D===void 0)for(G=D=0;G<N.length;++G)D+=N[G].length;for(var B=c.allocUnsafe(D),Y=0,G=0;G<N.length;++G){var q=N[G];if(W(q,Uint8Array)&&(q=c.from(q)),!c.isBuffer(q))throw new TypeError('"list" argument must be an Array of Buffers');q.copy(B,Y),Y+=q.length}return B},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<N;D+=2)b(this,D,D+1);return this},c.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<N;D+=4)b(this,D,D+3),b(this,D+1,D+2);return this},c.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<N;D+=8)b(this,D,D+7),b(this,D+1,D+6),b(this,D+2,D+5),b(this,D+3,D+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var N=this.length;return N===0?"":arguments.length===0?E(this,0,N):g.apply(this,arguments)},c.prototype.equals=function(N){if(c.isBuffer(N))return this===N||c.compare(this,N)===0;throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var D="",N=y.INSPECT_MAX_BYTES,D=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim();return this.length>N&&(D+=" ... "),"<Buffer "+D+">"},v&&(c.prototype[v]=c.prototype.inspect),c.prototype.compare=function(N,D,B,Y,G){if(W(N,Uint8Array)&&(N=c.from(N,N.offset,N.byteLength)),!c.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(B===void 0&&(B=N?N.length:0),Y===void 0&&(Y=0),G===void 0&&(G=this.length),(D=D===void 0?0:D)<0||B>N.length||Y<0||G>this.length)throw new RangeError("out of range index");if(G<=Y&&B<=D)return 0;if(G<=Y)return-1;if(B<=D)return 1;if(this===N)return 0;for(var q=(G>>>=0)-(Y>>>=0),X=(B>>>=0)-(D>>>=0),ne=Math.min(q,X),$=this.slice(Y,G),K=N.slice(D,B),Q=0;Q<ne;++Q)if($[Q]!==K[Q]){q=$[Q],X=K[Q];break}return q<X?-1:X<q?1:0},c.prototype.includes=function(N,D,B){return this.indexOf(N,D,B)!==-1},c.prototype.indexOf=function(N,D,B){return _(this,N,D,B,!0)},c.prototype.lastIndexOf=function(N,D,B){return _(this,N,D,B,!1)},c.prototype.write=function(N,D,B,Y){if(D===void 0)Y="utf8",B=this.length,D=0;else if(B===void 0&&typeof D=="string")Y=D,B=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(B)?(B>>>=0,Y===void 0&&(Y="utf8")):(Y=B,B=void 0)}var G=this.length-D;if((B===void 0||G<B)&&(B=G),0<N.length&&(B<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y=Y||"utf8";for(var q,X,ne,$=!1;;)switch(Y){case"hex":var K=this,Q=N,Z=D,re=B,ie=(Z=Number(Z)||0,K.length-Z);(!re||ie<(re=Number(re)))&&(re=ie),(ie=Q.length)/2<re&&(re=ie/2);for(var he=0;he<re;++he){var ue=parseInt(Q.substr(2*he,2),16);if(ee(ue))return he;K[Z+he]=ue}return he;case"utf8":case"utf-8":return ie=D,ne=B,F(V(N,(X=this).length-ie),X,ie,ne);case"ascii":return P(this,N,D,B);case"latin1":case"binary":return P(this,N,D,B);case"base64":return X=this,ne=D,q=B,F(H(N),X,ne,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,N,D,B);default:if($)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),$=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function M(N,D,B){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(B<N+D)throw new RangeError("Trying to access beyond buffer length")}function I(N,D,B,Y,G,q){if(!c.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(G<D||D<q)throw new RangeError('"value" argument is out of bounds');if(B+Y>N.length)throw new RangeError("Index out of range")}function S(N,D,B,Y){if(B+Y>N.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function T(N,D,B,Y,G){return D=+D,B>>>=0,G||S(N,0,B,4),u.write(N,D,B,Y,23,4),B+4}function L(N,D,B,Y,G){return D=+D,B>>>=0,G||S(N,0,B,8),u.write(N,D,B,Y,52,8),B+8}c.prototype.slice=function(N,D){var B=this.length,B=((N=~~N)<0?(N+=B)<0&&(N=0):B<N&&(N=B),(D=D===void 0?B:~~D)<0?(D+=B)<0&&(D=0):B<D&&(D=B),D<N&&(D=N),this.subarray(N,D));return Object.setPrototypeOf(B,c.prototype),B},c.prototype.readUIntLE=function(N,D,B){N>>>=0,D>>>=0,B||M(N,D,this.length);for(var Y=this[N],G=1,q=0;++q<D&&(G*=256);)Y+=this[N+q]*G;return Y},c.prototype.readUIntBE=function(N,D,B){N>>>=0,D>>>=0,B||M(N,D,this.length);for(var Y=this[N+--D],G=1;0<D&&(G*=256);)Y+=this[N+--D]*G;return Y},c.prototype.readUInt8=function(N,D){return N>>>=0,D||M(N,1,this.length),this[N]},c.prototype.readUInt16LE=function(N,D){return N>>>=0,D||M(N,2,this.length),this[N]|this[N+1]<<8},c.prototype.readUInt16BE=function(N,D){return N>>>=0,D||M(N,2,this.length),this[N]<<8|this[N+1]},c.prototype.readUInt32LE=function(N,D){return N>>>=0,D||M(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},c.prototype.readUInt32BE=function(N,D){return N>>>=0,D||M(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},c.prototype.readIntLE=function(N,D,B){N>>>=0,D>>>=0,B||M(N,D,this.length);for(var Y=this[N],G=1,q=0;++q<D&&(G*=256);)Y+=this[N+q]*G;return(G*=128)<=Y&&(Y-=Math.pow(2,8*D)),Y},c.prototype.readIntBE=function(N,D,B){N>>>=0,D>>>=0,B||M(N,D,this.length);for(var Y=D,G=1,q=this[N+--Y];0<Y&&(G*=256);)q+=this[N+--Y]*G;return(G*=128)<=q&&(q-=Math.pow(2,8*D)),q},c.prototype.readInt8=function(N,D){return N>>>=0,D||M(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},c.prototype.readInt16LE=function(N,D){return N>>>=0,D||M(N,2,this.length),D=this[N]|this[N+1]<<8,32768&D?4294901760|D:D},c.prototype.readInt16BE=function(N,D){return N>>>=0,D||M(N,2,this.length),D=this[N+1]|this[N]<<8,32768&D?4294901760|D:D},c.prototype.readInt32LE=function(N,D){return N>>>=0,D||M(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},c.prototype.readInt32BE=function(N,D){return N>>>=0,D||M(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},c.prototype.readFloatLE=function(N,D){return N>>>=0,D||M(N,4,this.length),u.read(this,N,!0,23,4)},c.prototype.readFloatBE=function(N,D){return N>>>=0,D||M(N,4,this.length),u.read(this,N,!1,23,4)},c.prototype.readDoubleLE=function(N,D){return N>>>=0,D||M(N,8,this.length),u.read(this,N,!0,52,8)},c.prototype.readDoubleBE=function(N,D){return N>>>=0,D||M(N,8,this.length),u.read(this,N,!1,52,8)},c.prototype.writeUIntLE=function(N,D,B,Y){N=+N,D>>>=0,B>>>=0,Y||I(this,N,D,B,Math.pow(2,8*B)-1,0);var G=1,q=0;for(this[D]=255&N;++q<B&&(G*=256);)this[D+q]=N/G&255;return D+B},c.prototype.writeUIntBE=function(N,D,B,Y){N=+N,D>>>=0,B>>>=0,Y||I(this,N,D,B,Math.pow(2,8*B)-1,0);var G=B-1,q=1;for(this[D+G]=255&N;0<=--G&&(q*=256);)this[D+G]=N/q&255;return D+B},c.prototype.writeUInt8=function(N,D,B){return N=+N,D>>>=0,B||I(this,N,D,1,255,0),this[D]=255&N,D+1},c.prototype.writeUInt16LE=function(N,D,B){return N=+N,D>>>=0,B||I(this,N,D,2,65535,0),this[D]=255&N,this[D+1]=N>>>8,D+2},c.prototype.writeUInt16BE=function(N,D,B){return N=+N,D>>>=0,B||I(this,N,D,2,65535,0),this[D]=N>>>8,this[D+1]=255&N,D+2},c.prototype.writeUInt32LE=function(N,D,B){return N=+N,D>>>=0,B||I(this,N,D,4,4294967295,0),this[D+3]=N>>>24,this[D+2]=N>>>16,this[D+1]=N>>>8,this[D]=255&N,D+4},c.prototype.writeUInt32BE=function(N,D,B){return N=+N,D>>>=0,B||I(this,N,D,4,4294967295,0),this[D]=N>>>24,this[D+1]=N>>>16,this[D+2]=N>>>8,this[D+3]=255&N,D+4},c.prototype.writeIntLE=function(N,D,B,Y){N=+N,D>>>=0,Y||I(this,N,D,B,(Y=Math.pow(2,8*B-1))-1,-Y);var G=0,q=1,X=0;for(this[D]=255&N;++G<B&&(q*=256);)N<0&&X===0&&this[D+G-1]!==0&&(X=1),this[D+G]=(N/q>>0)-X&255;return D+B},c.prototype.writeIntBE=function(N,D,B,Y){N=+N,D>>>=0,Y||I(this,N,D,B,(Y=Math.pow(2,8*B-1))-1,-Y);var G=B-1,q=1,X=0;for(this[D+G]=255&N;0<=--G&&(q*=256);)N<0&&X===0&&this[D+G+1]!==0&&(X=1),this[D+G]=(N/q>>0)-X&255;return D+B},c.prototype.writeInt8=function(N,D,B){return N=+N,D>>>=0,B||I(this,N,D,1,127,-128),this[D]=255&(N=N<0?255+N+1:N),D+1},c.prototype.writeInt16LE=function(N,D,B){return N=+N,D>>>=0,B||I(this,N,D,2,32767,-32768),this[D]=255&N,this[D+1]=N>>>8,D+2},c.prototype.writeInt16BE=function(N,D,B){return N=+N,D>>>=0,B||I(this,N,D,2,32767,-32768),this[D]=N>>>8,this[D+1]=255&N,D+2},c.prototype.writeInt32LE=function(N,D,B){return N=+N,D>>>=0,B||I(this,N,D,4,2147483647,-2147483648),this[D]=255&N,this[D+1]=N>>>8,this[D+2]=N>>>16,this[D+3]=N>>>24,D+4},c.prototype.writeInt32BE=function(N,D,B){return N=+N,D>>>=0,B||I(this,N,D,4,2147483647,-2147483648),this[D]=(N=N<0?4294967295+N+1:N)>>>24,this[D+1]=N>>>16,this[D+2]=N>>>8,this[D+3]=255&N,D+4},c.prototype.writeFloatLE=function(N,D,B){return T(this,N,D,!0,B)},c.prototype.writeFloatBE=function(N,D,B){return T(this,N,D,!1,B)},c.prototype.writeDoubleLE=function(N,D,B){return L(this,N,D,!0,B)},c.prototype.writeDoubleBE=function(N,D,B){return L(this,N,D,!1,B)},c.prototype.copy=function(N,D,B,Y){if(!c.isBuffer(N))throw new TypeError("argument should be a Buffer");if(B=B||0,Y||Y===0||(Y=this.length),D>=N.length&&(D=N.length),(Y=0<Y&&Y<B?B:Y)===B||N.length===0||this.length===0)return 0;if((D=D||0)<0)throw new RangeError("targetStart out of bounds");if(B<0||B>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length);var G=(Y=N.length-D<Y-B?N.length-D+B:Y)-B;if(this===N&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,B,Y);else if(this===N&&B<D&&D<Y)for(var q=G-1;0<=q;--q)N[q+D]=this[q+B];else Uint8Array.prototype.set.call(N,this.subarray(B,Y),D);return G},c.prototype.fill=function(N,D,B,Y){if(typeof N=="string"){if(typeof D=="string"?(Y=D,D=0,B=this.length):typeof B=="string"&&(Y=B,B=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!c.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);var G;N.length===1&&(G=N.charCodeAt(0),(Y==="utf8"&&G<128||Y==="latin1")&&(N=G))}else typeof N=="number"?N&=255:typeof N=="boolean"&&(N=Number(N));if(D<0||this.length<D||this.length<B)throw new RangeError("Out of range index");var q;if(!(B<=D))if(D>>>=0,B=B===void 0?this.length:B>>>0,typeof(N=N||0)=="number")for(q=D;q<B;++q)this[q]=N;else{var X=c.isBuffer(N)?N:c.from(N,Y),ne=X.length;if(ne===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(q=0;q<B-D;++q)this[q+D]=X[q%ne]}return this};var O=/[^+/0-9A-Za-z-_]/g;function V(N,D){D=D||1/0;for(var B,Y=N.length,G=null,q=[],X=0;X<Y;++X){if(55295<(B=N.charCodeAt(X))&&B<57344){if(!G){if(56319<B){-1<(D-=3)&&q.push(239,191,189);continue}if(X+1===Y){-1<(D-=3)&&q.push(239,191,189);continue}G=B;continue}if(B<56320){-1<(D-=3)&&q.push(239,191,189),G=B;continue}B=65536+(G-55296<<10|B-56320)}else G&&-1<(D-=3)&&q.push(239,191,189);if(G=null,B<128){if(--D<0)break;q.push(B)}else if(B<2048){if((D-=2)<0)break;q.push(B>>6|192,63&B|128)}else if(B<65536){if((D-=3)<0)break;q.push(B>>12|224,B>>6&63|128,63&B|128)}else{if(!(B<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;q.push(B>>18|240,B>>12&63|128,B>>6&63|128,63&B|128)}}return q}function H(N){return p.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(N))}function F(N,D,B,Y){for(var G=0;G<Y&&!(G+B>=D.length||G>=N.length);++G)D[G+B]=N[G];return G}function W(N,D){return N instanceof D||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===D.name}function ee(N){return N!=N}var J=function(){for(var N="0123456789abcdef",D=new Array(256),B=0;B<16;++B)for(var Y=16*B,G=0;G<16;++G)D[Y+G]=N[B]+N[G];return D}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:251}],5:[function(t,o,y){o.exports=function(i){if(typeof i!="function")throw TypeError(String(i)+" is not a function");return i}},{}],6:[function(t,o,y){var i=t("../internals/is-object");o.exports=function(p){if(i(p)||p===null)return p;throw TypeError("Can't set "+String(p)+" as a prototype")}},{"../internals/is-object":75}],7:[function(u,o,y){var i=u("../internals/well-known-symbol"),p=u("../internals/object-create"),u=u("../internals/object-define-property"),v=i("unscopables"),x=Array.prototype;x[v]==null&&u.f(x,v,{configurable:!0,value:p(null)}),o.exports=function(w){x[v][w]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],8:[function(t,o,y){"use strict";var i=t("../internals/string-multibyte").charAt;o.exports=function(p,u,v){return u+(v?i(p,u).length:1)}},{"../internals/string-multibyte":124}],9:[function(t,o,y){o.exports=function(i,p,u){if(i instanceof p)return i;throw TypeError("Incorrect "+(u?u+" ":"")+"invocation")}},{}],10:[function(t,o,y){var i=t("../internals/is-object");o.exports=function(p){if(i(p))return p;throw TypeError(String(p)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,o,y){o.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(S,o,y){"use strict";function i(L){return w(L)&&c(T,a(L))}var p,u=S("../internals/array-buffer-native"),v=S("../internals/descriptors"),x=S("../internals/global"),w=S("../internals/is-object"),c=S("../internals/has"),a=S("../internals/classof"),d=S("../internals/create-non-enumerable-property"),f=S("../internals/redefine"),m=S("../internals/object-define-property").f,l=S("../internals/object-get-prototype-of"),h=S("../internals/object-set-prototype-of"),k=S("../internals/well-known-symbol"),S=S("../internals/uid"),g=x.Int8Array,b=g&&g.prototype,_=x.Uint8ClampedArray,_=_&&_.prototype,A=g&&l(g),P=b&&l(b),j=Object.prototype,E=j.isPrototypeOf,k=k("toStringTag"),M=S("TYPED_ARRAY_TAG"),I=u&&!!h&&a(x.opera)!=="Opera",S=!1,T={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(p in T)x[p]||(I=!1);if((!I||typeof A!="function"||A===Function.prototype)&&(A=function(){throw TypeError("Incorrect invocation")},I))for(p in T)x[p]&&h(x[p],A);if((!I||!P||P===j)&&(P=A.prototype,I))for(p in T)x[p]&&h(x[p].prototype,P);if(I&&l(_)!==P&&h(_,P),v&&!c(P,k))for(p in S=!0,m(P,k,{get:function(){return w(this)?this[M]:void 0}}),T)x[p]&&d(x[p],M,p);o.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_TAG:S&&M,aTypedArray:function(L){if(i(L))return L;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(L){if(h){if(E.call(A,L))return L}else for(var O in T)if(c(T,p)&&(O=x[O],O&&(L===O||E.call(O,L))))return L;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(L,O,V){if(v){if(V)for(var H in T)H=x[H],H&&c(H.prototype,L)&&delete H.prototype[L];P[L]&&!V||f(P,L,!V&&I&&b[L]||O)}},exportTypedArrayStaticMethod:function(L,O,V){var H,F;if(v){if(h){if(V)for(H in T)(F=x[H])&&c(F,L)&&delete F[L];if(A[L]&&!V)return;try{return f(A,L,!V&&I&&g[L]||O)}catch{}}for(H in T)!(F=x[H])||F[L]&&!V||f(F,L,O)}},isView:function(L){return L=a(L),L==="DataView"||c(T,L)},isTypedArray:i,TypedArray:A,TypedArrayPrototype:P}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/uid":146,"../internals/well-known-symbol":149}],13:[function(B,o,y){"use strict";function i(Z){return[255&Z]}function p(Z){return[255&Z,Z>>8&255]}function u(Z){return[255&Z,Z>>8&255,Z>>16&255,Z>>24&255]}function v(Z){return Z[3]<<24|Z[2]<<16|Z[1]<<8|Z[0]}function x(Z){return q(Z,23,4)}function w(Z){return q(Z,52,8)}function c(Z,re){S(Z[W],re,{get:function(){return O(this)[re]}})}function a(xe,re,fe,he){if(fe=j(fe),xe=O(xe),fe+re>xe.byteLength)throw G(ee);var ue=O(xe.buffer).bytes,fe=fe+xe.byteOffset,xe=ue.slice(fe,fe+re);return he?xe:xe.reverse()}function d(Z,re,ie,he,ue,fe){if(ie=j(ie),Z=O(Z),ie+re>Z.byteLength)throw G(ee);for(var xe=O(Z.buffer).bytes,Ee=ie+Z.byteOffset,ce=he(+ue),me=0;me<re;me++)xe[Ee+me]=ce[fe?me:re-me-1]}var f=B("../internals/global"),m=B("../internals/descriptors"),l=B("../internals/array-buffer-native"),h=B("../internals/create-non-enumerable-property"),g=B("../internals/redefine-all"),b=B("../internals/fails"),_=B("../internals/an-instance"),A=B("../internals/to-integer"),P=B("../internals/to-length"),j=B("../internals/to-index"),E=B("../internals/ieee754"),k=B("../internals/object-get-prototype-of"),M=B("../internals/object-set-prototype-of"),I=B("../internals/object-get-own-property-names").f,S=B("../internals/object-define-property").f,T=B("../internals/array-fill"),L=B("../internals/set-to-string-tag"),B=B("../internals/internal-state"),O=B.get,V=B.set,H="ArrayBuffer",F="DataView",W="prototype",ee="Wrong index",J=f[H],N=J,D=f[F],B=D&&D[W],Y=Object.prototype,G=f.RangeError,q=E.pack,X=E.unpack;if(l){if(!b(function(){J(1)})||!b(function(){new J(-1)})||b(function(){return new J,new J(1.5),new J(NaN),J.name!=H})){for(var ne,f=(N=function(ie){return _(this,N),new J(j(ie))})[W]=J[W],$=I(J),K=0;$.length>K;)(ne=$[K++])in N||h(N,ne,J[ne]);f.constructor=N}M&&k(B)!==Y&&M(B,Y);var E=new D(new N(2)),Q=B.setInt8;E.setInt8(0,2147483648),E.setInt8(1,2147483649),!E.getInt8(0)&&E.getInt8(1)||g(B,{setInt8:function(re,ie){Q.call(this,re,ie<<24>>24)},setUint8:function(re,ie){Q.call(this,re,ie<<24>>24)}},{unsafe:!0})}else N=function(Z){_(this,N,H),Z=j(Z),V(this,{bytes:T.call(new Array(Z),0),byteLength:Z}),m||(this.byteLength=Z)},D=function(Z,ue,ie){_(this,D,F),_(Z,N,F);var he=O(Z).byteLength,ue=A(ue);if(ue<0||he<ue)throw G("Wrong offset");if(he<ue+(ie=ie===void 0?he-ue:P(ie)))throw G("Wrong length");V(this,{buffer:Z,byteLength:ie,byteOffset:ue}),m||(this.buffer=Z,this.byteLength=ie,this.byteOffset=ue)},m&&(c(N,"byteLength"),c(D,"buffer"),c(D,"byteLength"),c(D,"byteOffset")),g(D[W],{getInt8:function(Z){return a(this,1,Z)[0]<<24>>24},getUint8:function(Z){return a(this,1,Z)[0]},getInt16:function(Z){return Z=a(this,2,Z,1<arguments.length?arguments[1]:void 0),(Z[1]<<8|Z[0])<<16>>16},getUint16:function(Z){return Z=a(this,2,Z,1<arguments.length?arguments[1]:void 0),Z[1]<<8|Z[0]},getInt32:function(Z){return v(a(this,4,Z,1<arguments.length?arguments[1]:void 0))},getUint32:function(Z){return v(a(this,4,Z,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(Z){return X(a(this,4,Z,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(Z){return X(a(this,8,Z,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(Z,re){d(this,1,Z,i,re)},setUint8:function(Z,re){d(this,1,Z,i,re)},setInt16:function(Z,re){d(this,2,Z,p,re,2<arguments.length?arguments[2]:void 0)},setUint16:function(Z,re){d(this,2,Z,p,re,2<arguments.length?arguments[2]:void 0)},setInt32:function(Z,re){d(this,4,Z,u,re,2<arguments.length?arguments[2]:void 0)},setUint32:function(Z,re){d(this,4,Z,u,re,2<arguments.length?arguments[2]:void 0)},setFloat32:function(Z,re){d(this,4,Z,x,re,2<arguments.length?arguments[2]:void 0)},setFloat64:function(Z,re){d(this,8,Z,w,re,2<arguments.length?arguments[2]:void 0)}});L(N,H),L(D,F),o.exports={ArrayBuffer:N,DataView:D}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/to-index":134,"../internals/to-integer":136,"../internals/to-length":137}],14:[function(t,o,y){"use strict";var i=t("../internals/to-object"),p=t("../internals/to-absolute-index"),u=t("../internals/to-length"),v=Math.min;o.exports=[].copyWithin||function(m,w){var c=i(this),a=u(c.length),d=p(m,a),f=p(w,a),m=2<arguments.length?arguments[2]:void 0,l=v((m===void 0?a:p(m,a))-f,a-d),h=1;for(f<d&&d<f+l&&(h=-1,f+=l-1,d+=l-1);0<l--;)f in c?c[d]=c[f]:delete c[d],d+=h,f+=h;return c}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],15:[function(t,o,y){"use strict";var i=t("../internals/to-object"),p=t("../internals/to-absolute-index"),u=t("../internals/to-length");o.exports=function(v){for(var x=i(this),w=u(x.length),a=arguments.length,c=p(1<a?arguments[1]:void 0,w),a=2<a?arguments[2]:void 0,d=a===void 0?w:p(a,w);c<d;)x[c++]=v;return x}},{"../internals/to-absolute-index":133,"../internals/to-length":137,"../internals/to-object":138}],16:[function(u,o,y){"use strict";var i=u("../internals/array-iteration").forEach,p=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),p=p("forEach"),u=u("forEach");o.exports=p&&u?[].forEach:function(v){return i(this,v,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,o,y){"use strict";var i=t("../internals/function-bind-context"),p=t("../internals/to-object"),u=t("../internals/call-with-safe-iteration-closing"),v=t("../internals/is-array-iterator-method"),x=t("../internals/to-length"),w=t("../internals/create-property"),c=t("../internals/get-iterator-method");o.exports=function(_){var d,f,m,l,h,g,b=p(_),_=typeof this=="function"?this:Array,A=arguments.length,P=1<A?arguments[1]:void 0,j=P!==void 0,E=c(b),k=0;if(j&&(P=i(P,2<A?arguments[2]:void 0,2)),E==null||_==Array&&v(E))for(f=new _(d=x(b.length));k<d;k++)g=j?P(b[k],k):b[k],w(f,k,g);else for(h=(l=E.call(b)).next,f=new _;!(m=h.call(l)).done;k++)g=j?u(l,P,[m.value,k],!0):m.value,w(f,k,g);return f.length=k,f}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],18:[function(t,o,y){function i(x){return function(w,c,a){var d,f=p(w),m=u(f.length),l=v(a,m);if(x&&c!=c){for(;l<m;)if((d=f[l++])!=d)return!0}else for(;l<m;l++)if((x||l in f)&&f[l]===c)return x||l||0;return!x&&-1}}var p=t("../internals/to-indexed-object"),u=t("../internals/to-length"),v=t("../internals/to-absolute-index");o.exports={includes:i(!0),indexOf:i(!1)}},{"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137}],19:[function(t,o,y){function i(a){var d=a==1,f=a==2,m=a==3,l=a==4,h=a==6,g=a==5||h;return function(b,_,A,P){for(var j,E,k=v(b),M=u(k),I=p(_,A,3),S=x(M.length),T=0,_=P||w,L=d?_(b,S):f?_(b,0):void 0;T<S;T++)if((g||T in M)&&(E=I(j=M[T],T,k),a)){if(d)L[T]=E;else if(E)switch(a){case 3:return!0;case 5:return j;case 6:return T;case 2:c.call(L,j)}else if(l)return!1}return h?-1:m||l?l:L}}var p=t("../internals/function-bind-context"),u=t("../internals/indexed-object"),v=t("../internals/to-object"),x=t("../internals/to-length"),w=t("../internals/array-species-create"),c=[].push;o.exports={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],20:[function(a,o,y){"use strict";var i=a("../internals/to-indexed-object"),p=a("../internals/to-integer"),u=a("../internals/to-length"),c=a("../internals/array-method-is-strict"),a=a("../internals/array-method-uses-to-length"),v=Math.min,x=[].lastIndexOf,w=!!x&&1/[1].lastIndexOf(1,-0)<0,c=c("lastIndexOf"),a=a("indexOf",{ACCESSORS:!0,1:0});o.exports=w||!c||!a?function(d){if(w)return x.apply(this,arguments)||0;var f=i(this),m=u(f.length),l=m-1;for((l=1<arguments.length?v(l,p(arguments[1])):l)<0&&(l=m+l);0<=l;l--)if(l in f&&f[l]===d)return l||0;return-1}:x},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":135,"../internals/to-integer":136,"../internals/to-length":137}],21:[function(t,o,y){var i=t("../internals/fails"),p=t("../internals/well-known-symbol"),u=t("../internals/engine-v8-version"),v=p("species");o.exports=function(x){return 51<=u||!i(function(){var w=[];return(w.constructor={})[v]=function(){return{foo:1}},w[x](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":149}],22:[function(t,o,y){"use strict";var i=t("../internals/fails");o.exports=function(p,u){var v=[][p];return!!v&&i(function(){v.call(null,u||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,o,y){function i(c){throw c}var p=t("../internals/descriptors"),u=t("../internals/fails"),v=t("../internals/has"),x=Object.defineProperty,w={};o.exports=function(c,a){var d,f,m,l;return v(w,c)?w[c]:(d=[][c],f=!!v(a=a||{},"ACCESSORS")&&a.ACCESSORS,m=v(a,0)?a[0]:i,l=v(a,1)?a[1]:void 0,w[c]=!!d&&!u(function(){if(f&&!p)return!0;var h={length:-1};f?x(h,1,{enumerable:!0,get:i}):h[1]=1,d.call(h,m,l)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,o,y){function i(w){return function(c,a,d,f){p(a);var m=u(c),l=v(m),h=x(m.length),g=w?h-1:0,b=w?-1:1;if(d<2)for(;;){if(g in l){f=l[g],g+=b;break}if(g+=b,w?g<0:h<=g)throw TypeError("Reduce of empty array with no initial value")}for(;w?0<=g:g<h;g+=b)g in l&&(f=a(f,l[g],g,m));return f}}var p=t("../internals/a-function"),u=t("../internals/to-object"),v=t("../internals/indexed-object"),x=t("../internals/to-length");o.exports={left:i(!1),right:i(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":137,"../internals/to-object":138}],25:[function(t,o,y){var i=t("../internals/is-object"),p=t("../internals/is-array"),u=t("../internals/well-known-symbol")("species");o.exports=function(v,x){var w;return new((w=p(v)&&(typeof(w=v.constructor)=="function"&&(w===Array||p(w.prototype))||i(w)&&(w=w[u])===null)?void 0:w)===void 0?Array:w)(x===0?0:x)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":149}],26:[function(t,o,y){var i=t("../internals/an-object");o.exports=function(p,u,v,x){try{return x?u(i(v)[0],v[1]):u(v)}catch(w){throw x=p.return,x!==void 0&&i(x.call(p)),w}}},{"../internals/an-object":10}],27:[function(t,o,y){var i=t("../internals/well-known-symbol")("iterator"),p=!1;try{var u=0,v={next:function(){return{done:!!u++}},return:function(){p=!0}};v[i]=function(){return this},Array.from(v,function(){throw 2})}catch{}o.exports=function(x,w){if(!w&&!p)return!1;var c=!1;try{var a={};a[i]=function(){return{next:function(){return{done:c=!0}}}},x(a)}catch{}return c}},{"../internals/well-known-symbol":149}],28:[function(t,o,y){var i={}.toString;o.exports=function(p){return i.call(p).slice(8,-1)}},{}],29:[function(t,o,y){var i=t("../internals/to-string-tag-support"),p=t("../internals/classof-raw"),u=t("../internals/well-known-symbol")("toStringTag"),v=p(function(){return arguments}())=="Arguments";o.exports=i?p:function(x){var w;return x===void 0?"Undefined":x===null?"Null":typeof(w=function(c,a){try{return c[a]}catch{}}(x=Object(x),u))=="string"?w:v?p(x):(w=p(x))=="Object"&&typeof x.callee=="function"?"Arguments":w}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":142,"../internals/well-known-symbol":149}],30:[function(m,o,y){"use strict";var i=m("../internals/object-define-property").f,p=m("../internals/object-create"),u=m("../internals/redefine-all"),v=m("../internals/function-bind-context"),x=m("../internals/an-instance"),w=m("../internals/iterate"),c=m("../internals/define-iterator"),a=m("../internals/set-species"),d=m("../internals/descriptors"),f=m("../internals/internal-metadata").fastKey,m=m("../internals/internal-state"),l=m.set,h=m.getterFor;o.exports={getConstructor:function(g,b,_,A){function P(M,I,S){var T,L=k(M),O=j(M,I);return O?O.value=S:(L.last=O={index:T=f(I,!0),key:I,value:S,previous:I=L.last,next:void 0,removed:!1},L.first||(L.first=O),I&&(I.next=O),d?L.size++:M.size++,T!=="F"&&(L.index[T]=O)),M}function j(T,I){var S,T=k(T),L=f(I);if(L!=="F")return T.index[L];for(S=T.first;S;S=S.next)if(S.key==I)return S}var E=g(function(M,I){x(M,E,b),l(M,{type:b,index:p(null),first:void 0,last:void 0,size:0}),d||(M.size=0),I!=null&&w(I,M[A],M,_)}),k=h(b);return u(E.prototype,{clear:function(){for(var M=k(this),I=M.index,S=M.first;S;)S.removed=!0,S.previous&&(S.previous=S.previous.next=void 0),delete I[S.index],S=S.next;M.first=M.last=void 0,d?M.size=0:this.size=0},delete:function(L){var I,S,T=k(this),L=j(this,L);return L&&(I=L.next,S=L.previous,delete T.index[L.index],L.removed=!0,S&&(S.next=I),I&&(I.previous=S),T.first==L&&(T.first=I),T.last==L&&(T.last=S),d?T.size--:this.size--),!!L},forEach:function(M){for(var I,S=k(this),T=v(M,1<arguments.length?arguments[1]:void 0,3);I=I?I.next:S.first;)for(T(I.value,I.key,this);I&&I.removed;)I=I.previous},has:function(M){return!!j(this,M)}}),u(E.prototype,_?{get:function(M){return M=j(this,M),M&&M.value},set:function(M,I){return P(this,M===0?0:M,I)}}:{add:function(M){return P(this,M=M===0?0:M,M)}}),d&&i(E.prototype,"size",{get:function(){return k(this).size}}),E},setStrong:function(g,b,_){var A=b+" Iterator",P=h(b),j=h(A);c(g,b,function(E,k){l(this,{type:A,target:E,state:P(E),kind:k,last:void 0})},function(){for(var E=j(this),k=E.kind,M=E.last;M&&M.removed;)M=M.previous;return E.target&&(E.last=M=M?M.next:E.state.first)?k=="keys"?{value:M.key,done:!1}:k=="values"?{value:M.value,done:!1}:{value:[M.key,M.value],done:!1}:{value:E.target=void 0,done:!0}},_?"entries":"values",!_,!0),a(b)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":108,"../internals/set-species":117}],31:[function(l,o,y){"use strict";function i(P){return P.frozen||(P.frozen=new p)}function p(){this.entries=[]}function u(P,j){return b(P.entries,function(E){return E[0]===j})}var v=l("../internals/redefine-all"),x=l("../internals/internal-metadata").getWeakData,w=l("../internals/an-object"),c=l("../internals/is-object"),a=l("../internals/an-instance"),d=l("../internals/iterate"),f=l("../internals/array-iteration"),m=l("../internals/has"),l=l("../internals/internal-state"),h=l.set,g=l.getterFor,b=f.find,_=f.findIndex,A=0;p.prototype={get:function(P){if(P=u(this,P),P)return P[1]},has:function(P){return!!u(this,P)},set:function(P,j){var E=u(this,P);E?E[1]=j:this.entries.push([P,j])},delete:function(P){var j=_(this.entries,function(E){return E[0]===P});return~j&&this.entries.splice(j,1),!!~j}},o.exports={getConstructor:function(P,j,E,k){function M(T,L,O){var V=S(T),H=x(w(L),!0);return H===!0?i(V).set(L,O):H[V.id]=O,T}var I=P(function(T,L){a(T,I,j),h(T,{type:j,id:A++,frozen:void 0}),L!=null&&d(L,T[k],T,E)}),S=g(j);return v(I.prototype,{delete:function(T){var L,O=S(this);return!!c(T)&&((L=x(T))===!0?i(O).delete(T):L&&m(L,O.id)&&delete L[O.id])},has:function(T){var L,O=S(this);return!!c(T)&&((L=x(T))===!0?i(O).has(T):L&&m(L,O.id))}}),v(I.prototype,E?{get:function(T){var L,O=S(this);if(c(T))return(L=x(T))===!0?i(O).get(T):L?L[O.id]:void 0},set:function(T,L){return M(this,T,L)}}:{add:function(T){return M(this,T,!0)}}),I}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":108}],32:[function(t,o,y){"use strict";var i=t("../internals/export"),p=t("../internals/global"),u=t("../internals/is-forced"),v=t("../internals/redefine"),x=t("../internals/internal-metadata"),w=t("../internals/iterate"),c=t("../internals/an-instance"),a=t("../internals/is-object"),d=t("../internals/fails"),f=t("../internals/check-correctness-of-iteration"),m=t("../internals/set-to-string-tag"),l=t("../internals/inherit-if-required");o.exports=function(h,g,b){function _(H){var F=L[H];v(L,H,H=="add"?function(W){return F.call(this,W===0?0:W),this}:H=="delete"?function(W){return!(I&&!a(W))&&F.call(this,W===0?0:W)}:H=="get"?function(W){return I&&!a(W)?void 0:F.call(this,W===0?0:W)}:H=="has"?function(W){return!(I&&!a(W))&&F.call(this,W===0?0:W)}:function(W,ee){return F.call(this,W===0?0:W,ee),this})}var A,P,j,E,k,M=h.indexOf("Map")!==-1,I=h.indexOf("Weak")!==-1,S=M?"set":"add",T=p[h],L=T&&T.prototype,O=T,V={};return u(h,typeof T!="function"||!(I||L.forEach&&!d(function(){new T().entries().next()})))?(O=b.getConstructor(g,h,M,S),x.REQUIRED=!0):u(h,!0)&&(P=(A=new O)[S](I?{}:-0,1)!=A,j=d(function(){A.has(1)}),E=f(function(H){new T(H)}),k=!I&&d(function(){for(var H=new T,F=5;F--;)H[S](F,F);return!H.has(-0)}),E||(((O=g(function(H,F){return c(H,O,h),H=l(new T,H,O),F!=null&&w(F,H[S],H,M),H})).prototype=L).constructor=O),(j||k)&&(_("delete"),_("has"),M&&_("get")),(k||P)&&_(S),I&&L.clear&&delete L.clear),V[h]=O,i({global:!0,forced:O!=T},V),m(O,h),I||b.setStrong(O,h,M),O}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":109,"../internals/set-to-string-tag":118}],33:[function(t,o,y){var i=t("../internals/has"),p=t("../internals/own-keys"),u=t("../internals/object-get-own-property-descriptor"),v=t("../internals/object-define-property");o.exports=function(x,w){for(var c=p(w),a=v.f,d=u.f,f=0;f<c.length;f++){var m=c[f];i(x,m)||a(x,m,d(w,m))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":104}],34:[function(t,o,y){var i=t("../internals/well-known-symbol")("match");o.exports=function(p){var u=/./;try{"/./"[p](u)}catch{try{return u[i]=!1,"/./"[p](u)}catch{}}return!1}},{"../internals/well-known-symbol":149}],35:[function(t,o,y){t=t("../internals/fails"),o.exports=!t(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},{"../internals/fails":51}],36:[function(t,o,y){var i=t("../internals/require-object-coercible"),p=/"/g;o.exports=function(c,v,x,w){var c=String(i(c)),a="<"+v;return x!==""&&(a+=" "+x+'="'+String(w).replace(p,"&quot;")+'"'),a+">"+c+"</"+v+">"}},{"../internals/require-object-coercible":114}],37:[function(t,o,y){"use strict";function i(){return this}var p=t("../internals/iterators-core").IteratorPrototype,u=t("../internals/object-create"),v=t("../internals/create-property-descriptor"),x=t("../internals/set-to-string-tag"),w=t("../internals/iterators");o.exports=function(c,a,d){return a+=" Iterator",c.prototype=u(p,{next:v(1,d)}),x(c,a,!1,!0),w[a]=i,c}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":118}],38:[function(t,o,y){var i=t("../internals/descriptors"),p=t("../internals/object-define-property"),u=t("../internals/create-property-descriptor");o.exports=i?function(v,x,w){return p.f(v,x,u(1,w))}:function(v,x,w){return v[x]=w,v}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,o,y){o.exports=function(i,p){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:p}}},{}],40:[function(t,o,y){"use strict";var i=t("../internals/to-primitive"),p=t("../internals/object-define-property"),u=t("../internals/create-property-descriptor");o.exports=function(v,x,w){x=i(x),x in v?p.f(v,x,u(0,w)):v[x]=w}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":141}],41:[function(l,o,y){"use strict";function i(){return this}var p=l("../internals/export"),u=l("../internals/create-iterator-constructor"),v=l("../internals/object-get-prototype-of"),x=l("../internals/object-set-prototype-of"),w=l("../internals/set-to-string-tag"),c=l("../internals/create-non-enumerable-property"),a=l("../internals/redefine"),d=l("../internals/well-known-symbol"),f=l("../internals/is-pure"),m=l("../internals/iterators"),l=l("../internals/iterators-core"),h=l.IteratorPrototype,g=l.BUGGY_SAFARI_ITERATORS,b=d("iterator"),_="values",A="entries";o.exports=function(P,j,E,V,M,I,S){u(E,j,V);function T(N){if(N===M&&ee)return ee;if(!g&&N in F)return F[N];switch(N){case"keys":case _:case A:return function(){return new E(this,N)}}return function(){return new E(this)}}var L,O,V=j+" Iterator",H=!1,F=P.prototype,W=F[b]||F["@@iterator"]||M&&F[M],ee=!g&&W||T(M),J=j=="Array"&&F.entries||W;if(J&&(J=v(J.call(new P)),h!==Object.prototype&&J.next&&(f||v(J)===h||(x?x(J,h):typeof J[b]!="function"&&c(J,b,i)),w(J,V,!0,!0),f&&(m[V]=i))),M==_&&W&&W.name!==_&&(H=!0,ee=function(){return W.call(this)}),f&&!S||F[b]===ee||c(F,b,ee),m[j]=ee,M)if(L={values:T(_),keys:I?ee:T("keys"),entries:T(A)},S)for(O in L)!g&&!H&&O in F||a(F,O,L[O]);else p({target:j,proto:!0,forced:g||H},L);return L}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149}],42:[function(t,o,y){var i=t("../internals/path"),p=t("../internals/has"),u=t("../internals/well-known-symbol-wrapped"),v=t("../internals/object-define-property").f;o.exports=function(x){var w=i.Symbol||(i.Symbol={});p(w,x)||v(w,x,{value:u.f(x)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":105,"../internals/well-known-symbol-wrapped":148}],43:[function(t,o,y){t=t("../internals/fails"),o.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(p,o,y){var i=p("../internals/global"),p=p("../internals/is-object"),u=i.document,v=p(u)&&p(u.createElement);o.exports=function(x){return v?u.createElement(x):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,o,y){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,o,y){t=t("../internals/engine-user-agent"),o.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,o,y){t=t("../internals/get-built-in"),o.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(u,o,y){var i,p,v=u("../internals/global"),u=u("../internals/engine-user-agent"),v=v.process,v=v&&v.versions,v=v&&v.v8;v?p=(i=v.split("."))[0]+i[1]:u&&(!(i=u.match(/Edge\/(\d+)/))||74<=i[1])&&(i=u.match(/Chrome\/(\d+)/))&&(p=i[1]),o.exports=p&&+p},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,o,y){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,o,y){var i=t("../internals/global"),p=t("../internals/object-get-own-property-descriptor").f,u=t("../internals/create-non-enumerable-property"),v=t("../internals/redefine"),x=t("../internals/set-global"),w=t("../internals/copy-constructor-properties"),c=t("../internals/is-forced");o.exports=function(a,d){var f,m,l,h=a.target,g=a.global,b=a.stat,_=g?i:b?i[h]||x(h,{}):(i[h]||{}).prototype;if(_)for(f in d){if(m=d[f],l=a.noTargetGet?(l=p(_,f))&&l.value:_[f],!c(g?f:h+(b?".":"#")+f,a.forced)&&l!==void 0){if(typeof m==typeof l)continue;w(m,l)}(a.sham||l&&l.sham)&&u(m,"sham",!0),v(_,f,m,a)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":109,"../internals/set-global":116}],51:[function(t,o,y){o.exports=function(i){try{return!!i()}catch{return!0}}},{}],52:[function(d,o,y){"use strict";d("../modules/es.regexp.exec");var i=d("../internals/redefine"),p=d("../internals/fails"),u=d("../internals/well-known-symbol"),v=d("../internals/regexp-exec"),x=d("../internals/create-non-enumerable-property"),w=u("species"),c=!p(function(){var l=/./;return l.exec=function(){var h=[];return h.groups={a:"7"},h},"".replace(l,"$<a>")!=="7"}),a="a".replace(/./,"$0")==="$0",d=u("replace"),f=!!/./[d]&&/./[d]("a","$0")==="",m=!p(function(){var h=/(?:)/,l=h.exec,h=(h.exec=function(){return l.apply(this,arguments)},"ab".split(h));return h.length!==2||h[0]!=="a"||h[1]!=="b"});o.exports=function(l,h,g,b){var _,A,P=u(l),j=!p(function(){var k={};return k[P]=function(){return 7},""[l](k)!=7}),E=j&&!p(function(){var k=!1,M=/a/;return l==="split"&&((M={constructor:{}}).constructor[w]=function(){return M},M.flags="",M[P]=/./[P]),M.exec=function(){return k=!0,null},M[P](""),!k});j&&E&&(l!=="replace"||c&&a&&!f)&&(l!=="split"||m)||(_=/./[P],g=(E=g(P,""[l],function(k,M,I,S,T){return M.exec===v?j&&!T?{done:!0,value:_.call(M,I,S)}:{done:!0,value:k.call(I,M,S)}:{done:!1}},{REPLACE_KEEPS_$0:a,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}))[0],A=E[1],i(String.prototype,l,g),i(RegExp.prototype,P,h==2?function(k,M){return A.call(k,this,M)}:function(k){return A.call(k,this)})),b&&x(RegExp.prototype[P],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-exec":111,"../internals/well-known-symbol":149,"../modules/es.regexp.exec":192}],53:[function(t,o,y){"use strict";function i(x,w,c,a,d,f,m,l){for(var h,g=d,b=0,_=!!m&&v(m,l,3);b<a;){if(b in c){if(h=_?_(c[b],b,w):c[b],0<f&&p(h))g=i(x,w,h,u(h.length),g,f-1)-1;else{if(9007199254740991<=g)throw TypeError("Exceed the acceptable array length");x[g]=h}g++}b++}return g}var p=t("../internals/is-array"),u=t("../internals/to-length"),v=t("../internals/function-bind-context");o.exports=i},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":137}],54:[function(t,o,y){t=t("../internals/fails"),o.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,o,y){var i=t("../internals/a-function");o.exports=function(p,u,v){if(i(p),u===void 0)return p;switch(v){case 0:return function(){return p.call(u)};case 1:return function(x){return p.call(u,x)};case 2:return function(x,w){return p.call(u,x,w)};case 3:return function(x,w,c){return p.call(u,x,w,c)}}return function(){return p.apply(u,arguments)}}},{"../internals/a-function":5}],56:[function(t,o,y){"use strict";var i=t("../internals/a-function"),p=t("../internals/is-object"),u=[].slice,v={};o.exports=Function.bind||function(x){var w=i(this),c=u.call(arguments,1),a=function(){var d=c.concat(u.call(arguments));if(this instanceof a){var f=w,m=d.length,l=d;if(!(m in v)){for(var h=[],g=0;g<m;g++)h[g]="a["+g+"]";v[m]=Function("C,a","return new C("+h.join(",")+")")}return v[m](f,l)}return w.apply(x,d)};return p(w.prototype)&&(a.prototype=w.prototype),a}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,o,y){function i(v){return typeof v=="function"?v:void 0}var p=t("../internals/path"),u=t("../internals/global");o.exports=function(v,x){return arguments.length<2?i(p[v])||i(u[v]):p[v]&&p[v][x]||u[v]&&u[v][x]}},{"../internals/global":60,"../internals/path":105}],58:[function(t,o,y){var i=t("../internals/classof"),p=t("../internals/iterators"),u=t("../internals/well-known-symbol")("iterator");o.exports=function(v){if(v!=null)return v[u]||v["@@iterator"]||p[i(v)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":149}],59:[function(t,o,y){var i=t("../internals/an-object"),p=t("../internals/get-iterator-method");o.exports=function(u){var v=p(u);if(typeof v!="function")throw TypeError(String(u)+" is not iterable");return i(v.call(u))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,o,y){(function(i){function p(u){return u&&u.Math==Math&&u}o.exports=p(typeof globalThis=="object"&&globalThis)||p(typeof window=="object"&&window)||p(typeof self=="object"&&self)||p(typeof i=="object"&&i)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,o,y){var i={}.hasOwnProperty;o.exports=function(p,u){return i.call(p,u)}},{}],62:[function(t,o,y){o.exports={}},{}],63:[function(t,o,y){var i=t("../internals/global");o.exports=function(p,u){var v=i.console;v&&v.error&&(arguments.length===1?v.error(p):v.error(p,u))}},{"../internals/global":60}],64:[function(t,o,y){t=t("../internals/get-built-in"),o.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,o,y){var i=t("../internals/descriptors"),p=t("../internals/fails"),u=t("../internals/document-create-element");o.exports=!i&&!p(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,o,y){var i=Math.abs,p=Math.pow,u=Math.floor,v=Math.log,x=Math.LN2;o.exports={pack:function(w,c,g){var d,f,m,l=new Array(g),h=8*g-c-1,g=(1<<h)-1,b=g>>1,_=c===23?p(2,-24)-p(2,-77):0,A=w<0||w===0&&1/w<0?1:0,P=0;for((w=i(w))!=w||w===1/0?(f=w!=w?1:0,d=g):(d=u(v(w)/x),w*(m=p(2,-d))<1&&(d--,m*=2),2<=(w+=1<=d+b?_/m:_*p(2,1-b))*m&&(d++,m/=2),g<=d+b?(f=0,d=g):1<=d+b?(f=(w*m-1)*p(2,c),d+=b):(f=w*p(2,b-1)*p(2,c),d=0));8<=c;l[P++]=255&f,f/=256,c-=8);for(d=d<<c|f,h+=c;0<h;l[P++]=255&d,d/=256,h-=8);return l[--P]|=128*A,l},unpack:function(w,c){var a,d=w.length,g=8*d-c-1,f=(1<<g)-1,m=f>>1,l=g-7,h=d-1,g=w[h--],b=127&g;for(g>>=7;0<l;b=256*b+w[h],h--,l-=8);for(a=b&(1<<-l)-1,b>>=-l,l+=c;0<l;a=256*a+w[h],h--,l-=8);if(b===0)b=1-m;else{if(b===f)return a?NaN:g?-1/0:1/0;a+=p(2,c),b-=m}return(g?-1:1)*a*p(2,b-c)}}},{}],67:[function(t,o,y){var i=t("../internals/fails"),p=t("../internals/classof-raw"),u="".split;o.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(v){return p(v)=="String"?u.call(v,""):Object(v)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,o,y){var i=t("../internals/is-object"),p=t("../internals/object-set-prototype-of");o.exports=function(u,v,x){return p&&typeof(v=v.constructor)=="function"&&v!==x&&i(v=v.prototype)&&v!==x.prototype&&p(u,v),u}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(i,o,y){var i=i("../internals/shared-store"),p=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(u){return p.call(u)}),o.exports=i.inspectSource},{"../internals/shared-store":120}],70:[function(t,o,y){function i(l){x(l,a,{value:{objectID:"O"+ ++d,weakData:{}}})}var p=t("../internals/hidden-keys"),u=t("../internals/is-object"),v=t("../internals/has"),x=t("../internals/object-define-property").f,w=t("../internals/uid"),c=t("../internals/freezing"),a=w("meta"),d=0,f=Object.isExtensible||function(){return!0},m=o.exports={REQUIRED:!1,fastKey:function(l,h){if(!u(l))return typeof l=="symbol"?l:(typeof l=="string"?"S":"P")+l;if(!v(l,a)){if(!f(l))return"F";if(!h)return"E";i(l)}return l[a].objectID},getWeakData:function(l,h){if(!v(l,a)){if(!f(l))return!0;if(!h)return!1;i(l)}return l[a].weakData},onFreeze:function(l){return c&&m.REQUIRED&&f(l)&&!v(l,a)&&i(l),l}};p[a]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":146}],71:[function(g,o,y){var i,p,u,v,x,w,c,a,d=g("../internals/native-weak-map"),b=g("../internals/global"),f=g("../internals/is-object"),m=g("../internals/create-non-enumerable-property"),l=g("../internals/has"),h=g("../internals/shared-key"),g=g("../internals/hidden-keys"),b=b.WeakMap;c=d?(i=new b,p=i.get,u=i.has,v=i.set,x=function(_,A){return v.call(i,_,A),A},w=function(_){return p.call(i,_)||{}},function(_){return u.call(i,_)}):(g[a=h("state")]=!0,x=function(_,A){return m(_,a,A),A},w=function(_){return l(_,a)?_[a]:{}},function(_){return l(_,a)}),o.exports={set:x,get:w,has:c,enforce:function(_){return c(_)?w(_):x(_,{})},getterFor:function(_){return function(A){if(f(A)&&(A=w(A)).type===_)return A;throw TypeError("Incompatible receiver, "+_+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":119}],72:[function(t,o,y){var i=t("../internals/well-known-symbol"),p=t("../internals/iterators"),u=i("iterator"),v=Array.prototype;o.exports=function(x){return x!==void 0&&(p.Array===x||v[u]===x)}},{"../internals/iterators":80,"../internals/well-known-symbol":149}],73:[function(t,o,y){var i=t("../internals/classof-raw");o.exports=Array.isArray||function(p){return i(p)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,o,y){function i(a,d){return(a=x[v(a)])==c||a!=w&&(typeof d=="function"?p(d):!!d)}var p=t("../internals/fails"),u=/#|\.prototype\./,v=i.normalize=function(a){return String(a).replace(u,".").toLowerCase()},x=i.data={},w=i.NATIVE="N",c=i.POLYFILL="P";o.exports=i},{"../internals/fails":51}],75:[function(t,o,y){o.exports=function(i){return typeof i=="object"?i!==null:typeof i=="function"}},{}],76:[function(t,o,y){o.exports=!1},{}],77:[function(t,o,y){var i=t("../internals/is-object"),p=t("../internals/classof-raw"),u=t("../internals/well-known-symbol")("match");o.exports=function(v){var x;return i(v)&&((x=v[u])!==void 0?!!x:p(v)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":149}],78:[function(t,o,y){function i(a,d){this.stopped=a,this.result=d}var p=t("../internals/an-object"),u=t("../internals/is-array-iterator-method"),v=t("../internals/to-length"),x=t("../internals/function-bind-context"),w=t("../internals/get-iterator-method"),c=t("../internals/call-with-safe-iteration-closing");(o.exports=function(a,d,f,m,l){var h,g,b,_,A,P,j=x(d,f,m?2:1);if(l)h=a;else{if(typeof(d=w(a))!="function")throw TypeError("Target is not iterable");if(u(d)){for(g=0,b=v(a.length);g<b;g++)if((_=m?j(p(P=a[g])[0],P[1]):j(a[g]))&&_ instanceof i)return _;return new i(!1)}h=d.call(a)}for(A=h.next;!(P=A.call(h)).done;)if(typeof(_=c(h,j,P.value,m))=="object"&&_&&_ instanceof i)return _;return new i(!1)}).stop=function(a){return new i(!0,a)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137}],79:[function(w,o,y){"use strict";var i,p,u=w("../internals/object-get-prototype-of"),v=w("../internals/create-non-enumerable-property"),x=w("../internals/has"),c=w("../internals/well-known-symbol"),w=w("../internals/is-pure"),c=c("iterator"),a=!1;[].keys&&("next"in(p=[].keys())?(u=u(u(p)))!==Object.prototype&&(i=u):a=!0),i==null&&(i={}),w||x(i,c)||v(i,c,function(){return this}),o.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:a}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":149}],80:[function(t,o,y){o.exports={}},{}],81:[function(t,o,y){o.exports=Math.sign||function(i){return(i=+i)==0||i!=i?i:i<0?-1:1}},{}],82:[function(m,o,y){var i,p,u,v,x,w,c,a,d=m("../internals/global"),A=m("../internals/object-get-own-property-descriptor").f,_=m("../internals/classof-raw"),f=m("../internals/task").set,m=m("../internals/engine-is-ios"),l=d.MutationObserver||d.WebKitMutationObserver,h=d.process,g=d.Promise,b=_(h)=="process",_=A(d,"queueMicrotask"),A=_&&_.value;A||(i=function(){var P,j;for(b&&(P=h.domain)&&P.exit();p;){j=p.fn,p=p.next;try{j()}catch(E){throw p?v():u=void 0,E}}u=void 0,P&&P.enter()},v=b?function(){h.nextTick(i)}:l&&!m?(x=!0,w=document.createTextNode(""),new l(i).observe(w,{characterData:!0}),function(){w.data=x=!x}):g&&g.resolve?(c=g.resolve(void 0),a=c.then,function(){a.call(c,i)}):function(){f.call(d,i)}),o.exports=A||function(P){P={fn:P,next:void 0},u&&(u.next=P),p||(p=P,v()),u=P}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":131}],83:[function(t,o,y){t=t("../internals/global"),o.exports=t.Promise},{"../internals/global":60}],84:[function(t,o,y){t=t("../internals/fails"),o.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,o,y){var i=t("../internals/fails"),p=t("../internals/well-known-symbol"),u=t("../internals/is-pure"),v=p("iterator");o.exports=!i(function(){var x=new URL("b?a=1&b=2&c=3","http://a"),w=x.searchParams,c="";return x.pathname="c%20d",w.forEach(function(a,d){w.delete("b"),c+=d+a}),u&&!x.toJSON||!w.sort||x.href!=="http://a/c%20d?a=1&c=3"||w.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!w[v]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||c!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":149}],86:[function(i,o,y){var p=i("../internals/global"),i=i("../internals/inspect-source"),p=p.WeakMap;o.exports=typeof p=="function"&&/native code/.test(i(p))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,o,y){"use strict";function i(u){var v,x;this.promise=new u(function(w,c){if(v!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");v=w,x=c}),this.resolve=p(v),this.reject=p(x)}var p=t("../internals/a-function");o.exports.f=function(u){return new i(u)}},{"../internals/a-function":5}],88:[function(t,o,y){var i=t("../internals/is-regexp");o.exports=function(p){if(i(p))throw TypeError("The method doesn't accept regular expressions");return p}},{"../internals/is-regexp":77}],89:[function(t,o,y){var i=t("../internals/global").isFinite;o.exports=Number.isFinite||function(p){return typeof p=="number"&&i(p)}},{"../internals/global":60}],90:[function(t,o,y){"use strict";var i=t("../internals/descriptors"),p=t("../internals/fails"),u=t("../internals/object-keys"),v=t("../internals/object-get-own-property-symbols"),x=t("../internals/object-property-is-enumerable"),w=t("../internals/to-object"),c=t("../internals/indexed-object"),a=Object.assign,d=Object.defineProperty;o.exports=!a||p(function(){var f,m,l,h;return!(!i||a({b:1},a(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(m={},h="abcdefghijklmnopqrst",(f={})[l=Symbol()]=7,h.split("").forEach(function(g){m[g]=g}),a({},f)[l]!=7||u(a({},m)).join("")!=h)})?function(f,m){for(var l=w(f),h=arguments.length,g=1,b=v.f,_=x.f;g<h;)for(var A,P=c(arguments[g++]),j=b?u(P).concat(b(P)):u(P),E=j.length,k=0;k<E;)A=j[k++],i&&!_.call(P,A)||(l[A]=P[A]);return l}:a},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":138}],91:[function(d,o,y){function i(){}var p,u=d("../internals/an-object"),v=d("../internals/object-define-properties"),x=d("../internals/enum-bug-keys"),w=d("../internals/hidden-keys"),c=d("../internals/html"),a=d("../internals/document-create-element"),d=d("../internals/shared-key"),f="prototype",m="script",l=d("IE_PROTO"),h=function(b){return"<"+m+">"+b+"</"+m+">"},g=function(){try{p=document.domain&&new ActiveXObject("htmlfile")}catch{}g=p?((b=p).write(h("")),b.close(),_=b.parentWindow.Object,b=null,_):(b=a("iframe"),_="java"+m+":",b.style.display="none",c.appendChild(b),b.src=String(_),(_=b.contentWindow.document).open(),_.write(h("document.F=Object")),_.close(),_.F);for(var b,_,A=x.length;A--;)delete g[f][x[A]];return g()};w[l]=!0,o.exports=Object.create||function(b,_){var A;return b!==null?(i[f]=u(b),A=new i,i[f]=null,A[l]=b):A=g(),_===void 0?A:v(A,_)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":119}],92:[function(t,o,y){var i=t("../internals/descriptors"),p=t("../internals/object-define-property"),u=t("../internals/an-object"),v=t("../internals/object-keys");o.exports=i?Object.defineProperties:function(x,w){u(x);for(var c,a=v(w),d=a.length,f=0;f<d;)p.f(x,c=a[f++],w[c]);return x}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,o,y){var i=t("../internals/descriptors"),p=t("../internals/ie8-dom-define"),u=t("../internals/an-object"),v=t("../internals/to-primitive"),x=Object.defineProperty;y.f=i?x:function(w,c,a){if(u(w),c=v(c,!0),u(a),p)try{return x(w,c,a)}catch{}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(w[c]=a.value),w}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":141}],94:[function(t,o,y){var i=t("../internals/descriptors"),p=t("../internals/object-property-is-enumerable"),u=t("../internals/create-property-descriptor"),v=t("../internals/to-indexed-object"),x=t("../internals/to-primitive"),w=t("../internals/has"),c=t("../internals/ie8-dom-define"),a=Object.getOwnPropertyDescriptor;y.f=i?a:function(d,f){if(d=v(d),f=x(f,!0),c)try{return a(d,f)}catch{}if(w(d,f))return u(!p.f.call(d,f),d[f])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":135,"../internals/to-primitive":141}],95:[function(t,o,y){var i=t("../internals/to-indexed-object"),p=t("../internals/object-get-own-property-names").f,u={}.toString,v=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];o.exports.f=function(x){if(!v||u.call(x)!="[object Window]")return p(i(x));try{return p(x)}catch{return v.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":135}],96:[function(t,o,y){var i=t("../internals/object-keys-internal"),p=t("../internals/enum-bug-keys").concat("length","prototype");y.f=Object.getOwnPropertyNames||function(u){return i(u,p)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,o,y){y.f=Object.getOwnPropertySymbols},{}],98:[function(v,o,y){var i=v("../internals/has"),p=v("../internals/to-object"),u=v("../internals/shared-key"),v=v("../internals/correct-prototype-getter"),x=u("IE_PROTO"),w=Object.prototype;o.exports=v?Object.getPrototypeOf:function(c){return c=p(c),i(c,x)?c[x]:typeof c.constructor=="function"&&c instanceof c.constructor?c.constructor.prototype:c instanceof Object?w:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":119,"../internals/to-object":138}],99:[function(t,o,y){var i=t("../internals/has"),p=t("../internals/to-indexed-object"),u=t("../internals/array-includes").indexOf,v=t("../internals/hidden-keys");o.exports=function(x,w){var c,a=p(x),d=0,f=[];for(c in a)!i(v,c)&&i(a,c)&&f.push(c);for(;w.length>d;)!i(a,c=w[d++])||~u(f,c)||f.push(c);return f}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":135}],100:[function(t,o,y){var i=t("../internals/object-keys-internal"),p=t("../internals/enum-bug-keys");o.exports=Object.keys||function(u){return i(u,p)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,o,y){"use strict";var i={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,u=p&&!i.call({1:2},1);y.f=u?function(v){return v=p(this,v),!!v&&v.enumerable}:i},{}],102:[function(t,o,y){var i=t("../internals/an-object"),p=t("../internals/a-possible-prototype");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,v=!1,x={};try{(u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(x,[]),v=x instanceof Array}catch{}return function(w,c){return i(w),p(c),v?u.call(w,c):w.__proto__=c,w}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,o,y){"use strict";var i=t("../internals/to-string-tag-support"),p=t("../internals/classof");o.exports=i?{}.toString:function(){return"[object "+p(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":142}],104:[function(t,o,y){var i=t("../internals/get-built-in"),p=t("../internals/object-get-own-property-names"),u=t("../internals/object-get-own-property-symbols"),v=t("../internals/an-object");o.exports=i("Reflect","ownKeys")||function(x){var w=p.f(v(x)),c=u.f;return c?w.concat(c(x)):w}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],105:[function(t,o,y){t=t("../internals/global"),o.exports=t},{"../internals/global":60}],106:[function(t,o,y){o.exports=function(i){try{return{error:!1,value:i()}}catch(p){return{error:!0,value:p}}}},{}],107:[function(t,o,y){var i=t("../internals/an-object"),p=t("../internals/is-object"),u=t("../internals/new-promise-capability");o.exports=function(v,x){return i(v),p(x)&&x.constructor===v?x:((0,(v=u.f(v)).resolve)(x),v.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],108:[function(t,o,y){var i=t("../internals/redefine");o.exports=function(p,u,v){for(var x in u)i(p,x,u[x],v);return p}},{"../internals/redefine":109}],109:[function(w,o,y){var i=w("../internals/global"),p=w("../internals/create-non-enumerable-property"),u=w("../internals/has"),v=w("../internals/set-global"),x=w("../internals/inspect-source"),w=w("../internals/internal-state"),c=w.get,a=w.enforce,d=String(String).split("String");(o.exports=function(f,m,l,_){var g=!!_&&!!_.unsafe,b=!!_&&!!_.enumerable,_=!!_&&!!_.noTargetGet;typeof l=="function"&&(typeof m!="string"||u(l,"name")||p(l,"name",m),a(l).source=d.join(typeof m=="string"?m:"")),f===i?b?f[m]=l:v(m,l):(g?!_&&f[m]&&(b=!0):delete f[m],b?f[m]=l:p(f,m,l))})(Function.prototype,"toString",function(){return typeof this=="function"&&c(this).source||x(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":116}],110:[function(t,o,y){var i=t("./classof-raw"),p=t("./regexp-exec");o.exports=function(u,v){var x=u.exec;if(typeof x=="function"){if(x=x.call(u,v),typeof x!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return x}if(i(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return p.call(u,v)}},{"./classof-raw":28,"./regexp-exec":111}],111:[function(v,o,y){"use strict";var i,p,u=v("./regexp-flags"),v=v("./regexp-sticky-helpers"),x=RegExp.prototype.exec,w=String.prototype.replace,c=x,a=(i=/a/,p=/b*/g,x.call(i,"a"),x.call(p,"a"),i.lastIndex!==0||p.lastIndex!==0),d=v.UNSUPPORTED_Y||v.BROKEN_CARET,f=/()??/.exec("")[1]!==void 0;o.exports=c=a||f||d?function(m){var l,h,g,b,_=this,A=d&&_.sticky,P=u.call(_),j=_.source,E=0,k=m;return A&&((P=P.replace("y","")).indexOf("g")===-1&&(P+="g"),k=String(m).slice(_.lastIndex),0<_.lastIndex&&(!_.multiline||_.multiline&&m[_.lastIndex-1]!==`
`)&&(j="(?: "+j+")",k=" "+k,E++),h=new RegExp("^(?:"+j+")",P)),f&&(h=new RegExp("^"+j+"$(?!\\s)",P)),a&&(l=_.lastIndex),g=x.call(A?h:_,k),A?g?(g.input=g.input.slice(E),g[0]=g[0].slice(E),g.index=_.lastIndex,_.lastIndex+=g[0].length):_.lastIndex=0:a&&g&&(_.lastIndex=_.global?g.index+g[0].length:l),f&&g&&1<g.length&&w.call(g[0],h,function(){for(b=1;b<arguments.length-2;b++)arguments[b]===void 0&&(g[b]=void 0)}),g}:c},{"./regexp-flags":112,"./regexp-sticky-helpers":113}],112:[function(t,o,y){"use strict";var i=t("../internals/an-object");o.exports=function(){var p=i(this),u="";return p.global&&(u+="g"),p.ignoreCase&&(u+="i"),p.multiline&&(u+="m"),p.dotAll&&(u+="s"),p.unicode&&(u+="u"),p.sticky&&(u+="y"),u}},{"../internals/an-object":10}],113:[function(t,o,y){"use strict";t=t("./fails");function i(p,u){return RegExp(p,u)}y.UNSUPPORTED_Y=t(function(){var p=i("a","y");return p.lastIndex=2,p.exec("abcd")!=null}),y.BROKEN_CARET=t(function(){var p=i("^r","gy");return p.lastIndex=2,p.exec("str")!=null})},{"./fails":51}],114:[function(t,o,y){o.exports=function(i){if(i==null)throw TypeError("Can't call method on "+i);return i}},{}],115:[function(t,o,y){o.exports=Object.is||function(i,p){return i===p?i!==0||1/i==1/p:i!=i&&p!=p}},{}],116:[function(t,o,y){var i=t("../internals/global"),p=t("../internals/create-non-enumerable-property");o.exports=function(u,v){try{p(i,u,v)}catch{i[u]=v}return v}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],117:[function(t,o,y){"use strict";var i=t("../internals/get-built-in"),p=t("../internals/object-define-property"),u=t("../internals/well-known-symbol"),v=t("../internals/descriptors"),x=u("species");o.exports=function(c){var c=i(c),a=p.f;v&&c&&!c[x]&&a(c,x,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],118:[function(t,o,y){var i=t("../internals/object-define-property").f,p=t("../internals/has"),u=t("../internals/well-known-symbol")("toStringTag");o.exports=function(v,x,w){v&&!p(v=w?v:v.prototype,u)&&i(v,u,{configurable:!0,value:x})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":149}],119:[function(t,o,y){var i=t("../internals/shared"),p=t("../internals/uid"),u=i("keys");o.exports=function(v){return u[v]||(u[v]=p(v))}},{"../internals/shared":121,"../internals/uid":146}],120:[function(i,o,y){var u=i("../internals/global"),i=i("../internals/set-global"),p="__core-js_shared__",u=u[p]||i(p,{});o.exports=u},{"../internals/global":60,"../internals/set-global":116}],121:[function(t,o,y){var i=t("../internals/is-pure"),p=t("../internals/shared-store");(o.exports=function(u,v){return p[u]||(p[u]=v!==void 0?v:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":120}],122:[function(t,o,y){var i=t("../internals/an-object"),p=t("../internals/a-function"),u=t("../internals/well-known-symbol")("species");o.exports=function(w,x){var w=i(w).constructor;return w===void 0||(w=i(w)[u])==null?x:p(w)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":149}],123:[function(t,o,y){var i=t("../internals/fails");o.exports=function(p){return i(function(){var u=""[p]('"');return u!==u.toLowerCase()||3<u.split('"').length})}},{"../internals/fails":51}],124:[function(t,o,y){function i(v){return function(a,d){var c,a=String(u(a)),d=p(d),f=a.length;return d<0||f<=d?v?"":void 0:(c=a.charCodeAt(d))<55296||56319<c||d+1===f||(f=a.charCodeAt(d+1))<56320||57343<f?v?a.charAt(d):c:v?a.slice(d,d+2):f-56320+(c-55296<<10)+65536}}var p=t("../internals/to-integer"),u=t("../internals/require-object-coercible");o.exports={codeAt:i(!1),charAt:i(!0)}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],125:[function(t,o,y){t=t("../internals/engine-user-agent"),o.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],126:[function(t,o,y){function i(w){return function(f,h,l){var f=String(v(f)),m=f.length,l=l===void 0?" ":String(l),h=p(h);return h<=m||l==""?f:((m=u.call(l,x((h=h-m)/l.length))).length>h&&(m=m.slice(0,h)),w?f+m:m+f)}}var p=t("../internals/to-length"),u=t("../internals/string-repeat"),v=t("../internals/require-object-coercible"),x=Math.ceil;o.exports={start:i(!1),end:i(!0)}},{"../internals/require-object-coercible":114,"../internals/string-repeat":128,"../internals/to-length":137}],127:[function(t,o,y){"use strict";function i(g){return g+22+75*(g<26)}function p(g){var b,_=[],A=(g=function(W){for(var ee=[],J=0,N=W.length;J<N;){var D,B=W.charCodeAt(J++);55296<=B&&B<=56319&&J<N?(64512&(D=W.charCodeAt(J++)))==56320?ee.push(((1023&B)<<10)+(1023&D)+65536):(ee.push(B),J--):ee.push(B)}return ee}(g)).length,P=128,j=0,E=72;for(S=0;S<g.length;S++)(b=g[S])<128&&_.push(h(b));var k=_.length,M=k;for(k&&_.push("-");M<A;){for(var I=u,S=0;S<g.length;S++)P<=(b=g[S])&&b<I&&(I=b);var T=M+1;if(I-P>l((u-j)/T))throw RangeError(f);for(j+=(I-P)*T,P=I,S=0;S<g.length;S++){if((b=g[S])<P&&++j>u)throw RangeError(f);if(b==P){for(var L=j,O=v;;O+=v){var V=O<=E?1:E+x<=O?x:O-E;if(L<V)break;var H=L-V,F=v-V;_.push(h(i(V+H%F))),L=l(H/F)}_.push(h(i(L))),E=function(W,ee,J){var N=0;for(W=J?l(W/c):W>>1,W+=l(W/ee);m*x>>1<W;N+=v)W=l(W/m);return l(N+(m+1)*W/(W+w))}(j,T,M==k),j=0,++M}}++j,++P}return _.join("")}var u=2147483647,v=36,x=26,w=38,c=700,a=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,f="Overflow: input needs wider integers to process",m=v-1,l=Math.floor,h=String.fromCharCode;o.exports=function(g){for(var b,_=[],A=g.toLowerCase().replace(d,".").split("."),P=0;P<A.length;P++)b=A[P],_.push(a.test(b)?"xn--"+p(b):b);return _.join(".")}},{}],128:[function(t,o,y){"use strict";var i=t("../internals/to-integer"),p=t("../internals/require-object-coercible");o.exports="".repeat||function(u){var v=String(p(this)),x="",w=i(u);if(w<0||w==1/0)throw RangeError("Wrong number of repetitions");for(;0<w;(w>>>=1)&&(v+=v))1&w&&(x+=v);return x}},{"../internals/require-object-coercible":114,"../internals/to-integer":136}],129:[function(t,o,y){var i=t("../internals/fails"),p=t("../internals/whitespaces");o.exports=function(u){return i(function(){return!!p[u]()||"\u200B\x85\u180E"[u]()!="\u200B\x85\u180E"||p[u].name!==u})}},{"../internals/fails":51,"../internals/whitespaces":150}],130:[function(u,o,y){function i(w){return function(c){return c=String(p(c)),1&w&&(c=c.replace(v,"")),c=2&w?c.replace(x,""):c}}var p=u("../internals/require-object-coercible"),u="["+u("../internals/whitespaces")+"]",v=RegExp("^"+u+u+"*"),x=RegExp(u+u+"*$");o.exports={start:i(1),end:i(2),trim:i(3)}},{"../internals/require-object-coercible":114,"../internals/whitespaces":150}],131:[function(m,o,y){function i(M){return function(){k(M)}}function p(M){k(M.data)}function u(M){x.postMessage(M+"",l.protocol+"//"+l.host)}var v,x=m("../internals/global"),w=m("../internals/fails"),c=m("../internals/classof-raw"),a=m("../internals/function-bind-context"),d=m("../internals/html"),f=m("../internals/document-create-element"),m=m("../internals/engine-is-ios"),l=x.location,h=x.setImmediate,g=x.clearImmediate,b=x.process,_=x.MessageChannel,A=x.Dispatch,P=0,j={},E="onreadystatechange",k=function(M){var I;j.hasOwnProperty(M)&&(I=j[M],delete j[M],I())};h&&g||(h=function(M){for(var I=[],S=1;S<arguments.length;)I.push(arguments[S++]);return j[++P]=function(){(typeof M=="function"?M:Function(M)).apply(void 0,I)},v(P),P},g=function(M){delete j[M]},c(b)=="process"?v=function(M){b.nextTick(i(M))}:A&&A.now?v=function(M){A.now(i(M))}:_&&!m?(m=(c=new _).port2,c.port1.onmessage=p,v=a(m.postMessage,m,1)):!x.addEventListener||typeof postMessage!="function"||x.importScripts||w(u)||l.protocol==="file:"?v=E in f("script")?function(M){d.appendChild(f("script"))[E]=function(){d.removeChild(this),k(M)}}:function(M){setTimeout(i(M),0)}:(v=u,x.addEventListener("message",p,!1))),o.exports={set:h,clear:g}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],132:[function(t,o,y){var i=t("../internals/classof-raw");o.exports=function(p){if(typeof p!="number"&&i(p)!="Number")throw TypeError("Incorrect invocation");return+p}},{"../internals/classof-raw":28}],133:[function(t,o,y){var i=t("../internals/to-integer"),p=Math.max,u=Math.min;o.exports=function(v,x){return v=i(v),v<0?p(v+x,0):u(v,x)}},{"../internals/to-integer":136}],134:[function(t,o,y){var i=t("../internals/to-integer"),p=t("../internals/to-length");o.exports=function(v){if(v===void 0)return 0;var v=i(v),x=p(v);if(v!==x)throw RangeError("Wrong length or index");return x}},{"../internals/to-integer":136,"../internals/to-length":137}],135:[function(t,o,y){var i=t("../internals/indexed-object"),p=t("../internals/require-object-coercible");o.exports=function(u){return i(p(u))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":114}],136:[function(t,o,y){var i=Math.ceil,p=Math.floor;o.exports=function(u){return isNaN(u=+u)?0:(0<u?p:i)(u)}},{}],137:[function(t,o,y){var i=t("../internals/to-integer"),p=Math.min;o.exports=function(u){return 0<u?p(i(u),9007199254740991):0}},{"../internals/to-integer":136}],138:[function(t,o,y){var i=t("../internals/require-object-coercible");o.exports=function(p){return Object(i(p))}},{"../internals/require-object-coercible":114}],139:[function(t,o,y){var i=t("../internals/to-positive-integer");o.exports=function(p,u){if(p=i(p),p%u)throw RangeError("Wrong offset");return p}},{"../internals/to-positive-integer":140}],140:[function(t,o,y){var i=t("../internals/to-integer");o.exports=function(p){if(p=i(p),p<0)throw RangeError("The argument can't be less than 0");return p}},{"../internals/to-integer":136}],141:[function(t,o,y){var i=t("../internals/is-object");o.exports=function(p,u){if(!i(p))return p;var v,x;if(u&&typeof(v=p.toString)=="function"&&!i(x=v.call(p))||typeof(v=p.valueOf)=="function"&&!i(x=v.call(p))||!u&&typeof(v=p.toString)=="function"&&!i(x=v.call(p)))return x;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],142:[function(t,o,y){var i={};i[t("../internals/well-known-symbol")("toStringTag")]="z",o.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":149}],143:[function(t,o,y){"use strict";function i(ue,fe){for(var xe=0,Ee=fe.length,ce=new(Z(ue))(Ee);xe<Ee;)ce[xe]=fe[xe++];return ce}function p(ue,fe){D(ue,fe,{get:function(){return J(this)[fe]}})}function u(ue){return ue instanceof q||(ue=k(ue))=="ArrayBuffer"||ue=="SharedArrayBuffer"}function v(ue,fe){return re(ue)&&typeof fe!="symbol"&&fe in ue&&String(+fe)==String(fe)}function x(ue,fe){return v(ue,fe=j(fe,!0))?g(2,ue[fe]):B(ue,fe)}function w(ue,fe,xe){return!(v(ue,fe=j(fe,!0))&&M(xe)&&E(xe,"value"))||E(xe,"get")||E(xe,"set")||xe.configurable||E(xe,"writable")&&!xe.writable||E(xe,"enumerable")&&!xe.enumerable?D(ue,fe,xe):(ue[fe]=xe.value,ue)}var c=t("../internals/export"),a=t("../internals/global"),d=t("../internals/descriptors"),f=t("../internals/typed-array-constructors-require-wrappers"),m=t("../internals/array-buffer-view-core"),l=t("../internals/array-buffer"),h=t("../internals/an-instance"),g=t("../internals/create-property-descriptor"),b=t("../internals/create-non-enumerable-property"),_=t("../internals/to-length"),A=t("../internals/to-index"),P=t("../internals/to-offset"),j=t("../internals/to-primitive"),E=t("../internals/has"),k=t("../internals/classof"),M=t("../internals/is-object"),I=t("../internals/object-create"),S=t("../internals/object-set-prototype-of"),T=t("../internals/object-get-own-property-names").f,L=t("../internals/typed-array-from"),O=t("../internals/array-iteration").forEach,V=t("../internals/set-species"),H=t("../internals/object-define-property"),F=t("../internals/object-get-own-property-descriptor"),W=t("../internals/internal-state"),ee=t("../internals/inherit-if-required"),J=W.get,N=W.set,D=H.f,B=F.f,Y=Math.round,G=a.RangeError,q=l.ArrayBuffer,X=l.DataView,ne=m.NATIVE_ARRAY_BUFFER_VIEWS,$=m.TYPED_ARRAY_TAG,K=m.TypedArray,Q=m.TypedArrayPrototype,Z=m.aTypedArrayConstructor,re=m.isTypedArray,ie="BYTES_PER_ELEMENT",he="Wrong length";d?(ne||(F.f=x,H.f=w,p(Q,"buffer"),p(Q,"byteOffset"),p(Q,"byteLength"),p(Q,"length")),c({target:"Object",stat:!0,forced:!ne},{getOwnPropertyDescriptor:x,defineProperty:w}),o.exports=function(ge,fe,xe){function Ee(we,le){D(we,le,{get:function(){var de=this,se=le;return(de=J(de)).view[ye](se*ce+de.byteOffset,!0)},set:function(de){var se=this,pe=le;se=J(se),xe&&(de=(de=Y(de))<0?0:255<de?255:255&de),se.view[be](pe*ce+se.byteOffset,de,!0)},enumerable:!0})}var ce=ge.match(/\d+$/)[0]/8,me=ge+(xe?"Clamped":"")+"Array",ye="get"+ge,be="set"+ge,Ce=a[me],Se=Ce,ge=Se&&Se.prototype,_e={};ne?f&&(Se=fe(function(we,le,de,se){return h(we,Se,me),ee(M(le)?u(le)?se!==void 0?new Ce(le,P(de,ce),se):de!==void 0?new Ce(le,P(de,ce)):new Ce(le):re(le)?i(Se,le):L.call(Se,le):new Ce(A(le)),we,Se)}),S&&S(Se,K),O(T(Ce),function(we){we in Se||b(Se,we,Ce[we])}),Se.prototype=ge):(Se=fe(function(we,le,de,se){h(we,Se,me);var pe,je,Te=0,ke=0;if(M(le)){if(!u(le))return re(le)?i(Se,le):L.call(Se,le);var Be=le,ke=P(de,ce),de=le.byteLength;if(se===void 0){if(de%ce||(pe=de-ke)<0)throw G(he)}else if(de<(pe=_(se)*ce)+ke)throw G(he);je=pe/ce}else je=A(le),Be=new q(pe=je*ce);for(N(we,{buffer:Be,byteOffset:ke,byteLength:pe,length:je,view:new X(Be)});Te<je;)Ee(we,Te++)}),S&&S(Se,K),ge=Se.prototype=I(Q)),ge.constructor!==Se&&b(ge,"constructor",Se),$&&b(ge,$,me),_e[me]=Se,c({global:!0,forced:Se!=Ce,sham:!ne},_e),ie in Se||b(Se,ie,ce),ie in ge||b(ge,ie,ce),V(me)}):o.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":117,"../internals/to-index":134,"../internals/to-length":137,"../internals/to-offset":139,"../internals/to-primitive":141,"../internals/typed-array-constructors-require-wrappers":144,"../internals/typed-array-from":145}],144:[function(v,o,y){var i=v("../internals/global"),p=v("../internals/fails"),u=v("../internals/check-correctness-of-iteration"),v=v("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,x=i.ArrayBuffer,w=i.Int8Array;o.exports=!v||!p(function(){w(1)})||!p(function(){new w(-1)})||!u(function(c){new w,new w(null),new w(1.5),new w(c)},!0)||p(function(){return new w(new x(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],145:[function(t,o,y){var i=t("../internals/to-object"),p=t("../internals/to-length"),u=t("../internals/get-iterator-method"),v=t("../internals/is-array-iterator-method"),x=t("../internals/function-bind-context"),w=t("../internals/array-buffer-view-core").aTypedArrayConstructor;o.exports=function(c){var a,d,f,m,l,h,g=i(c),b=arguments.length,_=1<b?arguments[1]:void 0,A=_!==void 0,P=u(g);if(P!=null&&!v(P))for(h=(l=P.call(g)).next,g=[];!(m=h.call(l)).done;)g.push(m.value);for(A&&2<b&&(_=x(_,arguments[2],2)),d=p(g.length),f=new(w(this))(d),a=0;a<d;a++)f[a]=A?_(g[a],a):g[a];return f}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":137,"../internals/to-object":138}],146:[function(t,o,y){var i=0,p=Math.random();o.exports=function(u){return"Symbol("+String(u===void 0?"":u)+")_"+(++i+p).toString(36)}},{}],147:[function(t,o,y){t=t("../internals/native-symbol"),o.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],148:[function(t,o,y){t=t("../internals/well-known-symbol"),y.f=t},{"../internals/well-known-symbol":149}],149:[function(w,o,y){var i=w("../internals/global"),p=w("../internals/shared"),u=w("../internals/has"),v=w("../internals/uid"),x=w("../internals/native-symbol"),w=w("../internals/use-symbol-as-uid"),c=p("wks"),a=i.Symbol,d=w?a:a&&a.withoutSetter||v;o.exports=function(f){return u(c,f)||(x&&u(a,f)?c[f]=a[f]:c[f]=d("Symbol."+f)),c[f]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":121,"../internals/uid":146,"../internals/use-symbol-as-uid":147}],150:[function(t,o,y){o.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],151:[function(u,o,y){"use strict";var i=u("../internals/export"),p=u("../internals/global"),x=u("../internals/array-buffer"),u=u("../internals/set-species"),v="ArrayBuffer",x=x[v];i({global:!0,forced:p[v]!==x},{ArrayBuffer:x}),u(v)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":117}],152:[function(g,o,y){"use strict";var i=g("../internals/export"),p=g("../internals/fails"),u=g("../internals/is-array"),v=g("../internals/is-object"),x=g("../internals/to-object"),w=g("../internals/to-length"),c=g("../internals/create-property"),a=g("../internals/array-species-create"),d=g("../internals/array-method-has-species-support"),h=g("../internals/well-known-symbol"),g=g("../internals/engine-v8-version"),f=h("isConcatSpreadable"),m=9007199254740991,l="Maximum allowed index exceeded",h=51<=g||!p(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),g=d("concat");i({target:"Array",proto:!0,forced:!h||!g},{concat:function(b){for(var _,A,P,j,E,k=x(this),M=a(k,0),I=0,S=-1,T=arguments.length;S<T;S++)if(E=void 0,!v(j=P=S===-1?k:arguments[S])||((E=j[f])!==void 0?!E:!u(j))){if(m<=I)throw TypeError(l);c(M,I++,P)}else{if(A=w(P.length),m<I+A)throw TypeError(l);for(_=0;_<A;_++,I++)_ in P&&c(M,I,P[_])}return M.length=I,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":137,"../internals/to-object":138,"../internals/well-known-symbol":149}],153:[function(u,o,y){var i=u("../internals/export"),p=u("../internals/array-copy-within"),u=u("../internals/add-to-unscopables");i({target:"Array",proto:!0},{copyWithin:p}),u("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],154:[function(v,o,y){"use strict";var i=v("../internals/export"),p=v("../internals/array-iteration").every,u=v("../internals/array-method-is-strict"),v=v("../internals/array-method-uses-to-length"),u=u("every"),v=v("every");i({target:"Array",proto:!0,forced:!u||!v},{every:function(x){return p(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],155:[function(u,o,y){var i=u("../internals/export"),p=u("../internals/array-fill"),u=u("../internals/add-to-unscopables");i({target:"Array",proto:!0},{fill:p}),u("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],156:[function(v,o,y){"use strict";var i=v("../internals/export"),p=v("../internals/array-iteration").filter,u=v("../internals/array-method-has-species-support"),v=v("../internals/array-method-uses-to-length"),u=u("filter"),v=v("filter");i({target:"Array",proto:!0,forced:!u||!v},{filter:function(x){return p(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(w,o,y){"use strict";var i=w("../internals/export"),p=w("../internals/array-iteration").findIndex,u=w("../internals/add-to-unscopables"),w=w("../internals/array-method-uses-to-length"),v="findIndex",x=!0,w=w(v);v in[]&&Array(1)[v](function(){x=!1}),i({target:"Array",proto:!0,forced:x||!w},{findIndex:function(c){return p(this,c,1<arguments.length?arguments[1]:void 0)}}),u(v)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(t,o,y){"use strict";var i=t("../internals/export"),p=t("../internals/flatten-into-array"),u=t("../internals/to-object"),v=t("../internals/to-length"),x=t("../internals/a-function"),w=t("../internals/array-species-create");i({target:"Array",proto:!0},{flatMap:function(c){var a,d=u(this),f=v(d.length);return x(c),(a=w(d,0)).length=p(a,d,d,f,0,1,c,1<arguments.length?arguments[1]:void 0),a}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":137,"../internals/to-object":138}],159:[function(t,o,y){"use strict";var i=t("../internals/export"),p=t("../internals/flatten-into-array"),u=t("../internals/to-object"),v=t("../internals/to-length"),x=t("../internals/to-integer"),w=t("../internals/array-species-create");i({target:"Array",proto:!0},{flat:function(){var c=arguments.length?arguments[0]:void 0,a=u(this),d=v(a.length),f=w(a,0);return f.length=p(f,a,a,d,0,c===void 0?1:x(c)),f}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],160:[function(p,o,y){"use strict";var i=p("../internals/export"),p=p("../internals/array-for-each");i({target:"Array",proto:!0,forced:[].forEach!=p},{forEach:p})},{"../internals/array-for-each":16,"../internals/export":50}],161:[function(t,o,y){var i=t("../internals/export"),p=t("../internals/array-from");i({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(u){Array.from(u)})},{from:p})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],162:[function(t,o,y){"use strict";var i=t("../internals/export"),p=t("../internals/array-includes").includes,u=t("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(v){return p(this,v,1<arguments.length?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],163:[function(w,o,y){"use strict";var i=w("../internals/export"),p=w("../internals/array-includes").indexOf,x=w("../internals/array-method-is-strict"),w=w("../internals/array-method-uses-to-length"),u=[].indexOf,v=!!u&&1/[1].indexOf(1,-0)<0,x=x("indexOf"),w=w("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:v||!x||!w},{indexOf:function(c){return v?u.apply(this,arguments)||0:p(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(x,o,y){"use strict";var i=x("../internals/to-indexed-object"),p=x("../internals/add-to-unscopables"),u=x("../internals/iterators"),v=x("../internals/internal-state"),x=x("../internals/define-iterator"),w="Array Iterator",c=v.set,a=v.getterFor(w);o.exports=x(Array,"Array",function(d,f){c(this,{type:w,target:i(d),index:0,kind:f})},function(){var d=a(this),f=d.target,m=d.kind,l=d.index++;return!f||l>=f.length?{value:d.target=void 0,done:!0}:m=="keys"?{value:l,done:!1}:m=="values"?{value:f[l],done:!1}:{value:[l,f[l]],done:!1}},"values"),u.Arguments=u.Array,p("keys"),p("values"),p("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":135}],165:[function(x,o,y){"use strict";var i=x("../internals/export"),v=x("../internals/indexed-object"),p=x("../internals/to-indexed-object"),x=x("../internals/array-method-is-strict"),u=[].join,v=v!=Object,x=x("join",",");i({target:"Array",proto:!0,forced:v||!x},{join:function(w){return u.call(p(this),w===void 0?",":w)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":135}],166:[function(p,o,y){var i=p("../internals/export"),p=p("../internals/array-last-index-of");i({target:"Array",proto:!0,forced:p!==[].lastIndexOf},{lastIndexOf:p})},{"../internals/array-last-index-of":20,"../internals/export":50}],167:[function(v,o,y){"use strict";var i=v("../internals/export"),p=v("../internals/array-iteration").map,u=v("../internals/array-method-has-species-support"),v=v("../internals/array-method-uses-to-length"),u=u("map"),v=v("map");i({target:"Array",proto:!0,forced:!u||!v},{map:function(x){return p(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],168:[function(f,o,y){"use strict";var i=f("../internals/export"),p=f("../internals/is-object"),u=f("../internals/is-array"),v=f("../internals/to-absolute-index"),x=f("../internals/to-length"),w=f("../internals/to-indexed-object"),c=f("../internals/create-property"),a=f("../internals/well-known-symbol"),d=f("../internals/array-method-has-species-support"),f=f("../internals/array-method-uses-to-length"),d=d("slice"),f=f("slice",{ACCESSORS:!0,0:0,1:2}),m=a("species"),l=[].slice,h=Math.max;i({target:"Array",proto:!0,forced:!d||!f},{slice:function(g,b){var _,A,P,j=w(this),E=x(j.length),k=v(g,E),M=v(b===void 0?E:b,E);if(u(j)&&((_=typeof(_=j.constructor)=="function"&&(_===Array||u(_.prototype))||p(_)&&(_=_[m])===null?void 0:_)===Array||_===void 0))return l.call(j,k,M);for(A=new(_===void 0?Array:_)(h(M-k,0)),P=0;k<M;k++,P++)k in j&&c(A,P,j[k]);return A.length=P,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":133,"../internals/to-indexed-object":135,"../internals/to-length":137,"../internals/well-known-symbol":149}],169:[function(v,o,y){"use strict";var i=v("../internals/export"),p=v("../internals/array-iteration").some,u=v("../internals/array-method-is-strict"),v=v("../internals/array-method-uses-to-length"),u=u("some"),v=v("some");i({target:"Array",proto:!0,forced:!u||!v},{some:function(x){return p(this,x,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],170:[function(d,o,y){"use strict";var i=d("../internals/export"),p=d("../internals/to-absolute-index"),u=d("../internals/to-integer"),v=d("../internals/to-length"),x=d("../internals/to-object"),w=d("../internals/array-species-create"),c=d("../internals/create-property"),a=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),a=a("splice"),d=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min;i({target:"Array",proto:!0,forced:!a||!d},{splice:function(I,h){var g,b,_,A,P,j,E=x(this),k=v(E.length),M=p(I,k),I=arguments.length;if(I===0?g=b=0:b=I===1?(g=0,k-M):(g=I-2,m(f(u(h),0),k-M)),9007199254740991<k+g-b)throw TypeError("Maximum allowed length exceeded");for(_=w(E,b),A=0;A<b;A++)(P=M+A)in E&&c(_,A,E[P]);if(g<(_.length=b)){for(A=M;A<k-b;A++)j=A+g,(P=A+b)in E?E[j]=E[P]:delete E[j];for(A=k;k-b+g<A;A--)delete E[A-1]}else if(b<g)for(A=k-b;M<A;A--)j=A+g-1,(P=A+b-1)in E?E[j]=E[P]:delete E[j];for(A=0;A<g;A++)E[A+M]=arguments[A+2];return E.length=k-b+g,_}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":133,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],171:[function(t,o,y){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],172:[function(t,o,y){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],173:[function(p,o,y){var i=p("../internals/descriptors"),p=p("../internals/object-define-property").f,u=Function.prototype,v=u.toString,x=/^\s*function ([^ (]*)/;!i||"name"in u||p(u,"name",{configurable:!0,get:function(){try{return v.call(this).match(x)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],174:[function(p,o,y){"use strict";var i=p("../internals/collection"),p=p("../internals/collection-strong");o.exports=i("Map",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},p)},{"../internals/collection":32,"../internals/collection-strong":30}],175:[function(i,o,y){var i=i("../internals/export"),p=Math.hypot,u=Math.abs,v=Math.sqrt;i({target:"Math",stat:!0,forced:!!p&&p(1/0,NaN)!==1/0},{hypot:function(x,w){for(var c,a,d=0,f=0,m=arguments.length,l=0;f<m;)l<(c=u(arguments[f++]))?(d=d*(a=l/c)*a+1,l=c):d+=0<c?(a=c/l)*a:c;return l===1/0?1/0:l*v(d)}})},{"../internals/export":50}],176:[function(i,o,y){var i=i("../internals/export"),p=Math.log,u=Math.LN2;i({target:"Math",stat:!0},{log2:function(v){return p(v)/u}})},{"../internals/export":50}],177:[function(t,o,y){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],178:[function(t,o,y){"use strict";function i(S){var T,L,O,V,H,F,W,ee=d(S,!1);if(typeof ee=="string"&&2<ee.length){if((S=(ee=b(ee)).charCodeAt(0))===43||S===45){if((T=ee.charCodeAt(2))===88||T===120)return NaN}else if(S===48){switch(ee.charCodeAt(1)){case 66:case 98:L=2,O=49;break;case 79:case 111:L=8,O=55;break;default:return+ee}for(H=(V=ee.slice(2)).length,F=0;F<H;F++)if((W=V.charCodeAt(F))<48||O<W)return NaN;return parseInt(V,L)}}return+ee}var p=t("../internals/descriptors"),u=t("../internals/global"),v=t("../internals/is-forced"),x=t("../internals/redefine"),w=t("../internals/has"),c=t("../internals/classof-raw"),a=t("../internals/inherit-if-required"),d=t("../internals/to-primitive"),f=t("../internals/fails"),m=t("../internals/object-create"),l=t("../internals/object-get-own-property-names").f,h=t("../internals/object-get-own-property-descriptor").f,g=t("../internals/object-define-property").f,b=t("../internals/string-trim").trim,_="Number",A=u[_],P=A.prototype,j=c(m(P))==_;if(v(_,!A(" 0o1")||!A("0b1")||A("+0x1"))){for(var E,k=function(T){var T=arguments.length<1?0:T,L=this;return L instanceof k&&(j?f(function(){P.valueOf.call(L)}):c(L)!=_)?a(new A(i(T)),L,k):i(T)},M=p?l(A):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;M.length>I;I++)w(A,E=M[I])&&!w(k,E)&&g(k,E,h(A,E));(k.prototype=P).constructor=k,x(u,_,k)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/string-trim":130,"../internals/to-primitive":141}],179:[function(t,o,y){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],180:[function(w,o,y){"use strict";function i(d,f,m){return f===0?m:f%2==1?i(d,f-1,m*d):i(d*d,f/2,m)}var p=w("../internals/export"),u=w("../internals/to-integer"),v=w("../internals/this-number-value"),x=w("../internals/string-repeat"),w=w("../internals/fails"),c=1 .toFixed,a=Math.floor;p({target:"Number",proto:!0,forced:c&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!w(function(){c.call({})})},{toFixed:function(_){function f(E,k){for(var M=-1,I=k;++M<6;)I+=E*A[M],A[M]=I%1e7,I=a(I/1e7)}function m(E){for(var k=6,M=0;0<=--k;)M+=A[k],A[k]=a(M/E),M=M%E*1e7}function l(){for(var E,k=6,M="";0<=--k;)M===""&&k!==0&&A[k]===0||(E=String(A[k]),M=M===""?E:M+x.call("0",7-E.length)+E);return M}var h,g,b=v(this),_=u(_),A=[0,0,0,0,0,0],P="",j="0";if(_<0||20<_)throw RangeError("Incorrect fraction digits");if(b!=b)return"NaN";if(b<=-1e21||1e21<=b)return String(b);if(b<0&&(P="-",b=-b),1e-21<b)if(b=(h=function(E){for(var k=0,M=E;4096<=M;)k+=12,M/=4096;for(;2<=M;)k+=1,M/=2;return k}(b*i(2,69,1))-69)<0?b*i(2,-h,1):b/i(2,h,1),b*=4503599627370496,0<(h=52-h)){for(f(0,b),g=_;7<=g;)f(1e7,0),g-=7;for(f(i(10,g,1),0),g=h-1;23<=g;)m(1<<23),g-=23;m(1<<g),f(1,1),m(2),j=l()}else f(0,b),f(1<<-h,0),j=l()+x.call("0",_);return j=0<_?P+((b=j.length)<=_?"0."+x.call("0",_-b)+j:j.slice(0,b-_)+"."+j.slice(b-_)):P+j}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":128,"../internals/this-number-value":132,"../internals/to-integer":136}],181:[function(p,o,y){var i=p("../internals/export"),p=p("../internals/object-assign");i({target:"Object",stat:!0,forced:Object.assign!==p},{assign:p})},{"../internals/export":50,"../internals/object-assign":90}],182:[function(t,o,y){var i=t("../internals/export"),p=t("../internals/iterate"),u=t("../internals/create-property");i({target:"Object",stat:!0},{fromEntries:function(v){var x={};return p(v,function(w,c){u(x,w,c)},void 0,!0),x}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],183:[function(v,o,y){var i=v("../internals/export"),x=v("../internals/fails"),p=v("../internals/to-indexed-object"),u=v("../internals/object-get-own-property-descriptor").f,v=v("../internals/descriptors"),x=x(function(){u(1)});i({target:"Object",stat:!0,forced:!v||x,sham:!v},{getOwnPropertyDescriptor:function(w,c){return u(p(w),c)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":135}],184:[function(u,o,y){var i=u("../internals/export"),p=u("../internals/fails"),u=u("../internals/object-get-own-property-names-external").f;i({target:"Object",stat:!0,forced:p(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:u})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],185:[function(x,o,y){var i=x("../internals/export"),p=x("../internals/fails"),u=x("../internals/to-object"),v=x("../internals/object-get-prototype-of"),x=x("../internals/correct-prototype-getter");i({target:"Object",stat:!0,forced:p(function(){v(1)}),sham:!x},{getPrototypeOf:function(w){return v(u(w))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":138}],186:[function(t,o,y){var i=t("../internals/export"),p=t("../internals/to-object"),u=t("../internals/object-keys");i({target:"Object",stat:!0,forced:t("../internals/fails")(function(){u(1)})},{keys:function(v){return u(p(v))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":138}],187:[function(u,o,y){var i=u("../internals/to-string-tag-support"),p=u("../internals/redefine"),u=u("../internals/object-to-string");i||p(Object.prototype,"toString",u,{unsafe:!0})},{"../internals/object-to-string":103,"../internals/redefine":109,"../internals/to-string-tag-support":142}],188:[function(xe,o,y){"use strict";var i,p,u,v,x=xe("../internals/export"),w=xe("../internals/is-pure"),c=xe("../internals/global"),a=xe("../internals/get-built-in"),d=xe("../internals/native-promise-constructor"),f=xe("../internals/redefine"),m=xe("../internals/redefine-all"),l=xe("../internals/set-to-string-tag"),h=xe("../internals/set-species"),g=xe("../internals/is-object"),b=xe("../internals/a-function"),_=xe("../internals/an-instance"),A=xe("../internals/classof-raw"),P=xe("../internals/inspect-source"),j=xe("../internals/iterate"),E=xe("../internals/check-correctness-of-iteration"),k=xe("../internals/species-constructor"),M=xe("../internals/task").set,I=xe("../internals/microtask"),S=xe("../internals/promise-resolve"),T=xe("../internals/host-report-errors"),L=xe("../internals/new-promise-capability"),O=xe("../internals/perform"),V=xe("../internals/internal-state"),H=xe("../internals/is-forced"),Ee=xe("../internals/well-known-symbol"),F=xe("../internals/engine-v8-version"),W=Ee("species"),ee="Promise",J=V.get,N=V.set,D=V.getterFor(ee),B=d,Y=c.TypeError,G=c.document,q=c.process,X=a("fetch"),ne=L.f,$=ne,K=A(q)=="process",Q=!!(G&&G.createEvent&&c.dispatchEvent),Z="unhandledrejection",re="rejectionhandled",ie=1,he=2,ue=1,fe=2,xe=H(ee,function(){var _e,we;return P(B)===String(B)&&(F===66||!K&&typeof PromiseRejectionEvent!="function")?!0:!(!w||B.prototype.finally)||!(51<=F&&/native code/.test(B))&&(we=function(le){le(function(){},function(){})},((_e=B.resolve(1)).constructor={})[W]=we,!(_e.then(function(){})instanceof we))}),Ee=xe||!E(function(_e){B.all(_e).catch(function(){})}),ce=function(_e){var we;return!(!g(_e)||typeof(we=_e.then)!="function")&&we},me=function(_e,we,le){var de;we.notified||(we.notified=!0,de=we.reactions,I(function(){for(var se,pe,je=we.value,Te=we.state==ie,ke=0;de.length>ke;){var Be,Ve,ze,qe=de[ke++],rt=Te?qe.ok:qe.fail,et=qe.resolve,Ye=qe.reject,at=qe.domain;try{rt?(Te||(we.rejection===fe&&function(tt,Ot){M.call(c,function(){K?q.emit("rejectionHandled",tt):ye(re,tt,Ot.value)})}(_e,we),we.rejection=ue),rt===!0?Be=je:(at&&at.enter(),Be=rt(je),at&&(at.exit(),ze=!0)),Be===qe.promise?Ye(Y("Promise-chain cycle")):(Ve=ce(Be))?Ve.call(Be,et,Ye):et(Be)):Ye(je)}catch(tt){at&&!ze&&at.exit(),Ye(tt)}}we.reactions=[],we.notified=!1,le&&!we.rejection&&(se=_e,pe=we,M.call(c,function(){var tt=pe.value,Ot=be(pe);if(Ot&&(Ot=O(function(){K?q.emit("unhandledRejection",tt,se):ye(Z,se,tt)}),pe.rejection=K||be(pe)?fe:ue,Ot.error))throw Ot.value}))}))},ye=function(_e,we,le){var de;Q?((de=G.createEvent("Event")).promise=we,de.reason=le,de.initEvent(_e,!1,!0),c.dispatchEvent(de)):de={promise:we,reason:le},(we=c["on"+_e])?we(de):_e===Z&&T("Unhandled promise rejection",le)},be=function(_e){return _e.rejection!==ue&&!_e.parent},Ce=function(_e,we,le,de){return function(se){_e(we,le,se,de)}},Se=function(_e,we,le,de){we.done||(we.done=!0,(we=de||we).value=le,we.state=he,me(_e,we,!0))},ge=function(_e,we,le,de){if(!we.done){we.done=!0,de&&(we=de);try{if(_e===le)throw Y("Promise can't be resolved itself");var se=ce(le);se?I(function(){var pe={done:!1};try{se.call(le,Ce(ge,_e,pe,we),Ce(Se,_e,pe,we))}catch(je){Se(_e,pe,je,we)}}):(we.value=le,we.state=ie,me(_e,we,!1))}catch(pe){Se(_e,{done:!1},pe,we)}}};xe&&(B=function(_e){_(this,B,ee),b(_e),i.call(this);var we=J(this);try{_e(Ce(ge,this,we),Ce(Se,this,we))}catch(le){Se(this,we,le)}},(i=function(_e){N(this,{type:ee,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=m(B.prototype,{then:function(_e,we){var le=D(this),de=ne(k(this,B));return de.ok=typeof _e!="function"||_e,de.fail=typeof we=="function"&&we,de.domain=K?q.domain:void 0,le.parent=!0,le.reactions.push(de),le.state!=0&&me(this,le,!1),de.promise},catch:function(_e){return this.then(void 0,_e)}}),p=function(){var _e=new i,we=J(_e);this.promise=_e,this.resolve=Ce(ge,_e,we),this.reject=Ce(Se,_e,we)},L.f=ne=function(_e){return _e===B||_e===u?new p:$(_e)},w||typeof d!="function"||(v=d.prototype.then,f(d.prototype,"then",function(_e,we){var le=this;return new B(function(de,se){v.call(le,de,se)}).then(_e,we)},{unsafe:!0}),typeof X=="function"&&x({global:!0,enumerable:!0,forced:!0},{fetch:function(_e){return S(B,X.apply(c,arguments))}}))),x({global:!0,wrap:!0,forced:xe},{Promise:B}),l(B,ee,!1,!0),h(ee),u=a(ee),x({target:ee,stat:!0,forced:xe},{reject:function(_e){var we=ne(this);return we.reject.call(void 0,_e),we.promise}}),x({target:ee,stat:!0,forced:w||xe},{resolve:function(_e){return S(w&&this===u?B:this,_e)}}),x({target:ee,stat:!0,forced:Ee},{all:function(_e){var we=this,le=ne(we),de=le.resolve,se=le.reject,pe=O(function(){var je=b(we.resolve),Te=[],ke=0,Be=1;j(_e,function(Ve){var ze=ke++,qe=!1;Te.push(void 0),Be++,je.call(we,Ve).then(function(rt){qe||(qe=!0,Te[ze]=rt,--Be||de(Te))},se)}),--Be||de(Te)});return pe.error&&se(pe.value),le.promise},race:function(_e){var we=this,le=ne(we),de=le.reject,se=O(function(){var pe=b(we.resolve);j(_e,function(je){pe.call(we,je).then(le.resolve,de)})});return se.error&&de(se.value),le.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":106,"../internals/promise-resolve":107,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-species":117,"../internals/set-to-string-tag":118,"../internals/species-constructor":122,"../internals/task":131,"../internals/well-known-symbol":149}],189:[function(c,o,y){var i=c("../internals/export"),m=c("../internals/get-built-in"),p=c("../internals/a-function"),u=c("../internals/an-object"),v=c("../internals/is-object"),x=c("../internals/object-create"),w=c("../internals/function-bind"),c=c("../internals/fails"),a=m("Reflect","construct"),d=c(function(){function l(){}return!(a(function(){},[],l)instanceof l)}),f=!c(function(){a(function(){})}),m=d||f;i({target:"Reflect",stat:!0,forced:m,sham:m},{construct:function(l,h){p(l),u(h);var g=arguments.length<3?l:p(arguments[2]);if(f&&!d)return a(l,h,g);if(l==g){switch(h.length){case 0:return new l;case 1:return new l(h[0]);case 2:return new l(h[0],h[1]);case 3:return new l(h[0],h[1],h[2]);case 4:return new l(h[0],h[1],h[2],h[3])}var b=[null];return b.push.apply(b,h),new(w.apply(l,b))}return b=g.prototype,g=x(v(b)?b:Object.prototype),b=Function.apply.call(l,g,h),v(b)?b:g}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],190:[function(t,o,y){var i=t("../internals/export"),p=t("../internals/is-object"),u=t("../internals/an-object"),v=t("../internals/has"),x=t("../internals/object-get-own-property-descriptor"),w=t("../internals/object-get-prototype-of");i({target:"Reflect",stat:!0},{get:function c(a,d){var f,m=arguments.length<3?a:arguments[2];return u(a)===m?a[d]:(f=x.f(a,d))?v(f,"value")?f.value:f.get===void 0?void 0:f.get.call(m):p(f=w(a))?c(f,d,m):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],191:[function(t,o,y){var i=t("../internals/descriptors"),p=t("../internals/global"),u=t("../internals/is-forced"),v=t("../internals/inherit-if-required"),x=t("../internals/object-define-property").f,w=t("../internals/object-get-own-property-names").f,c=t("../internals/is-regexp"),a=t("../internals/regexp-flags"),d=t("../internals/regexp-sticky-helpers"),f=t("../internals/redefine"),m=t("../internals/fails"),l=t("../internals/internal-state").set,h=t("../internals/set-species"),g=t("../internals/well-known-symbol")("match"),b=p.RegExp,_=b.prototype,A=/a/g,P=/a/g,j=new b(A)!==A,E=d.UNSUPPORTED_Y;if(i&&u("RegExp",!j||E||m(function(){return P[g]=!1,b(A)!=A||b(P)==P||b(A,"i")!="/a/i"}))){for(var k=function(S,T){var L,O=this instanceof k,V=c(S),H=T===void 0;return!O&&V&&S.constructor===k&&H?S:(j?V&&!H&&(S=S.source):S instanceof k&&(H&&(T=a.call(S)),S=S.source),E&&(L=!!T&&-1<T.indexOf("y"))&&(T=T.replace(/y/g,"")),V=v(j?new b(S,T):b(S,T),O?this:_,k),E&&L&&l(V,{sticky:L}),V)},M=w(b),I=0;M.length>I;)(function(S){S in k||x(k,S,{configurable:!0,get:function(){return b[S]},set:function(T){b[S]=T}})})(M[I++]);(_.constructor=k).prototype=_,f(p,"RegExp",k)}h("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":109,"../internals/regexp-flags":112,"../internals/regexp-sticky-helpers":113,"../internals/set-species":117,"../internals/well-known-symbol":149}],192:[function(p,o,y){"use strict";var i=p("../internals/export"),p=p("../internals/regexp-exec");i({target:"RegExp",proto:!0,forced:/./.exec!==p},{exec:p})},{"../internals/export":50,"../internals/regexp-exec":111}],193:[function(v,o,y){"use strict";var i=v("../internals/redefine"),p=v("../internals/an-object"),c=v("../internals/fails"),u=v("../internals/regexp-flags"),v="toString",x=RegExp.prototype,w=x[v],c=c(function(){return w.call({source:"a",flags:"b"})!="/a/b"}),a=w.name!=v;(c||a)&&i(RegExp.prototype,v,function(){var d=p(this),f=String(d.source),m=d.flags;return"/"+f+"/"+String(m===void 0&&d instanceof RegExp&&!("flags"in x)?u.call(d):m)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":109,"../internals/regexp-flags":112}],194:[function(p,o,y){"use strict";var i=p("../internals/collection"),p=p("../internals/collection-strong");o.exports=i("Set",function(u){return function(){return u(this,arguments.length?arguments[0]:void 0)}},p)},{"../internals/collection":32,"../internals/collection-strong":30}],195:[function(w,o,y){"use strict";var i=w("../internals/export"),p=w("../internals/object-get-own-property-descriptor").f,u=w("../internals/to-length"),v=w("../internals/not-a-regexp"),x=w("../internals/require-object-coercible"),d=w("../internals/correct-is-regexp-logic"),w=w("../internals/is-pure"),c="".endsWith,a=Math.min,d=d("endsWith");i({target:"String",proto:!0,forced:!!(w||d||!(i=p(String.prototype,"endsWith"))||i.writable)&&!d},{endsWith:function(f){var m=String(x(this)),l=(v(f),1<arguments.length?arguments[1]:void 0),h=u(m.length),l=l===void 0?h:a(u(l),h),h=String(f);return c?c.call(m,h,l):m.slice(l-h.length,l)===h}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],196:[function(t,o,y){"use strict";var i=t("../internals/export"),p=t("../internals/not-a-regexp"),u=t("../internals/require-object-coercible");i({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(v){return!!~String(u(this)).indexOf(p(v),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":114}],197:[function(u,o,y){"use strict";var i=u("../internals/string-multibyte").charAt,p=u("../internals/internal-state"),u=u("../internals/define-iterator"),v="String Iterator",x=p.set,w=p.getterFor(v);u(String,"String",function(c){x(this,{type:v,string:String(c),index:0})},function(){var c=w(this),a=c.string,d=c.index;return d>=a.length?{value:void 0,done:!0}:(a=i(a,d),c.index+=a.length,{value:a,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":124}],198:[function(t,o,y){"use strict";var i=t("../internals/fix-regexp-well-known-symbol-logic"),p=t("../internals/an-object"),u=t("../internals/to-length"),v=t("../internals/require-object-coercible"),x=t("../internals/advance-string-index"),w=t("../internals/regexp-exec-abstract");i("match",1,function(c,a,d){return[function(f){var m=v(this),l=f?.[c];return l!==void 0?l.call(f,m):new RegExp(f)[c](String(m))},function(f){var m=d(a,f,this);if(m.done)return m.value;var l=p(f),h=String(this);if(!l.global)return w(l,h);for(var g=l.unicode,b=[],_=l.lastIndex=0;(A=w(l,h))!==null;){var A=String(A[0]);(b[_]=A)===""&&(l.lastIndex=x(h,u(l.lastIndex),g)),_++}return _===0?null:b}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-length":137}],199:[function(t,o,y){"use strict";var i=t("../internals/export"),p=t("../internals/string-pad").start;i({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(u){return p(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":126,"../internals/string-pad-webkit-bug":125}],200:[function(t,o,y){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":128}],201:[function(t,o,y){"use strict";var i=t("../internals/fix-regexp-well-known-symbol-logic"),p=t("../internals/an-object"),u=t("../internals/to-object"),v=t("../internals/to-length"),x=t("../internals/to-integer"),w=t("../internals/require-object-coercible"),c=t("../internals/advance-string-index"),a=t("../internals/regexp-exec-abstract"),d=Math.max,f=Math.min,m=Math.floor,l=/\$([$&'`]|\d\d?|<[^>]*>)/g,h=/\$([$&'`]|\d\d?)/g;i("replace",2,function(g,b,_,A){var P=A.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,j=A.REPLACE_KEEPS_$0,E=P?"$":"$0";return[function(k,M){var I=w(this),S=k?.[g];return S!==void 0?S.call(k,I,M):b.call(String(I),k,M)},function(k,M){if(!P&&j||typeof M=="string"&&M.indexOf(E)===-1){var I=_(b,k,this,M);if(I.done)return I.value}for(var S,T=p(k),L=String(this),O=typeof M=="function",V=(O||(M=String(M)),T.global),H=(V&&(S=T.unicode,T.lastIndex=0),[]);(N=a(T,L))!==null&&(H.push(N),V);)String(N[0])===""&&(T.lastIndex=c(L,v(T.lastIndex),S));for(var F,W="",ee=0,J=0;J<H.length;J++){for(var N=H[J],D=String(N[0]),B=d(f(x(N.index),L.length),0),Y=[],G=1;G<N.length;G++)Y.push((F=N[G])===void 0?F:String(F));var q=N.groups,X=O?(X=[D].concat(Y,B,L),q!==void 0&&X.push(q),String(M.apply(void 0,X))):function(ne,$,K,Q,Z,re){var ie=K+ne.length,he=Q.length,ue=h;return Z!==void 0&&(Z=u(Z),ue=l),b.call(re,ue,function(fe,xe){var Ee;switch(xe.charAt(0)){case"$":return"$";case"&":return ne;case"`":return $.slice(0,K);case"'":return $.slice(ie);case"<":Ee=Z[xe.slice(1,-1)];break;default:var ce,me=+xe;if(me==0)return fe;if(he<me)return(ce=m(me/10))!==0&&ce<=he?Q[ce-1]===void 0?xe.charAt(1):Q[ce-1]+xe.charAt(1):fe;Ee=Q[me-1]}return Ee===void 0?"":Ee})}(D,L,B,Y,q,M);ee<=B&&(W+=L.slice(ee,B)+X,ee=B+D.length)}return W+L.slice(ee)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/to-integer":136,"../internals/to-length":137,"../internals/to-object":138}],202:[function(t,o,y){"use strict";var i=t("../internals/fix-regexp-well-known-symbol-logic"),p=t("../internals/an-object"),u=t("../internals/require-object-coercible"),v=t("../internals/same-value"),x=t("../internals/regexp-exec-abstract");i("search",1,function(w,c,a){return[function(d){var f=u(this),m=d?.[w];return m!==void 0?m.call(d,f):new RegExp(d)[w](String(f))},function(d){var f,m=a(c,d,this);return m.done?m.value:(m=p(d),d=String(this),f=m.lastIndex,v(f,0)||(m.lastIndex=0),d=x(m,d),v(m.lastIndex,f)||(m.lastIndex=f),d===null?-1:d.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/same-value":115}],203:[function(f,o,y){"use strict";var i=f("../internals/fix-regexp-well-known-symbol-logic"),p=f("../internals/is-regexp"),u=f("../internals/an-object"),v=f("../internals/require-object-coercible"),x=f("../internals/species-constructor"),w=f("../internals/advance-string-index"),c=f("../internals/to-length"),a=f("../internals/regexp-exec-abstract"),d=f("../internals/regexp-exec"),f=f("../internals/fails"),m=[].push,l=Math.min,h=4294967295,g=!f(function(){return!RegExp(h,"y")});i("split",2,function(b,_,A){var P="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(j,E){var k=String(v(this)),M=E===void 0?h:E>>>0;if(M==0)return[];if(j===void 0)return[k];if(!p(j))return _.call(k,j,M);for(var I,S,T,L=[],E=(j.ignoreCase?"i":"")+(j.multiline?"m":"")+(j.unicode?"u":"")+(j.sticky?"y":""),O=0,V=new RegExp(j.source,E+"g");(I=d.call(V,k))&&!(O<(S=V.lastIndex)&&(L.push(k.slice(O,I.index)),1<I.length&&I.index<k.length&&m.apply(L,I.slice(1)),T=I[0].length,O=S,L.length>=M));)V.lastIndex===I.index&&V.lastIndex++;return O===k.length?!T&&V.test("")||L.push(""):L.push(k.slice(O)),L.length>M?L.slice(0,M):L}:"0".split(void 0,0).length?function(j,E){return j===void 0&&E===0?[]:_.call(this,j,E)}:_;return[function(j,E){var k=v(this),M=j?.[b];return M!==void 0?M.call(j,k,E):P.call(String(k),j,E)},function(I,E){var k=A(P,I,this,E,P!==_);if(k.done)return k.value;var k=u(I),M=String(this),I=x(k,RegExp),S=k.unicode,T=(k.ignoreCase?"i":"")+(k.multiline?"m":"")+(k.unicode?"u":"")+(g?"y":"g"),L=new I(g?k:"^(?:"+k.source+")",T),O=E===void 0?h:E>>>0;if(O==0)return[];if(M.length===0)return a(L,M)===null?[M]:[];for(var V=0,H=0,F=[];H<M.length;){L.lastIndex=g?H:0;var W,ee=a(L,g?M:M.slice(H));if(ee===null||(W=l(c(L.lastIndex+(g?0:H)),M.length))===V)H=w(M,H,S);else{if(F.push(M.slice(V,H)),F.length===O)return F;for(var J=1;J<=ee.length-1;J++)if(F.push(ee[J]),F.length===O)return F;H=V=W}}return F.push(M.slice(V)),F}]},!g)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":111,"../internals/regexp-exec-abstract":110,"../internals/require-object-coercible":114,"../internals/species-constructor":122,"../internals/to-length":137}],204:[function(w,o,y){"use strict";var i=w("../internals/export"),p=w("../internals/object-get-own-property-descriptor").f,u=w("../internals/to-length"),v=w("../internals/not-a-regexp"),x=w("../internals/require-object-coercible"),d=w("../internals/correct-is-regexp-logic"),w=w("../internals/is-pure"),c="".startsWith,a=Math.min,d=d("startsWith");i({target:"String",proto:!0,forced:!!(w||d||!(i=p(String.prototype,"startsWith"))||i.writable)&&!d},{startsWith:function(h){var m=String(x(this)),l=(v(h),u(a(1<arguments.length?arguments[1]:void 0,m.length))),h=String(h);return c?c.call(m,h,l):m.slice(l,l+h.length)===h}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":114,"../internals/to-length":137}],205:[function(t,o,y){"use strict";var i=t("../internals/export"),p=t("../internals/create-html");i({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return p(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":123}],206:[function(t,o,y){"use strict";var i=t("../internals/export"),p=t("../internals/string-trim").trim;i({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return p(this)}})},{"../internals/export":50,"../internals/string-trim":130,"../internals/string-trim-forced":129}],207:[function(l,o,y){"use strict";var i,p,u,v,x,w=l("../internals/export"),c=l("../internals/descriptors"),a=l("../internals/global"),d=l("../internals/has"),f=l("../internals/is-object"),m=l("../internals/object-define-property").f,l=l("../internals/copy-constructor-properties"),h=a.Symbol;!c||typeof h!="function"||"description"in h.prototype&&h().description===void 0||(i={},l(p=function(){var g=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),b=this instanceof p?new h(g):g===void 0?h():h(g);return g===""&&(i[b]=!0),b},h),(a=p.prototype=h.prototype).constructor=p,u=a.toString,v=String(h("test"))=="Symbol(test)",x=/^Symbol\((.*)\)[^)]+$/,m(a,"description",{configurable:!0,get:function(){var g=f(this)?this.valueOf():this,b=u.call(g);return d(i,g)?"":(g=v?b.slice(7,-1):b.replace(x,"$1"))===""?void 0:g}}),w({global:!0,forced:!0},{Symbol:p}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],208:[function(t,o,y){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],209:[function($,o,y){"use strict";function i(se,pe){var je=Ee[se]=k(re[ne]);return K(je,{type:X,tag:se,description:pe}),d||(je.description=pe),je}function p(se,Te){_(se);var je=P(Te),Te=M(je).concat(de(je));return G(Te,function(ke){d&&!le.call(je,ke)||we(se,ke,je[ke])}),se}function u(Te,ke){var je,Te=P(Te),ke=j(ke,!0);if(Te!==Z||!h(Ee,ke)||h(ce,ke))return!(je=he(Te,ke))||!h(Ee,ke)||h(Te,q)&&Te[q][ke]||(je.enumerable=!0),je}function v(pe){var pe=fe(P(pe)),je=[];return G(pe,function(Te){h(Ee,Te)||h(ee,Te)||je.push(Te)}),je}var x=$("../internals/export"),w=$("../internals/global"),c=$("../internals/get-built-in"),a=$("../internals/is-pure"),d=$("../internals/descriptors"),f=$("../internals/native-symbol"),m=$("../internals/use-symbol-as-uid"),l=$("../internals/fails"),h=$("../internals/has"),g=$("../internals/is-array"),b=$("../internals/is-object"),_=$("../internals/an-object"),A=$("../internals/to-object"),P=$("../internals/to-indexed-object"),j=$("../internals/to-primitive"),E=$("../internals/create-property-descriptor"),k=$("../internals/object-create"),M=$("../internals/object-keys"),I=$("../internals/object-get-own-property-names"),S=$("../internals/object-get-own-property-names-external"),T=$("../internals/object-get-own-property-symbols"),L=$("../internals/object-get-own-property-descriptor"),O=$("../internals/object-define-property"),V=$("../internals/object-property-is-enumerable"),H=$("../internals/create-non-enumerable-property"),F=$("../internals/redefine"),W=$("../internals/shared"),be=$("../internals/shared-key"),ee=$("../internals/hidden-keys"),J=$("../internals/uid"),N=$("../internals/well-known-symbol"),D=$("../internals/well-known-symbol-wrapped"),B=$("../internals/define-well-known-symbol"),Y=$("../internals/set-to-string-tag"),Ce=$("../internals/internal-state"),G=$("../internals/array-iteration").forEach,q=be("hidden"),X="Symbol",ne="prototype",$=N("toPrimitive"),K=Ce.set,Q=Ce.getterFor(X),Z=Object[ne],re=w.Symbol,ie=c("JSON","stringify"),he=L.f,ue=O.f,fe=S.f,xe=V.f,Ee=W("symbols"),ce=W("op-symbols"),me=W("string-to-symbol-registry"),ye=W("symbol-to-string-registry"),be=W("wks"),Ce=w.QObject,Se=!Ce||!Ce[ne]||!Ce[ne].findChild,ge=d&&l(function(){return k(ue({},"a",{get:function(){return ue(this,"a",{value:7}).a}})).a!=7})?function(se,pe,je){var Te=he(Z,pe);Te&&delete Z[pe],ue(se,pe,je),Te&&se!==Z&&ue(Z,pe,Te)}:ue,_e=m?function(se){return typeof se=="symbol"}:function(se){return Object(se)instanceof re},we=function(se,pe,je){return se===Z&&we(ce,pe,je),_(se),pe=j(pe,!0),_(je),(h(Ee,pe)?(je.enumerable?(h(se,q)&&se[q][pe]&&(se[q][pe]=!1),je=k(je,{enumerable:E(0,!1)})):(h(se,q)||ue(se,q,E(1,{})),se[q][pe]=!0),ge):ue)(se,pe,je)},le=function(pe){var pe=j(pe,!0),je=xe.call(this,pe);return!(this===Z&&h(Ee,pe)&&!h(ce,pe))&&(!(je||!h(this,pe)||!h(Ee,pe)||h(this,q)&&this[q][pe])||je)},de=function(je){var pe=je===Z,je=fe(pe?ce:P(je)),Te=[];return G(je,function(ke){!h(Ee,ke)||pe&&!h(Z,ke)||Te.push(Ee[ke])}),Te};f||(F((re=function(){if(this instanceof re)throw TypeError("Symbol is not a constructor");var se=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,pe=J(se),je=function(Te){this===Z&&je.call(ce,Te),h(this,q)&&h(this[q],pe)&&(this[q][pe]=!1),ge(this,pe,E(1,Te))};return d&&Se&&ge(Z,pe,{configurable:!0,set:je}),i(pe,se)})[ne],"toString",function(){return Q(this).tag}),F(re,"withoutSetter",function(se){return i(J(se),se)}),V.f=le,O.f=we,L.f=u,I.f=S.f=v,T.f=de,D.f=function(se){return i(N(se),se)},d&&(ue(re[ne],"description",{configurable:!0,get:function(){return Q(this).description}}),a||F(Z,"propertyIsEnumerable",le,{unsafe:!0}))),x({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:re}),G(M(be),function(se){B(se)}),x({target:X,stat:!0,forced:!f},{for:function(je){var pe,je=String(je);return h(me,je)?me[je]:(pe=re(je),me[je]=pe,ye[pe]=je,pe)},keyFor:function(se){if(!_e(se))throw TypeError(se+" is not a symbol");if(h(ye,se))return ye[se]},useSetter:function(){Se=!0},useSimple:function(){Se=!1}}),x({target:"Object",stat:!0,forced:!f,sham:!d},{create:function(se,pe){return pe===void 0?k(se):p(k(se),pe)},defineProperty:we,defineProperties:p,getOwnPropertyDescriptor:u}),x({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:v,getOwnPropertySymbols:de}),x({target:"Object",stat:!0,forced:l(function(){T.f(1)})},{getOwnPropertySymbols:function(se){return T.f(A(se))}}),ie&&x({target:"JSON",stat:!0,forced:!f||l(function(){var se=re();return ie([se])!="[null]"||ie({a:se})!="{}"||ie(Object(se))!="{}"})},{stringify:function(se,pe,je){for(var Te,ke=[se],Be=1;Be<arguments.length;)ke.push(arguments[Be++]);if((b(Te=pe)||se!==void 0)&&!_e(se))return g(pe)||(pe=function(Ve,ze){if(typeof Te=="function"&&(ze=Te.call(this,Ve,ze)),!_e(ze))return ze}),ke[1]=pe,ie.apply(null,ke)}}),re[ne][$]||H(re[ne],$,re[ne].valueOf),Y(re,X),ee[q]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/shared":121,"../internals/shared-key":119,"../internals/to-indexed-object":135,"../internals/to-object":138,"../internals/to-primitive":141,"../internals/uid":146,"../internals/use-symbol-as-uid":147,"../internals/well-known-symbol":149,"../internals/well-known-symbol-wrapped":148}],210:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-copy-within"),u=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",function(v,x){return p.call(u(this),v,x,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],211:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").every,u=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",function(v){return p(u(this),v,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-fill"),u=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",function(v){return p.apply(u(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],213:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").filter,u=t("../internals/species-constructor"),v=i.aTypedArray,x=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("filter",function(w){for(var c=p(v(this),w,1<arguments.length?arguments[1]:void 0),w=u(this,this.constructor),a=0,d=c.length,f=new(x(w))(d);a<d;)f[a]=c[a++];return f})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],214:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").findIndex,u=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",function(v){return p(u(this),v,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").find,u=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",function(v){return p(u(this),v,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],216:[function(t,o,y){t("../internals/typed-array-constructor")("Float32",function(i){return function(p,u,v){return i(this,p,u,v)}})},{"../internals/typed-array-constructor":143}],217:[function(t,o,y){t("../internals/typed-array-constructor")("Float64",function(i){return function(p,u,v){return i(this,p,u,v)}})},{"../internals/typed-array-constructor":143}],218:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").forEach,u=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",function(v){p(u(this),v,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-includes").includes,u=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",function(v){return p(u(this),v,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],220:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-includes").indexOf,u=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",function(v){return p(u(this),v,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],221:[function(t,o,y){t("../internals/typed-array-constructor")("Int16",function(i){return function(p,u,v){return i(this,p,u,v)}})},{"../internals/typed-array-constructor":143}],222:[function(t,o,y){t("../internals/typed-array-constructor")("Int32",function(i){return function(p,u,v){return i(this,p,u,v)}})},{"../internals/typed-array-constructor":143}],223:[function(p,o,y){"use strict";function i(){return u.call(w(this))}var d=p("../internals/global"),a=p("../internals/array-buffer-view-core"),c=p("../modules/es.array.iterator"),p=p("../internals/well-known-symbol")("iterator"),d=d.Uint8Array,u=c.values,v=c.keys,x=c.entries,w=a.aTypedArray,c=a.exportTypedArrayMethod,a=d&&d.prototype[p],d=!!a&&(a.name=="values"||a.name==null);c("entries",function(){return x.call(w(this))}),c("keys",function(){return v.call(w(this))}),c("values",i,!d),c(p,i,!d)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],224:[function(p,o,y){"use strict";var p=p("../internals/array-buffer-view-core"),i=p.aTypedArray,p=p.exportTypedArrayMethod,u=[].join;p("join",function(v){return u.apply(i(this),arguments)})},{"../internals/array-buffer-view-core":12}],225:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-last-index-of"),u=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",function(v){return p.apply(u(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],226:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").map,u=t("../internals/species-constructor"),v=i.aTypedArray,x=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("map",function(w){return p(v(this),w,1<arguments.length?arguments[1]:void 0,function(c,a){return new(x(u(c,c.constructor)))(a)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":122}],227:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-reduce").right,u=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",function(v){return p(u(this),v,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],228:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-reduce").left,u=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",function(v){return p(u(this),v,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],229:[function(p,o,y){"use strict";var p=p("../internals/array-buffer-view-core"),i=p.aTypedArray,p=p.exportTypedArrayMethod,u=Math.floor;p("reverse",function(){for(var v,x=i(this).length,w=u(x/2),c=0;c<w;)v=this[c],this[c++]=this[--x],this[x]=v;return this})},{"../internals/array-buffer-view-core":12}],230:[function(x,o,y){"use strict";var i=x("../internals/array-buffer-view-core"),p=x("../internals/to-length"),u=x("../internals/to-offset"),v=x("../internals/to-object"),x=x("../internals/fails"),w=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",function(c){w(this);var a=u(1<arguments.length?arguments[1]:void 0,1),d=this.length,f=v(c),m=p(f.length),l=0;if(d<m+a)throw RangeError("Wrong length");for(;l<m;)this[a+l]=f[l++]},x(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":137,"../internals/to-object":138,"../internals/to-offset":139}],231:[function(p,o,y){"use strict";var x=p("../internals/array-buffer-view-core"),i=p("../internals/species-constructor"),p=p("../internals/fails"),u=x.aTypedArray,v=x.aTypedArrayConstructor,x=x.exportTypedArrayMethod,w=[].slice;x("slice",function(c,a){for(var d=w.call(u(this),c,a),c=i(this,this.constructor),f=0,m=d.length,l=new(v(c))(m);f<m;)l[f]=d[f++];return l},p(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":122}],232:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/array-iteration").some,u=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",function(v){return p(u(this),v,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],233:[function(p,o,y){"use strict";var p=p("../internals/array-buffer-view-core"),i=p.aTypedArray,p=p.exportTypedArrayMethod,u=[].sort;p("sort",function(v){return u.call(i(this),v)})},{"../internals/array-buffer-view-core":12}],234:[function(t,o,y){"use strict";var i=t("../internals/array-buffer-view-core"),p=t("../internals/to-length"),u=t("../internals/to-absolute-index"),v=t("../internals/species-constructor"),x=i.aTypedArray;(0,i.exportTypedArrayMethod)("subarray",function(f,c){var a=x(this),d=a.length,f=u(f,d);return new(v(a,a.constructor))(a.buffer,a.byteOffset+f*a.BYTES_PER_ELEMENT,p((c===void 0?d:u(c,d))-f))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":122,"../internals/to-absolute-index":133,"../internals/to-length":137}],235:[function(p,o,y){"use strict";var x=p("../internals/global"),i=p("../internals/array-buffer-view-core"),p=p("../internals/fails"),u=x.Int8Array,v=i.aTypedArray,x=i.exportTypedArrayMethod,w=[].toLocaleString,c=[].slice,a=!!u&&p(function(){w.call(new u(1))});x("toLocaleString",function(){return w.apply(a?c.call(v(this)):v(this),arguments)},p(function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()})||!p(function(){u.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],236:[function(p,o,y){"use strict";var i=p("../internals/array-buffer-view-core").exportTypedArrayMethod,x=p("../internals/fails"),p=p("../internals/global").Uint8Array,p=p&&p.prototype||{},u=[].toString,v=[].join,x=(x(function(){u.call({})})&&(u=function(){return v.call(this)}),p.toString!=u);i("toString",u,x)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],237:[function(t,o,y){t("../internals/typed-array-constructor")("Uint16",function(i){return function(p,u,v){return i(this,p,u,v)}})},{"../internals/typed-array-constructor":143}],238:[function(t,o,y){t("../internals/typed-array-constructor")("Uint32",function(i){return function(p,u,v){return i(this,p,u,v)}})},{"../internals/typed-array-constructor":143}],239:[function(t,o,y){t("../internals/typed-array-constructor")("Uint8",function(i){return function(p,u,v){return i(this,p,u,v)}})},{"../internals/typed-array-constructor":143}],240:[function(t,o,y){t("../internals/typed-array-constructor")("Uint8",function(i){return function(p,u,v){return i(this,p,u,v)}},!0)},{"../internals/typed-array-constructor":143}],241:[function(h,_,y){"use strict";function i(A){return function(){return A(this,arguments.length?arguments[0]:void 0)}}var p,u,v,x,w,g=h("../internals/global"),c=h("../internals/redefine-all"),a=h("../internals/internal-metadata"),d=h("../internals/collection"),f=h("../internals/collection-weak"),m=h("../internals/is-object"),l=h("../internals/internal-state").enforce,h=h("../internals/native-weak-map"),g=!g.ActiveXObject&&"ActiveXObject"in g,b=Object.isExtensible,_=_.exports=d("WeakMap",i,f);h&&g&&(p=f.getConstructor(i,"WeakMap",!0),a.REQUIRED=!0,d=_.prototype,u=d.delete,v=d.has,x=d.get,w=d.set,c(d,{delete:function(A){var P;return m(A)&&!b(A)?((P=l(this)).frozen||(P.frozen=new p),u.call(this,A)||P.frozen.delete(A)):u.call(this,A)},has:function(A){var P;return m(A)&&!b(A)?((P=l(this)).frozen||(P.frozen=new p),v.call(this,A)||P.frozen.has(A)):v.call(this,A)},get:function(A){var P;return!m(A)||b(A)||((P=l(this)).frozen||(P.frozen=new p),v.call(this,A))?x.call(this,A):P.frozen.get(A)},set:function(A,P){var j;return!m(A)||b(A)||((j=l(this)).frozen||(j.frozen=new p),v.call(this,A))?w.call(this,A,P):j.frozen.set(A,P),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":108}],242:[function(t,o,y){var i,p=t("../internals/global"),u=t("../internals/dom-iterables"),v=t("../internals/array-for-each"),x=t("../internals/create-non-enumerable-property");for(i in u){var w=p[i],w=w&&w.prototype;if(w&&w.forEach!==v)try{x(w,"forEach",v)}catch{w.forEach=v}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],243:[function(w,o,y){var i,p=w("../internals/global"),u=w("../internals/dom-iterables"),v=w("../modules/es.array.iterator"),x=w("../internals/create-non-enumerable-property"),w=w("../internals/well-known-symbol"),c=w("iterator"),a=w("toStringTag"),d=v.values;for(i in u){var f=p[i],m=f&&f.prototype;if(m){if(m[c]!==d)try{x(m,c,d)}catch{m[c]=d}if(m[a]||x(m,a,i),u[i]){for(var l in v)if(m[l]!==v[l])try{x(m,l,v[l])}catch{m[l]=v[l]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],244:[function(q,o,y){"use strict";q("../modules/es.array.iterator");function i(X){try{return decodeURIComponent(X)}catch{return X}}function p(X){return B[X]}function u(X){return encodeURIComponent(X).replace(D,p)}function v(X){this.entries.length=0,Y(this.entries,X)}function x(X,ne){if(X<ne)throw TypeError("Not enough arguments")}function w(){g(this,w,O);var X,ne,$,K,Q,Z,re,ie,he=0<arguments.length?arguments[0]:void 0,ue=[];if(H(this,{type:O,entries:ue,updateURL:function(){},updateSearchParams:v}),he!==void 0)if(j(he))if(typeof(X=I(he))=="function")for($=(ne=X.call(he)).next;!(K=$.call(ne)).done;){if((Z=(Q=(K=M(P(K.value))).next).call(K)).done||(re=Q.call(K)).done||!Q.call(K).done)throw TypeError("Expected sequence with length 2");ue.push({key:Z.value+"",value:re.value+""})}else for(ie in he)b(he,ie)&&ue.push({key:ie,value:he[ie]+""});else Y(ue,typeof he=="string"?he.charAt(0)==="?"?he.slice(1):he:he+"")}var c=q("../internals/export"),L=q("../internals/get-built-in"),a=q("../internals/native-url"),d=q("../internals/redefine"),f=q("../internals/redefine-all"),m=q("../internals/set-to-string-tag"),l=q("../internals/create-iterator-constructor"),h=q("../internals/internal-state"),g=q("../internals/an-instance"),b=q("../internals/has"),_=q("../internals/function-bind-context"),A=q("../internals/classof"),P=q("../internals/an-object"),j=q("../internals/is-object"),E=q("../internals/object-create"),k=q("../internals/create-property-descriptor"),M=q("../internals/get-iterator"),I=q("../internals/get-iterator-method"),q=q("../internals/well-known-symbol"),S=L("fetch"),T=L("Headers"),L=q("iterator"),O="URLSearchParams",V=O+"Iterator",H=h.set,F=h.getterFor(O),W=h.getterFor(V),ee=/\+/g,J=Array(4),N=function(X){var ne,$=X.replace(ee," "),K=4;try{return decodeURIComponent($)}catch{for(;K;)$=$.replace((ne=K--,J[ne-1]||(J[ne-1]=RegExp("((?:%[\\da-f]{2}){"+ne+"})","gi"))),i);return $}},D=/[!'()~]|%20/g,B={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Y=function(X,ne){if(ne)for(var $,K=ne.split("&"),Q=0;Q<K.length;)($=K[Q++]).length&&($=$.split("="),X.push({key:N($.shift()),value:N($.join("="))}))},G=l(function(X,ne){H(this,{type:V,iterator:M(F(X).entries),kind:ne})},"Iterator",function(){var ne=W(this),X=ne.kind,ne=ne.iterator.next(),$=ne.value;return ne.done||(ne.value=X==="keys"?$.key:X==="values"?$.value:[$.key,$.value]),ne}),q=w.prototype;f(q,{append:function(X,ne){x(arguments.length,2);var $=F(this);$.entries.push({key:X+"",value:ne+""}),$.updateURL()},delete:function(X){x(arguments.length,1);for(var ne=F(this),$=ne.entries,K=X+"",Q=0;Q<$.length;)$[Q].key===K?$.splice(Q,1):Q++;ne.updateURL()},get:function(X){x(arguments.length,1);for(var ne=F(this).entries,$=X+"",K=0;K<ne.length;K++)if(ne[K].key===$)return ne[K].value;return null},getAll:function(X){x(arguments.length,1);for(var ne=F(this).entries,$=X+"",K=[],Q=0;Q<ne.length;Q++)ne[Q].key===$&&K.push(ne[Q].value);return K},has:function(X){x(arguments.length,1);for(var ne=F(this).entries,$=X+"",K=0;K<ne.length;)if(ne[K++].key===$)return!0;return!1},set:function(X,ne){x(arguments.length,1);for(var $,K=F(this),Q=K.entries,Z=!1,re=X+"",ie=ne+"",he=0;he<Q.length;he++)($=Q[he]).key===re&&(Z?Q.splice(he--,1):(Z=!0,$.value=ie));Z||Q.push({key:re,value:ie}),K.updateURL()},sort:function(){for(var X,ne,$=F(this),K=$.entries,Q=K.slice(),Z=K.length=0;Z<Q.length;Z++){for(X=Q[Z],ne=0;ne<Z;ne++)if(K[ne].key>X.key){K.splice(ne,0,X);break}ne===Z&&K.push(X)}$.updateURL()},forEach:function(X){for(var ne,$=F(this).entries,K=_(X,1<arguments.length?arguments[1]:void 0,3),Q=0;Q<$.length;)K((ne=$[Q++]).value,ne.key,this)},keys:function(){return new G(this,"keys")},values:function(){return new G(this,"values")},entries:function(){return new G(this,"entries")}},{enumerable:!0}),d(q,L,q.entries),d(q,"toString",function(){for(var X,ne=F(this).entries,$=[],K=0;K<ne.length;)X=ne[K++],$.push(u(X.key)+"="+u(X.value));return $.join("&")},{enumerable:!0}),m(w,O),c({global:!0,forced:!a},{URLSearchParams:w}),a||typeof S!="function"||typeof T!="function"||c({global:!0,enumerable:!0,forced:!0},{fetch:function(Q){var ne,$,K,Q=[Q];return 1<arguments.length&&(j(ne=arguments[1])&&($=ne.body,A($)===O&&((K=ne.headers?new T(ne.headers):new T).has("content-type")||K.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ne=E(ne,{body:k(0,String($)),headers:k(0,K)}))),Q.push(ne)),S.apply(this,Q)}}),o.exports={URLSearchParams:w,getState:F}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":109,"../internals/redefine-all":108,"../internals/set-to-string-tag":118,"../internals/well-known-symbol":149,"../modules/es.array.iterator":164}],245:[function(M,o,y){"use strict";M("../modules/es.string.iterator");function i(Ie){var $e,Xe,We,_t;if(typeof Ie=="number"){for($e=[],Xe=0;Xe<4;Xe++)$e.unshift(Ie%256),Ie=V(Ie/256);return $e.join(".")}if(typeof Ie!="object")return Ie;for($e="",We=re(Ie),Xe=0;Xe<8;Xe++)_t&&Ie[Xe]===0||(_t=_t&&!1,We===Xe?($e+=Xe?":":"::",_t=!0):($e+=Ie[Xe].toString(16),Xe<7&&($e+=":")));return"["+$e+"]"}function p(Ie){return!Ie.host||Ie.cannotBeABaseURL||Ie.scheme=="file"}function u(Ie,$e,Xe,We){var _t,He,At,Ze=Xe||_e,Mt=0,Ke="",tr=!1,ur=!1,Zt=!1;for(Xe||(Ie.scheme="",Ie.username="",Ie.password="",Ie.host=null,Ie.port=null,Ie.path=[],Ie.query=null,Ie.fragment=null,Ie.cannotBeABaseURL=!1,$e=$e.replace(K,"")),$e=$e.replace(Q,""),_t=A($e);Mt<=_t.length;){switch(He=_t[Mt],Ze){case _e:if(!He||!N.test(He)){if(Xe)return W;Ze=le;continue}Ke+=He.toLowerCase(),Ze=we;break;case we:if(He&&(D.test(He)||He=="+"||He=="-"||He=="."))Ke+=He.toLowerCase();else{if(He!=":"){if(Xe)return W;Ke="",Ze=le,Mt=0;continue}if(Xe&&(ce(Ie)!=b(Ee,Ke)||Ke=="file"&&(me(Ie)||Ie.port!==null)||Ie.scheme=="file"&&!Ie.host))return;if(Ie.scheme=Ke,Xe)return void(ce(Ie)&&Ee[Ie.scheme]==Ie.port&&(Ie.port=null));Ke="",Ie.scheme=="file"?Ze=rt:ce(Ie)&&We&&We.scheme==Ie.scheme?Ze=de:ce(Ie)?Ze=Te:_t[Mt+1]=="/"?(Ze=se,Mt++):(Ie.cannotBeABaseURL=!0,Ie.path.push(""),Ze=Ot)}break;case le:if(!We||We.cannotBeABaseURL&&He!="#")return W;if(We.cannotBeABaseURL&&He=="#"){Ie.scheme=We.scheme,Ie.path=We.path.slice(),Ie.query=We.query,Ie.fragment="",Ie.cannotBeABaseURL=!0,Ze=jt;break}Ze=We.scheme=="file"?rt:pe;continue;case de:if(He!="/"||_t[Mt+1]!="/"){Ze=pe;continue}Ze=ke,Mt++;break;case se:if(He=="/"){Ze=Be;break}Ze=tt;continue;case pe:if(Ie.scheme=We.scheme,He==w)Ie.username=We.username,Ie.password=We.password,Ie.host=We.host,Ie.port=We.port,Ie.path=We.path.slice(),Ie.query=We.query;else if(He=="/"||He=="\\"&&ce(Ie))Ze=je;else if(He=="?")Ie.username=We.username,Ie.password=We.password,Ie.host=We.host,Ie.port=We.port,Ie.path=We.path.slice(),Ie.query="",Ze=It;else{if(He!="#"){Ie.username=We.username,Ie.password=We.password,Ie.host=We.host,Ie.port=We.port,Ie.path=We.path.slice(),Ie.path.pop(),Ze=tt;continue}Ie.username=We.username,Ie.password=We.password,Ie.host=We.host,Ie.port=We.port,Ie.path=We.path.slice(),Ie.query=We.query,Ie.fragment="",Ze=jt}break;case je:if(!ce(Ie)||He!="/"&&He!="\\"){if(He!="/"){Ie.username=We.username,Ie.password=We.password,Ie.host=We.host,Ie.port=We.port,Ze=tt;continue}Ze=Be}else Ze=ke;break;case Te:if(Ze=ke,He!="/"||Ke.charAt(Mt+1)!="/")continue;Mt++;break;case ke:if(He=="/"||He=="\\")break;Ze=Be;continue;case Be:if(He=="@"){tr&&(Ke="%40"+Ke);for(var tr=!0,hr=A(Ke),ln=0;ln<hr.length;ln++){var Or=hr[ln];Or!=":"||Zt?(Or=xe(Or,fe),Zt?Ie.password+=Or:Ie.username+=Or):Zt=!0}Ke=""}else if(He==w||He=="/"||He=="?"||He=="#"||He=="\\"&&ce(Ie)){if(tr&&Ke=="")return F;Mt-=A(Ke).length+1,Ke="",Ze=Ve}else Ke+=He;break;case Ve:case ze:if(Xe&&Ie.scheme=="file"){Ze=Ye;continue}if(He!=":"||ur){if(He==w||He=="/"||He=="?"||He=="#"||He=="\\"&&ce(Ie)){if(ce(Ie)&&Ke=="")return ee;if(Xe&&Ke==""&&(me(Ie)||Ie.port!==null))return;if(At=Z(Ie,Ke))return At;if(Ke="",Ze=at,Xe)return;continue}He=="["?ur=!0:He=="]"&&(ur=!1),Ke+=He}else{if(Ke=="")return ee;if(At=Z(Ie,Ke))return At;if(Ke="",Ze=qe,Xe==ze)return}break;case qe:if(!B.test(He)){if(He==w||He=="/"||He=="?"||He=="#"||He=="\\"&&ce(Ie)||Xe){if(Ke!=""){var un=parseInt(Ke,10);if(65535<un)return J;Ie.port=ce(Ie)&&un===Ee[Ie.scheme]?null:un,Ke=""}if(Xe)return;Ze=at;continue}return J}Ke+=He;break;case rt:if(Ie.scheme="file",He=="/"||He=="\\")Ze=et;else{if(!We||We.scheme!="file"){Ze=tt;continue}if(He==w)Ie.host=We.host,Ie.path=We.path.slice(),Ie.query=We.query;else if(He=="?")Ie.host=We.host,Ie.path=We.path.slice(),Ie.query="",Ze=It;else{if(He!="#"){be(_t.slice(Mt).join(""))||(Ie.host=We.host,Ie.path=We.path.slice(),Ce(Ie)),Ze=tt;continue}Ie.host=We.host,Ie.path=We.path.slice(),Ie.query=We.query,Ie.fragment="",Ze=jt}}break;case et:if(He=="/"||He=="\\"){Ze=Ye;break}We&&We.scheme=="file"&&!be(_t.slice(Mt).join(""))&&(ye(We.path[0],!0)?Ie.path.push(We.path[0]):Ie.host=We.host),Ze=tt;continue;case Ye:if(He==w||He=="/"||He=="\\"||He=="?"||He=="#"){if(!Xe&&ye(Ke))Ze=tt;else{if(Ke==""){if(Ie.host="",Xe)return}else{if(At=Z(Ie,Ke))return At;if(Ie.host=="localhost"&&(Ie.host=""),Xe)return;Ke=""}Ze=at}continue}Ke+=He;break;case at:if(ce(Ie)){if(Ze=tt,He!="/"&&He!="\\")continue}else if(Xe||He!="?")if(Xe||He!="#"){if(He!=w&&(Ze=tt,He!="/"))continue}else Ie.fragment="",Ze=jt;else Ie.query="",Ze=It;break;case tt:if(He==w||He=="/"||He=="\\"&&ce(Ie)||!Xe&&(He=="?"||He=="#")){if(ge(Ke)?(Ce(Ie),He=="/"||He=="\\"&&ce(Ie)||Ie.path.push("")):Se(Ke)?He=="/"||He=="\\"&&ce(Ie)||Ie.path.push(""):(Ie.scheme=="file"&&!Ie.path.length&&ye(Ke)&&(Ie.host&&(Ie.host=""),Ke=Ke.charAt(0)+":"),Ie.path.push(Ke)),Ke="",Ie.scheme=="file"&&(He==w||He=="?"||He=="#"))for(;1<Ie.path.length&&Ie.path[0]==="";)Ie.path.shift();He=="?"?(Ie.query="",Ze=It):He=="#"&&(Ie.fragment="",Ze=jt)}else Ke+=xe(He,ue);break;case Ot:He=="?"?(Ie.query="",Ze=It):He=="#"?(Ie.fragment="",Ze=jt):He!=w&&(Ie.path[0]+=xe(He,ie));break;case It:Xe||He!="#"?He!=w&&(He=="'"&&ce(Ie)?Ie.query+="%27":Ie.query+=He=="#"?"%23":xe(He,ie)):(Ie.fragment="",Ze=jt);break;case jt:He!=w&&(Ie.fragment+=xe(He,he))}Mt++}}function v(He){var $e,Xe,We=g(this,v,"URL"),_t=1<arguments.length?arguments[1]:void 0,He=String(He),At=L(We,{type:"URL"});if(_t!==void 0){if(_t instanceof v)$e=O(_t);else if(Xe=u($e={},String(_t)))throw TypeError(Xe)}if(Xe=u(At,He,null,$e))throw TypeError(Xe);var Ze=At.searchParams=new S;(_t=T(Ze)).updateSearchParams(At.query),_t.updateURL=function(){At.query=String(Ze)||null},f||(We.href=Ut.call(We),We.origin=Dt.call(We),We.protocol=ir.call(We),We.username=er.call(We),We.password=Rt.call(We),We.host=or.call(We),We.hostname=wn.call(We),We.port=Gn.call(We),We.pathname=_n.call(We),We.search=Hn.call(We),We.searchParams=zn.call(We),We.hash=an.call(We))}function x(Ie,$e){return{get:Ie,set:$e,configurable:!0,enumerable:!0}}var w,c,a,d=M("../internals/export"),f=M("../internals/descriptors"),m=M("../internals/native-url"),vt=M("../internals/global"),l=M("../internals/object-define-properties"),h=M("../internals/redefine"),g=M("../internals/an-instance"),b=M("../internals/has"),_=M("../internals/object-assign"),A=M("../internals/array-from"),P=M("../internals/string-multibyte").codeAt,j=M("../internals/string-punycode-to-ascii"),E=M("../internals/set-to-string-tag"),k=M("../modules/web.url-search-params"),M=M("../internals/internal-state"),I=vt.URL,S=k.URLSearchParams,T=k.getState,L=M.set,O=M.getterFor("URL"),V=Math.floor,H=Math.pow,F="Invalid authority",W="Invalid scheme",ee="Invalid host",J="Invalid port",N=/[A-Za-z]/,D=/[\d+-.A-Za-z]/,B=/\d/,Y=/^(0x|0X)/,G=/^[0-7]+$/,q=/^\d+$/,X=/^[\dA-Fa-f]+$/,ne=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,$=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,K=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Q=/[\u0009\u000A\u000D]/g,Z=function(Ie,$e){var Xe,We,_t;if($e.charAt(0)=="[")return $e.charAt($e.length-1)=="]"&&(Xe=function(He){var At=[0,0,0,0,0,0,0,0],Ze=0,Mt=null,Ke=0,tr,ur,Zt,hr,ln,Or,un,fr=function(){return He.charAt(Ke)};if(fr()==":"){if(He.charAt(1)!=":")return;Ke+=2,Ze++,Mt=Ze}for(;fr();){if(Ze==8)return;if(fr()==":"){if(Mt!==null)return;Ke++,Ze++,Mt=Ze;continue}for(tr=ur=0;ur<4&&X.test(fr());)tr=tr*16+parseInt(fr(),16),Ke++,ur++;if(fr()=="."){if(ur==0||(Ke-=ur,Ze>6))return;for(Zt=0;fr();){if(hr=null,Zt>0)if(fr()=="."&&Zt<4)Ke++;else return;if(!B.test(fr()))return;for(;B.test(fr());){if(ln=parseInt(fr(),10),hr===null)hr=ln;else{if(hr==0)return;hr=hr*10+ln}if(hr>255)return;Ke++}At[Ze]=At[Ze]*256+hr,Zt++,(Zt==2||Zt==4)&&Ze++}if(Zt!=4)return;break}else if(fr()==":"){if(Ke++,!fr())return}else if(fr())return;At[Ze++]=tr}if(Mt!==null)for(Or=Ze-Mt,Ze=7;Ze!=0&&Or>0;)un=At[Ze],At[Ze--]=At[Mt+Or-1],At[Mt+--Or]=un;else if(Ze!=8)return;return At}($e.slice(1,-1)))?void(Ie.host=Xe):ee;if(ce(Ie))return $e=j($e),ne.test($e)||(Xe=function(He){var At=He.split("."),Ze,Mt,Ke,tr,ur,Zt,hr;if(At.length&&At[At.length-1]==""&&At.pop(),(Ze=At.length)>4)return He;for(Mt=[],Ke=0;Ke<Ze;Ke++){if(tr=At[Ke],tr=="")return He;if(ur=10,tr.length>1&&tr.charAt(0)=="0"&&(ur=Y.test(tr)?16:8,tr=tr.slice(ur==8?1:2)),tr==="")Zt=0;else{if(!(ur==10?q:ur==8?G:X).test(tr))return He;Zt=parseInt(tr,ur)}Mt.push(Zt)}for(Ke=0;Ke<Ze;Ke++)if(Zt=Mt[Ke],Ke==Ze-1){if(Zt>=H(256,5-Ze))return null}else if(Zt>255)return null;for(hr=Mt.pop(),Ke=0;Ke<Mt.length;Ke++)hr+=Mt[Ke]*H(256,3-Ke);return hr}($e))===null?ee:void(Ie.host=Xe);if($.test($e))return ee;for(Xe="",We=A($e),_t=0;_t<We.length;_t++)Xe+=xe(We[_t],ie);Ie.host=Xe},re=function(Ie){for(var $e=null,Xe=1,We=null,_t=0,He=0;He<8;He++)Ie[He]!==0?(Xe<_t&&($e=We,Xe=_t),We=null,_t=0):(We===null&&(We=He),++_t);return Xe<_t&&($e=We,Xe=_t),$e},ie={},he=_({},ie,{" ":1,'"':1,"<":1,">":1,"`":1}),ue=_({},he,{"#":1,"?":1,"{":1,"}":1}),fe=_({},ue,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),xe=function(Ie,$e){var Xe=P(Ie,0);return 32<Xe&&Xe<127&&!b($e,Ie)?Ie:encodeURIComponent(Ie)},Ee={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ce=function(Ie){return b(Ee,Ie.scheme)},me=function(Ie){return Ie.username!=""||Ie.password!=""},ye=function(Ie,$e){return Ie.length==2&&N.test(Ie.charAt(0))&&((Ie=Ie.charAt(1))==":"||!$e&&Ie=="|")},be=function(Ie){return 1<Ie.length&&ye(Ie.slice(0,2))&&(Ie.length==2||(Ie=Ie.charAt(2))==="/"||Ie==="\\"||Ie==="?"||Ie==="#")},Ce=function(Ie){var $e=Ie.path,Xe=$e.length;!Xe||Ie.scheme=="file"&&Xe==1&&ye($e[0],!0)||$e.pop()},Se=function(Ie){return Ie==="."||Ie.toLowerCase()==="%2e"},ge=function(Ie){return(Ie=Ie.toLowerCase())===".."||Ie==="%2e."||Ie===".%2e"||Ie==="%2e%2e"},_e={},we={},le={},de={},se={},pe={},je={},Te={},ke={},Be={},Ve={},ze={},qe={},rt={},et={},Ye={},at={},tt={},Ot={},It={},jt={},vt=v.prototype,Ut=function(){var Ie=O(this),$e=Ie.scheme,Xe=Ie.username,We=Ie.password,_t=Ie.host,He=Ie.port,At=Ie.path,Ze=Ie.query,Mt=Ie.fragment,Ke=$e+":";return _t!==null?(Ke+="//",me(Ie)&&(Ke+=Xe+(We?":"+We:"")+"@"),Ke+=i(_t),He!==null&&(Ke+=":"+He)):$e=="file"&&(Ke+="//"),Ke+=Ie.cannotBeABaseURL?At[0]:At.length?"/"+At.join("/"):"",Ze!==null&&(Ke+="?"+Ze),Mt!==null&&(Ke+="#"+Mt),Ke},Dt=function(){var Ie=O(this),$e=Ie.scheme,Xe=Ie.port;if($e=="blob")try{return new URL($e.path[0]).origin}catch{return"null"}return $e!="file"&&ce(Ie)?$e+"://"+i(Ie.host)+(Xe!==null?":"+Xe:""):"null"},ir=function(){return O(this).scheme+":"},er=function(){return O(this).username},Rt=function(){return O(this).password},or=function(){var $e=O(this),Ie=$e.host,$e=$e.port;return Ie===null?"":$e===null?i(Ie):i(Ie)+":"+$e},wn=function(){var Ie=O(this).host;return Ie===null?"":i(Ie)},Gn=function(){var Ie=O(this).port;return Ie===null?"":String(Ie)},_n=function(){var Ie=O(this),$e=Ie.path;return Ie.cannotBeABaseURL?$e[0]:$e.length?"/"+$e.join("/"):""},Hn=function(){var Ie=O(this).query;return Ie?"?"+Ie:""},zn=function(){return O(this).searchParams},an=function(){var Ie=O(this).fragment;return Ie?"#"+Ie:""};f&&l(vt,{href:x(Ut,function(Xe){var $e=O(this),Xe=String(Xe),Xe=u($e,Xe);if(Xe)throw TypeError(Xe);T($e.searchParams).updateSearchParams($e.query)}),origin:x(Dt),protocol:x(ir,function(Ie){var $e=O(this);u($e,String(Ie)+":",_e)}),username:x(er,function(Ie){var $e=O(this),Xe=A(String(Ie));if(!p($e)){$e.username="";for(var We=0;We<Xe.length;We++)$e.username+=xe(Xe[We],fe)}}),password:x(Rt,function(Ie){var $e=O(this),Xe=A(String(Ie));if(!p($e)){$e.password="";for(var We=0;We<Xe.length;We++)$e.password+=xe(Xe[We],fe)}}),host:x(or,function(Ie){var $e=O(this);$e.cannotBeABaseURL||u($e,String(Ie),Ve)}),hostname:x(wn,function(Ie){var $e=O(this);$e.cannotBeABaseURL||u($e,String(Ie),ze)}),port:x(Gn,function(Ie){var $e=O(this);p($e)||((Ie=String(Ie))==""?$e.port=null:u($e,Ie,qe))}),pathname:x(_n,function(Ie){var $e=O(this);$e.cannotBeABaseURL||($e.path=[],u($e,Ie+"",at))}),search:x(Hn,function(Ie){var $e=O(this);(Ie=String(Ie))==""?$e.query=null:(Ie.charAt(0)=="?"&&(Ie=Ie.slice(1)),$e.query="",u($e,Ie,It)),T($e.searchParams).updateSearchParams($e.query)}),searchParams:x(zn),hash:x(an,function(Ie){var $e=O(this);(Ie=String(Ie))==""?$e.fragment=null:(Ie.charAt(0)=="#"&&(Ie=Ie.slice(1)),$e.fragment="",u($e,Ie,jt))})}),h(vt,"toJSON",function(){return Ut.call(this)},{enumerable:!0}),h(vt,"toString",function(){return Ut.call(this)},{enumerable:!0}),I&&(c=I.createObjectURL,a=I.revokeObjectURL,c&&h(v,"createObjectURL",function(Ie){return c.apply(I,arguments)}),a&&h(v,"revokeObjectURL",function(Ie){return a.apply(I,arguments)})),E(v,"URL"),d({global:!0,forced:!m,sham:!f},{URL:v})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":109,"../internals/set-to-string-tag":118,"../internals/string-multibyte":124,"../internals/string-punycode-to-ascii":127,"../modules/es.string.iterator":197,"../modules/web.url-search-params":244}],246:[function(t,o,y){"use strict";o.exports=t("./").polyfill()},{"./":247}],247:[function(t,o,y){(function(i,p){var u,v;u=this,v=function(){"use strict";function x(Z){return typeof Z=="function"}var w=Array.isArray||function(Z){return Object.prototype.toString.call(Z)==="[object Array]"},c=0,a=void 0,d=void 0,f=function(Z,re){_[c]=Z,_[c+1]=re,(c+=2)===2&&(d?d(A):S())},m=typeof window<"u"?window:void 0,l=m||{},l=l.MutationObserver||l.WebKitMutationObserver,h=typeof self>"u"&&i!==void 0&&{}.toString.call(i)==="[object process]",g=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function b(){var Z=setTimeout;return function(){return Z(A,1)}}var _=new Array(1e3);function A(){for(var Z=0;Z<c;Z+=2)(0,_[Z])(_[Z+1]),_[Z]=void 0,_[Z+1]=void 0;c=0}function P(){try{var Z=Function("return this")().require("vertx");return(a=Z.runOnLoop||Z.runOnContext)!==void 0?function(){a(A)}:b()}catch{return b()}}var j,E,k,S=void 0;function M(Z,re){var ie,he=this,ue=new this.constructor(L),fe=(ue[T]===void 0&&X(ue),he._state);return fe?(ie=arguments[fe-1],f(function(){return G(fe,ue,ie,he._result)})):B(he,ue,Z,re),ue}function I(Z){var re;return Z&&typeof Z=="object"&&Z.constructor===this?Z:(ee(re=new this(L),Z),re)}var S=h?function(){return i.nextTick(A)}:l?(E=0,h=new l(A),k=document.createTextNode(""),h.observe(k,{characterData:!0}),function(){k.data=E=++E%2}):g?((j=new MessageChannel).port1.onmessage=A,function(){return j.port2.postMessage(0)}):(m===void 0&&typeof t=="function"?P:b)(),T=Math.random().toString(36).substring(2);function L(){}var O=void 0,V=1,H=2;function F(Z,re,ie){f(function(he){var ue=!1,fe=function(xe,Ee,ce,me){try{xe.call(Ee,ce,me)}catch(ye){return ye}}(ie,re,function(xe){ue||(ue=!0,(re!==xe?ee:N)(he,xe))},function(xe){ue||(ue=!0,D(he,xe))},he._label);!ue&&fe&&(ue=!0,D(he,fe))},Z)}function W(Z,re,ie){var he,ue;re.constructor===Z.constructor&&ie===M&&re.constructor.resolve===I?(he=Z,(ue=re)._state===V?N(he,ue._result):ue._state===H?D(he,ue._result):B(ue,void 0,function(fe){return ee(he,fe)},function(fe){return D(he,fe)})):ie!==void 0&&x(ie)?F(Z,re,ie):N(Z,re)}function ee(Z,re){if(Z===re)D(Z,new TypeError("You cannot resolve a promise with itself"));else if(ie=typeof re,re===null||ie!="object"&&ie!="function")N(Z,re);else{ie=void 0;try{ie=re.then}catch(he){return void D(Z,he)}W(Z,re,ie)}var ie}function J(Z){Z._onerror&&Z._onerror(Z._result),Y(Z)}function N(Z,re){Z._state===O&&(Z._result=re,Z._state=V,Z._subscribers.length!==0&&f(Y,Z))}function D(Z,re){Z._state===O&&(Z._state=H,Z._result=re,f(J,Z))}function B(Z,re,ie,he){var ue=Z._subscribers,fe=ue.length;Z._onerror=null,ue[fe]=re,ue[fe+V]=ie,ue[fe+H]=he,fe===0&&Z._state&&f(Y,Z)}function Y(Z){var re=Z._subscribers,ie=Z._state;if(re.length!==0){for(var he,ue=void 0,fe=Z._result,xe=0;xe<re.length;xe+=3)he=re[xe],ue=re[xe+ie],he?G(ie,he,ue,fe):ue(fe);Z._subscribers.length=0}}function G(Z,re,ie,he){var ue=x(ie),fe=void 0,xe=void 0,Ee=!0;if(ue){try{fe=ie(he)}catch(ce){Ee=!1,xe=ce}if(re===fe)return void D(re,new TypeError("A promises callback cannot return that same promise."))}else fe=he;re._state===O&&(ue&&Ee?ee(re,fe):Ee===!1?D(re,xe):Z===V?N(re,fe):Z===H&&D(re,fe))}var q=0;function X(Z){Z[T]=q++,Z._state=void 0,Z._result=void 0,Z._subscribers=[]}$.prototype._enumerate=function(Z){for(var re=0;this._state===O&&re<Z.length;re++)this._eachEntry(Z[re],re)},$.prototype._eachEntry=function(Z,re){var ie=this._instanceConstructor,he=ie.resolve;if(he===I){var ue,fe=void 0,xe=void 0,Ee=!1;try{fe=Z.then}catch(ce){Ee=!0,xe=ce}fe===M&&Z._state!==O?this._settledAt(Z._state,re,Z._result):typeof fe!="function"?(this._remaining--,this._result[re]=Z):ie===K?(ue=new ie(L),Ee?D(ue,xe):W(ue,Z,fe),this._willSettleAt(ue,re)):this._willSettleAt(new ie(function(ce){return ce(Z)}),re)}else this._willSettleAt(he(Z),re)},$.prototype._settledAt=function(Z,re,ie){var he=this.promise;he._state===O&&(this._remaining--,Z===H?D(he,ie):this._result[re]=ie),this._remaining===0&&N(he,this._result)},$.prototype._willSettleAt=function(Z,re){var ie=this;B(Z,void 0,function(he){return ie._settledAt(V,re,he)},function(he){return ie._settledAt(H,re,he)})};var ne=$;function $(Z,re){this._instanceConstructor=Z,this.promise=new Z(L),this.promise[T]||X(this.promise),w(re)?(this.length=re.length,this._remaining=re.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(re),this._remaining!==0)||N(this.promise,this._result)):D(this.promise,new Error("Array Methods must be provided an Array"))}Q.prototype.catch=function(Z){return this.then(null,Z)},Q.prototype.finally=function(Z){var re=this.constructor;return x(Z)?this.then(function(ie){return re.resolve(Z()).then(function(){return ie})},function(ie){return re.resolve(Z()).then(function(){throw ie})}):this.then(Z,Z)};var K=Q;function Q(Z){if(this[T]=q++,this._result=this._state=void 0,this._subscribers=[],L!==Z){if(typeof Z!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Q))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var re=this;try{Z(function(ie){ee(re,ie)},function(ie){D(re,ie)})}catch(ie){D(re,ie)}}}return K.prototype.then=M,K.all=function(Z){return new ne(this,Z).promise},K.race=function(Z){var re=this;return w(Z)?new re(function(ie,he){for(var ue=Z.length,fe=0;fe<ue;fe++)re.resolve(Z[fe]).then(ie,he)}):new re(function(ie,he){return he(new TypeError("You must pass an array to race."))})},K.resolve=I,K.reject=function(Z){var re=new this(L);return D(re,Z),re},K._setScheduler=function(Z){d=Z},K._setAsap=function(Z){f=Z},K._asap=f,K.polyfill=function(){var Z=void 0;if(p!==void 0)Z=p;else if(typeof self<"u")Z=self;else try{Z=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var re=Z.Promise;if(re){var ie=null;try{ie=Object.prototype.toString.call(re.resolve())}catch{}if(ie==="[object Promise]"&&!re.cast)return}Z.Promise=K},K.Promise=K},typeof y=="object"&&o!==void 0?o.exports=v():typeof n=="function"&&n.amd?n(v):u.ES6Promise=v()}).call(this,t("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:256}],248:[function(t,o,y){var i,p;i=this,p=function(u,v){"use strict";var x=5e3,w="callback";function c(d){try{delete window[d]}catch{window[d]=void 0}}function a(d){d=document.getElementById(d),d&&document.getElementsByTagName("head")[0].removeChild(d)}v.exports=function(d){var f=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],m=d,l=f.timeout||x,h=f.jsonpCallback||w,g=void 0;return new Promise(function(b,_){var A=f.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),P=h+"_"+A,j=(window[A]=function(E){b({ok:!0,json:function(){return Promise.resolve(E)}}),g&&clearTimeout(g),a(P),c(A)},m+=m.indexOf("?")===-1?"?":"&",document.createElement("script"));j.setAttribute("src",""+m+h+"="+A),f.charset&&j.setAttribute("charset",f.charset),j.id=P,document.getElementsByTagName("head")[0].appendChild(j),g=setTimeout(function(){_(new Error("JSONP request to "+d+" timed out")),c(A),a(P),window[A]=function(){c(A)}},l),j.onerror=function(){_(new Error("JSONP request to "+d+" failed")),c(A),a(P),g&&clearTimeout(g)}})}},typeof n=="function"&&n.amd?n(["exports","module"],p):y!==void 0&&o!==void 0?p(0,o):(p(p={exports:{}},p),i.fetchJsonp=p.exports)},{}],249:[function(t,o,y){var i=function(p){"use strict";var u,v,x,w,c,a,d,f,m,l,h;if(!(p===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return h=p.document,u=function(){return p.URL||p.webkitURL||p},v=h.createElementNS("http://www.w3.org/1999/xhtml","a"),x="download"in v,w=/constructor/i.test(p.HTMLElement)||p.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(g){(p.setImmediate||p.setTimeout)(function(){throw g},0)},d=4e4,f=function(g){setTimeout(function(){typeof g=="string"?u().revokeObjectURL(g):g.remove()},d)},m=function(g){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)?new Blob(["\uFEFF",g],{type:g.type}):g},h=(l=function(g,b,E){E||(g=m(g));var A,P,j=this,E=g.type==="application/octet-stream",k=function(){for(var M=j,I="writestart progress write writeend".split(" "),S=void 0,T=(I=[].concat(I)).length;T--;){var L=M["on"+I[T]];if(typeof L=="function")try{L.call(M,S||M)}catch(O){a(O)}}};j.readyState=j.INIT,x?(A=u().createObjectURL(g),setTimeout(function(){var M,I;v.href=A,v.download=b,M=v,I=new MouseEvent("click"),M.dispatchEvent(I),k(),f(A),j.readyState=j.DONE})):(c||E&&w)&&p.FileReader?((P=new FileReader).onloadend=function(){var M=c?P.result:P.result.replace(/^data:[^;]*;/,"data:attachment/file;");p.open(M,"_blank")||(p.location.href=M),M=void 0,j.readyState=j.DONE,k()},P.readAsDataURL(g),j.readyState=j.INIT):(A=A||u().createObjectURL(g),!E&&p.open(A,"_blank")||(p.location.href=A),j.readyState=j.DONE,k(),f(A))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(g,b,_){return b=b||g.name||"download",_||(g=m(g)),navigator.msSaveOrOpenBlob(g,b)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(g,b,_){return new l(g,b||g.name||"download",_)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);o!==void 0&&o.exports?o.exports.saveAs=i:n!=null&&n.amd!==null&&n("FileSaver.js",function(){return i})},{}],250:[function(t,o,y){var i,p=Object.defineProperty,u=(p(y,"__esModule",{value:!0}),y),v={GIFEncoder:()=>k,applyPalette:()=>function(O,V,H="rgb565"){if(!O||!O.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(O instanceof Uint8Array||O instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<V.length)throw new Error("applyPalette() only works with 256 colors or less");let F=new Uint32Array(O.buffer),W=F.length,ee=H==="rgb444"?4096:65536,J=new Uint8Array(W),N=new Array(ee);if(H==="rgba4444")for(let Q=0;Q<W;Q++){var G=F[Q],D=G>>24&255,B=G>>16&255,Y=G>>8&255,G=255&G,q=f(G,Y,B,D),q=q in N?N[q]:N[q]=function(Z,re,ie,he,ue){let fe=0,xe=1e100;for(let ye=0;ye<ue.length;ye++){var Ee,ce=ue[ye],me=P(ce[3]-he);me>xe||(Ee=ce[0],(me+=P(Ee-Z))>xe||(Ee=ce[1],(me+=P(Ee-re))>xe||(Ee=ce[2],(me+=P(Ee-ie))>xe||(xe=me,fe=ye))))}return fe}(G,Y,B,D,V);J[Q]=q}else{let Q=H==="rgb444"?m:d;for(let Z=0;Z<W;Z++){var $=F[Z],X=$>>16&255,ne=$>>8&255,$=255&$,K=Q($,ne,X),K=K in N?N[K]:N[K]=function(re,ie,he,ue){let fe=0,xe=1e100;for(let ye=0;ye<ue.length;ye++){var Ee,ce=ue[ye],me=P(ce[0]-re);me>xe||(Ee=ce[1],(me+=P(Ee-ie))>xe||(Ee=ce[2],(me+=P(Ee-he))>xe||(xe=me,fe=ye)))}return fe}($,ne,X,V);J[Z]=K}}return J},default:()=>L,nearestColor:()=>function(O,V,H=_){return O[j(O,V,H)]},nearestColorIndex:()=>j,nearestColorIndexWithDistance:()=>E,prequantize:()=>function(O,{roundRGB:V=5,roundAlpha:H=10,oneBitAlpha:F=null}={}){let W=new Uint32Array(O.buffer);for(let B=0;B<W.length;B++){var D=W[B];let Y=D>>24&255;var ee,J=D>>16&255,N=D>>8&255,D=255&D;Y=A(Y,H),F&&(ee=typeof F=="number"?F:127,Y=Y<=ee?0:255),D=A(D,V),N=A(N,V),J=A(J,V),W[B]=Y<<24|J<<16|N<<8|D<<0}},quantize:()=>function(O,V,H={}){var{format:F="rgb565",clearAlpha:W=!0,clearAlphaColor:ee=0,clearAlphaThreshold:J=0,oneBitAlpha:N=!1}=H;if(!O||!O.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(O instanceof Uint8Array||O instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");O=new Uint32Array(O.buffer);let D=H.useSqrt!==!1,B=F==="rgba4444",Y=function(be,Ce){let Se=Ce==="rgb444"?4096:65536,ge=new Array(Se),_e=be.length;if(Ce==="rgba4444")for(let et=0;et<_e;++et){var se=be[et],we=se>>24&255,le=se>>16&255,de=se>>8&255,se=255&se,pe=f(se,de,le,we);let Ye=pe in ge?ge[pe]:ge[pe]=b();Ye.rc+=se,Ye.gc+=de,Ye.bc+=le,Ye.ac+=we,Ye.cnt++}else if(Ce==="rgb444")for(let et=0;et<_e;++et){var ke=be[et],je=ke>>16&255,Te=ke>>8&255,ke=255&ke,Be=m(ke,Te,je);let Ye=Be in ge?ge[Be]:ge[Be]=b();Ye.rc+=ke,Ye.gc+=Te,Ye.bc+=je,Ye.cnt++}else for(let et=0;et<_e;++et){var qe=be[et],Ve=qe>>16&255,ze=qe>>8&255,qe=255&qe,rt=d(qe,ze,Ve);let Ye=rt in ge?ge[rt]:ge[rt]=b();Ye.rc+=qe,Ye.gc+=ze,Ye.bc+=Ve,Ye.cnt++}return ge}(O,F),G=Y.length,q=G-1,X=new Uint32Array(G+1);for(var ne=0,$=0;$<G;++$){let be=Y[$];be!=null&&(ce=1/be.cnt,B&&(be.ac*=ce),be.rc*=ce,be.gc*=ce,be.bc*=ce,Y[ne++]=be)}h(V)/ne<.022&&(D=!1);for(var K,Q,Z,$=0;$<ne-1;++$)Y[$].fw=$+1,Y[$+1].bk=$,D&&(Y[$].cnt=Math.sqrt(Y[$].cnt));for(D&&(Y[$].cnt=Math.sqrt(Y[$].cnt)),$=0;$<ne;++$){g(Y,$,!1);var re=Y[$].err;for(Q=++X[0];1<Q&&(Z=Q>>1,!(Y[K=X[Z]].err<=re));Q=Z)X[Q]=K;X[Q]=$}var ie,he=ne-V;for($=0;$<he;){for(;;){var ue=X[1];if((ie=Y[ue]).tm>=ie.mtm&&Y[ie.nn].mtm<=ie.tm)break;for(ie.mtm==q?ue=X[1]=X[X[0]--]:(g(Y,ue,!1),ie.tm=$),re=Y[ue].err,Q=1;(Z=Q+Q)<=X[0]&&(Z<X[0]&&Y[X[Z]].err>Y[X[Z+1]].err&&Z++,!(re<=Y[K=X[Z]].err));Q=Z)X[Q]=K;X[Q]=ue}var fe=Y[ie.nn],xe=ie.cnt,Ee=fe.cnt,ce=1/(xe+Ee);B&&(ie.ac=ce*(xe*ie.ac+Ee*fe.ac)),ie.rc=ce*(xe*ie.rc+Ee*fe.rc),ie.gc=ce*(xe*ie.gc+Ee*fe.gc),ie.bc=ce*(xe*ie.bc+Ee*fe.bc),ie.cnt+=fe.cnt,ie.mtm=++$,Y[fe.bk].fw=fe.fw,Y[fe.fw].bk=fe.bk,fe.mtm=q}let me=[];for($=0;;0){let be=l(Math.round(Y[$].rc),0,255),Ce=l(Math.round(Y[$].gc),0,255),Se=l(Math.round(Y[$].bc),0,255),ge=255;B&&(ge=l(Math.round(Y[$].ac),0,255),N&&(ye=typeof N=="number"?N:127,ge=ge<=ye?0:255),W&&ge<=J&&(be=Ce=Se=ee,ge=0));var ye=B?[be,Ce,Se,ge]:[be,Ce,Se];if(function(_e,we){for(let se=0;se<_e.length;se++){var de=_e[se],le=de[0]===we[0]&&de[1]===we[1]&&de[2]===we[2],de=!(4<=de.length&&4<=we.length)||de[3]===we[3];if(le&&de)return!0}return!1}(me,ye)||me.push(ye),($=Y[$].fw)==0)break}return me},snapColorsToPalette:()=>function(O,V,H=5){if(O.length&&V.length){var F=O.map(D=>D.slice(0,3)),W=H*H,ee=O[0].length;for(let D=0;D<V.length;D++){let B=V[D];B=B.length<ee?[B[0],B[1],B[2],255]:B.length>ee?B.slice(0,3):B.slice();var N=E(F,B.slice(0,3),_),J=N[0],N=N[1];0<N&&N<=W&&(O[J]=B)}}}};for(i in v)p(u,i,{get:v[i],enumerable:!0});var x={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function w(O=256){let V=0,H=new Uint8Array(O);return{get buffer(){return H.buffer},reset(){V=0},bytesView(){return H.subarray(0,V)},bytes(){return H.slice(0,V)},writeByte(W){F(V+1),H[V]=W,V++},writeBytes(W,ee=0,J=W.length){F(V+J);for(let N=0;N<J;N++)H[V++]=W[N+ee]},writeBytesView(W,ee=0,J=W.byteLength){F(V+J),H.set(W.subarray(ee,ee+J),V),V+=J}};function F(W){var ee=H.length;if(!(W<=ee)){W=Math.max(W,ee*(ee<1048576?2:1.125)>>>0),ee!=0&&(W=Math.max(W,256));let J=H;H=new Uint8Array(W),0<V&&H.set(J.subarray(0,V),0)}}}var c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],a=function(O,V,H,B,W=w(512),ee=new Uint8Array(256),J=new Int32Array(5003),N=new Int32Array(5003)){var D=J.length,B=Math.max(2,B);ee.fill(0),N.fill(0),J.fill(-1);let Y=0,G=0;var q=B+1;let X=q,ne=!1,$=X,K=(1<<$)-1;var Q=1<<q-1;let Z=1+Q,re=2+Q,ie=0,he=H[0],ue=0;for(let ye=D;ye<65536;ye*=2)++ue;ue=8-ue,W.writeByte(B),me(Q);var fe=H.length;for(let ye=1;ye<fe;ye++)e:{var xe=H[ye],Ee=(xe<<12)+he;let be=xe<<ue^he;if(J[be]===Ee)he=N[be];else{for(var ce=be===0?1:D-be;0<=J[be];)if((be-=ce)<0&&(be+=D),J[be]===Ee){he=N[be];break e}me(he),he=xe,re<4096?(N[be]=re++,J[be]=Ee):(J.fill(-1),re=2+Q,ne=!0,me(Q))}}return me(he),me(Z),W.writeByte(0),W.bytesView();function me(ye){for(Y&=c[G],0<G?Y|=ye<<G:Y=ye,G+=$;8<=G;)ee[ie++]=255&Y,254<=ie&&(W.writeByte(ie),W.writeBytesView(ee,0,ie),ie=0),Y>>=8,G-=8;if((re>K||ne)&&(ne?($=X,K=(1<<$)-1,ne=!1):(++$,K=$===12?1<<$:(1<<$)-1)),ye==Z){for(;0<G;)ee[ie++]=255&Y,254<=ie&&(W.writeByte(ie),W.writeBytesView(ee,0,ie),ie=0),Y>>=8,G-=8;0<ie&&(W.writeByte(ie),W.writeBytesView(ee,0,ie),ie=0)}}};function d(O,V,H){return O<<8&63488|V<<2&992|H>>3}function f(O,V,H,F){return O>>4|240&V|(240&H)<<4|(240&F)<<8}function m(O,V,H){return O>>4<<8|240&V|H>>4}function l(O,V,H){return O<V?V:H<O?H:O}function h(O){return O*O}function g(O,V,H){var F=0,W=1e100;let ee=O[V];for(var J=ee.cnt,N=ee.ac,D=ee.rc,B=ee.gc,Y=ee.bc,G=ee.fw;G!=0;G=O[G].fw){var q,X=O[G],ne=X.cnt,ne=J*ne/(J+ne);W<=ne||(q=0,H&&W<=(q+=ne*h(X.ac-N))||W<=(q+=ne*h(X.rc-D))||W<=(q+=ne*h(X.gc-B))||W<=(q+=ne*h(X.bc-Y))||(W=q,F=G))}ee.err=W,ee.nn=F}function b(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function _(O,V){for(var H=0,F=0;F<O.length;F++){var W=O[F]-V[F];H+=W*W}return H}function A(O,V){return 1<V?Math.round(O/V)*V:O}function P(O){return O*O}function j(O,V,H=_){let F=1/0,W=-1;for(let J=0;J<O.length;J++){var ee=H(V,O[J]);ee<F&&(F=ee,W=J)}return W}function E(O,V,H=_){let F=1/0,W=-1;for(let J=0;J<O.length;J++){var ee=H(V,O[J]);ee<F&&(F=ee,W=J)}return[W,F]}function k(O={}){let{initialCapacity:V=4096,auto:H=!0}=O,F=w(V),W=new Uint8Array(256),ee=new Int32Array(5003),J=new Int32Array(5003),N=!1;return{reset(){F.reset(),N=!1},finish(){F.writeByte(x.trailer)},bytes(){return F.bytes()},bytesView(){return F.bytesView()},get buffer(){return F.buffer},get stream(){return F},writeHeader:D,writeFrame(B,Y,G,he={}){var{transparent:X=!1,transparentIndex:ne=0,delay:ce=0,palette:$=null,repeat:fe=0,colorDepth:K=8,dispose:Q=-1}=he;let Z=!1;if(H?N||(Z=!0,D(),N=!0):Z=!!he.first,Y=Math.max(0,Math.floor(Y)),G=Math.max(0,Math.floor(G)),Z){if(!$)throw new Error("First frame must include a { palette } option");var[he,xe,ie,Ee,ue=8]=[F,Y,G,$,K];Ee=T(Ee.length)-1,ue=128|ue-1<<4|Ee,I(he,xe),I(he,ie),he.writeBytes([ue,0,0]),M(F,$),0<=fe&&(Ee=F,xe=fe,Ee.writeByte(33),Ee.writeByte(255),Ee.writeByte(11),S(Ee,"NETSCAPE2.0"),Ee.writeByte(3),Ee.writeByte(1),I(Ee,xe),Ee.writeByte(0))}var re,ie=Math.round(ce/10),he=F,ue=Q,fe=ie,xe=X,Ee=ne,ce=(he.writeByte(33),he.writeByte(249),he.writeByte(4),Ee<0&&(Ee=0,xe=!1),xe=xe?(re=1,2):re=0,0<=ue&&(xe=7&ue),xe<<=2,he.writeByte(0|xe|re),I(he,fe),he.writeByte(Ee||0),he.writeByte(0),!!$&&!Z);Q=F,X=Y,ne=G,re=ce?$:null,Q.writeByte(44),I(Q,0),I(Q,0),I(Q,X),I(Q,ne),re?(X=T(re.length)-1,Q.writeByte(128|X)):Q.writeByte(0),ce&&M(F,$),[fe,he,ne,X,Q=8,ce,$,B]=[F,B,Y,G,K,W,ee,J],a(ne,X,he,Q,fe,ce,$,B)}};function D(){S(F,"GIF89a")}}function M(O,V){var H=1<<T(V.length);for(let F=0;F<H;F++){let W=[0,0,0];F<V.length&&(W=V[F]),O.writeByte(W[0]),O.writeByte(W[1]),O.writeByte(W[2])}}function I(O,V){O.writeByte(255&V),O.writeByte(V>>8&255)}function S(O,V){for(var H=0;H<V.length;H++)O.writeByte(V.charCodeAt(H))}function T(O){return Math.max(Math.ceil(Math.log2(O)),1)}var L=k},{}],251:[function(t,o,y){y.read=function(i,p,u,v,g){var w,c,a=8*g-v-1,d=(1<<a)-1,f=d>>1,m=-7,l=u?g-1:0,h=u?-1:1,g=i[p+l];for(l+=h,w=g&(1<<-m)-1,g>>=-m,m+=a;0<m;w=256*w+i[p+l],l+=h,m-=8);for(c=w&(1<<-m)-1,w>>=-m,m+=v;0<m;c=256*c+i[p+l],l+=h,m-=8);if(w===0)w=1-f;else{if(w===d)return c?NaN:1/0*(g?-1:1);c+=Math.pow(2,v),w-=f}return(g?-1:1)*c*Math.pow(2,w-v)},y.write=function(i,p,u,v,x,b){var c,a,d=8*b-x-1,f=(1<<d)-1,m=f>>1,l=x===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=v?0:b-1,g=v?1:-1,b=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(a=isNaN(p)?1:0,c=f):(c=Math.floor(Math.log(p)/Math.LN2),p*(v=Math.pow(2,-c))<1&&(c--,v*=2),2<=(p+=1<=c+m?l/v:l*Math.pow(2,1-m))*v&&(c++,v/=2),f<=c+m?(a=0,c=f):1<=c+m?(a=(p*v-1)*Math.pow(2,x),c+=m):(a=p*Math.pow(2,m-1)*Math.pow(2,x),c=0));8<=x;i[u+h]=255&a,h+=g,a/=256,x-=8);for(c=c<<x|a,d+=x;0<d;i[u+h]=255&c,h+=g,c/=256,d-=8);i[u+h-g]|=128*b}},{}],252:[function(t,o,y){"use strict";var i;function p(le,de){return le.b===de.b&&le.a===de.a}function u(le,de){return le.b<de.b||le.b===de.b&&le.a<=de.a}function v(le,de,se){var pe=de.b-le.b,je=se.b-de.b;return 0<pe+je?pe<je?de.a-le.a+pe/(pe+je)*(le.a-se.a):de.a-se.a+je/(pe+je)*(se.a-le.a):0}function x(le,de,se){var pe=de.b-le.b,je=se.b-de.b;return 0<pe+je?(de.a-se.a)*pe+(de.a-le.a)*je:0}function w(le,de){return le.a<de.a||le.a===de.a&&le.b<=de.b}function c(le,de,se){var pe=de.a-le.a,je=se.a-de.a;return 0<pe+je?pe<je?de.b-le.b+pe/(pe+je)*(le.b-se.b):de.b-se.b+je/(pe+je)*(se.b-le.b):0}function a(le,de,se){var pe=de.a-le.a,je=se.a-de.a;return 0<pe+je?(de.b-se.b)*pe+(de.b-le.b)*je:0}function d(le,de,se,pe){return(le=le<0?0:le)<=(se=se<0?0:se)?se===0?(de+pe)/2:de+le/(le+se)*(pe-de):pe+se/(le+se)*(de-pe)}function f(le){var de=b(le.b);return A(de,le.c),A(de.b,le.c),P(de,le.a),de}function m(le,de){var se=!1,pe=!1;le!==de&&(de.a!==le.a&&(pe=!0,E(de.a,le.a)),de.d!==le.d&&(se=!0,k(de.d,le.d)),_(de,le),pe||(A(de,le.a),le.a.c=le),se||(P(de,le.d),le.d.a=le))}function l(le){var de=le.b,se=!1;le.d!==le.b.d&&(se=!0,k(le.d,le.b.d)),le.c===le?E(le.a,null):(le.b.d.a=le.b.e,le.a.c=le.c,_(le,le.b.e),se||P(le,le.d)),de.c===de?(E(de.a,null),k(de.d,null)):(le.d.a=de.b.e,de.a.c=de.c,_(de,de.b.e)),j(le)}function h(le){var de=b(le),se=de.b;return _(de,le.e),de.a=le.b.a,A(se,de.a),de.d=se.d=le.d,de=de.b,_(le.b,le.b.b.e),_(le.b,de),le.b.a=de.a,de.b.a.c=de.b,de.b.d=le.b.d,de.f=le.f,de.b.f=le.b.f,de}function g(le,de){var se=!1,pe=b(le),je=pe.b;return de.d!==le.d&&(se=!0,k(de.d,le.d)),_(pe,le.e),_(je,de),pe.a=le.b.a,je.a=de.a,pe.d=je.d=le.d,le.d.a=je,se||P(pe,le.d),pe}function b(le){var de=new ie,se=new ie,pe=le.b.h;return(((se.h=pe).b.h=de).h=le).b.h=se,de.b=se,((de.c=de).e=se).b=de,(se.c=se).e=de}function _(le,de){var se=le.c,pe=de.c;se.b.e=de,(pe.b.e=le).c=pe,de.c=se}function A(le,de){var se=de.f,pe=new ue(de,se);for(se.e=pe,se=(de.f=pe).c=le;se.a=pe,(se=se.c)!==le;);}function P(le,de){var se=de.d,pe=new re(de,se);for(se.b=pe,(de.d=pe).a=le,pe.c=de.c,se=le;se.d=pe,(se=se.e)!==le;);}function j(le){var de=le.h;le=le.b.h,(de.b.h=le).b.h=de}function E(le,de){for(var se=le.c,pe=se;pe.a=de,(pe=pe.c)!==se;);se=le.f,((pe=le.e).f=se).e=pe}function k(le,de){for(var se=le.a,pe=se;pe.d=de,(pe=pe.e)!==se;);se=le.d,((pe=le.b).d=se).b=pe}function M(le){var de=0;return Math.abs(le[1])>Math.abs(le[0])&&(de=1),de=Math.abs(le[2])>Math.abs(le[de])?2:de}function I(le,de){le.f+=de.f,le.b.f+=de.b.f}function S(le,de,se){return le=le.a,de=de.a,se=se.a,de.b.a===le?se.b.a===le?u(de.a,se.a)?x(se.b.a,de.a,se.a)<=0:0<=x(de.b.a,se.a,de.a):x(se.b.a,le,se.a)<=0:se.b.a===le?0<=x(de.b.a,le,de.a):(de=v(de.b.a,le,de.a),(le=v(se.b.a,le,se.a))<=de)}function T(le){le.a.i=null;var de=le.e;de.a.c=de.c,de.c.a=de.a,le.e=null}function L(le,de){l(le.a),le.c=!1,(le.a=de).i=le}function O(le){for(var de=le.a.a;(le=we(le)).a.a===de;);return le.c&&(L(le,de=g(_e(le).a.b,le.a.e)),le=we(le)),le}function V(le,de,se){var pe=new ge;return pe.a=se,pe.e=ne(le.f,de.e,pe),se.i=pe}function H(le,de){switch(le.s){case 100130:return(1&de)!=0;case 100131:return de!==0;case 100132:return 0<de;case 100133:return de<0;case 100134:return 2<=de||de<=-2}return!1}function F(le){var de=le.a,se=de.d;se.c=le.d,se.a=de,T(le)}function W(le,de,se){for(de=(le=de).a;le!==se;){le.c=!1;var pe=_e(le),je=pe.a;if(je.a!==de.a){if(!pe.c){F(le);break}L(pe,je=g(de.c.b,je.b))}de.c!==je&&(m(je.b.e,je),m(de,je)),F(le),de=pe.a,le=pe}return de}function ee(le,de,se,pe,je,Te){for(var ke=!0;V(le,de,se.b),(se=se.c)!==pe;);for(je===null&&(je=_e(de).a.b.c);(se=(pe=_e(de)).a.b).a===je.a;)se.c!==je&&(m(se.b.e,se),m(je.b.e,se)),pe.f=de.f-se.f,pe.d=H(le,pe.f),de.b=!0,!ke&&B(le,de)&&(I(se,je),T(de),l(je)),ke=!1,de=pe,je=se;de.b=!0,Te&&G(le,de)}function J(le,de,se,pe,je){var Te=[de.g[0],de.g[1],de.g[2]];de.d=null,de.d=le.o&&le.o(Te,se,pe,le.c)||null,de.d===null&&(je?le.n||(Z(le,100156),le.n=!0):de.d=se[0])}function N(le,de,se){var pe=[null,null,null,null];pe[0]=de.a.d,pe[1]=se.a.d,J(le,de.a,pe,[.5,.5,0,0],!1),m(de,se)}function D(le,de,se,pe,je){var Te=Math.abs(de.b-le.b)+Math.abs(de.a-le.a),ke=Math.abs(se.b-le.b)+Math.abs(se.a-le.a),Be=je+1;pe[je]=.5*ke/(Te+ke),pe[Be]=.5*Te/(Te+ke),le.g[0]+=pe[je]*de.g[0]+pe[Be]*se.g[0],le.g[1]+=pe[je]*de.g[1]+pe[Be]*se.g[1],le.g[2]+=pe[je]*de.g[2]+pe[Be]*se.g[2]}function B(le,de){var se=_e(de),pe=de.a,je=se.a;if(u(pe.a,je.a)){if(0<x(je.b.a,pe.a,je.a))return;if(p(pe.a,je.a)){if(pe.a!==je.a){var se=le.e,Te=pe.a.h;if(0<=Te){var ke=(se=se.b).d,Be=se.e,Ve=se.c,ze=Ve[Te];ke[ze]=ke[se.a],(Ve[ke[ze]]=ze)<=--se.a&&(ze<=1||u(Be[ke[ze>>1]],Be[ke[ze]])?Ce:Se)(se,ze),Be[Te]=null,Ve[Te]=se.b,se.b=Te}else for(se.c[-(Te+1)]=null;0<se.a&&se.c[se.d[se.a-1]]===null;)--se.a;N(le,je.b.e,pe)}}else h(je.b),m(pe,je.b.e),de.b=se.b=!0}else{if(x(pe.b.a,je.a,pe.a)<0)return;we(de).b=de.b=!0,h(pe.b),m(je.b.e,pe)}return 1}function Y(le,de){var se=_e(de),pe=de.a,je=se.a,Te=pe.a,ke=je.a,Be=pe.b.a,Ve=je.b.a,ze=new ue;if(x(Be,le.a,Te),x(Ve,le.a,ke),!(Te===ke||Math.min(Te.a,Be.a)>Math.max(ke.a,Ve.a))){if(u(Te,ke)){if(0<x(Ve,Te,ke))return}else if(x(Be,ke,Te)<0)return;var qe,rt,et=Be,Ye=Te,at=Ve,tt=ke;if(u(et,Ye)||(qe=et,et=Ye,Ye=qe),u(at,tt)||(qe=at,at=tt,tt=qe),u(et,at)||(qe=et,et=at,at=qe,qe=Ye,Ye=tt,tt=qe),u(at,Ye)?u(Ye,tt)?((qe=v(et,at,Ye))+(rt=v(at,Ye,tt))<0&&(qe=-qe,rt=-rt),ze.b=d(qe,at.b,rt,Ye.b)):((qe=x(et,at,Ye))+(rt=-x(et,tt,Ye))<0&&(qe=-qe,rt=-rt),ze.b=d(qe,at.b,rt,tt.b)):ze.b=(at.b+Ye.b)/2,w(et,Ye)||(qe=et,et=Ye,Ye=qe),w(at,tt)||(qe=at,at=tt,tt=qe),w(et,at)||(qe=et,et=at,at=qe,qe=Ye,Ye=tt,tt=qe),w(at,Ye)?w(Ye,tt)?((qe=c(et,at,Ye))+(rt=c(at,Ye,tt))<0&&(qe=-qe,rt=-rt),ze.a=d(qe,at.a,rt,Ye.a)):((qe=a(et,at,Ye))+(rt=-a(et,tt,Ye))<0&&(qe=-qe,rt=-rt),ze.a=d(qe,at.a,rt,tt.a)):ze.a=(at.a+Ye.a)/2,u(ze,le.a)&&(ze.b=le.a.b,ze.a=le.a.a),et=u(Te,ke)?Te:ke,u(et,ze)&&(ze.b=et.b,ze.a=et.a),p(ze,Te)||p(ze,ke))return B(le,de),0;if(!p(Be,le.a)&&0<=x(Be,le.a,ze)||!p(Ve,le.a)&&x(Ve,le.a,ze)<=0){if(Ve===le.a)h(pe.b),m(je.b,pe),pe=_e(de=O(de)).a,W(le,_e(de),se),ee(le,de,pe.b.e,pe,pe,!0);else{if(Be!==le.a)return 0<=x(Be,le.a,ze)&&(we(de).b=de.b=!0,h(pe.b),pe.a.b=le.a.b,pe.a.a=le.a.a),void(x(Ve,le.a,ze)<=0&&(de.b=se.b=!0,h(je.b),je.a.b=le.a.b,je.a.a=le.a.a));for(h(je.b),m(pe.e,je.b.e),ke=(Te=se=de).a.b.a;(Te=we(Te)).a.b.a===ke;);Te=_e(de=Te).a.b.c,se.a=je.b.e,ee(le,de,(je=W(le,se,null)).c,pe.b.c,Te,!0)}return 1}h(pe.b),h(je.b),m(je.b.e,pe),pe.a.b=ze.b,pe.a.a=ze.a,pe.a.h=xe(le.e,pe.a),pe=pe.a,je=[0,0,0,0],ze=[Te.d,Be.d,ke.d,Ve.d],pe.g[0]=pe.g[1]=pe.g[2]=0,D(pe,Te,Be,je,0),D(pe,ke,Ve,je,2),J(le,pe,ze,je,!0),we(de).b=de.b=se.b=!0}}function G(le,de){for(var se=_e(de);;){for(;se.b;)se=_e(de=se);if(!de.b&&((de=we(se=de))===null||!de.b))break;de.b=!1;var pe=de.a,je=se.a;if(Te=pe.b.a!==je.b.a)e:{var Te,ke=_e(Te=de),Be=Te.a,Ve=ke.a,ze=void 0;if(u(Be.b.a,Ve.b.a)){if(x(Be.b.a,Ve.b.a,Be.a)<0){Te=!1;break e}we(Te).b=Te.b=!0,ze=h(Be),m(Ve.b,ze),ze.d.c=Te.d}else{if(0<x(Ve.b.a,Be.b.a,Ve.a)){Te=!1;break e}Te.b=ke.b=!0,ze=h(Ve),m(Be.e,Ve.b),ze.b.d.c=Te.d}Te=!0}if(Te&&(se.c?(T(se),l(je),je=(se=_e(de)).a):de.c&&(T(de),l(pe),pe=(de=we(se)).a)),pe.a!==je.a){if(pe.b.a===je.b.a||de.c||se.c||pe.b.a!==le.a&&je.b.a!==le.a)B(le,de);else if(Y(le,de))break}pe.a===je.a&&pe.b.a===je.b.a&&(I(je,pe),T(de),l(pe),de=we(se))}}function q(le,de){var se=new ge,pe=f(le.b);pe.a.b=4e150,pe.a.a=de,pe.b.a.b=-4e150,pe.b.a.a=de,le.a=pe.b.a,se.a=pe,se.f=0,se.d=!1,se.c=!1,se.h=!0,se.b=!1,pe=ne(pe=le.f,pe.a,se),se.e=pe}function X(le){this.a=new $,this.b=le,this.c=S}function ne(le,de,se){for(;(de=de.c).b!==null&&!le.c(le.b,de.b,se););return le=new $(se,de.a,de),de.a.c=le,de.a=le}function $(le,de,se){this.b=le||null,this.a=de||this,this.c=se||this}function K(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Q(le,de){if(le.d!==de)for(;le.d!==de;)if(le.d<de)switch(le.d){case 0:Z(le,100151),le.u(null);break;case 1:Z(le,100152),le.t()}else switch(le.d){case 2:Z(le,100154),le.v();break;case 1:Z(le,100153),le.w()}}function Z(le,de){le.p&&le.p(de,le.c)}function re(le,de){this.b=le||this,this.d=de||this,this.a=null,this.c=!1}function ie(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function he(){this.c=new ue,this.a=new re,this.b=new ie,this.d=new ie,this.b.b=this.d,this.d.b=this.b}function ue(le,de){this.e=le||this,this.f=de||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function fe(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new ce}function xe(le,de){var se,pe,je;return le.e?(2*(pe=++(se=le.b).a)>se.f&&(se.f*=2,se.c=me(se.c,se.f+1)),se.b===0?je=pe:(je=se.b,se.b=se.c[se.b]),se.e[je]=de,se.c[je]=pe,se.d[pe]=je,se.h&&Se(se,pe),je):(se=le.a++,le.c[se]=de,-(se+1))}function Ee(le){if(le.a===0)return be(le.b);var de=le.c[le.d[le.a-1]];if(le.b.a!==0&&u(ye(le.b),de))return be(le.b);for(;--le.a,0<le.a&&le.c[le.d[le.a-1]]===null;);return de}function ce(){this.d=me([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function me(le,de){for(var se=Array(de),pe=0;pe<le.length;pe++)se[pe]=le[pe];for(;pe<de;pe++)se[pe]=0;return se}function ye(le){return le.e[le.d[1]]}function be(le){var de=le.d,se=le.e,pe=le.c,je=de[1],Te=se[je];return 0<le.a&&(de[1]=de[le.a],pe[de[1]]=1,se[je]=null,pe[je]=le.b,le.b=je,0<--le.a&&Ce(le,1)),Te}function Ce(le,de){for(var se=le.d,pe=le.e,je=le.c,Te=de,ke=se[Te];;){var Be=Te<<1,Ve=(Be<le.a&&u(pe[se[Be+1]],pe[se[Be]])&&(Be+=1),se[Be]);if(Be>le.a||u(pe[ke],pe[Ve])){je[se[Te]=ke]=Te;break}je[se[Te]=Ve]=Te,Te=Be}}function Se(le,de){for(var se=le.d,pe=le.e,je=le.c,Te=de,ke=se[Te];;){var Be=Te>>1,Ve=se[Be];if(Be==0||u(pe[Ve],pe[ke])){je[se[Te]=ke]=Te;break}je[se[Te]=Ve]=Te,Te=Be}}function ge(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function _e(le){return le.e.c.b}function we(le){return le.e.a.b}(i=K.prototype).x=function(){Q(this,0)},i.B=function(le,de){switch(le){case 100142:return;case 100140:switch(de){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=de)}break;case 100141:return void(this.m=!!de);default:return void Z(this,100900)}Z(this,100901)},i.y=function(le){switch(le){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Z(this,100900)}return!1},i.A=function(le,de,se){this.j[0]=le,this.j[1]=de,this.j[2]=se},i.z=function(le,de){var se=de||null;switch(le){case 100100:case 100106:this.h=se;break;case 100104:case 100110:this.l=se;break;case 100101:case 100107:this.k=se;break;case 100102:case 100108:this.i=se;break;case 100103:case 100109:this.p=se;break;case 100105:case 100111:this.o=se;break;case 100112:this.r=se;break;default:Z(this,100900)}},i.C=function(le,de){var se=!1,pe=[0,0,0];Q(this,2);for(var je=0;je<3;++je){var Te=le[je];Te<-1e150&&(Te=-1e150,se=!0),1e150<Te&&(Te=1e150,se=!0),pe[je]=Te}se&&Z(this,100155),(se=this.q)===null?m(se=f(this.b),se.b):(h(se),se=se.e),se.a.d=de,se.a.g[0]=pe[0],se.a.g[1]=pe[1],se.a.g[2]=pe[2],se.f=1,se.b.f=-1,this.q=se},i.u=function(le){Q(this,0),this.d=1,this.b=new he,this.c=le},i.t=function(){Q(this,1),this.d=2,this.q=null},i.v=function(){Q(this,2),this.d=1},i.w=function(){Q(this,1),this.d=0;var le,de,se=this.j[0],pe=this.j[1],je=this.j[2],Te=!1,ke=[se,pe,je];if(se===0&&pe===0&&je===0){for(var pe=[-2e150,-2e150,-2e150],Be=[2e150,2e150,2e150],je=[],Ve=[],se=(Te=this.b.c).e;se!==Te;se=se.e)for(var ze=0;ze<3;++ze){var qe=se.g[ze];qe<Be[ze]&&(Be[ze]=qe,Ve[ze]=se),qe>pe[ze]&&(pe[ze]=qe,je[ze]=se)}if(pe[1]-Be[1]>pe[se=0]-Be[0]&&(se=1),Be[se=pe[2]-Be[2]>pe[se]-Be[se]?2:se]>=pe[se])ke[0]=0,ke[1]=0,ke[2]=1;else{for(Be=Ve[se],je=je[se],Ve=[pe=0,0,0],Be=[Be.g[0]-je.g[0],Be.g[1]-je.g[1],Be.g[2]-je.g[2]],ze=[0,0,0],se=Te.e;se!==Te;se=se.e)ze[0]=se.g[0]-je.g[0],ze[1]=se.g[1]-je.g[1],ze[2]=se.g[2]-je.g[2],Ve[0]=Be[1]*ze[2]-Be[2]*ze[1],Ve[1]=Be[2]*ze[0]-Be[0]*ze[2],Ve[2]=Be[0]*ze[1]-Be[1]*ze[0],pe<(qe=Ve[0]*Ve[0]+Ve[1]*Ve[1]+Ve[2]*Ve[2])&&(pe=qe,ke[0]=Ve[0],ke[1]=Ve[1],ke[2]=Ve[2]);pe<=0&&(ke[0]=ke[1]=ke[2]=0,ke[M(Be)]=1)}Te=!0}for(Ve=M(ke),se=this.b.c,pe=(Ve+1)%3,je=(Ve+2)%3,Ve=0<ke[Ve]?1:-1,ke=se.e;ke!==se;ke=ke.e)ke.b=ke.g[pe],ke.a=Ve*ke.g[je];if(Te){for(ke=0,se=(Te=this.b.a).b;se!==Te;se=se.b)if(!((pe=se.a).f<=0))for(;ke+=(pe.a.b-pe.b.a.b)*(pe.a.a+pe.b.a.a),(pe=pe.e)!==se.a;);if(ke<0)for(Te=(ke=this.b.c).e;Te!==ke;Te=Te.e)Te.a=-Te.a}for(this.n=!1,ke=this.b.b,se=ke.h;se!==ke;se=Te)Te=se.h,pe=se.e,p(se.a,se.b.a)&&se.e.e!==se&&(N(this,pe,se),l(se),pe=(se=pe).e),pe.e===se&&(pe!==se&&(pe!==Te&&pe!==Te.b||(Te=Te.h),l(pe)),se!==Te&&se!==Te.b||(Te=Te.h),l(se));for(this.e=ke=new fe,Te=this.b.c,se=Te.e;se!==Te;se=se.e)se.h=xe(ke,se);var rt=ke;rt.d=[];for(var et=0;et<rt.a;et++)rt.d[et]=et;rt.d.sort(function(tt){return function(Ot,It){return u(tt[Ot],tt[It])?1:-1}}(rt.c)),rt.e=!0;for(var Ye=rt.b,at=Ye.a;1<=at;--at)Ce(Ye,at);for(Ye.h=!0,this.f=new X(this),q(this,-4e150),q(this,4e150);(ke=Ee(this.e))!==null;){for(;;){e:if((se=this.e).a===0)Te=ye(se.b);else if(Te=se.c[se.d[se.a-1]],se.b.a!==0&&u(se=ye(se.b),Te)){Te=se;break e}if(Te===null||!p(Te,ke))break;Te=Ee(this.e),N(this,ke.c,Te.c)}(function tt(Ot,It){for(var jt,vt=(Ot.a=It).c;vt.i===null;)if((vt=vt.c)===It.c){var vt=Ot,Ut=It;(Rt=new ge).a=Ut.c.b;for(var or=(Dt=vt.f).a;(or=or.a).b!==null&&!Dt.c(Dt.b,Rt,or.b););var Dt,ir,er=_e(Dt=or.b),Rt=Dt.a,or=er.a;return void(x(Rt.b.a,Ut,Rt.a)===0?p((Rt=Dt.a).a,Ut)||p(Rt.b.a,Ut)||(h(Rt.b),Dt.c&&(l(Rt.c),Dt.c=!1),m(Ut.c,Rt),tt(vt,Ut)):(ir=u(or.b.a,Rt.b.a)?Dt:er,er=void 0,Dt.d||ir.c?(er=ir===Dt?g(Ut.c.b,Rt.e):g(or.b.c.b,Ut.c).b,ir.c?L(ir,er):((Dt=V(Rt=vt,Dt,er)).f=we(Dt).f+Dt.a.f,Dt.d=H(Rt,Dt.f)),tt(vt,Ut)):ee(vt,Dt,Ut.c,Ut.c,null,!0)))}Dt=(Rt=_e(vt=O(vt.i))).a,(Rt=W(Ot,Rt,null)).c===Dt?(Rt=(Dt=Rt).c,or=_e(vt),er=vt.a,ir=or.a,jt=!1,er.b.a!==ir.b.a&&Y(Ot,vt),p(er.a,Ot.a)&&(m(Rt.b.e,er),Rt=_e(vt=O(vt)).a,W(Ot,_e(vt),or),jt=!0),p(ir.a,Ot.a)&&(m(Dt,ir.b.e),Dt=W(Ot,or,null),jt=!0),jt?ee(Ot,vt,Dt.c,Rt,Rt,!0):(Ut=u(ir.a,er.a)?ir.b.e:er,ee(Ot,vt,Ut=g(Dt.c.b,Ut),Ut.c,Ut.c,!1),Ut.b.i.c=!0,G(Ot,vt))):ee(Ot,vt,Rt.c,Dt,Dt,!0)})(this,ke)}for(this.a=this.f.a.a.b.a.a,ke=0;(Te=this.f.a.a.b)!==null;)Te.h||++ke,T(Te);for(this.f=null,(ke=this.e).b=null,ke.d=null,this.e=ke.c=null,ke=this.b,se=ke.a.b;se!==ke.a;se=Te)Te=se.b,(se=se.a).e.e===se&&(I(se.c,se),l(se));if(!this.n){if(ke=this.b,this.m)for(se=ke.b.h;se!==ke.b;se=Te)Te=se.h,se.b.d.c!==se.d.c?se.f=se.d.c?1:-1:l(se);else for(se=ke.a.b;se!==ke.a;se=Te)if(Te=se.b,se.c){for(se=se.a;u(se.b.a,se.a);se=se.c.b);for(;u(se.a,se.b.a);se=se.e);for(pe=se.c.b,je=void 0;se.e!==pe;)if(u(se.b.a,pe.a)){for(;pe.e!==se&&(u((de=pe.e).b.a,de.a)||x(pe.a,pe.b.a,pe.e.b.a)<=0);)pe=(je=g(pe.e,pe)).b;pe=pe.c.b}else{for(;pe.e!==se&&(u((le=se.c.b).a,le.b.a)||0<=x(se.b.a,se.a,se.c.b.a));)se=(je=g(se,se.c.b)).b;se=se.e}for(;pe.e.e!==se;)je=g(pe.e,pe),pe=je.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Te=(ke=this.b).a.b;Te!==ke.a;Te=Te.b)if(Te.c){for(this.h&&this.h(2,this.c),se=Te.a;this.k&&this.k(se.a.d,this.c),(se=se.e)!==Te.a;);this.i&&this.i(this.c)}}else{for(ke=this.b,Te=!!this.l,se=!1,pe=-1,je=ke.a.d;je!==ke.a;je=je.d)if(je.c)for(se||(this.h&&this.h(4,this.c),se=!0),Ve=je.a;Te&&(Be=Ve.b.d.c?0:1,pe!==Be&&(pe=Be,this.l&&this.l(!!pe,this.c))),this.k&&this.k(Ve.a.d,this.c),(Ve=Ve.e)!==je.a;);se&&this.i&&this.i(this.c)}if(this.r){for(ke=this.b,se=ke.a.b;se!==ke.a;se=Te)if(Te=se.b,!se.c){for(je=(pe=se.a).e,Ve=void 0;je=(Ve=je).e,(Ve.d=null)===Ve.b.d&&(Ve.c===Ve?E(Ve.a,null):(Ve.a.c=Ve.c,_(Ve,Ve.b.e)),(Be=Ve.b).c===Be?E(Be.a,null):(Be.a.c=Be.c,_(Be,Be.b.e)),j(Ve)),Ve!==pe;);pe=se.d,((se=se.b).d=pe).b=se}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:K,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},K.prototype.gluDeleteTess=K.prototype.x,K.prototype.gluTessProperty=K.prototype.B,K.prototype.gluGetTessProperty=K.prototype.y,K.prototype.gluTessNormal=K.prototype.A,K.prototype.gluTessCallback=K.prototype.z,K.prototype.gluTessVertex=K.prototype.C,K.prototype.gluTessBeginPolygon=K.prototype.u,K.prototype.gluTessBeginContour=K.prototype.t,K.prototype.gluTessEndContour=K.prototype.v,K.prototype.gluTessEndPolygon=K.prototype.w,o!==void 0&&(o.exports=this.libtess)},{}],253:[function(t,o,y){"use strict";function i(u,v,x,w){var c=0,a=(w=w===void 0?{}:w).loop===void 0?null:w.loop,d=w.palette===void 0?null:w.palette;if(v<=0||x<=0||65535<v||65535<x)throw new Error("Width/Height invalid.");function f(P){if(P=P.length,P<2||256<P||P&P-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return P}u[c++]=71,u[c++]=73,u[c++]=70,u[c++]=56,u[c++]=57,u[c++]=97;var m=0,l=0;if(d!==null){for(var h=f(d);h>>=1;)++m;if(h=1<<m,--m,w.background!==void 0){if(h<=(l=w.background))throw new Error("Background index out of range.");if(l===0)throw new Error("Background index explicitly passed as 0.")}}if(u[c++]=255&v,u[c++]=v>>8&255,u[c++]=255&x,u[c++]=x>>8&255,u[c++]=(d!==null?128:0)|m,u[c++]=l,u[c++]=0,d!==null)for(var g=0,b=d.length;g<b;++g){var _=d[g];u[c++]=_>>16&255,u[c++]=_>>8&255,u[c++]=255&_}if(a!==null){if(a<0||65535<a)throw new Error("Loop count invalid.");u[c++]=33,u[c++]=255,u[c++]=11,u[c++]=78,u[c++]=69,u[c++]=84,u[c++]=83,u[c++]=67,u[c++]=65,u[c++]=80,u[c++]=69,u[c++]=50,u[c++]=46,u[c++]=48,u[c++]=3,u[c++]=1,u[c++]=255&a,u[c++]=a>>8&255,u[c++]=0}var A=!1;this.addFrame=function(P,j,E,k,M,I){if(A===!0&&(--c,A=!1),I=I===void 0?{}:I,P<0||j<0||65535<P||65535<j)throw new Error("x/y invalid.");if(E<=0||k<=0||65535<E||65535<k)throw new Error("Width/Height invalid.");if(M.length<E*k)throw new Error("Not enough pixels for the frame size.");var S=!0,T=I.palette;if(T==null&&(S=!1,T=d),T==null)throw new Error("Must supply either a local or global palette.");for(var O=f(T),L=0;O>>=1;)++L;var O=1<<L,V=I.delay===void 0?0:I.delay,H=I.disposal===void 0?0:I.disposal;if(H<0||3<H)throw new Error("Disposal out of range.");var F=!1,W=0;if(I.transparent!==void 0&&I.transparent!==null&&(F=!0,(W=I.transparent)<0||O<=W))throw new Error("Transparent color index.");if(H===0&&!F&&V===0||(u[c++]=33,u[c++]=249,u[c++]=4,u[c++]=H<<2|(F===!0?1:0),u[c++]=255&V,u[c++]=V>>8&255,u[c++]=W,u[c++]=0),u[c++]=44,u[c++]=255&P,u[c++]=P>>8&255,u[c++]=255&j,u[c++]=j>>8&255,u[c++]=255&E,u[c++]=E>>8&255,u[c++]=255&k,u[c++]=k>>8&255,u[c++]=S===!0?128|L-1:0,S===!0)for(var ee=0,J=T.length;ee<J;++ee){var N=T[ee];u[c++]=N>>16&255,u[c++]=N>>8&255,u[c++]=255&N}return c=function(D,B,Y,G){D[B++]=Y;var q=B++,X=1<<Y,ne=X-1,$=1+X,K=1+$,Q=Y+1,Z=0,re=0;function ie(be){for(;be<=Z;)D[B++]=255&re,re>>=8,Z-=8,B===q+256&&(D[q]=255,q=B++)}function he(be){re|=be<<Z,Z+=Q,ie(8)}var ue=G[0]&ne,fe={};he(X);for(var xe=1,Ee=G.length;xe<Ee;++xe){var ce=G[xe]&ne,me=ue<<8|ce,ye=fe[me];if(ye===void 0){for(re|=ue<<Z,Z+=Q;8<=Z;)D[B++]=255&re,re>>=8,Z-=8,B===q+256&&(D[q]=255,q=B++);K===4096?(he(X),K=1+$,Q=Y+1,fe={}):(1<<Q<=K&&++Q,fe[me]=K++),ue=ce}else ue=ye}return he(ue),he($),ie(1),q+1===B?D[q]=0:(D[q]=B-q-1,D[B++]=0),B}(u,c,L<2?2:L,M)},this.end=function(){return A===!1&&(u[c++]=59,A=!0),c},this.getOutputBuffer=function(){return u},this.setOutputBuffer=function(P){u=P},this.getOutputBufferPosition=function(){return c},this.setOutputBufferPosition=function(P){c=P}}function p(u,v,x,w){for(var c=u[v++],a=1<<c,d=1+a,f=1+d,m=c+1,l=(1<<m)-1,h=0,g=0,b=0,_=u[v++],A=new Int32Array(4096),P=null;;){for(;h<16&&_!==0;)g|=u[v++]<<h,h+=8,_===1?_=u[v++]:--_;if(h<m)break;var j=g&l;if(g>>=m,h-=m,j==a)f=1+d,l=(1<<(m=c+1))-1,P=null;else{if(j==d)break;for(var E=j<f?j:P,k=0,M=E;a<M;)M=A[M]>>8,++k;var I=M;if(w<b+k+(E!==j?1:0))return void console.log("Warning, gif stream longer than expected.");x[b++]=I;var S=b+=k;for(E!==j&&(x[b++]=I),M=E;k--;)M=A[M],x[--S]=255&M,M>>=8;P!==null&&f<4096&&(A[f++]=P<<8|I,l+1<=f&&m<12&&(++m,l=l<<1|1)),P=j}}b!==w&&console.log("Warning, gif stream shorter than expected.")}try{y.GifWriter=i,y.GifReader=function(u){var v=0;if(u[v++]!==71||u[v++]!==73||u[v++]!==70||u[v++]!==56||(u[v++]+1&253)!=56||u[v++]!==97)throw new Error("Invalid GIF 87a/89a header.");var x=u[v++]|u[v++]<<8,w=u[v++]|u[v++]<<8,c=u[v++],a=1<<1+(7&c),d=(u[v++],u[v++],null),f=null,m=(c>>7&&(d=v,v+=3*(f=a)),!0),l=[],h=0,g=null,b=0,_=null;for(this.width=x,this.height=w;m&&v<u.length;)switch(u[v++]){case 33:switch(u[v++]){case 255:if(u[v]!==11||u[v+1]==78&&u[v+2]==69&&u[v+3]==84&&u[v+4]==83&&u[v+5]==67&&u[v+6]==65&&u[v+7]==80&&u[v+8]==69&&u[v+9]==50&&u[v+10]==46&&u[v+11]==48&&u[v+12]==3&&u[v+13]==1&&u[v+16]==0)v+=14,_=u[v++]|u[v++]<<8,v++;else for(v+=12;;){if(!(0<=(P=u[v++])))throw Error("Invalid block size");if(P===0)break;v+=P}break;case 249:if(u[v++]!==4||u[v+4]!==0)throw new Error("Invalid graphics extension block.");var A=u[v++],h=u[v++]|u[v++]<<8,g=u[v++];!(1&A)&&(g=null),b=A>>2&7,v++;break;case 254:for(;;){if(!(0<=(P=u[v++])))throw Error("Invalid block size");if(P===0)break;v+=P}break;default:throw new Error("Unknown graphic control label: 0x"+u[v-1].toString(16))}break;case 44:var P,j=u[v++]|u[v++]<<8,E=u[v++]|u[v++]<<8,k=u[v++]|u[v++]<<8,M=u[v++]|u[v++]<<8,V=u[v++],I=V>>6&1,S=1<<1+(7&V),T=d,L=f,O=!1,V=(V>>7&&(O=!0,T=v,v+=3*(L=S)),v);for(v++;;){if(!(0<=(P=u[v++])))throw Error("Invalid block size");if(P===0)break;v+=P}l.push({x:j,y:E,width:k,height:M,has_local_palette:O,palette_offset:T,palette_size:L,data_offset:V,data_length:v-V,transparent_index:g,interlaced:!!I,delay:h,disposal:b});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+u[v-1].toString(16))}this.numFrames=function(){return l.length},this.loopCount=function(){return _},this.frameInfo=function(H){if(H<0||H>=l.length)throw new Error("Frame index out of range.");return l[H]},this.decodeAndBlitFrameBGRA=function(H,F){for(var H=this.frameInfo(H),W=H.width*H.height,ee=new Uint8Array(W),J=(p(u,H.data_offset,ee,W),H.palette_offset),N=H.transparent_index,D=(N===null&&(N=256),H.width),B=x-D,Y=D,G=4*(H.y*x+H.x),q=4*((H.y+H.height)*x+H.x),X=G,ne=4*B,$=(H.interlaced===!0&&(ne+=4*x*7),8),K=0,Q=ee.length;K<Q;++K){var Z,re,ie=ee[K];Y===0&&(Y=D,q<=(X+=ne)&&(ne=4*B+4*x*($-1),X=G+(D+B)*($<<1),$>>=1)),ie===N?X+=4:(Z=u[J+3*ie],re=u[J+3*ie+1],ie=u[J+3*ie+2],F[X++]=ie,F[X++]=re,F[X++]=Z,F[X++]=255),--Y}},this.decodeAndBlitFrameRGBA=function(H,F){for(var H=this.frameInfo(H),W=H.width*H.height,ee=new Uint8Array(W),J=(p(u,H.data_offset,ee,W),H.palette_offset),N=H.transparent_index,D=(N===null&&(N=256),H.width),B=x-D,Y=D,G=4*(H.y*x+H.x),q=4*((H.y+H.height)*x+H.x),X=G,ne=4*B,$=(H.interlaced===!0&&(ne+=4*x*7),8),K=0,Q=ee.length;K<Q;++K){var Z,re,ie=ee[K];Y===0&&(Y=D,q<=(X+=ne)&&(ne=4*B+4*x*($-1),X=G+(D+B)*($<<1),$>>=1)),ie===N?X+=4:(Z=u[J+3*ie],re=u[J+3*ie+1],ie=u[J+3*ie+2],F[X++]=Z,F[X++]=re,F[X++]=ie,F[X++]=255),--Y}}}}catch{}},{}],254:[function(t,o,y){(function(i){var p,u;p=this,u=function(v){"use strict";function x(te){if(this==null)throw TypeError();var R,U=String(this),z=U.length,te=te?Number(te):0;if(!((te=te!=te?0:te)<0||z<=te))return 55296<=(R=U.charCodeAt(te))&&R<=56319&&te+1<z&&56320<=(z=U.charCodeAt(te+1))&&z<=57343?1024*(R-55296)+z-56320+65536:R}String.prototype.codePointAt||((w=function(){try{var C={},R=Object.defineProperty,U=R(C,C,C)&&R}catch{}return U}())?w(String.prototype,"codePointAt",{value:x,configurable:!0,writable:!0}):String.prototype.codePointAt=x);var w,c=0,a=-3;function d(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function f(C,R){this.source=C,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=R,this.destLen=0,this.ltree=new d,this.dtree=new d}var m=new d,l=new d,h=new Uint8Array(30),g=new Uint16Array(30),b=new Uint8Array(30),_=new Uint16Array(30),A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P=new d,j=new Uint8Array(320);function E(C,R,U,z){for(var te,oe=0;oe<U;++oe)C[oe]=0;for(oe=0;oe<30-U;++oe)C[oe+U]=oe/U|0;for(te=z,oe=0;oe<30;++oe)R[oe]=te,te+=1<<C[oe]}var k=new Uint16Array(16);function M(C,R,U,z){for(var te,oe=0;oe<16;++oe)C.table[oe]=0;for(oe=0;oe<z;++oe)C.table[R[U+oe]]++;for(oe=te=C.table[0]=0;oe<16;++oe)k[oe]=te,te+=C.table[oe];for(oe=0;oe<z;++oe)R[U+oe]&&(C.trans[k[R[U+oe]]++]=oe)}function I(C,R,U){if(!R)return U;for(;C.bitcount<24;)C.tag|=C.source[C.sourceIndex++]<<C.bitcount,C.bitcount+=8;var z=C.tag&65535>>>16-R;return C.tag>>>=R,C.bitcount-=R,z+U}function S(C,R){for(;C.bitcount<24;)C.tag|=C.source[C.sourceIndex++]<<C.bitcount,C.bitcount+=8;for(var U=0,z=0,te=0,oe=C.tag;z=2*z+(1&oe),oe>>>=1,U+=R.table[++te],0<=(z-=R.table[te]););return C.tag=oe,C.bitcount-=te,R.trans[U+z]}function T(C,R,U){for(;;){var z=S(C,R);if(z===256)return c;if(z<256)C.dest[C.destLen++]=z;else for(var te,oe=I(C,h[z-=257],g[z]),z=S(C,U),ae=te=C.destLen-I(C,b[z],_[z]);ae<te+oe;++ae)C.dest[C.destLen++]=C.dest[ae]}}for(var L=m,O=l,V=0;V<7;++V)L.table[V]=0;for(L.table[7]=24,L.table[8]=152,L.table[9]=112,V=0;V<24;++V)L.trans[V]=256+V;for(V=0;V<144;++V)L.trans[24+V]=V;for(V=0;V<8;++V)L.trans[168+V]=280+V;for(V=0;V<112;++V)L.trans[176+V]=144+V;for(V=0;V<5;++V)O.table[V]=0;for(O.table[5]=32,V=0;V<32;++V)O.trans[V]=V;E(h,g,4,3),E(b,_,2,1),h[28]=0,g[28]=258;var H=function(C,R){var U,z,te,oe=new f(C,R);do{switch(te=void 0,(z=oe).bitcount--||(z.tag=z.source[z.sourceIndex++],z.bitcount=7),te=1&z.tag,z.tag>>>=1,z=te,I(oe,2,0)){case 0:U=function(Ne){for(var it,dt;8<Ne.bitcount;)Ne.sourceIndex--,Ne.bitcount-=8;if((it=256*Ne.source[Ne.sourceIndex+1]+Ne.source[Ne.sourceIndex])!==(65535&~(256*Ne.source[Ne.sourceIndex+3]+Ne.source[Ne.sourceIndex+2])))return a;for(Ne.sourceIndex+=4,dt=it;dt;--dt)Ne.dest[Ne.destLen++]=Ne.source[Ne.sourceIndex++];return Ne.bitcount=0,c}(oe);break;case 1:U=T(oe,m,l);break;case 2:Ue=Fe=Ge=Le=ae=Ae=Pe=Re=Oe=De=Me=ve=void 0;for(var ae,ve=oe,Me=oe.ltree,De=oe.dtree,Oe=I(ve,5,257),Re=I(ve,5,1),Pe=I(ve,4,4),Ae=0;Ae<19;++Ae)j[Ae]=0;for(Ae=0;Ae<Pe;++Ae){var Ge=I(ve,3,0);j[A[Ae]]=Ge}for(M(P,j,0,19),ae=0;ae<Oe+Re;){var Fe=S(ve,P);switch(Fe){case 16:for(var Ue=j[ae-1],Le=I(ve,2,3);Le;--Le)j[ae++]=Ue;break;case 17:for(Le=I(ve,3,3);Le;--Le)j[ae++]=0;break;case 18:for(Le=I(ve,7,11);Le;--Le)j[ae++]=0;break;default:j[ae++]=Fe}}M(Me,j,0,Oe),M(De,j,Oe,Re),U=T(oe,oe.ltree,oe.dtree);break;default:U=a}if(U!==c)throw new Error("Data error")}while(!z);return oe.destLen<oe.dest.length?typeof oe.dest.slice=="function"?oe.dest.slice(0,oe.destLen):oe.dest.subarray(0,oe.destLen):oe.dest};function F(C,R,U,z,te){return Math.pow(1-te,3)*C+3*Math.pow(1-te,2)*te*R+3*(1-te)*Math.pow(te,2)*U+Math.pow(te,3)*z}function W(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ee(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function J(C){throw new Error(C)}function N(C,R){C||J(R)}W.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},W.prototype.addPoint=function(C,R){typeof C=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=C,this.x2=C),C<this.x1&&(this.x1=C),C>this.x2&&(this.x2=C)),typeof R=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=R,this.y2=R),R<this.y1&&(this.y1=R),R>this.y2&&(this.y2=R))},W.prototype.addX=function(C){this.addPoint(C,null)},W.prototype.addY=function(C){this.addPoint(null,C)},W.prototype.addBezier=function(C,R,U,z,te,oe,ae,ve){var Me=[C,R],De=[U,z],Oe=[te,oe],Re=[ae,ve];this.addPoint(C,R),this.addPoint(ae,ve);for(var Pe=0;Pe<=1;Pe++){var Ae,Ge=6*Me[Pe]-12*De[Pe]+6*Oe[Pe],Fe=-3*Me[Pe]+9*De[Pe]-9*Oe[Pe]+3*Re[Pe],Ue=3*De[Pe]-3*Me[Pe];Fe==0?Ge==0||0<(Ae=-Ue/Ge)&&Ae<1&&(Pe===0&&this.addX(F(Me[Pe],De[Pe],Oe[Pe],Re[Pe],Ae)),Pe===1&&this.addY(F(Me[Pe],De[Pe],Oe[Pe],Re[Pe],Ae))):(Ae=Math.pow(Ge,2)-4*Ue*Fe)<0||(0<(Ue=(-Ge+Math.sqrt(Ae))/(2*Fe))&&Ue<1&&(Pe===0&&this.addX(F(Me[Pe],De[Pe],Oe[Pe],Re[Pe],Ue)),Pe===1&&this.addY(F(Me[Pe],De[Pe],Oe[Pe],Re[Pe],Ue))),0<(Ue=(-Ge-Math.sqrt(Ae))/(2*Fe))&&Ue<1&&(Pe===0&&this.addX(F(Me[Pe],De[Pe],Oe[Pe],Re[Pe],Ue)),Pe===1&&this.addY(F(Me[Pe],De[Pe],Oe[Pe],Re[Pe],Ue))))}},W.prototype.addQuad=function(C,R,U,z,te,oe){U=C+2/3*(U-C),z=R+2/3*(z-R),this.addBezier(C,R,U,z,U+1/3*(te-C),z+1/3*(oe-R),te,oe)},ee.prototype.moveTo=function(C,R){this.commands.push({type:"M",x:C,y:R})},ee.prototype.lineTo=function(C,R){this.commands.push({type:"L",x:C,y:R})},ee.prototype.curveTo=ee.prototype.bezierCurveTo=function(C,R,U,z,te,oe){this.commands.push({type:"C",x1:C,y1:R,x2:U,y2:z,x:te,y:oe})},ee.prototype.quadTo=ee.prototype.quadraticCurveTo=function(C,R,U,z){this.commands.push({type:"Q",x1:C,y1:R,x:U,y:z})},ee.prototype.close=ee.prototype.closePath=function(){this.commands.push({type:"Z"})},ee.prototype.extend=function(C){var R;if(C.commands)C=C.commands;else if(C instanceof W)return R=C,this.moveTo(R.x1,R.y1),this.lineTo(R.x2,R.y1),this.lineTo(R.x2,R.y2),this.lineTo(R.x1,R.y2),void this.close();Array.prototype.push.apply(this.commands,C)},ee.prototype.getBoundingBox=function(){for(var C=new W,R=0,U=0,z=0,te=0,oe=0;oe<this.commands.length;oe++){var ae=this.commands[oe];switch(ae.type){case"M":C.addPoint(ae.x,ae.y),R=z=ae.x,U=te=ae.y;break;case"L":C.addPoint(ae.x,ae.y),z=ae.x,te=ae.y;break;case"Q":C.addQuad(z,te,ae.x1,ae.y1,ae.x,ae.y),z=ae.x,te=ae.y;break;case"C":C.addBezier(z,te,ae.x1,ae.y1,ae.x2,ae.y2,ae.x,ae.y),z=ae.x,te=ae.y;break;case"Z":z=R,te=U;break;default:throw new Error("Unexpected path command "+ae.type)}}return C.isEmpty()&&C.addPoint(0,0),C},ee.prototype.draw=function(C){C.beginPath();for(var R=0;R<this.commands.length;R+=1){var U=this.commands[R];U.type==="M"?C.moveTo(U.x,U.y):U.type==="L"?C.lineTo(U.x,U.y):U.type==="C"?C.bezierCurveTo(U.x1,U.y1,U.x2,U.y2,U.x,U.y):U.type==="Q"?C.quadraticCurveTo(U.x1,U.y1,U.x,U.y):U.type==="Z"&&C.closePath()}this.fill&&(C.fillStyle=this.fill,C.fill()),this.stroke&&(C.strokeStyle=this.stroke,C.lineWidth=this.strokeWidth,C.stroke())},ee.prototype.toPathData=function(C){function R(){for(var oe=arguments,ae="",ve=0;ve<arguments.length;ve+=1){var Me=oe[ve];0<=Me&&0<ve&&(ae+=" "),ae+=(Me=Me,Math.round(Me)===Me?""+Math.round(Me):Me.toFixed(C))}return ae}C=C!==void 0?C:2;for(var U="",z=0;z<this.commands.length;z+=1){var te=this.commands[z];te.type==="M"?U+="M"+R(te.x,te.y):te.type==="L"?U+="L"+R(te.x,te.y):te.type==="C"?U+="C"+R(te.x1,te.y1,te.x2,te.y2,te.x,te.y):te.type==="Q"?U+="Q"+R(te.x1,te.y1,te.x,te.y):te.type==="Z"&&(U+="Z")}return U},ee.prototype.toSVG=function(C){var R=(R='<path d="')+this.toPathData(C)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?R+=' fill="none"':R+=' fill="'+this.fill+'"'),this.stroke&&(R+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),R+="/>"},ee.prototype.toDOMElement=function(R){var R=this.toPathData(R),U=document.createElementNS("http://www.w3.org/2000/svg","path");return U.setAttribute("d",R),U};var D={fail:J,argument:N,assert:N},B={},Y={},G={};function q(C){return function(){return C}}Y.BYTE=function(C){return D.argument(0<=C&&C<=255,"Byte value should be between 0 and 255."),[C]},G.BYTE=q(1),Y.CHAR=function(C){return[C.charCodeAt(0)]},G.CHAR=q(1),Y.CHARARRAY=function(C){for(var R=[],U=0;U<C.length;U+=1)R[U]=C.charCodeAt(U);return R},G.CHARARRAY=function(C){return C.length},Y.USHORT=function(C){return[C>>8&255,255&C]},G.USHORT=q(2),Y.SHORT=function(C){return[(C=32768<=C?-(65536-C):C)>>8&255,255&C]},G.SHORT=q(2),Y.UINT24=function(C){return[C>>16&255,C>>8&255,255&C]},G.UINT24=q(3),Y.ULONG=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]},G.ULONG=q(4),Y.LONG=function(C){return[(C=2147483648<=C?-(4294967296-C):C)>>24&255,C>>16&255,C>>8&255,255&C]},G.LONG=q(4),Y.FIXED=Y.ULONG,G.FIXED=G.ULONG,Y.FWORD=Y.SHORT,G.FWORD=G.SHORT,Y.UFWORD=Y.USHORT,G.UFWORD=G.USHORT,Y.LONGDATETIME=function(C){return[0,0,0,0,C>>24&255,C>>16&255,C>>8&255,255&C]},G.LONGDATETIME=q(8),Y.TAG=function(C){return D.argument(C.length===4,"Tag should be exactly 4 ASCII characters."),[C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2),C.charCodeAt(3)]},G.TAG=q(4),Y.Card8=Y.BYTE,G.Card8=G.BYTE,Y.Card16=Y.USHORT,G.Card16=G.USHORT,Y.OffSize=Y.BYTE,G.OffSize=G.BYTE,Y.SID=Y.USHORT,G.SID=G.USHORT,Y.NUMBER=function(C){return-107<=C&&C<=107?[C+139]:108<=C&&C<=1131?[247+((C-=108)>>8),255&C]:-1131<=C&&C<=-108?[251+((C=-C-108)>>8),255&C]:-32768<=C&&C<=32767?Y.NUMBER16(C):Y.NUMBER32(C)},G.NUMBER=function(C){return Y.NUMBER(C).length},Y.NUMBER16=function(C){return[28,C>>8&255,255&C]},G.NUMBER16=q(3),Y.NUMBER32=function(C){return[29,C>>24&255,C>>16&255,C>>8&255,255&C]},G.NUMBER32=q(5),Y.REAL=function(C){for(var R=C.toString(),U=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(R),z=(U&&(U=parseFloat("1e"+((U[2]?+U[2]:0)+U[1].length)),R=(Math.round(C*U)/U).toString()),""),te=0,oe=R.length;te<oe;te+=1){var ae=R[te];z+=ae==="e"?R[++te]==="-"?"c":"b":ae==="."?"a":ae==="-"?"e":ae}for(var ve=[30],Me=0,De=(z+=1&z.length?"f":"ff").length;Me<De;Me+=2)ve.push(parseInt(z.substr(Me,2),16));return ve},G.REAL=function(C){return Y.REAL(C).length},Y.NAME=Y.CHARARRAY,G.NAME=G.CHARARRAY,Y.STRING=Y.CHARARRAY,G.STRING=G.CHARARRAY,B.UTF8=function(C,R,U){for(var z=[],te=U,oe=0;oe<te;oe++,R+=1)z[oe]=C.getUint8(R);return String.fromCharCode.apply(null,z)},B.UTF16=function(C,R,U){for(var z=[],te=U/2,oe=0;oe<te;oe++,R+=2)z[oe]=C.getUint16(R);return String.fromCharCode.apply(null,z)},Y.UTF16=function(C){for(var R=[],U=0;U<C.length;U+=1){var z=C.charCodeAt(U);R[R.length]=z>>8&255,R[R.length]=255&z}return R},G.UTF16=function(C){return 2*C.length};var X,ne={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},$=(B.MACSTRING=function(C,R,U,z){var te=ne[z];if(te!==void 0){for(var oe="",ae=0;ae<U;ae++){var ve=C.getUint8(R+ae);oe+=ve<=127?String.fromCharCode(ve):te[127&ve]}return oe}},typeof WeakMap=="function"&&new WeakMap);function K(C){return-128<=C&&C<=127}Y.MACSTRING=function(C,R){var U=function(ae){if(!X)for(var ve in X={},ne)X[ve]=new String(ve);var Me=X[ae];if(Me!==void 0){if($){var De=$.get(Me);if(De!==void 0)return De}var Oe=ne[ae];if(Oe!==void 0){for(var Re={},Pe=0;Pe<Oe.length;Pe++)Re[Oe.charCodeAt(Pe)]=Pe+128;return $&&$.set(Me,Re),Re}}}(R);if(U!==void 0){for(var z=[],te=0;te<C.length;te++){var oe=C.charCodeAt(te);if(128<=oe&&(oe=U[oe])===void 0)return;z[te]=oe}return z}},G.MACSTRING=function(C,R){return C=Y.MACSTRING(C,R),C!==void 0?C.length:0},Y.VARDELTAS=function(C){for(var z=0,R=[];z<C.length;)var U=C[z],z=(U===0?function(te,oe,ae){for(var ve=0,Me=te.length;oe<Me&&ve<64&&te[oe]===0;)++oe,++ve;return ae.push(128|ve-1),oe}:-128<=U&&U<=127?function(te,oe,ae){for(var ve=0,Me=te.length,De=oe;De<Me&&ve<64;){var Oe=te[De];if(!K(Oe)||Oe===0&&De+1<Me&&te[De+1]===0)break;++De,++ve}ae.push(ve-1);for(var Re=oe;Re<De;++Re)ae.push(te[Re]+256&255);return De}:function(te,oe,ae){for(var ve=0,Me=te.length,De=oe;De<Me&&ve<64;){var Oe=te[De];if(Oe===0||K(Oe)&&De+1<Me&&K(te[De+1]))break;++De,++ve}ae.push(64|ve-1);for(var Re=oe;Re<De;++Re){var Pe=te[Re];ae.push(Pe+65536>>8&255,Pe+256&255)}return De})(C,z,R);return R},Y.INDEX=function(C){for(var R=1,U=[R],z=[],te=0;te<C.length;te+=1){var oe=Y.OBJECT(C[te]);Array.prototype.push.apply(z,oe),R+=oe.length,U.push(R)}if(z.length===0)return[0,0];for(var ae=[],ve=1+Math.floor(Math.log(R)/Math.log(2))/8|0,Me=[void 0,Y.BYTE,Y.USHORT,Y.UINT24,Y.ULONG][ve],De=0;De<U.length;De+=1){var Oe=Me(U[De]);Array.prototype.push.apply(ae,Oe)}return Array.prototype.concat(Y.Card16(C.length),Y.OffSize(ve),ae,z)},G.INDEX=function(C){return Y.INDEX(C).length},Y.DICT=function(C){for(var R=[],U=Object.keys(C),z=U.length,te=0;te<z;te+=1){var oe=parseInt(U[te],0),ae=C[oe];R=(R=R.concat(Y.OPERAND(ae.value,ae.type))).concat(Y.OPERATOR(oe))}return R},G.DICT=function(C){return Y.DICT(C).length},Y.OPERATOR=function(C){return C<1200?[C]:[12,C-1200]},Y.OPERAND=function(C,R){var U=[];if(Array.isArray(R))for(var z=0;z<R.length;z+=1)D.argument(C.length===R.length,"Not enough arguments given for type"+R),U=U.concat(Y.OPERAND(C[z],R[z]));else if(R==="SID")U=U.concat(Y.NUMBER(C));else if(R==="offset")U=U.concat(Y.NUMBER32(C));else if(R==="number")U=U.concat(Y.NUMBER(C));else{if(R!=="real")throw new Error("Unknown operand type "+R);U=U.concat(Y.REAL(C))}return U},Y.OP=Y.BYTE,G.OP=G.BYTE;var Q=typeof WeakMap=="function"&&new WeakMap;function Z(C,R,U){for(var z=0;z<R.length;z+=1){var te=R[z];this[te.name]=te.value}if(this.tableName=C,this.fields=R,U)for(var oe=Object.keys(U),ae=0;ae<oe.length;ae+=1){var ve=oe[ae],Me=U[ve];this[ve]!==void 0&&(this[ve]=Me)}}function re(C,R,U){U===void 0&&(U=R.length);var z=new Array(R.length+1);z[0]={name:C+"Count",type:"USHORT",value:U};for(var te=0;te<R.length;te++)z[te+1]={name:C+te,type:"USHORT",value:R[te]};return z}function ie(C,R,U){var z=R.length,te=new Array(z+1);te[0]={name:C+"Count",type:"USHORT",value:z};for(var oe=0;oe<z;oe++)te[oe+1]={name:C+oe,type:"TABLE",value:U(R[oe],oe)};return te}function he(C,R,U){var z=R.length,te=[];te[0]={name:C+"Count",type:"USHORT",value:z};for(var oe=0;oe<z;oe++)te=te.concat(U(R[oe],oe));return te}function ue(C){C.format===1?Z.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(re("glyph",C.glyphs))):D.assert(!1,"Can't create coverage table format 2 yet.")}function fe(C){Z.call(this,"scriptListTable",he("scriptRecord",C,function(R,U){var z=R.script,te=z.defaultLangSys;return D.assert(!!te,"Unable to write GSUB: script "+R.tag+" has no default language system."),[{name:"scriptTag"+U,type:"TAG",value:R.tag},{name:"script"+U,type:"TABLE",value:new Z("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Z("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:te.reqFeatureIndex}].concat(re("featureIndex",te.featureIndexes)))}].concat(he("langSys",z.langSysRecords,function(oe,ae){var ve=oe.langSys;return[{name:"langSysTag"+ae,type:"TAG",value:oe.tag},{name:"langSys"+ae,type:"TABLE",value:new Z("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ve.reqFeatureIndex}].concat(re("featureIndex",ve.featureIndexes)))}]})))}]}))}function xe(C){Z.call(this,"featureListTable",he("featureRecord",C,function(R,U){var z=R.feature;return[{name:"featureTag"+U,type:"TAG",value:R.tag},{name:"feature"+U,type:"TABLE",value:new Z("featureTable",[{name:"featureParams",type:"USHORT",value:z.featureParams}].concat(re("lookupListIndex",z.lookupListIndexes)))}]}))}function Ee(C,R){Z.call(this,"lookupListTable",ie("lookup",C,function(U){var z=R[U.lookupType];return D.assert(!!z,"Unable to write GSUB lookup type "+U.lookupType+" tables."),new Z("lookupTable",[{name:"lookupType",type:"USHORT",value:U.lookupType},{name:"lookupFlag",type:"USHORT",value:U.lookupFlag}].concat(ie("subtable",U.subtables,z)))}))}Y.CHARSTRING=function(C){if(Q){var R=Q.get(C);if(R!==void 0)return R}for(var oe=[],U=C.length,z=0;z<U;z+=1)var te=C[z],oe=oe.concat(Y[te.type](te.value));return Q&&Q.set(C,oe),oe},G.CHARSTRING=function(C){return Y.CHARSTRING(C).length},Y.OBJECT=function(C){var R=Y[C.type];return D.argument(R!==void 0,"No encoding function for type "+C.type),R(C.value)},G.OBJECT=function(C){var R=G[C.type];return D.argument(R!==void 0,"No sizeOf function for type "+C.type),R(C.value)},Y.TABLE=function(C){for(var R=[],U=C.fields.length,z=[],te=[],oe=0;oe<U;oe+=1){var ae=C.fields[oe],Me=Y[ae.type],ve=(D.argument(Me!==void 0,"No encoding function for field type "+ae.type+" ("+ae.name+")"),C[ae.name]),Me=Me(ve=ve===void 0?ae.value:ve);ae.type==="TABLE"?(te.push(R.length),R=R.concat([0,0]),z.push(Me)):R=R.concat(Me)}for(var De=0;De<z.length;De+=1){var Oe=te[De],Re=R.length;D.argument(Re<65536,"Table "+C.tableName+" too big."),R[Oe]=Re>>8,R[Oe+1]=255&Re,R=R.concat(z[De])}return R},G.TABLE=function(C){for(var R=0,U=C.fields.length,z=0;z<U;z+=1){var te=C.fields[z],oe=G[te.type],ae=(D.argument(oe!==void 0,"No sizeOf function for field type "+te.type+" ("+te.name+")"),C[te.name]);R+=oe(ae=ae===void 0?te.value:ae),te.type==="TABLE"&&(R+=2)}return R},Y.RECORD=Y.TABLE,G.RECORD=G.TABLE,Y.LITERAL=function(C){return C},G.LITERAL=function(C){return C.length},Z.prototype.encode=function(){return Y.TABLE(this)},Z.prototype.sizeOf=function(){return G.TABLE(this)};var ce={Table:Z,Record:Z,Coverage:(ue.prototype=Object.create(Z.prototype)).constructor=ue,ScriptList:(fe.prototype=Object.create(Z.prototype)).constructor=fe,FeatureList:(xe.prototype=Object.create(Z.prototype)).constructor=xe,LookupList:(Ee.prototype=Object.create(Z.prototype)).constructor=Ee,ushortList:re,tableList:ie,recordList:he};function me(C,R){return C.getUint8(R)}function ye(C,R){return C.getUint16(R,!1)}function be(C,R){return C.getUint32(R,!1)}function Ce(C,R){return C.getInt16(R,!1)+C.getUint16(R+2,!1)/65535}var Se={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ge(C,R){this.data=C,this.offset=R,this.relativeOffset=0}ge.prototype.parseByte=function(){var C=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,C},ge.prototype.parseChar=function(){var C=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,C},ge.prototype.parseCard8=ge.prototype.parseByte,ge.prototype.parseCard16=ge.prototype.parseUShort=function(){var C=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,C},ge.prototype.parseSID=ge.prototype.parseUShort,ge.prototype.parseOffset16=ge.prototype.parseUShort,ge.prototype.parseShort=function(){var C=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,C},ge.prototype.parseF2Dot14=function(){var C=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,C},ge.prototype.parseOffset32=ge.prototype.parseULong=function(){var C=be(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,C},ge.prototype.parseFixed=function(){var C=Ce(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,C},ge.prototype.parseString=function(C){var R=this.data,U=this.offset+this.relativeOffset,z="";this.relativeOffset+=C;for(var te=0;te<C;te++)z+=String.fromCharCode(R.getUint8(U+te));return z},ge.prototype.parseTag=function(){return this.parseString(4)},ge.prototype.parseLongDateTime=function(){var C=be(this.data,this.offset+this.relativeOffset+4);return C-=2082844800,this.relativeOffset+=8,C},ge.prototype.parseVersion=function(C){var R=ye(this.data,this.offset+this.relativeOffset),U=ye(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,R+U/(C=C===void 0?4096:C)/10},ge.prototype.skip=function(C,R){this.relativeOffset+=Se[C]*(R=R===void 0?1:R)},ge.prototype.parseULongList=function(C){C===void 0&&(C=this.parseULong());for(var R=new Array(C),U=this.data,z=this.offset+this.relativeOffset,te=0;te<C;te++)R[te]=U.getUint32(z),z+=4;return this.relativeOffset+=4*C,R},ge.prototype.parseOffset16List=ge.prototype.parseUShortList=function(C){C===void 0&&(C=this.parseUShort());for(var R=new Array(C),U=this.data,z=this.offset+this.relativeOffset,te=0;te<C;te++)R[te]=U.getUint16(z),z+=2;return this.relativeOffset+=2*C,R},ge.prototype.parseShortList=function(C){for(var R=new Array(C),U=this.data,z=this.offset+this.relativeOffset,te=0;te<C;te++)R[te]=U.getInt16(z),z+=2;return this.relativeOffset+=2*C,R},ge.prototype.parseByteList=function(C){for(var R=new Array(C),U=this.data,z=this.offset+this.relativeOffset,te=0;te<C;te++)R[te]=U.getUint8(z++);return this.relativeOffset+=C,R},ge.prototype.parseList=function(C,R){R||(R=C,C=this.parseUShort());for(var U=new Array(C),z=0;z<C;z++)U[z]=R.call(this);return U},ge.prototype.parseList32=function(C,R){R||(R=C,C=this.parseULong());for(var U=new Array(C),z=0;z<C;z++)U[z]=R.call(this);return U},ge.prototype.parseRecordList=function(C,R){R||(R=C,C=this.parseUShort());for(var U=new Array(C),z=Object.keys(R),te=0;te<C;te++){for(var oe={},ae=0;ae<z.length;ae++){var ve=z[ae],Me=R[ve];oe[ve]=Me.call(this)}U[te]=oe}return U},ge.prototype.parseRecordList32=function(C,R){R||(R=C,C=this.parseULong());for(var U=new Array(C),z=Object.keys(R),te=0;te<C;te++){for(var oe={},ae=0;ae<z.length;ae++){var ve=z[ae],Me=R[ve];oe[ve]=Me.call(this)}U[te]=oe}return U},ge.prototype.parseStruct=function(C){if(typeof C=="function")return C.call(this);for(var R=Object.keys(C),U={},z=0;z<R.length;z++){var te=R[z],oe=C[te];U[te]=oe.call(this)}return U},ge.prototype.parseValueRecord=function(C){var R;if((C=C===void 0?this.parseUShort():C)!==0)return R={},1&C&&(R.xPlacement=this.parseShort()),2&C&&(R.yPlacement=this.parseShort()),4&C&&(R.xAdvance=this.parseShort()),8&C&&(R.yAdvance=this.parseShort()),16&C&&(R.xPlaDevice=void 0,this.parseShort()),32&C&&(R.yPlaDevice=void 0,this.parseShort()),64&C&&(R.xAdvDevice=void 0,this.parseShort()),128&C&&(R.yAdvDevice=void 0,this.parseShort()),R},ge.prototype.parseValueRecordList=function(){for(var C=this.parseUShort(),R=this.parseUShort(),U=new Array(R),z=0;z<R;z++)U[z]=this.parseValueRecord(C);return U},ge.prototype.parsePointer=function(C){var R=this.parseOffset16();if(0<R)return new ge(this.data,this.offset+R).parseStruct(C)},ge.prototype.parsePointer32=function(C){var R=this.parseOffset32();if(0<R)return new ge(this.data,this.offset+R).parseStruct(C)},ge.prototype.parseListOfLists=function(C){for(var R=this.parseOffset16List(),U=R.length,z=this.relativeOffset,te=new Array(U),oe=0;oe<U;oe++){var ae=R[oe];if(ae===0)te[oe]=void 0;else if(this.relativeOffset=ae,C){for(var ve=this.parseOffset16List(),Me=new Array(ve.length),De=0;De<ve.length;De++)this.relativeOffset=ae+ve[De],Me[De]=C.call(this);te[oe]=Me}else te[oe]=this.parseUShortList()}return this.relativeOffset=z,te},ge.prototype.parseCoverage=function(){var C=this.offset+this.relativeOffset,R=this.parseUShort(),U=this.parseUShort();if(R===1)return{format:1,glyphs:this.parseUShortList(U)};if(R!==2)throw new Error("0x"+C.toString(16)+": Coverage format must be 1 or 2.");for(var z=new Array(U),te=0;te<U;te++)z[te]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:z}},ge.prototype.parseClassDef=function(){var C=this.offset+this.relativeOffset,R=this.parseUShort();if(R===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(R===2)return{format:2,ranges:this.parseRecordList({start:ge.uShort,end:ge.uShort,classId:ge.uShort})};throw new Error("0x"+C.toString(16)+": ClassDef format must be 1 or 2.")},ge.list=function(C,R){return function(){return this.parseList(C,R)}},ge.list32=function(C,R){return function(){return this.parseList32(C,R)}},ge.recordList=function(C,R){return function(){return this.parseRecordList(C,R)}},ge.recordList32=function(C,R){return function(){return this.parseRecordList32(C,R)}},ge.pointer=function(C){return function(){return this.parsePointer(C)}},ge.pointer32=function(C){return function(){return this.parsePointer32(C)}},ge.tag=ge.prototype.parseTag,ge.byte=ge.prototype.parseByte,ge.uShort=ge.offset16=ge.prototype.parseUShort,ge.uShortList=ge.prototype.parseUShortList,ge.uLong=ge.offset32=ge.prototype.parseULong,ge.uLongList=ge.prototype.parseULongList,ge.struct=ge.prototype.parseStruct,ge.coverage=ge.prototype.parseCoverage,ge.classDef=ge.prototype.parseClassDef;var _e={reserved:ge.uShort,reqFeatureIndex:ge.uShort,featureIndexes:ge.uShortList},we=(ge.prototype.parseScriptList=function(){return this.parsePointer(ge.recordList({tag:ge.tag,script:ge.pointer({defaultLangSys:ge.pointer(_e),langSysRecords:ge.recordList({tag:ge.tag,langSys:ge.pointer(_e)})})}))||[]},ge.prototype.parseFeatureList=function(){return this.parsePointer(ge.recordList({tag:ge.tag,feature:ge.pointer({featureParams:ge.offset16,lookupListIndexes:ge.uShortList})}))||[]},ge.prototype.parseLookupList=function(C){return this.parsePointer(ge.list(ge.pointer(function(){var R=this.parseUShort(),U=(D.argument(1<=R&&R<=9,"GPOS/GSUB lookup type "+R+" unknown."),this.parseUShort()),z=16&U;return{lookupType:R,lookupFlag:U,subtables:this.parseList(ge.pointer(C[R])),markFilteringSet:z?this.parseUShort():void 0}})))||[]},ge.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var C=this.parseUShort(),R=this.parseUShort();return D.argument(C===1&&R<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ge.offset32,featureTableSubstitutionOffset:ge.offset32})})||[]},{getByte:me,getCard8:me,getUShort:ye,getCard16:ye,getShort:function(C,R){return C.getInt16(R,!1)},getULong:be,getFixed:Ce,getTag:function(C,R){for(var U="",z=R;z<R+4;z+=1)U+=String.fromCharCode(C.getInt8(z));return U},getOffset:function(C,R,U){for(var z=0,te=0;te<U;te+=1)z=(z<<=8)+C.getUint8(R+te);return z},getBytes:function(C,R,U){for(var z=[],te=R;te<U;te+=1)z.push(C.getUint8(te));return z},bytesToString:function(C){for(var R="",U=0;U<C.length;U+=1)R+=String.fromCharCode(C[U]);return R},Parser:ge}),le={parse:function(C,R){for(var U={},z=(U.version=we.getUShort(C,R),D.argument(U.version===0,"cmap table version should be 0."),U.numTables=we.getUShort(C,R+2),-1),te=U.numTables-1;0<=te;--te){var oe=we.getUShort(C,R+4+8*te),ae=we.getUShort(C,R+4+8*te+2);if(oe===3&&(ae===0||ae===1||ae===10)||oe===0&&(ae===0||ae===1||ae===2||ae===3||ae===4)){z=we.getULong(C,R+4+8*te+4);break}}if(z===-1)throw new Error("No valid cmap sub-tables found.");var ve=new we.Parser(C,R+z);if(U.format=ve.parseUShort(),U.format===12){var Me,De=U,Oe=ve;Oe.parseUShort(),De.length=Oe.parseULong(),De.language=Oe.parseULong(),De.groupCount=Me=Oe.parseULong(),De.glyphIndexMap={};for(var Re=0;Re<Me;Re+=1)for(var Pe=Oe.parseULong(),Ae=Oe.parseULong(),Ge=Oe.parseULong(),Fe=Pe;Fe<=Ae;Fe+=1)De.glyphIndexMap[Fe]=Ge,Ge++}else{if(U.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+U.format+").");var Ue=U,Le=C,Ne=R,it=z;Ue.length=ve.parseUShort(),Ue.language=ve.parseUShort(),Ue.segCount=dt=ve.parseUShort()>>1,ve.skip("uShort",3),Ue.glyphIndexMap={};for(var dt,ot=new we.Parser(Le,Ne+it+14),st=new we.Parser(Le,Ne+it+16+2*dt),bt=new we.Parser(Le,Ne+it+16+4*dt),zt=new we.Parser(Le,Ne+it+16+6*dt),Qt=Ne+it+16+8*dt,ar=0;ar<dt-1;ar+=1)for(var _r=void 0,Sr=ot.parseUShort(),Yr=st.parseUShort(),Gt=bt.parseShort(),Wt=zt.parseUShort(),Nt=Yr;Nt<=Sr;Nt+=1)Wt!==0?(Qt=(Qt=zt.offset+zt.relativeOffset-2)+Wt+2*(Nt-Yr),(_r=we.getUShort(Le,Qt))!==0&&(_r=_r+Gt&65535)):_r=Nt+Gt&65535,Ue.glyphIndexMap[Nt]=_r}return U},make:function(C){for(var R=!0,U=C.length-1;0<U;--U)if(65535<C.get(U).unicode){console.log("Adding CMAP format 12 (needed!)"),R=!1;break}var z,te,oe=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:R?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:R?12:20}],ae=(oe=(oe=R?oe:oe.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new ce.Table("cmap",oe));for(ae.segments=[],U=0;U<C.length;U+=1){for(var ve=C.get(U),Me=0;Me<ve.unicodes.length;Me+=1)z=ve.unicodes[Me],te=U,ae.segments.push({end:z,start:z,delta:-(z-te),offset:0,glyphIndex:te});ae.segments=ae.segments.sort(function(Ne,it){return Ne.start-it.start})}ae.segments.push({end:65535,start:65535,delta:1,offset:0});var De=ae.segments.length,Oe=0,Re=[],Pe=[],Ae=[],Ge=[],Fe=[],Ue=[];for(U=0;U<De;U+=1){var Le=ae.segments[U];Le.end<=65535&&Le.start<=65535?(Re=Re.concat({name:"end_"+U,type:"USHORT",value:Le.end}),Pe=Pe.concat({name:"start_"+U,type:"USHORT",value:Le.start}),Ae=Ae.concat({name:"idDelta_"+U,type:"SHORT",value:Le.delta}),Ge=Ge.concat({name:"idRangeOffset_"+U,type:"USHORT",value:Le.offset}),Le.glyphId!==void 0&&(Fe=Fe.concat({name:"glyph_"+U,type:"USHORT",value:Le.glyphId}))):Oe+=1,R||Le.glyphIndex===void 0||(Ue=(Ue=(Ue=Ue.concat({name:"cmap12Start_"+U,type:"ULONG",value:Le.start})).concat({name:"cmap12End_"+U,type:"ULONG",value:Le.end})).concat({name:"cmap12Glyph_"+U,type:"ULONG",value:Le.glyphIndex}))}return ae.segCountX2=2*(De-Oe),ae.searchRange=2*Math.pow(2,Math.floor(Math.log(De-Oe)/Math.log(2))),ae.entrySelector=Math.log(ae.searchRange/2)/Math.log(2),ae.rangeShift=ae.segCountX2-ae.searchRange,ae.fields=ae.fields.concat(Re),ae.fields.push({name:"reservedPad",type:"USHORT",value:0}),ae.fields=ae.fields.concat(Pe),ae.fields=ae.fields.concat(Ae),ae.fields=ae.fields.concat(Ge),ae.fields=ae.fields.concat(Fe),ae.cmap4Length=14+2*Re.length+2+2*Pe.length+2*Ae.length+2*Ge.length+2*Fe.length,R||(oe=16+4*Ue.length,ae.cmap12Offset=20+ae.cmap4Length,ae.fields=ae.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:oe},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ue.length/3}]),ae.fields=ae.fields.concat(Ue)),ae}},de=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],se=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],pe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],je=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Te(C){this.font=C}function ke(C){this.cmap=C}function Be(C,R){this.encoding=C,this.charset=R}function Ve(C){switch(C.version){case 1:this.names=je.slice();break;case 2:this.names=new Array(C.numberOfGlyphs);for(var R=0;R<C.numberOfGlyphs;R++)C.glyphNameIndex[R]<je.length?this.names[R]=je[C.glyphNameIndex[R]]:this.names[R]=C.names[C.glyphNameIndex[R]-je.length];break;case 2.5:this.names=new Array(C.numberOfGlyphs);for(var U=0;U<C.numberOfGlyphs;U++)this.names[U]=je[U+C.glyphNameIndex[U]];break;default:this.names=[]}}Te.prototype.charToGlyphIndex=function(C){var R=C.codePointAt(0),U=this.font.glyphs;if(U){for(var z=0;z<U.length;z+=1)for(var te=U.get(z),oe=0;oe<te.unicodes.length;oe+=1)if(te.unicodes[oe]===R)return z}return null},ke.prototype.charToGlyphIndex=function(C){return this.cmap.glyphIndexMap[C.codePointAt(0)]||0},Be.prototype.charToGlyphIndex=function(C){return C=C.codePointAt(0),C=this.encoding[C],this.charset.indexOf(C)},Ve.prototype.nameToGlyphIndex=function(C){return this.names.indexOf(C)},Ve.prototype.glyphIndexToName=function(C){return this.names[C]};var ze={line:function(C,R,U,z,te){C.beginPath(),C.moveTo(R,U),C.lineTo(z,te),C.stroke()}};function qe(C){this.bindConstructorValues(C)}function rt(C,R,U){Object.defineProperty(C,R,{get:function(){return C.path,C[U]},set:function(z){C[U]=z},enumerable:!0,configurable:!0})}function et(C,R){if(this.font=C,this.glyphs={},Array.isArray(R))for(var U=0;U<R.length;U++)this.glyphs[U]=R[U];this.length=R&&R.length||0}qe.prototype.bindConstructorValues=function(C){var R;this.index=C.index||0,this.name=C.name||null,this.unicode=C.unicode||void 0,this.unicodes=C.unicodes||C.unicode!==void 0?[C.unicode]:[],C.xMin&&(this.xMin=C.xMin),C.yMin&&(this.yMin=C.yMin),C.xMax&&(this.xMax=C.xMax),C.yMax&&(this.yMax=C.yMax),C.advanceWidth&&(this.advanceWidth=C.advanceWidth),Object.defineProperty(this,"path",(C=C.path,R=C||new ee,{configurable:!0,get:function(){return R=typeof R=="function"?R():R},set:function(U){R=U}}))},qe.prototype.addUnicode=function(C){this.unicodes.length===0&&(this.unicode=C),this.unicodes.push(C)},qe.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},qe.prototype.getPath=function(C,R,U,z,te){C=C!==void 0?C:0,R=R!==void 0?R:0,U=U!==void 0?U:72;for(var oe,ae,ve=(z=z||{}).xScale,Me=z.yScale,De=((oe=z.hinting&&te&&te.hinting?this.path&&te.hinting.exec(this,U):oe)?(ae=te.hinting.getCommands(oe),C=Math.round(C),R=Math.round(R),ve=Me=1):(ae=this.path.commands,z=1/this.path.unitsPerEm*U,ve===void 0&&(ve=z),Me===void 0&&(Me=z)),new ee),Oe=0;Oe<ae.length;Oe+=1){var Re=ae[Oe];Re.type==="M"?De.moveTo(C+Re.x*ve,R+-Re.y*Me):Re.type==="L"?De.lineTo(C+Re.x*ve,R+-Re.y*Me):Re.type==="Q"?De.quadraticCurveTo(C+Re.x1*ve,R+-Re.y1*Me,C+Re.x*ve,R+-Re.y*Me):Re.type==="C"?De.curveTo(C+Re.x1*ve,R+-Re.y1*Me,C+Re.x2*ve,R+-Re.y2*Me,C+Re.x*ve,R+-Re.y*Me):Re.type==="Z"&&De.closePath()}return De},qe.prototype.getContours=function(){if(this.points===void 0)return[];for(var C=[],R=[],U=0;U<this.points.length;U+=1){var z=this.points[U];R.push(z),z.lastPointOfContour&&(C.push(R),R=[])}return D.argument(R.length===0,"There are still points left in the current contour."),C},qe.prototype.getMetrics=function(){for(var C=this.path.commands,R=[],U=[],z=0;z<C.length;z+=1){var te=C[z];te.type!=="Z"&&(R.push(te.x),U.push(te.y)),te.type!=="Q"&&te.type!=="C"||(R.push(te.x1),U.push(te.y1)),te.type==="C"&&(R.push(te.x2),U.push(te.y2))}var oe={xMin:Math.min.apply(null,R),yMin:Math.min.apply(null,U),xMax:Math.max.apply(null,R),yMax:Math.max.apply(null,U),leftSideBearing:this.leftSideBearing};return isFinite(oe.xMin)||(oe.xMin=0),isFinite(oe.xMax)||(oe.xMax=this.advanceWidth),isFinite(oe.yMin)||(oe.yMin=0),isFinite(oe.yMax)||(oe.yMax=0),oe.rightSideBearing=this.advanceWidth-oe.leftSideBearing-(oe.xMax-oe.xMin),oe},qe.prototype.draw=function(C,R,U,z,te){this.getPath(R,U,z,te).draw(C)},qe.prototype.drawPoints=function(C,R,U,z){function te(Oe,Re,Pe,Ae){var Ge=2*Math.PI;C.beginPath();for(var Fe=0;Fe<Oe.length;Fe+=1)C.moveTo(Re+Oe[Fe].x*Ae,Pe+Oe[Fe].y*Ae),C.arc(Re+Oe[Fe].x*Ae,Pe+Oe[Fe].y*Ae,2,0,Ge,!1);C.closePath(),C.fill()}R=R!==void 0?R:0,U=U!==void 0?U:0;for(var z=1/this.path.unitsPerEm*(z=z!==void 0?z:24),oe=[],ae=[],ve=this.path,Me=0;Me<ve.commands.length;Me+=1){var De=ve.commands[Me];De.x!==void 0&&oe.push({x:De.x,y:-De.y}),De.x1!==void 0&&ae.push({x:De.x1,y:-De.y1}),De.x2!==void 0&&ae.push({x:De.x2,y:-De.y2})}C.fillStyle="blue",te(oe,R,U,z),C.fillStyle="red",te(ae,R,U,z)},qe.prototype.drawMetrics=function(C,R,U,z){R=R!==void 0?R:0,U=U!==void 0?U:0,z=1/this.path.unitsPerEm*(z=z!==void 0?z:24),C.lineWidth=1,C.strokeStyle="black",ze.line(C,R,-1e4,R,1e4),ze.line(C,-1e4,U,1e4,U);var te=this.xMin||0,oe=this.yMin||0,ae=this.xMax||0,ve=this.yMax||0,Me=this.advanceWidth||0;C.strokeStyle="blue",ze.line(C,R+te*z,-1e4,R+te*z,1e4),ze.line(C,R+ae*z,-1e4,R+ae*z,1e4),ze.line(C,-1e4,U+-oe*z,1e4,U+-oe*z),ze.line(C,-1e4,U+-ve*z,1e4,U+-ve*z),C.strokeStyle="green",ze.line(C,R+Me*z,-1e4,R+Me*z,1e4)},et.prototype.get=function(C){return typeof this.glyphs[C]=="function"&&(this.glyphs[C]=this.glyphs[C]()),this.glyphs[C]},et.prototype.push=function(C,R){this.glyphs[C]=R,this.length++};var Ye={GlyphSet:et,glyphLoader:function(C,R){return new qe({index:R,font:C})},ttfGlyphLoader:function(C,R,U,z,te,oe){return function(){var ae=new qe({index:R,font:C});return ae.path=function(){U(ae,z,te);var ve=oe(C.glyphs,ae);return ve.unitsPerEm=C.unitsPerEm,ve},rt(ae,"xMin","_xMin"),rt(ae,"xMax","_xMax"),rt(ae,"yMin","_yMin"),rt(ae,"yMax","_yMax"),ae}},cffGlyphLoader:function(C,R,U,z){return function(){var te=new qe({index:R,font:C});return te.path=function(){var oe=U(C,te,z);return oe.unitsPerEm=C.unitsPerEm,oe},te}}};function at(C){return C=C.length<1240?107:C.length<33900?1131:32768,C}function tt(C,R,U){var z,te=[],oe=[],ae=we.getCard16(C,R);if(ae!==0){for(var ve=we.getByte(C,R+2),Me=R+(ae+1)*ve+2,De=R+3,Oe=0;Oe<ae+1;Oe+=1)te.push(we.getOffset(C,De,ve)),De+=ve;z=Me+te[ae]}else z=R+2;for(var Re=0;Re<te.length-1;Re+=1){var Pe=we.getBytes(C,Me+te[Re],Me+te[Re+1]);U&&(Pe=U(Pe)),oe.push(Pe)}return{objects:oe,startOffset:R,endOffset:z}}function Ot(C,R){if(R===28)return C.parseByte()<<8|C.parseByte();if(R===29)return C.parseByte()<<24|C.parseByte()<<16|C.parseByte()<<8|C.parseByte();if(R===30){for(var U=C,z="",te=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var ae=U.parseByte(),oe=ae>>4,ae=15&ae;if(oe==15||(z+=te[oe],ae==15))break;z+=te[ae]}return parseFloat(z)}if(32<=R&&R<=246)return R-139;if(247<=R&&R<=250)return 256*(R-247)+C.parseByte()+108;if(251<=R&&R<=254)return 256*-(R-251)-C.parseByte()-108;throw new Error("Invalid b0 "+R)}function It(C,R,U){var z=new we.Parser(C,R=R!==void 0?R:0),te=[],oe=[];for(U=U!==void 0?U:C.length;z.relativeOffset<U;){var ae=z.parseByte();ae<=21?(ae===12&&(ae=1200+z.parseByte()),te.push([ae,oe]),oe=[]):oe.push(Ot(z,ae))}for(var ve=te,Me={},De=0;De<ve.length;De+=1){var Oe=ve[De][0],Re=ve[De][1],Pe=void 0,Pe=Re.length===1?Re[0]:Re;if(Me.hasOwnProperty(Oe)&&!isNaN(Me[Oe]))throw new Error("Object "+Me+" already has key "+Oe);Me[Oe]=Pe}return Me}function jt(C,R){return R=R<=390?de[R]:C[R-391]}function vt(C,R,U){for(var z,te={},oe=0;oe<R.length;oe+=1){var ae=R[oe];if(Array.isArray(ae.type)){var ve=[];ve.length=ae.type.length;for(var Me=0;Me<ae.type.length;Me++)(z=C[ae.op]!==void 0?C[ae.op][Me]:void 0)===void 0&&(z=ae.value!==void 0&&ae.value[Me]!==void 0?ae.value[Me]:null),ae.type[Me]==="SID"&&(z=jt(U,z)),ve[Me]=z;te[ae.name]=ve}else(z=C[ae.op])===void 0&&(z=ae.value!==void 0?ae.value:null),ae.type==="SID"&&(z=jt(U,z)),te[ae.name]=z}return te}var Ut=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Dt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function ir(C,R,U,z){return vt(It(C,R,U),Dt,z)}function er(C,R,U,z){for(var te=[],oe=0;oe<U.length;oe+=1){var ae=new DataView(new Uint8Array(U[oe]).buffer),ae=(ve=z,vt(It(ae,0,ae.byteLength),Ut,ve)),ve=(ae._subrs=[],ae._subrsBias=0,ae.private[0]),Me=ae.private[1];ve!==0&&Me!==0&&(ve=ir(C,Me+R,ve,z),ae._defaultWidthX=ve.defaultWidthX,ae._nominalWidthX=ve.nominalWidthX,ve.subrs!==0&&(Me=tt(C,Me+ve.subrs+R),ae._subrs=Me.objects,ae._subrsBias=at(ae._subrs)),ae._privateDict=ve),te.push(ae)}return te}function Rt(C,R,U){var z,te,oe,ae,ve,Me,De,Oe,Re,Pe=new ee,Ae=[],Ge=0,Fe=!1,Ue=!1,Le=0,Ne=0,it=(Re=(C.isCIDFont?(ve=C.tables.cff.topDict._fdSelect[R.index],ve=C.tables.cff.topDict._fdArray[ve],Me=ve._subrs,De=ve._subrsBias,Oe=ve._defaultWidthX,ve):(Me=C.tables.cff.topDict._subrs,De=C.tables.cff.topDict._subrsBias,Oe=C.tables.cff.topDict._defaultWidthX,C.tables.cff.topDict))._nominalWidthX,Oe);function dt(st,bt){Ue&&Pe.closePath(),Pe.moveTo(st,bt),Ue=!0}function ot(){Ae.length%2==0||Fe||(it=Ae.shift()+Re),Ge+=Ae.length>>1,Ae.length=0,Fe=!0}return function st(bt){for(var zt,Qt,ar,_r,Sr,Yr,Gt,Wt,Nt,Cr,Xt,yr,$t=0;$t<bt.length;){var pr=bt[$t];switch($t+=1,pr){case 1:case 3:ot();break;case 4:1<Ae.length&&!Fe&&(it=Ae.shift()+Re,Fe=!0),Ne+=Ae.pop(),dt(Le,Ne);break;case 5:for(;0<Ae.length;)Le+=Ae.shift(),Ne+=Ae.shift(),Pe.lineTo(Le,Ne);break;case 6:for(;0<Ae.length&&(Le+=Ae.shift(),Pe.lineTo(Le,Ne),Ae.length!==0);)Ne+=Ae.shift(),Pe.lineTo(Le,Ne);break;case 7:for(;0<Ae.length&&(Ne+=Ae.shift(),Pe.lineTo(Le,Ne),Ae.length!==0);)Le+=Ae.shift(),Pe.lineTo(Le,Ne);break;case 8:for(;0<Ae.length;)z=Le+Ae.shift(),te=Ne+Ae.shift(),oe=z+Ae.shift(),ae=te+Ae.shift(),Le=oe+Ae.shift(),Ne=ae+Ae.shift(),Pe.curveTo(z,te,oe,ae,Le,Ne);break;case 10:Sr=Ae.pop()+De,(Yr=Me[Sr])&&st(Yr);break;case 11:return;case 12:switch(pr=bt[$t],$t+=1,pr){case 35:z=Le+Ae.shift(),te=Ne+Ae.shift(),oe=z+Ae.shift(),ae=te+Ae.shift(),Gt=oe+Ae.shift(),Wt=ae+Ae.shift(),Nt=Gt+Ae.shift(),Cr=Wt+Ae.shift(),Xt=Nt+Ae.shift(),yr=Cr+Ae.shift(),Le=Xt+Ae.shift(),Ne=yr+Ae.shift(),Ae.shift(),Pe.curveTo(z,te,oe,ae,Gt,Wt),Pe.curveTo(Nt,Cr,Xt,yr,Le,Ne);break;case 34:z=Le+Ae.shift(),te=Ne,oe=z+Ae.shift(),ae=te+Ae.shift(),Gt=oe+Ae.shift(),Wt=ae,Nt=Gt+Ae.shift(),Cr=ae,Xt=Nt+Ae.shift(),yr=Ne,Le=Xt+Ae.shift(),Pe.curveTo(z,te,oe,ae,Gt,Wt),Pe.curveTo(Nt,Cr,Xt,yr,Le,Ne);break;case 36:z=Le+Ae.shift(),te=Ne+Ae.shift(),oe=z+Ae.shift(),ae=te+Ae.shift(),Gt=oe+Ae.shift(),Wt=ae,Nt=Gt+Ae.shift(),Cr=ae,Xt=Nt+Ae.shift(),yr=Cr+Ae.shift(),Le=Xt+Ae.shift(),Pe.curveTo(z,te,oe,ae,Gt,Wt),Pe.curveTo(Nt,Cr,Xt,yr,Le,Ne);break;case 37:z=Le+Ae.shift(),te=Ne+Ae.shift(),oe=z+Ae.shift(),ae=te+Ae.shift(),Gt=oe+Ae.shift(),Wt=ae+Ae.shift(),Nt=Gt+Ae.shift(),Cr=Wt+Ae.shift(),Xt=Nt+Ae.shift(),yr=Cr+Ae.shift(),Math.abs(Xt-Le)>Math.abs(yr-Ne)?Le=Xt+Ae.shift():Ne=yr+Ae.shift(),Pe.curveTo(z,te,oe,ae,Gt,Wt),Pe.curveTo(Nt,Cr,Xt,yr,Le,Ne);break;default:console.log("Glyph "+R.index+": unknown operator 1200"+pr),Ae.length=0}break;case 14:0<Ae.length&&!Fe&&(it=Ae.shift()+Re,Fe=!0),Ue&&(Pe.closePath(),Ue=!1);break;case 18:ot();break;case 19:case 20:ot(),$t+=Ge+7>>3;break;case 21:2<Ae.length&&!Fe&&(it=Ae.shift()+Re,Fe=!0),Ne+=Ae.pop(),dt(Le+=Ae.pop(),Ne);break;case 22:1<Ae.length&&!Fe&&(it=Ae.shift()+Re,Fe=!0),dt(Le+=Ae.pop(),Ne);break;case 23:ot();break;case 24:for(;2<Ae.length;)z=Le+Ae.shift(),te=Ne+Ae.shift(),oe=z+Ae.shift(),ae=te+Ae.shift(),Le=oe+Ae.shift(),Ne=ae+Ae.shift(),Pe.curveTo(z,te,oe,ae,Le,Ne);Le+=Ae.shift(),Ne+=Ae.shift(),Pe.lineTo(Le,Ne);break;case 25:for(;6<Ae.length;)Le+=Ae.shift(),Ne+=Ae.shift(),Pe.lineTo(Le,Ne);z=Le+Ae.shift(),te=Ne+Ae.shift(),oe=z+Ae.shift(),ae=te+Ae.shift(),Le=oe+Ae.shift(),Ne=ae+Ae.shift(),Pe.curveTo(z,te,oe,ae,Le,Ne);break;case 26:for(Ae.length%2&&(Le+=Ae.shift());0<Ae.length;)z=Le,te=Ne+Ae.shift(),oe=z+Ae.shift(),ae=te+Ae.shift(),Le=oe,Ne=ae+Ae.shift(),Pe.curveTo(z,te,oe,ae,Le,Ne);break;case 27:for(Ae.length%2&&(Ne+=Ae.shift());0<Ae.length;)z=Le+Ae.shift(),te=Ne,oe=z+Ae.shift(),ae=te+Ae.shift(),Le=oe+Ae.shift(),Ne=ae,Pe.curveTo(z,te,oe,ae,Le,Ne);break;case 28:zt=bt[$t],Qt=bt[$t+1],Ae.push((zt<<24|Qt<<16)>>16),$t+=2;break;case 29:Sr=Ae.pop()+C.gsubrsBias,(Yr=C.gsubrs[Sr])&&st(Yr);break;case 30:for(;0<Ae.length&&(z=Le,te=Ne+Ae.shift(),oe=z+Ae.shift(),ae=te+Ae.shift(),Le=oe+Ae.shift(),Ne=ae+(Ae.length===1?Ae.shift():0),Pe.curveTo(z,te,oe,ae,Le,Ne),Ae.length!==0);)z=Le+Ae.shift(),te=Ne,oe=z+Ae.shift(),ae=te+Ae.shift(),Ne=ae+Ae.shift(),Le=oe+(Ae.length===1?Ae.shift():0),Pe.curveTo(z,te,oe,ae,Le,Ne);break;case 31:for(;0<Ae.length&&(z=Le+Ae.shift(),te=Ne,oe=z+Ae.shift(),ae=te+Ae.shift(),Ne=ae+Ae.shift(),Le=oe+(Ae.length===1?Ae.shift():0),Pe.curveTo(z,te,oe,ae,Le,Ne),Ae.length!==0);)z=Le,te=Ne+Ae.shift(),oe=z+Ae.shift(),ae=te+Ae.shift(),Le=oe+Ae.shift(),Ne=ae+(Ae.length===1?Ae.shift():0),Pe.curveTo(z,te,oe,ae,Le,Ne);break;default:pr<32?console.log("Glyph "+R.index+": unknown operator "+pr):pr<247?Ae.push(pr-139):pr<251?(zt=bt[$t],$t+=1,Ae.push(256*(pr-247)+zt+108)):pr<255?(zt=bt[$t],$t+=1,Ae.push(256*-(pr-251)-zt-108)):(zt=bt[$t],Qt=bt[$t+1],ar=bt[$t+2],_r=bt[$t+3],$t+=4,Ae.push((zt<<24|Qt<<16|ar<<8|_r)/65536))}}}(U),R.advanceWidth=it,Pe}function or(C,R){var U,z=de.indexOf(C);return 0<=z&&(U=z),0<=(z=R.indexOf(C))?U=z+de.length:(U=de.length+R.length,R.push(C)),U}function wn(C,R,U){for(var z={},te=0;te<C.length;te+=1){var oe=C[te],ae=R[oe.name];ae===void 0||function ve(Me,De){if(Me===De)return 1;if(Array.isArray(Me)&&Array.isArray(De)&&Me.length===De.length){for(var Oe=0;Oe<Me.length;Oe+=1)if(!ve(Me[Oe],De[Oe]))return;return 1}}(ae,oe.value)||(oe.type==="SID"&&(ae=or(ae,U)),z[oe.op]={name:oe.name,type:oe.type,value:ae})}return z}function Gn(C,R){var U=new ce.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return U.dict=wn(Ut,C,R),U}function _n(C){var R=new ce.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return R.topDicts=[{name:"topDict_0",type:"TABLE",value:C}],R}function Hn(C){for(var R=new ce.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),U=0;U<C.length;U+=1){var z=C.get(U),te=function(oe){for(var ae=[],ve=oe.path,Me=(ae.push({name:"width",type:"NUMBER",value:oe.advanceWidth}),0),De=0,Oe=0;Oe<ve.commands.length;Oe+=1){var Re,Pe,Ae,Ge,Fe=void 0,Ue=void 0,Le=ve.commands[Oe];(Le=Le.type==="Q"?{type:"C",x:Le.x,y:Le.y,x1:1/3*Me+2/3*Le.x1,y1:1/3*De+2/3*Le.y1,x2:1/3*Le.x+2/3*Le.x1,y2:1/3*Le.y+2/3*Le.y1}:Le).type==="M"?(Fe=Math.round(Le.x-Me),Ue=Math.round(Le.y-De),ae.push({name:"dx",type:"NUMBER",value:Fe}),ae.push({name:"dy",type:"NUMBER",value:Ue}),ae.push({name:"rmoveto",type:"OP",value:21}),Me=Math.round(Le.x),De=Math.round(Le.y)):Le.type==="L"?(Fe=Math.round(Le.x-Me),Ue=Math.round(Le.y-De),ae.push({name:"dx",type:"NUMBER",value:Fe}),ae.push({name:"dy",type:"NUMBER",value:Ue}),ae.push({name:"rlineto",type:"OP",value:5}),Me=Math.round(Le.x),De=Math.round(Le.y)):Le.type==="C"&&(Re=Math.round(Le.x1-Me),Pe=Math.round(Le.y1-De),Ae=Math.round(Le.x2-Le.x1),Ge=Math.round(Le.y2-Le.y1),Fe=Math.round(Le.x-Le.x2),Ue=Math.round(Le.y-Le.y2),ae.push({name:"dx1",type:"NUMBER",value:Re}),ae.push({name:"dy1",type:"NUMBER",value:Pe}),ae.push({name:"dx2",type:"NUMBER",value:Ae}),ae.push({name:"dy2",type:"NUMBER",value:Ge}),ae.push({name:"dx",type:"NUMBER",value:Fe}),ae.push({name:"dy",type:"NUMBER",value:Ue}),ae.push({name:"rrcurveto",type:"OP",value:8}),Me=Math.round(Le.x),De=Math.round(Le.y))}return ae.push({name:"endchar",type:"OP",value:14}),ae}(z);R.charStrings.push({name:z.name,type:"CHARSTRING",value:te})}return R}var zn={parse:function(C,R,U){U.tables.cff={},ve=C,z=R,(te={}).formatMajor=we.getCard8(ve,z),te.formatMinor=we.getCard8(ve,z+1),te.size=we.getCard8(ve,z+2),te.offsetSize=we.getCard8(ve,z+3),te.startOffset=z,te.endOffset=z+4;var ve=tt(C,te.endOffset,we.bytesToString),z=tt(C,ve.endOffset),te=tt(C,z.endOffset,we.bytesToString),ve=tt(C,te.endOffset);if(U.gsubrs=ve.objects,U.gsubrsBias=at(U.gsubrs),(ve=er(C,R,z.objects,te.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ve.length);if(z=ve[0],(U.tables.cff.topDict=z)._privateDict&&(U.defaultWidthX=z._privateDict.defaultWidthX,U.nominalWidthX=z._privateDict.nominalWidthX),z.ros[0]!==void 0&&z.ros[1]!==void 0&&(U.isCIDFont=!0),U.isCIDFont){var ve=z.fdArray,oe=z.fdSelect;if(ve===0||oe===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ve=er(C,R,tt(C,ve+=R).objects,te.objects),z._fdArray=ve,z._fdSelect=function(Pe,Ae,Ge,Fe){var Ue,Le=[],Ne=new we.Parser(Pe,Ae);if((Pe=Ne.parseCard8())===0)for(var it=0;it<Ge;it++){if(Fe<=(Ue=Ne.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ue+" (FD count "+Fe+")");Le.push(Ue)}else{if(Pe!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Pe);var dt,ot=Ne.parseCard16(),st=Ne.parseCard16();if(st!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+st);for(var bt=0;bt<ot;bt++){if(Ue=Ne.parseCard8(),dt=Ne.parseCard16(),Fe<=Ue)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ue+" (FD count "+Fe+")");if(Ge<dt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+dt);for(;st<dt;st++)Le.push(Ue);st=dt}if(dt!==Ge)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+dt)}return Le}(C,oe+=R,U.numGlyphs,ve.length)}var oe=R+z.private[1],ve=ir(C,oe,z.private[0],te.objects),ae=(U.defaultWidthX=ve.defaultWidthX,U.nominalWidthX=ve.nominalWidthX,ve.subrs!==0?(oe=tt(C,oe+ve.subrs),U.subrs=oe.objects,U.subrsBias=at(U.subrs)):(U.subrs=[],U.subrsBias=0),tt(C,R+z.charStrings)),ve=(U.nGlyphs=ae.objects.length,function(Oe,Re,Pe,Ae){var Ge=new we.Parser(Oe,Re),Fe=(--Pe,[".notdef"]);if((Oe=Ge.parseCard8())===0)for(var Ue=0;Ue<Pe;Ue+=1)Le=Ge.parseSID(),Fe.push(jt(Ae,Le));else if(Oe===1)for(;Fe.length<=Pe;)for(var Le=Ge.parseSID(),Ne=Ge.parseCard8(),it=0;it<=Ne;it+=1)Fe.push(jt(Ae,Le)),Le+=1;else{if(Oe!==2)throw new Error("Unknown charset format "+Oe);for(;Fe.length<=Pe;){Le=Ge.parseSID(),Ne=Ge.parseCard16();for(var dt=0;dt<=Ne;dt+=1)Fe.push(jt(Ae,Le)),Le+=1}}return Fe}(C,R+z.charset,U.nGlyphs,te.objects));z.encoding===0?U.cffEncoding=new Be(se,ve):z.encoding===1?U.cffEncoding=new Be(pe,ve):U.cffEncoding=function(Oe,Re,Pe){var Ae={},Ge=new we.Parser(Oe,Re);if((Oe=Ge.parseCard8())===0)for(var Fe=Ge.parseCard8(),Ue=0;Ue<Fe;Ue+=1)Ae[Ne=Ge.parseCard8()]=Ue;else{if(Oe!==1)throw new Error("Unknown encoding format "+Oe);for(var Le=Ge.parseCard8(),Ne=1,it=0;it<Le;it+=1)for(var dt=Ge.parseCard8(),ot=Ge.parseCard8(),st=dt;st<=dt+ot;st+=1)Ae[st]=Ne,Ne+=1}return new Be(Ae,Pe)}(C,R+z.encoding,ve),U.encoding=U.encoding||U.cffEncoding,U.glyphs=new Ye.GlyphSet(U);for(var Me=0;Me<U.nGlyphs;Me+=1){var De=ae.objects[Me];U.glyphs.push(Me,Ye.cffGlyphLoader(U,Me,Rt,De))}},make:function(C,Oe){for(var U,z=new ce.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),te=1/Oe.unitsPerEm,te={version:Oe.version,fullName:Oe.fullName,familyName:Oe.familyName,weight:Oe.weightName,fontBBox:Oe.fontBBox||[0,0,0,0],fontMatrix:[te,0,0,te,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},oe=[],ae=1;ae<C.length;ae+=1)U=C.get(ae),oe.push(U.name);var ve,Me,De=[],Oe=(z.header=new ce.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),z.nameIndex=function(Pe){var Ae=new ce.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Ae.names=[];for(var Ge=0;Ge<Pe.length;Ge+=1)Ae.names.push({name:"name_"+Ge,type:"NAME",value:Pe[Ge]});return Ae}([Oe.postScriptName]),Gn(te,De)),Re=(z.topDictIndex=_n(Oe),z.globalSubrIndex=new ce.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),z.charsets=function(Pe,Ae){for(var Ge=new ce.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Fe=0;Fe<Pe.length;Fe+=1){var Ue=or(Pe[Fe],Ae);Ge.fields.push({name:"glyph_"+Fe,type:"SID",value:Ue})}return Ge}(oe,De),z.charStringsIndex=Hn(C),z.privateDict=(Re={},ve=De,(Me=new ce.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=wn(Dt,Re,ve),Me),z.stringIndex=function(Pe){var Ae=new ce.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Ae.strings=[];for(var Ge=0;Ge<Pe.length;Ge+=1)Ae.strings.push({name:"string_"+Ge,type:"STRING",value:Pe[Ge]});return Ae}(De),z.header.sizeOf()+z.nameIndex.sizeOf()+z.topDictIndex.sizeOf()+z.stringIndex.sizeOf()+z.globalSubrIndex.sizeOf());return te.charset=Re,te.encoding=0,te.charStrings=te.charset+z.charsets.sizeOf(),te.private[1]=te.charStrings+z.charStringsIndex.sizeOf(),Oe=Gn(te,De),z.topDictIndex=_n(Oe),z}},an={parse:function(z,R){var U={},z=new we.Parser(z,R);return U.version=z.parseVersion(),U.fontRevision=Math.round(1e3*z.parseFixed())/1e3,U.checkSumAdjustment=z.parseULong(),U.magicNumber=z.parseULong(),D.argument(U.magicNumber===1594834165,"Font header has wrong magic number."),U.flags=z.parseUShort(),U.unitsPerEm=z.parseUShort(),U.created=z.parseLongDateTime(),U.modified=z.parseLongDateTime(),U.xMin=z.parseShort(),U.yMin=z.parseShort(),U.xMax=z.parseShort(),U.yMax=z.parseShort(),U.macStyle=z.parseUShort(),U.lowestRecPPEM=z.parseUShort(),U.fontDirectionHint=z.parseShort(),U.indexToLocFormat=z.parseShort(),U.glyphDataFormat=z.parseShort(),U},make:function(C){var R=Math.round(new Date().getTime()/1e3)+2082844800,U=R;return C.createdTimestamp&&(U=C.createdTimestamp+2082844800),new ce.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:U},{name:"modified",type:"LONGDATETIME",value:R},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],C)}},Ie={parse:function(z,R){var U={},z=new we.Parser(z,R);return U.version=z.parseVersion(),U.ascender=z.parseShort(),U.descender=z.parseShort(),U.lineGap=z.parseShort(),U.advanceWidthMax=z.parseUShort(),U.minLeftSideBearing=z.parseShort(),U.minRightSideBearing=z.parseShort(),U.xMaxExtent=z.parseShort(),U.caretSlopeRise=z.parseShort(),U.caretSlopeRun=z.parseShort(),U.caretOffset=z.parseShort(),z.relativeOffset+=8,U.metricDataFormat=z.parseShort(),U.numberOfHMetrics=z.parseUShort(),U},make:function(C){return new ce.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],C)}},$e={parse:function(C,R,U,z,te){for(var oe,ae,ve=new we.Parser(C,R),Me=0;Me<z;Me+=1){Me<U&&(oe=ve.parseUShort(),ae=ve.parseShort());var De=te.get(Me);De.advanceWidth=oe,De.leftSideBearing=ae}},make:function(C){for(var R=new ce.Table("hmtx",[]),U=0;U<C.length;U+=1){var te=C.get(U),z=te.advanceWidth||0,te=te.leftSideBearing||0;R.fields.push({name:"advanceWidth_"+U,type:"USHORT",value:z}),R.fields.push({name:"leftSideBearing_"+U,type:"SHORT",value:te})}return R}},Xe={make:function(C){for(var R=new ce.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:C.length}]),U="",z=12+4*C.length,te=0;te<C.length;++te){var oe=U.indexOf(C[te]);oe<0&&(oe=U.length,U+=C[te]),R.fields.push({name:"offset "+te,type:"USHORT",value:z+oe}),R.fields.push({name:"length "+te,type:"USHORT",value:C[te].length})}return R.fields.push({name:"stringPool",type:"CHARARRAY",value:U}),R},parse:function(C,R){for(var U=new we.Parser(C,R),z=U.parseULong(),te=(D.argument(z===1,"Unsupported ltag table version."),U.skip("uLong",1),U.parseULong()),oe=[],ae=0;ae<te;ae++){for(var ve="",Me=R+U.parseUShort(),De=U.parseUShort(),Oe=Me;Oe<Me+De;++Oe)ve+=String.fromCharCode(C.getInt8(Oe));oe.push(ve)}return oe}},We={parse:function(z,R){var U={},z=new we.Parser(z,R);return U.version=z.parseVersion(),U.numGlyphs=z.parseUShort(),U.version===1&&(U.maxPoints=z.parseUShort(),U.maxContours=z.parseUShort(),U.maxCompositePoints=z.parseUShort(),U.maxCompositeContours=z.parseUShort(),U.maxZones=z.parseUShort(),U.maxTwilightPoints=z.parseUShort(),U.maxStorage=z.parseUShort(),U.maxFunctionDefs=z.parseUShort(),U.maxInstructionDefs=z.parseUShort(),U.maxStackElements=z.parseUShort(),U.maxSizeOfInstructions=z.parseUShort(),U.maxComponentElements=z.parseUShort(),U.maxComponentDepth=z.parseUShort()),U},make:function(C){return new ce.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:C}])}},_t=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],He={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},At={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ze={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Mt="utf-16",Ke={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},tr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function ur(C,R,U){switch(C){case 0:return Mt;case 1:return tr[U]||Ke[R];case 3:if(R===1||R===10)return Mt}}function Zt(C){var R,U={};for(R in C)U[C[R]]=parseInt(R);return U}function hr(C,R,U,z,te,oe){return new ce.Record("NameRecord",[{name:"platformID",type:"USHORT",value:C},{name:"encodingID",type:"USHORT",value:R},{name:"languageID",type:"USHORT",value:U},{name:"nameID",type:"USHORT",value:z},{name:"length",type:"USHORT",value:te},{name:"offset",type:"USHORT",value:oe}])}function ln(C,R){if((U=function(oe,ae){var ve=oe.length,Me=ae.length-ve+1;e:for(var De=0;De<Me;De++)for(;De<Me;De++){for(var Oe=0;Oe<ve;Oe++)if(ae[De+Oe]!==oe[Oe])continue e;return De}return-1}(C,R))<0)for(var U=R.length,z=0,te=C.length;z<te;++z)R.push(C[z]);return U}var Or={parse:function(C,R,U){for(var z={},te=new we.Parser(C,R),R=te.parseUShort(),oe=te.parseUShort(),ae=te.offset+te.parseUShort(),ve=0;ve<oe;ve++){var Ge=te.parseUShort(),Me=te.parseUShort(),De=te.parseUShort(),Oe=te.parseUShort(),Oe=_t[Oe]||Oe,Re=te.parseUShort(),Pe=te.parseUShort(),Ae=function(Ue,Le,Ne){switch(Ue){case 0:if(Le===65535)return"und";if(Ne)return Ne[Le];break;case 1:return He[Le];case 3:return Ze[Le]}}(Ge,De,U),Ge=ur(Ge,Me,De);Ge!==void 0&&Ae!==void 0&&(Me=void 0,(Me=Ge===Mt?B.UTF16(C,ae+Pe,Re):B.MACSTRING(C,ae+Pe,Re,Ge))&&((De=(De=z[Oe])===void 0?z[Oe]={}:De)[Ae]=Me))}return R===1&&te.parseUShort(),z},make:function(C,R){var U,z=[],te={},oe=Zt(_t);for(U in C){var ae=oe[U];if(ae===void 0&&(ae=U),Pe=parseInt(ae),isNaN(Pe))throw new Error('Name table entry "'+U+'" does not exist, see nameTableNames for complete list.');te[Pe]=C[U],z.push(Pe)}for(var ve=Zt(He),Me=Zt(Ze),De=[],Oe=[],Re=0;Re<z.length;Re++){var Pe,Ae,Ge=te[Pe=z[Re]];for(Ae in Ge){var Fe=Ge[Ae],dt=1,Ue=ve[Ae],Le=At[Ue],Ne=ur(dt,Le,Ue),Ne=Y.MACSTRING(Fe,Ne),it=(Ne===void 0&&(dt=0,(Ue=R.indexOf(Ae))<0&&(Ue=R.length,R.push(Ae)),Le=4,Ne=Y.UTF16(Fe)),ln(Ne,Oe)),dt=(De.push(hr(dt,Le,Ue,Pe,Ne.length,it)),Me[Ae]);dt!==void 0&&(Ue=ln(Le=Y.UTF16(Fe),Oe),De.push(hr(3,1,dt,Pe,Le.length,Ue)))}}De.sort(function(bt,zt){return bt.platformID-zt.platformID||bt.encodingID-zt.encodingID||bt.languageID-zt.languageID||bt.nameID-zt.nameID});for(var ot=new ce.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:De.length},{name:"stringOffset",type:"USHORT",value:6+12*De.length}]),st=0;st<De.length;st++)ot.fields.push({name:"record_"+st,type:"RECORD",value:De[st]});return ot.fields.push({name:"strings",type:"LITERAL",value:Oe}),ot}},un=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],fr={parse:function(C,R){var U={},z=new we.Parser(C,R);U.version=z.parseUShort(),U.xAvgCharWidth=z.parseShort(),U.usWeightClass=z.parseUShort(),U.usWidthClass=z.parseUShort(),U.fsType=z.parseUShort(),U.ySubscriptXSize=z.parseShort(),U.ySubscriptYSize=z.parseShort(),U.ySubscriptXOffset=z.parseShort(),U.ySubscriptYOffset=z.parseShort(),U.ySuperscriptXSize=z.parseShort(),U.ySuperscriptYSize=z.parseShort(),U.ySuperscriptXOffset=z.parseShort(),U.ySuperscriptYOffset=z.parseShort(),U.yStrikeoutSize=z.parseShort(),U.yStrikeoutPosition=z.parseShort(),U.sFamilyClass=z.parseShort(),U.panose=[];for(var te=0;te<10;te++)U.panose[te]=z.parseByte();return U.ulUnicodeRange1=z.parseULong(),U.ulUnicodeRange2=z.parseULong(),U.ulUnicodeRange3=z.parseULong(),U.ulUnicodeRange4=z.parseULong(),U.achVendID=String.fromCharCode(z.parseByte(),z.parseByte(),z.parseByte(),z.parseByte()),U.fsSelection=z.parseUShort(),U.usFirstCharIndex=z.parseUShort(),U.usLastCharIndex=z.parseUShort(),U.sTypoAscender=z.parseShort(),U.sTypoDescender=z.parseShort(),U.sTypoLineGap=z.parseShort(),U.usWinAscent=z.parseUShort(),U.usWinDescent=z.parseUShort(),1<=U.version&&(U.ulCodePageRange1=z.parseULong(),U.ulCodePageRange2=z.parseULong()),2<=U.version&&(U.sxHeight=z.parseShort(),U.sCapHeight=z.parseShort(),U.usDefaultChar=z.parseUShort(),U.usBreakChar=z.parseUShort(),U.usMaxContent=z.parseUShort()),U},make:function(C){return new ce.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],C)},unicodeRanges:un,getUnicodeRange:function(C){for(var R=0;R<un.length;R+=1){var U=un[R];if(C>=U.begin&&C<U.end)return R}return-1}},Uh={parse:function(C,R){var U={},z=new we.Parser(C,R);switch(U.version=z.parseVersion(),U.italicAngle=z.parseFixed(),U.underlinePosition=z.parseShort(),U.underlineThickness=z.parseShort(),U.isFixedPitch=z.parseULong(),U.minMemType42=z.parseULong(),U.maxMemType42=z.parseULong(),U.minMemType1=z.parseULong(),U.maxMemType1=z.parseULong(),U.version){case 1:U.names=je.slice();break;case 2:U.numberOfGlyphs=z.parseUShort(),U.glyphNameIndex=new Array(U.numberOfGlyphs);for(var te=0;te<U.numberOfGlyphs;te++)U.glyphNameIndex[te]=z.parseUShort();U.names=[];for(var oe,ae=0;ae<U.numberOfGlyphs;ae++)U.glyphNameIndex[ae]>=je.length&&(oe=z.parseChar(),U.names.push(z.parseString(oe)));break;case 2.5:U.numberOfGlyphs=z.parseUShort(),U.offset=new Array(U.numberOfGlyphs);for(var ve=0;ve<U.numberOfGlyphs;ve++)U.offset[ve]=z.parseChar()}return U},make:function(){return new ce.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},$r=new Array(9),Bi=($r[1]=function(){var C=this.offset+this.relativeOffset,R=this.parseUShort();return R===1?{substFormat:1,coverage:this.parsePointer(ge.coverage),deltaGlyphId:this.parseUShort()}:R===2?{substFormat:2,coverage:this.parsePointer(ge.coverage),substitute:this.parseOffset16List()}:void D.assert(!1,"0x"+C.toString(16)+": lookup type 1 format must be 1 or 2.")},$r[2]=function(){var C=this.parseUShort();return D.argument(C===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(ge.coverage),sequences:this.parseListOfLists()}},$r[3]=function(){var C=this.parseUShort();return D.argument(C===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(ge.coverage),alternateSets:this.parseListOfLists()}},$r[4]=function(){var C=this.parseUShort();return D.argument(C===1,"GSUB ligature table identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(ge.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:ge.uShort,lookupListIndex:ge.uShort});$r[5]=function(){var C,R,U=this.offset+this.relativeOffset,z=this.parseUShort();return z===1?{substFormat:z,coverage:this.parsePointer(ge.coverage),ruleSets:this.parseListOfLists(function(){var te=this.parseUShort(),oe=this.parseUShort();return{input:this.parseUShortList(te-1),lookupRecords:this.parseRecordList(oe,Bi)}})}:z===2?{substFormat:z,coverage:this.parsePointer(ge.coverage),classDef:this.parsePointer(ge.classDef),classSets:this.parseListOfLists(function(){var te=this.parseUShort(),oe=this.parseUShort();return{classes:this.parseUShortList(te-1),lookupRecords:this.parseRecordList(oe,Bi)}})}:z===3?(C=this.parseUShort(),R=this.parseUShort(),{substFormat:z,coverages:this.parseList(C,ge.pointer(ge.coverage)),lookupRecords:this.parseRecordList(R,Bi)}):void D.assert(!1,"0x"+U.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},$r[6]=function(){var C=this.offset+this.relativeOffset,R=this.parseUShort();return R===1?{substFormat:1,coverage:this.parsePointer(ge.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Bi)}})}:R===2?{substFormat:2,coverage:this.parsePointer(ge.coverage),backtrackClassDef:this.parsePointer(ge.classDef),inputClassDef:this.parsePointer(ge.classDef),lookaheadClassDef:this.parsePointer(ge.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Bi)}})}:R===3?{substFormat:3,backtrackCoverage:this.parseList(ge.pointer(ge.coverage)),inputCoverage:this.parseList(ge.pointer(ge.coverage)),lookaheadCoverage:this.parseList(ge.pointer(ge.coverage)),lookupRecords:this.parseRecordList(Bi)}:void D.assert(!1,"0x"+C.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},$r[7]=function(){var C=this.parseUShort(),C=(D.argument(C===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),R=new ge(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:C,extension:$r[C].call(R)}},$r[8]=function(){var C=this.parseUShort();return D.argument(C===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:C,coverage:this.parsePointer(ge.coverage),backtrackCoverage:this.parseList(ge.pointer(ge.coverage)),lookaheadCoverage:this.parseList(ge.pointer(ge.coverage)),substitutes:this.parseUShortList()}};var Ws=new Array(9);Ws[1]=function(C){return C.substFormat===1?new ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ce.Coverage(C.coverage)},{name:"deltaGlyphID",type:"USHORT",value:C.deltaGlyphId}]):new ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new ce.Coverage(C.coverage)}].concat(ce.ushortList("substitute",C.substitute)))},Ws[3]=function(C){return D.assert(C.substFormat===1,"Lookup type 3 substFormat must be 1."),new ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ce.Coverage(C.coverage)}].concat(ce.tableList("altSet",C.alternateSets,function(R){return new ce.Table("alternateSetTable",ce.ushortList("alternate",R))})))},Ws[4]=function(C){return D.assert(C.substFormat===1,"Lookup type 4 substFormat must be 1."),new ce.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ce.Coverage(C.coverage)}].concat(ce.tableList("ligSet",C.ligatureSets,function(R){return new ce.Table("ligatureSetTable",ce.tableList("ligature",R,function(U){return new ce.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:U.ligGlyph}].concat(ce.ushortList("component",U.components,U.components.length+1)))}))})))};var Vh={parse:function(C,R){return R=(C=new ge(C,R=R||0)).parseVersion(1),D.argument(R===1||R===1.1,"Unsupported GSUB table version."),R===1?{version:R,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList($r)}:{version:R,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList($r),variations:C.parseFeatureVariationsList()}},make:function(C){return new ce.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new ce.ScriptList(C.scripts)},{name:"features",type:"TABLE",value:new ce.FeatureList(C.features)},{name:"lookups",type:"TABLE",value:new ce.LookupList(C.lookups,Ws)}])}},Gh={parse:function(C,R){for(var U=new we.Parser(C,R),z=U.parseULong(),te=(D.argument(z===1,"Unsupported META table version."),U.parseULong(),U.parseULong(),U.parseULong()),oe={},ae=0;ae<te;ae++){var ve=U.parseTag(),De=U.parseULong(),Me=U.parseULong(),De=B.UTF8(C,R+De,Me);oe[ve]=De}return oe},make:function(C){var R,U=Object.keys(C).length,z="",te=16+12*U,oe=new ce.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:te},{name:"numTags",type:"ULONG",value:U}]);for(R in C){var ae=z.length;z+=C[R],oe.fields.push({name:"tag "+R,type:"TAG",value:R}),oe.fields.push({name:"offset "+R,type:"ULONG",value:te+ae}),oe.fields.push({name:"length "+R,type:"ULONG",value:C[R].length})}return oe.fields.push({name:"stringPool",type:"CHARARRAY",value:z}),oe}};function Hh(C){return Math.log(C)/Math.log(2)|0}function au(C){for(;C.length%4!=0;)C.push(0);for(var R=0,U=0;U<C.length;U+=4)R+=(C[U]<<24)+(C[U+1]<<16)+(C[U+2]<<8)+C[U+3];return R%=Math.pow(2,32)}function zh(C,R,U,z){return new ce.Record("Table Record",[{name:"tag",type:"TAG",value:C!==void 0?C:""},{name:"checkSum",type:"ULONG",value:R!==void 0?R:0},{name:"offset",type:"ULONG",value:U!==void 0?U:0},{name:"length",type:"ULONG",value:z!==void 0?z:0}])}function Wh(C){for(var R=new ce.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),U=(R.tables=C,R.numTables=C.length,Math.pow(2,Hh(R.numTables))),z=(R.searchRange=16*U,R.entrySelector=Hh(U),R.rangeShift=16*R.numTables-R.searchRange,[]),te=[],oe=R.sizeOf()+zh().sizeOf()*R.numTables;oe%4!=0;)oe+=1,te.push({name:"padding",type:"BYTE",value:0});for(var ae=0;ae<C.length;ae+=1){var ve=C[ae],Me=(D.argument(ve.tableName.length===4,"Table name"+ve.tableName+" is invalid."),ve.sizeOf()),De=zh(ve.tableName,au(ve.encode()),oe,Me);for(z.push({name:De.tag+" Table Record",type:"RECORD",value:De}),te.push({name:ve.tableName+" table",type:"RECORD",value:ve}),oe+=Me,D.argument(!isNaN(oe),"Something went wrong calculating the offset.");oe%4!=0;)oe+=1,te.push({name:"padding",type:"BYTE",value:0})}return z.sort(function(Oe,Re){return Oe.value.tag>Re.value.tag?1:-1}),R.fields=R.fields.concat(z),R.fields=R.fields.concat(te),R}function $h(C,R,U){for(var z=0;z<R.length;z+=1){var te=C.charToGlyphIndex(R[z]);if(0<te)return C.glyphs.get(te).getMetrics()}return U}var $v={make:Wh,fontToTable:function(C){for(var R,U=[],z=[],te=[],oe=[],ae=[],ve=[],Me=[],De=0,Oe=0,Re=0,Pe=0,Ae=0,Ge=0;Ge<C.glyphs.length;Ge+=1){var Fe=C.glyphs.get(Ge),Ue=0|Fe.unicode;if(isNaN(Fe.advanceWidth))throw new Error("Glyph "+Fe.name+" ("+Ge+"): advanceWidth is not a number.");(Ue<R||R===void 0)&&0<Ue&&(R=Ue),De<Ue&&(De=Ue);var Ue=fr.getUnicodeRange(Ue);if(Ue<32)Oe|=1<<Ue;else if(Ue<64)Re|=1<<Ue-32;else if(Ue<96)Pe|=1<<Ue-64;else{if(!(Ue<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ae|=1<<Ue-96}Fe.name!==".notdef"&&(Ue=Fe.getMetrics(),U.push(Ue.xMin),z.push(Ue.yMin),te.push(Ue.xMax),oe.push(Ue.yMax),ve.push(Ue.leftSideBearing),Me.push(Ue.rightSideBearing),ae.push(Fe.advanceWidth))}var Le,Ne={xMin:Math.min.apply(null,U),yMin:Math.min.apply(null,z),xMax:Math.max.apply(null,te),yMax:Math.max.apply(null,oe),advanceWidthMax:Math.max.apply(null,ae),advanceWidthAvg:function(pr){for(var Go=0,Gi=0;Gi<pr.length;Gi+=1)Go+=pr[Gi];return Go/pr.length}(ae),minLeftSideBearing:Math.min.apply(null,ve),maxLeftSideBearing:Math.max.apply(null,ve),minRightSideBearing:Math.min.apply(null,Me)},it=(Ne.ascender=C.ascender,Ne.descender=C.descender,an.make({flags:3,unitsPerEm:C.unitsPerEm,xMin:Ne.xMin,yMin:Ne.yMin,xMax:Ne.xMax,yMax:Ne.yMax,lowestRecPPEM:3,createdTimestamp:C.createdTimestamp})),dt=Ie.make({ascender:Ne.ascender,descender:Ne.descender,advanceWidthMax:Ne.advanceWidthMax,minLeftSideBearing:Ne.minLeftSideBearing,minRightSideBearing:Ne.minRightSideBearing,xMaxExtent:Ne.maxLeftSideBearing+(Ne.xMax-Ne.xMin),numberOfHMetrics:C.glyphs.length}),ot=We.make(C.glyphs.length),st=fr.make({xAvgCharWidth:Math.round(Ne.advanceWidthAvg),usWeightClass:C.tables.os2.usWeightClass,usWidthClass:C.tables.os2.usWidthClass,usFirstCharIndex:R,usLastCharIndex:De,ulUnicodeRange1:Oe,ulUnicodeRange2:Re,ulUnicodeRange3:Pe,ulUnicodeRange4:Ae,fsSelection:C.tables.os2.fsSelection,sTypoAscender:Ne.ascender,sTypoDescender:Ne.descender,sTypoLineGap:0,usWinAscent:Ne.yMax,usWinDescent:Math.abs(Ne.yMin),ulCodePageRange1:1,sxHeight:$h(C,"xyvw",{yMax:Math.round(Ne.ascender/2)}).yMax,sCapHeight:$h(C,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ne).yMax,usDefaultChar:C.hasChar(" ")?32:0,usBreakChar:C.hasChar(" ")?32:0}),bt=$e.make(C.glyphs),zt=le.make(C.glyphs),Wt=C.getEnglishName("fontFamily"),Nt=C.getEnglishName("fontSubfamily"),Gt=Wt+" "+Nt,Qt=(Qt=C.getEnglishName("postScriptName"))||Wt.replace(/\s/g,"")+"-"+Nt,ar={};for(Le in C.names)ar[Le]=C.names[Le];ar.uniqueID||(ar.uniqueID={en:C.getEnglishName("manufacturer")+":"+Gt}),ar.postScriptName||(ar.postScriptName={en:Qt}),ar.preferredFamily||(ar.preferredFamily=C.names.fontFamily),ar.preferredSubfamily||(ar.preferredSubfamily=C.names.fontSubfamily);var Sr=[],_r=Or.make(ar,Sr),Sr=0<Sr.length?Xe.make(Sr):void 0,Yr=Uh.make(),Gt=zn.make(C.glyphs,{version:C.getEnglishName("version"),fullName:Gt,familyName:Wt,weightName:Nt,postScriptName:Qt,unitsPerEm:C.unitsPerEm,fontBBox:[0,Ne.yMin,Ne.ascender,Ne.advanceWidthMax]}),Wt=C.metas&&0<Object.keys(C.metas).length?Gh.make(C.metas):void 0,Nt=[it,dt,ot,st,_r,zt,Yr,Gt,bt];Sr&&Nt.push(Sr),C.tables.gsub&&Nt.push(Vh.make(C.tables.gsub)),Wt&&Nt.push(Wt);for(var Cr=au((Qt=Wh(Nt)).encode()),Xt=Qt.fields,yr=!1,$t=0;$t<Xt.length;$t+=1)if(Xt[$t].name==="head table"){Xt[$t].value.checkSumAdjustment=2981146554-Cr,yr=!0;break}if(yr)return Qt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:au};function lu(C,R){for(var U=0,z=C.length-1;U<=z;){var te=U+z>>>1,oe=C[te].tag;if(oe===R)return te;oe<R?U=1+te:z=te-1}return-U-1}function qh(C,R){for(var U=0,z=C.length-1;U<=z;){var te=U+z>>>1,oe=C[te];if(oe===R)return te;oe<R?U=1+te:z=te-1}return-U-1}function Yh(C,R){for(var U=0,z=C.length-1;U<=z;){var te,oe=U+z>>>1,ae=(te=C[oe]).start;if(ae===R)return te;ae<R?U=1+oe:z=oe-1}if(0<U)return R>(te=C[U-1]).end?0:te}function $s(C,R){this.font=C,this.tableName=R}function qs(C){$s.call(this,C,"gpos")}function cn(C){$s.call(this,C,"gsub")}function Xh(C,R,U){for(var z=C.subtables,te=0;te<z.length;te++){var oe=z[te];if(oe.substFormat===R)return oe}if(U)return z.push(U),U}function Zh(C){for(var R=new ArrayBuffer(C.length),U=new Uint8Array(R),z=0;z<C.length;++z)U[z]=C[z];return R}function Ui(C,R){if(!C)throw R}function Qh(C,R,U,z,te){var oe=0<(R&z)?(oe=C.parseByte(),U+(oe=R&te?oe:-oe)):0<(R&te)?U:U+C.parseShort();return oe}function qv(C,R,U){var z,te=new we.Parser(R,U);if(C.numberOfContours=te.parseShort(),C._xMin=te.parseShort(),C._yMin=te.parseShort(),C._xMax=te.parseShort(),C._yMax=te.parseShort(),0<C.numberOfContours){for(var oe=C.endPointIndices=[],ae=0;ae<C.numberOfContours;ae+=1)oe.push(te.parseUShort());C.instructionLength=te.parseUShort(),C.instructions=[];for(var ve=0;ve<C.instructionLength;ve+=1)C.instructions.push(te.parseByte());for(var Me=oe[oe.length-1]+1,De=[],Oe=0;Oe<Me;Oe+=1)if(z=te.parseByte(),De.push(z),0<(8&z))for(var Re=te.parseByte(),Pe=0;Pe<Re;Pe+=1)De.push(z),Oe+=1;if(D.argument(De.length===Me,"Bad flags."),0<oe.length){var Ae,Ge=[];if(0<Me){for(var Fe=0;Fe<Me;Fe+=1)z=De[Fe],(Ae={}).onCurve=!!(1&z),Ae.lastPointOfContour=0<=oe.indexOf(Fe),Ge.push(Ae);for(var Ue=0,Le=0;Le<Me;Le+=1)z=De[Le],(Ae=Ge[Le]).x=Qh(te,z,Ue,2,16),Ue=Ae.x;for(var Ne=0,it=0;it<Me;it+=1)z=De[it],(Ae=Ge[it]).y=Qh(te,z,Ne,4,32),Ne=Ae.y}C.points=Ge}else C.points=[]}else if(C.numberOfContours===0)C.points=[];else{C.isComposite=!0,C.points=[],C.components=[];for(var dt=!0;dt;){De=te.parseUShort();var ot={glyphIndex:te.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&De)?0<(2&De)?(ot.dx=te.parseShort(),ot.dy=te.parseShort()):ot.matchedPoints=[te.parseUShort(),te.parseUShort()]:0<(2&De)?(ot.dx=te.parseChar(),ot.dy=te.parseChar()):ot.matchedPoints=[te.parseByte(),te.parseByte()],0<(8&De)?ot.xScale=ot.yScale=te.parseF2Dot14():0<(64&De)?(ot.xScale=te.parseF2Dot14(),ot.yScale=te.parseF2Dot14()):0<(128&De)&&(ot.xScale=te.parseF2Dot14(),ot.scale01=te.parseF2Dot14(),ot.scale10=te.parseF2Dot14(),ot.yScale=te.parseF2Dot14()),C.components.push(ot),dt=!!(32&De)}if(256&De){C.instructionLength=te.parseUShort(),C.instructions=[];for(var st=0;st<C.instructionLength;st+=1)C.instructions.push(te.parseByte())}}}function uu(C,R){for(var U=[],z=0;z<C.length;z+=1){var te=C[z],te={x:R.xScale*te.x+R.scale01*te.y+R.dx,y:R.scale10*te.x+R.yScale*te.y+R.dy,onCurve:te.onCurve,lastPointOfContour:te.lastPointOfContour};U.push(te)}return U}function Kh(C){var R=new ee;if(C)for(var U=function(Re){for(var Pe=[],Ae=[],Ge=0;Ge<Re.length;Ge+=1){var Fe=Re[Ge];Ae.push(Fe),Fe.lastPointOfContour&&(Pe.push(Ae),Ae=[])}return D.argument(Ae.length===0,"There are still points left in the current contour."),Pe}(C),z=0;z<U.length;++z){var te,oe=U[z],ae=oe[oe.length-1],ve=oe[0];ae.onCurve?R.moveTo(ae.x,ae.y):ve.onCurve?R.moveTo(ve.x,ve.y):(te={x:.5*(ae.x+ve.x),y:.5*(ae.y+ve.y)},R.moveTo(te.x,te.y));for(var Me=0;Me<oe.length;++Me){var De,Oe=ae,ae=ve,ve=oe[(Me+1)%oe.length];ae.onCurve?R.lineTo(ae.x,ae.y):(De=ve,Oe.onCurve||(ae.x,Oe.x,ae.y,Oe.y),ve.onCurve||(De={x:.5*(ae.x+ve.x),y:.5*(ae.y+ve.y)}),R.quadraticCurveTo(ae.x,ae.y,De.x,De.y))}R.closePath()}return R}function Yv(C,R){if(R.isComposite)for(var U=0;U<R.components.length;U+=1){var z=R.components[U],te=C.get(z.glyphIndex);if(te.getPath(),te.points){var oe=void 0;if(z.matchedPoints===void 0)oe=uu(te.points,z);else{if(z.matchedPoints[0]>R.points.length-1||z.matchedPoints[1]>te.points.length-1)throw Error("Matched points out of range in "+R.name);var ae=R.points[z.matchedPoints[0]],ve=te.points[z.matchedPoints[1]],z={xScale:z.xScale,scale01:z.scale01,scale10:z.scale10,yScale:z.yScale,dx:0,dy:0},ve=uu([ve],z)[0];z.dx=ae.x-ve.x,z.dy=ae.y-ve.y,oe=uu(te.points,z)}R.points=R.points.concat(oe)}}return Kh(R.points)}(qs.prototype=$s.prototype={searchTag:lu,binSearch:qh,getTable:function(C){var R=this.font.tables[this.tableName];return R=!R&&C?this.font.tables[this.tableName]=this.createDefaultTable():R},getScriptNames:function(){var C=this.getTable();return C?C.scripts.map(function(R){return R.tag}):[]},getDefaultScriptName:function(){var C=this.getTable();if(C){for(var R=!1,U=0;U<C.scripts.length;U++){var z=C.scripts[U].tag;if(z==="DFLT")return z;z==="latn"&&(R=!0)}return R?"latn":void 0}},getScriptTable:function(C,R){var U,z=this.getTable(R);if(z)return U=z.scripts,0<=(z=lu(z.scripts,C=C||"DFLT"))?U[z].script:R?(U.splice(-1-z,0,R={tag:C,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),R.script):void 0},getLangSysTable:function(te,R,U){var z,te=this.getScriptTable(te,U);if(te)return R&&R!=="dflt"&&R!=="DFLT"?0<=(z=lu(te.langSysRecords,R))?te.langSysRecords[z].langSys:U?(te.langSysRecords.splice(-1-z,0,U={tag:R,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),U.langSys):void 0:te.defaultLangSys},getFeatureTable:function(C,R,U,z){if(C=this.getLangSysTable(C,R,z),C){for(var te,oe=C.featureIndexes,ae=this.font.tables[this.tableName].features,ve=0;ve<oe.length;ve++)if((te=ae[oe[ve]]).tag===U)return te.feature;if(z)return R=ae.length,D.assert(R===0||U>=ae[R-1].tag,"Features must be added in alphabetical order."),ae.push(te={tag:U,feature:{params:0,lookupListIndexes:[]}}),oe.push(R),te.feature}},getLookupTables:function(oe,R,U,z,te){var oe=this.getFeatureTable(oe,R,U,te),ae=[];if(oe){for(var ve,Me=oe.lookupListIndexes,De=this.font.tables[this.tableName].lookups,Oe=0;Oe<Me.length;Oe++)(ve=De[Me[Oe]]).lookupType===z&&ae.push(ve);if(ae.length===0&&te)return R=De.length,De.push(ve={lookupType:z,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Me.push(R),[ve]}return ae},getGlyphClass:function(C,R){switch(C.format){case 1:return C.startGlyph<=R&&R<C.startGlyph+C.classes.length?C.classes[R-C.startGlyph]:0;case 2:var U=Yh(C.ranges,R);return U?U.classId:0}},getCoverageIndex:function(C,R){switch(C.format){case 1:var U=qh(C.glyphs,R);return 0<=U?U:-1;case 2:return U=Yh(C.ranges,R),U?U.index+R-U.start:-1}},expandCoverage:function(C){if(C.format===1)return C.glyphs;for(var R=[],U=C.ranges,z=0;z<U.length;z++)for(var te=U[z],oe=te.start,ae=te.end,ve=oe;ve<=ae;ve++)R.push(ve);return R}}).init=function(){var C=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(C)},qs.prototype.getKerningValue=function(C,R,U){for(var z=0;z<C.length;z++)for(var te=C[z].subtables,oe=0;oe<te.length;oe++){var ae=te[oe],ve=this.getCoverageIndex(ae.coverage,R);if(!(ve<0))switch(ae.posFormat){case 1:for(var Me=ae.pairSets[ve],De=0;De<Me.length;De++){var Oe=Me[De];if(Oe.secondGlyph===U)return Oe.value1&&Oe.value1.xAdvance||0}break;case 2:var Pe=this.getGlyphClass(ae.classDef1,R),Re=this.getGlyphClass(ae.classDef2,U),Pe=ae.classRecords[Pe][Re];return Pe.value1&&Pe.value1.xAdvance||0}}return 0},qs.prototype.getKerningTables=function(C,R){if(this.font.tables.gpos)return this.getLookupTables(C,R,"kern",2)},(cn.prototype=$s.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},cn.prototype.getSingle=function(C,R,U){for(var z=[],te=this.getLookupTables(R,U,C,1),oe=0;oe<te.length;oe++)for(var ae=te[oe].subtables,ve=0;ve<ae.length;ve++){var Me=ae[ve],De=this.expandCoverage(Me.coverage),Oe=void 0;if(Me.substFormat===1)for(var Re=Me.deltaGlyphId,Oe=0;Oe<De.length;Oe++){var Pe=De[Oe];z.push({sub:Pe,by:Pe+Re})}else{var Ae=Me.substitute;for(Oe=0;Oe<De.length;Oe++)z.push({sub:De[Oe],by:Ae[Oe]})}}return z},cn.prototype.getAlternates=function(C,R,U){for(var z=[],te=this.getLookupTables(R,U,C,3),oe=0;oe<te.length;oe++)for(var ae=te[oe].subtables,ve=0;ve<ae.length;ve++)for(var Me=ae[ve],De=this.expandCoverage(Me.coverage),Oe=Me.alternateSets,Re=0;Re<De.length;Re++)z.push({sub:De[Re],by:Oe[Re]});return z},cn.prototype.getLigatures=function(C,R,U){for(var z=[],te=this.getLookupTables(R,U,C,4),oe=0;oe<te.length;oe++)for(var ae=te[oe].subtables,ve=0;ve<ae.length;ve++)for(var Me=ae[ve],De=this.expandCoverage(Me.coverage),Oe=Me.ligatureSets,Re=0;Re<De.length;Re++)for(var Pe=De[Re],Ae=Oe[Re],Ge=0;Ge<Ae.length;Ge++){var Fe=Ae[Ge];z.push({sub:[Pe].concat(Fe.components),by:Fe.ligGlyph})}return z},cn.prototype.addSingle=function(C,R,U,z){U=Xh(this.getLookupTables(U,z,C,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),D.assert(U.coverage.format===1,"Ligature: unable to modify coverage table format "+U.coverage.format),z=R.sub,C=this.binSearch(U.coverage.glyphs,z),C<0&&(U.coverage.glyphs.splice(C=-1-C,0,z),U.substitute.splice(C,0,0)),U.substitute[C]=R.by},cn.prototype.addAlternate=function(C,R,U,z){U=Xh(this.getLookupTables(U,z,C,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),D.assert(U.coverage.format===1,"Ligature: unable to modify coverage table format "+U.coverage.format),z=R.sub,C=this.binSearch(U.coverage.glyphs,z),C<0&&(U.coverage.glyphs.splice(C=-1-C,0,z),U.alternateSets.splice(C,0,0)),U.alternateSets[C]=R.by},cn.prototype.addLigature=function(oe,Me,ve,te){var ve=this.getLookupTables(ve,te,oe,4,!0)[0],te=ve.subtables[0],oe=(te||(ve.subtables[0]=te={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),D.assert(te.coverage.format===1,"Ligature: unable to modify coverage table format "+te.coverage.format),Me.sub[0]),ae=Me.sub.slice(1),ve={ligGlyph:Me.by,components:ae},Me=this.binSearch(te.coverage.glyphs,oe);if(0<=Me){for(var De=te.ligatureSets[Me],Oe=0;Oe<De.length;Oe++)if(function(Re,Pe){var Ae=Re.length;if(Ae===Pe.length){for(var Ge=0;Ge<Ae;Ge++)if(Re[Ge]!==Pe[Ge])return;return 1}}(De[Oe].components,ae))return;De.push(ve)}else te.coverage.glyphs.splice(Me=-1-Me,0,oe),te.ligatureSets.splice(Me,0,[ve])},cn.prototype.getFeature=function(C,R,U){if(/ss\d\d/.test(C))return this.getSingle(C,R,U);switch(C){case"aalt":case"salt":return this.getSingle(C,R,U).concat(this.getAlternates(C,R,U));case"dlig":case"liga":case"rlig":return this.getLigatures(C,R,U)}},cn.prototype.add=function(C,R,U,z){if(/ss\d\d/.test(C))return this.addSingle(C,R,U,z);switch(C){case"aalt":case"salt":return typeof R.by=="number"?this.addSingle(C,R,U,z):this.addAlternate(C,R,U,z);case"dlig":case"liga":case"rlig":return this.addLigature(C,R,U,z)}};var Jh={getPath:Kh,parse:function(C,R,U,z){for(var te=new Ye.GlyphSet(z),oe=0;oe<U.length-1;oe+=1){var ae=U[oe];ae!==U[oe+1]?te.push(oe,Ye.ttfGlyphLoader(z,oe,qv,C,R+ae,Yv)):te.push(oe,Ye.glyphLoader(z,oe))}return te}};function ef(C){this.font=C,this.getCommands=function(R){return Jh.getPath(R).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Xv(C){return C}function tf(C){return Math.sign(C)*Math.round(Math.abs(C))}function Zv(C){return Math.sign(C)*Math.round(Math.abs(2*C))/2}function Qv(C){return Math.sign(C)*(Math.round(Math.abs(C)+.5)-.5)}function Kv(C){return Math.sign(C)*Math.ceil(Math.abs(C))}function Jv(C){return Math.sign(C)*Math.floor(Math.abs(C))}function rf(C){var R=this.srPeriod,U=this.srPhase,z=1;return C<0&&(C=-C,z=-1),C+=this.srThreshold-U,C=Math.trunc(C/R)*R,(C+=U)<0?U*z:C*z}var dn={x:1,y:0,axis:"x",distance:function(C,R,U,z){return(U?C.xo:C.x)-(z?R.xo:R.x)},interpolate:function(C,R,U,z){var te,oe,ae,ve,Me,De,Oe;if(!z||z===this)return te=C.xo-R.xo,oe=C.xo-U.xo,Me=R.x-R.xo,De=U.x-U.xo,(Oe=(ae=Math.abs(te))+(ve=Math.abs(oe)))===0?void(C.x=C.xo+(Me+De)/2):void(C.x=C.xo+(Me*ve+De*ae)/Oe);te=z.distance(C,R,!0,!0),oe=z.distance(C,U,!0,!0),Me=z.distance(R,R,!1,!0),De=z.distance(U,U,!1,!0),(Oe=(ae=Math.abs(te))+(ve=Math.abs(oe)))===0?dn.setRelative(C,C,(Me+De)/2,z,!0):dn.setRelative(C,C,(Me*ve+De*ae)/Oe,z,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(C,R,U,z,te){var oe,ae;z&&z!==this?(oe=te?R.xo:R.x,ae=te?R.yo:R.y,oe+=U*z.x,ae+=U*z.y,C.x=oe+(C.y-ae)/z.normalSlope):C.x=(te?R.xo:R.x)+U},slope:0,touch:function(C){C.xTouched=!0},touched:function(C){return C.xTouched},untouch:function(C){C.xTouched=!1}},Sn={x:0,y:1,axis:"y",distance:function(C,R,U,z){return(U?C.yo:C.y)-(z?R.yo:R.y)},interpolate:function(C,R,U,z){var te,oe,ae,ve,Me,De,Oe;if(!z||z===this)return te=C.yo-R.yo,oe=C.yo-U.yo,Me=R.y-R.yo,De=U.y-U.yo,(Oe=(ae=Math.abs(te))+(ve=Math.abs(oe)))===0?void(C.y=C.yo+(Me+De)/2):void(C.y=C.yo+(Me*ve+De*ae)/Oe);te=z.distance(C,R,!0,!0),oe=z.distance(C,U,!0,!0),Me=z.distance(R,R,!1,!0),De=z.distance(U,U,!1,!0),(Oe=(ae=Math.abs(te))+(ve=Math.abs(oe)))===0?Sn.setRelative(C,C,(Me+De)/2,z,!0):Sn.setRelative(C,C,(Me*ve+De*ae)/Oe,z,!0)},normalSlope:0,setRelative:function(C,R,U,z,te){var oe,ae;z&&z!==this?(oe=te?R.xo:R.x,ae=te?R.yo:R.y,oe+=U*z.x,ae+=U*z.y,C.y=ae+z.normalSlope*(C.x-oe)):C.y=(te?R.yo:R.y)+U},slope:Number.POSITIVE_INFINITY,touch:function(C){C.yTouched=!0},touched:function(C){return C.yTouched},untouch:function(C){C.yTouched=!1}};function Bo(C,R){this.x=C,this.y=R,this.axis=void 0,this.slope=R/C,this.normalSlope=-C/R,Object.freeze(this)}function Uo(C,R){var U=Math.sqrt(C*C+R*R);return R/=U,(C/=U)===1&&R===0?dn:C===0&&R===1?Sn:new Bo(C,R)}function Cn(C,R,U,z){this.x=this.xo=Math.round(64*C)/64,this.y=this.yo=Math.round(64*R)/64,this.lastPointOfContour=U,this.onCurve=z,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(dn),Object.freeze(Sn),Bo.prototype.distance=function(C,R,U,z){return this.x*dn.distance(C,R,U,z)+this.y*Sn.distance(C,R,U,z)},Bo.prototype.interpolate=function(C,te,oe,z){var ae=z.distance(C,te,!0,!0),ve=z.distance(C,oe,!0,!0),te=z.distance(te,te,!1,!0),oe=z.distance(oe,oe,!1,!0),ae=Math.abs(ae),ve=Math.abs(ve),Me=ae+ve;Me===0?this.setRelative(C,C,(te+oe)/2,z,!0):this.setRelative(C,C,(te*ve+oe*ae)/Me,z,!0)},Bo.prototype.setRelative=function(C,oe,Me,De,ve){var ae=ve?oe.xo:oe.x,ve=ve?oe.yo:oe.y,oe=ae+Me*(De=De||this).x,ae=ve+Me*De.y,ve=De.normalSlope,Me=this.slope,De=C.x,Oe=C.y;C.x=(Me*De-ve*oe+ae-Oe)/(Me-ve),C.y=Me*(C.x-De)+Oe},Bo.prototype.touch=function(C){C.xTouched=!0,C.yTouched=!0},Cn.prototype.nextTouched=function(C){for(var R=this.nextPointOnContour;!C.touched(R)&&R!==this;)R=R.nextPointOnContour;return R},Cn.prototype.prevTouched=function(C){for(var R=this.prevPointOnContour;!C.touched(R)&&R!==this;)R=R.prevPointOnContour;return R};var Vo=Object.freeze(new Cn(0,0)),e0={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Wn(C,R){switch(this.env=C,this.stack=[],this.prog=R,C){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=dn,this.round=tf}}function Ys(C){for(var R=C.tZone=new Array(C.gZone.length),U=0;U<R.length;U++)R[U]=new Cn(0,0)}function nf(C,R){var U,z=C.prog,te=C.ip,oe=1;do if((U=z[++te])===88)oe++;else if(U===89)oe--;else if(U===64)te+=z[te+1]+1;else if(U===65)te+=2*z[te+1]+1;else if(176<=U&&U<=183)te+=U-176+1;else if(184<=U&&U<=191)te+=2*(U-184+1);else if(R&&oe===1&&U===27)break;while(0<oe);C.ip=te}function of(C,R){v.DEBUG&&console.log(R.step,"SVTCA["+C.axis+"]"),R.fv=R.pv=R.dpv=C}function sf(C,R){v.DEBUG&&console.log(R.step,"SPVTCA["+C.axis+"]"),R.pv=R.dpv=C}function af(C,R){v.DEBUG&&console.log(R.step,"SFVTCA["+C.axis+"]"),R.fv=C}function lf(C,R){var U,te=R.stack,z=te.pop(),te=te.pop(),oe=R.z2[z],ae=R.z1[te];v.DEBUG&&console.log("SPVTL["+C+"]",z,te),z=C?(U=oe.y-ae.y,ae.x-oe.x):(U=ae.x-oe.x,ae.y-oe.y),R.pv=R.dpv=Uo(U,z)}function uf(C,R){var U,te=R.stack,z=te.pop(),te=te.pop(),oe=R.z2[z],ae=R.z1[te];v.DEBUG&&console.log("SFVTL["+C+"]",z,te),z=C?(U=oe.y-ae.y,ae.x-oe.x):(U=ae.x-oe.x,ae.y-oe.y),R.fv=Uo(U,z)}function cu(C){v.DEBUG&&console.log(C.step,"POP[]"),C.stack.pop()}function cf(C,R){var U=R.stack.pop(),z=R.z0[U],te=R.fv,oe=R.pv,ae=(v.DEBUG&&console.log(R.step,"MDAP["+C+"]",U),oe.distance(z,Vo));C&&(ae=R.round(ae)),te.setRelative(z,Vo,ae,oe),te.touch(z),R.rp0=R.rp1=U}function df(C,R){var U,z,te,oe=R.z2,ae=oe.length-2;v.DEBUG&&console.log(R.step,"IUP["+C.axis+"]");for(var ve=0;ve<ae;ve++)U=oe[ve],C.touched(U)||(z=U.prevTouched(C))!==U&&(z===(te=U.nextTouched(C))&&C.setRelative(U,U,C.distance(z,z,!1,!0),C,!0),C.interpolate(U,z,te,C))}function hf(C,R){for(var U=R.stack,z=C?R.rp1:R.rp2,te=(C?R.z0:R.z1)[z],oe=R.fv,ae=R.pv,ve=R.loop,Me=R.z2;ve--;){var De=U.pop(),Oe=Me[De],Re=ae.distance(te,te,!1,!0);oe.setRelative(Oe,Oe,Re,ae),oe.touch(Oe),v.DEBUG&&console.log(R.step,(1<R.loop?"loop "+(R.loop-ve)+": ":"")+"SHP["+(C?"rp1":"rp2")+"]",De)}R.loop=1}function ff(C,R){for(var U=R.stack,ae=C?R.rp1:R.rp2,z=(C?R.z0:R.z1)[ae],te=R.fv,oe=R.pv,ae=U.pop(),ve=R.z2[R.contours[ae]],Me=ve,De=(v.DEBUG&&console.log(R.step,"SHC["+C+"]",ae),oe.distance(z,z,!1,!0));Me!==z&&te.setRelative(Me,Me,De,oe),(Me=Me.nextPointOnContour)!==ve;);}function pf(C,R){var U,z,ve=R.stack,te=C?R.rp1:R.rp2,te=(C?R.z0:R.z1)[te],oe=R.fv,ae=R.pv,ve=ve.pop();switch(v.DEBUG&&console.log(R.step,"SHZ["+C+"]",ve),ve){case 0:U=R.tZone;break;case 1:U=R.gZone;break;default:throw new Error("Invalid zone")}for(var Me=ae.distance(te,te,!1,!0),De=U.length-2,Oe=0;Oe<De;Oe++)z=U[Oe],oe.setRelative(z,z,Me,ae)}function mf(C,R){var z=R.stack,U=z.pop()/64,z=z.pop(),te=R.z1[z],oe=R.z0[R.rp0],ae=R.fv,ve=R.pv;ae.setRelative(te,oe,U,ve),ae.touch(te),v.DEBUG&&console.log(R.step,"MSIRP["+C+"]",U,z),R.rp1=R.rp0,R.rp2=z,C&&(R.rp0=z)}function gf(C,R){var U=R.stack,ve=U.pop(),U=U.pop(),z=R.z0[U],te=R.fv,oe=R.pv,ae=R.cvt[ve],ve=(v.DEBUG&&console.log(R.step,"MIAP["+C+"]",ve,"(",ae,")",U),oe.distance(z,Vo));C&&(Math.abs(ve-ae)<R.cvCutIn&&(ve=ae),ve=R.round(ve)),te.setRelative(z,Vo,ve,oe),R.zp0===0&&(z.xo=z.x,z.yo=z.y),te.touch(z),R.rp0=R.rp1=U}function yf(C,R){var U=R.stack,z=U.pop(),te=R.z2[z];v.DEBUG&&console.log(R.step,"GC["+C+"]",z),U.push(64*R.dpv.distance(te,Vo,C,!1))}function vf(C,R){var z=R.stack,U=z.pop(),z=z.pop(),te=R.z1[U],oe=R.z0[z],oe=R.dpv.distance(oe,te,C,C);v.DEBUG&&console.log(R.step,"MD["+C+"]",U,z,"->",oe),R.stack.push(Math.round(64*oe))}function du(C,R){var U=R.stack,z=U.pop(),te=R.fv,oe=R.pv,ae=R.ppem,ve=R.deltaBase+16*(C-1),Me=R.deltaShift,De=R.z0;v.DEBUG&&console.log(R.step,"DELTAP["+C+"]",z,U);for(var Oe=0;Oe<z;Oe++){var Re=U.pop(),Pe=U.pop();ve+((240&Pe)>>4)===ae&&(0<=(Pe=(15&Pe)-8)&&Pe++,v.DEBUG&&console.log(R.step,"DELTAPFIX",Re,"by",Pe*Me),Re=De[Re],te.setRelative(Re,Re,Pe*Me,oe))}}function Xs(C,R){var U=R.stack,z=U.pop();v.DEBUG&&console.log(R.step,"ROUND[]"),U.push(64*R.round(z/64))}function hu(C,R){var U=R.stack,z=U.pop(),te=R.ppem,oe=R.deltaBase+16*(C-1),ae=R.deltaShift;v.DEBUG&&console.log(R.step,"DELTAC["+C+"]",z,U);for(var ve=0;ve<z;ve++){var Me=U.pop(),De=U.pop();oe+((240&De)>>4)===te&&(0<=(De=(15&De)-8)&&De++,De=De*ae,v.DEBUG&&console.log(R.step,"DELTACFIX",Me,"by",De),R.cvt[Me]+=De)}}function bf(C,R){var U,te=R.stack,z=te.pop(),te=te.pop(),oe=R.z2[z],ae=R.z1[te];v.DEBUG&&console.log(R.step,"SDPVTL["+C+"]",z,te),z=C?(U=oe.y-ae.y,ae.x-oe.x):(U=ae.x-oe.x,ae.y-oe.y),R.dpv=Uo(U,z)}function $n(C,R){var U=R.stack,z=R.prog,te=R.ip;v.DEBUG&&console.log(R.step,"PUSHB["+C+"]");for(var oe=0;oe<C;oe++)U.push(z[++te]);R.ip=te}function qn(C,R){var U=R.ip,z=R.prog,te=R.stack;v.DEBUG&&console.log(R.ip,"PUSHW["+C+"]");for(var oe=0;oe<C;oe++){var ae=z[++U]<<8|z[++U];32768&ae&&(ae=-(1+(65535^ae))),te.push(ae)}R.ip=U}function nt(C,R,U,z,te,oe){var ae,ve,De=oe.stack,Me=C&&De.pop(),De=De.pop(),Oe=oe.rp0,Oe=oe.z0[Oe],Re=oe.z1[De],Pe=oe.minDis,Ae=oe.fv,Ge=oe.dpv,Fe=ae=Ge.distance(Re,Oe,!0,!0),Ue=0<=Fe?1:-1;Fe=Math.abs(Fe),C&&(ve=oe.cvt[Me],z&&Math.abs(Fe-ve)<oe.cvCutIn&&(Fe=ve)),U&&Fe<Pe&&(Fe=Pe),z&&(Fe=oe.round(Fe)),Ae.setRelative(Re,Oe,Ue*Fe,Ge),Ae.touch(Re),v.DEBUG&&console.log(oe.step,(C?"MIRP[":"MDRP[")+(R?"M":"m")+(U?">":"_")+(z?"R":"_")+(te===0?"Gr":te===1?"Bl":te===2?"Wh":"")+"]",C?Me+"("+oe.cvt[Me]+","+ve+")":"",De,"(d =",ae,"->",Ue*Fe,")"),oe.rp1=oe.rp0,oe.rp2=De,R&&(oe.rp0=De)}ef.prototype.exec=function(C,R){if(typeof R!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var U=this.font,z=this._prepState;if(!z||z.ppem!==R){var te=this._fpgmState;if(!te){Wn.prototype=e0,(te=this._fpgmState=new Wn("fpgm",U.tables.fpgm)).funcs=[],te.font=U,v.DEBUG&&(console.log("---EXEC FPGM---"),te.step=-1);try{Vi(te)}catch(De){return console.log("Hinting error in FPGM:"+De),void(this._errorState=3)}}Wn.prototype=te,(z=this._prepState=new Wn("prep",U.tables.prep)).ppem=R;var oe=U.tables.cvt;if(oe)for(var ae=z.cvt=new Array(oe.length),ve=R/U.unitsPerEm,Me=0;Me<oe.length;Me++)ae[Me]=oe[Me]*ve;else z.cvt=[];v.DEBUG&&(console.log("---EXEC PREP---"),z.step=-1);try{Vi(z)}catch(De){this._errorState<2&&console.log("Hinting error in PREP:"+De),this._errorState=2}}if(!(1<this._errorState))try{return t0(C,z)}catch(De){this._errorState<1&&(console.log("Hinting error:"+De),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var t0=function(C,R){var U=R.ppem/R.font.unitsPerEm,z=U,te=C.components;if(Wn.prototype=R,te){for(var oe=R.font,ae=[],ve=[],Me=0;Me<te.length;Me++){var De=te[Me],Oe=oe.glyphs.get(De.glyphIndex),Re=new Wn("glyf",Oe.instructions);v.DEBUG&&(console.log("---EXEC COMP "+Me+"---"),Re.step=-1),xf(Oe,Re,U,z);for(var Pe=Math.round(De.dx*U),Ae=Math.round(De.dy*z),Ge=Re.gZone,Fe=Re.contours,Ue=0;Ue<Ge.length;Ue++){var Le=Ge[Ue];Le.xTouched=Le.yTouched=!1,Le.xo=Le.x=Le.x+Pe,Le.yo=Le.y=Le.y+Ae}var Ne=ae.length;ae.push.apply(ae,Ge);for(var it=0;it<Fe.length;it++)ve.push(Fe[it]+Ne)}C.instructions&&!Re.inhibitGridFit&&((Re=new Wn("glyf",C.instructions)).gZone=Re.z0=Re.z1=Re.z2=ae,Re.contours=ve,ae.push(new Cn(0,0),new Cn(Math.round(C.advanceWidth*U),0)),v.DEBUG&&(console.log("---EXEC COMPOSITE---"),Re.step=-1),Vi(Re),ae.length-=2)}else Re=new Wn("glyf",C.instructions),v.DEBUG&&(console.log("---EXEC GLYPH---"),Re.step=-1),xf(C,Re,U,z),ae=Re.gZone;return ae},xf=function(C,R,U,z){for(var te,oe,ae,ve=C.points||[],Me=ve.length,De=R.gZone=R.z0=R.z1=R.z2=[],Oe=R.contours=[],Re=0;Re<Me;Re++)te=ve[Re],De[Re]=new Cn(te.x*U,te.y*z,te.lastPointOfContour,te.onCurve);for(var Pe=0;Pe<Me;Pe++)te=De[Pe],oe||(oe=te,Oe.push(Pe)),te.lastPointOfContour?((te.nextPointOnContour=oe).prevPointOnContour=te,oe=void 0):(ae=De[Pe+1],(te.nextPointOnContour=ae).prevPointOnContour=te);if(!R.inhibitGridFit){if(v.DEBUG){console.log("PROCESSING GLYPH",R.stack);for(var Ae=0;Ae<Me;Ae++)console.log(Ae,De[Ae].x,De[Ae].y)}if(De.push(new Cn(0,0),new Cn(Math.round(C.advanceWidth*U),0)),Vi(R),De.length-=2,v.DEBUG){console.log("FINISHED GLYPH",R.stack);for(var Ge=0;Ge<Me;Ge++)console.log(Ge,De[Ge].x,De[Ge].y)}}},Vi=function(C){var R=C.prog;if(R){var U,z=R.length;for(C.ip=0;C.ip<z;C.ip++){if(v.DEBUG&&C.step++,!(U=r0[R[C.ip]]))throw new Error("unknown instruction: 0x"+Number(R[C.ip]).toString(16));U(C)}}},r0=[of.bind(void 0,Sn),of.bind(void 0,dn),sf.bind(void 0,Sn),sf.bind(void 0,dn),af.bind(void 0,Sn),af.bind(void 0,dn),lf.bind(void 0,0),lf.bind(void 0,1),uf.bind(void 0,0),uf.bind(void 0,1),function(C){var R=(U=C.stack).pop(),U=U.pop();v.DEBUG&&console.log(C.step,"SPVFS[]",R,U),C.pv=C.dpv=Uo(U,R)},function(C){var R=(U=C.stack).pop(),U=U.pop();v.DEBUG&&console.log(C.step,"SPVFS[]",R,U),C.fv=Uo(U,R)},function(C){var R=C.stack,U=C.pv;v.DEBUG&&console.log(C.step,"GPV[]"),R.push(16384*U.x),R.push(16384*U.y)},function(C){var R=C.stack,U=C.fv;v.DEBUG&&console.log(C.step,"GFV[]"),R.push(16384*U.x),R.push(16384*U.y)},function(C){C.fv=C.pv,v.DEBUG&&console.log(C.step,"SFVTPV[]")},function(R){var U=(ae=R.stack).pop(),z=ae.pop(),te=ae.pop(),oe=ae.pop(),ae=ae.pop(),Me=R.z0,Oe=R.z1,ve=Me[U],Me=Me[z],De=Oe[te],Oe=Oe[oe],R=R.z2[ae],U=(v.DEBUG&&console.log("ISECT[], ",U,z,te,oe,ae),ve.x),z=ve.y,te=Me.x,oe=Me.y,ae=De.x,ve=De.y,Me=Oe.x,De=Oe.y,Oe=(U-te)*(ve-De)-(z-oe)*(ae-Me),Re=U*oe-z*te,Pe=ae*De-ve*Me;R.x=(Re*(ae-Me)-Pe*(U-te))/Oe,R.y=(Re*(ve-De)-Pe*(z-oe))/Oe},function(C){C.rp0=C.stack.pop(),v.DEBUG&&console.log(C.step,"SRP0[]",C.rp0)},function(C){C.rp1=C.stack.pop(),v.DEBUG&&console.log(C.step,"SRP1[]",C.rp1)},function(C){C.rp2=C.stack.pop(),v.DEBUG&&console.log(C.step,"SRP2[]",C.rp2)},function(C){var R=C.stack.pop();switch(v.DEBUG&&console.log(C.step,"SZP0[]",R),C.zp0=R){case 0:C.tZone||Ys(C),C.z0=C.tZone;break;case 1:C.z0=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){var R=C.stack.pop();switch(v.DEBUG&&console.log(C.step,"SZP1[]",R),C.zp1=R){case 0:C.tZone||Ys(C),C.z1=C.tZone;break;case 1:C.z1=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){var R=C.stack.pop();switch(v.DEBUG&&console.log(C.step,"SZP2[]",R),C.zp2=R){case 0:C.tZone||Ys(C),C.z2=C.tZone;break;case 1:C.z2=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){var R=C.stack.pop();switch(v.DEBUG&&console.log(C.step,"SZPS[]",R),C.zp0=C.zp1=C.zp2=R){case 0:C.tZone||Ys(C),C.z0=C.z1=C.z2=C.tZone;break;case 1:C.z0=C.z1=C.z2=C.gZone;break;default:throw new Error("Invalid zone pointer")}},function(C){C.loop=C.stack.pop(),v.DEBUG&&console.log(C.step,"SLOOP[]",C.loop)},function(C){v.DEBUG&&console.log(C.step,"RTG[]"),C.round=tf},function(C){v.DEBUG&&console.log(C.step,"RTHG[]"),C.round=Qv},function(C){var R=C.stack.pop();v.DEBUG&&console.log(C.step,"SMD[]",R),C.minDis=R/64},function(C){v.DEBUG&&console.log(C.step,"ELSE[]"),nf(C,!1)},function(C){var R=C.stack.pop();v.DEBUG&&console.log(C.step,"JMPR[]",R),C.ip+=R-1},function(C){var R=C.stack.pop();v.DEBUG&&console.log(C.step,"SCVTCI[]",R),C.cvCutIn=R/64},void 0,void 0,function(C){var R=C.stack;v.DEBUG&&console.log(C.step,"DUP[]"),R.push(R[R.length-1])},cu,function(C){v.DEBUG&&console.log(C.step,"CLEAR[]"),C.stack.length=0},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"SWAP[]"),R.push(U),R.push(z)},function(C){var R=C.stack;v.DEBUG&&console.log(C.step,"DEPTH[]"),R.push(R.length)},function(C){var R=C.stack,U=R.pop();v.DEBUG&&console.log(C.step,"CINDEX[]",U),R.push(R[R.length-U])},function(C){var R=C.stack,U=R.pop();v.DEBUG&&console.log(C.step,"MINDEX[]",U),R.push(R.splice(R.length-U,1)[0])},void 0,void 0,void 0,function(C){var R=(z=C.stack).pop(),U=z.pop(),z=(v.DEBUG&&console.log(C.step,"LOOPCALL[]",R,U),C.ip),te=C.prog;C.prog=C.funcs[R];for(var oe=0;oe<U;oe++)Vi(C),v.DEBUG&&console.log(++C.step,oe+1<U?"next loopcall":"done loopcall",oe);C.ip=z,C.prog=te},function(C){var R=C.stack.pop(),U=(v.DEBUG&&console.log(C.step,"CALL[]",R),C.ip),z=C.prog;C.prog=C.funcs[R],Vi(C),C.ip=U,C.prog=z,v.DEBUG&&console.log(++C.step,"returning from",R)},function(C){if(C.env!=="fpgm")throw new Error("FDEF not allowed here");var z=C.stack,R=C.prog,U=C.ip,z=z.pop(),te=U;for(v.DEBUG&&console.log(C.step,"FDEF[]",z);R[++U]!==45;);C.ip=U,C.funcs[z]=R.slice(te+1,U)},void 0,cf.bind(void 0,0),cf.bind(void 0,1),df.bind(void 0,Sn),df.bind(void 0,dn),hf.bind(void 0,0),hf.bind(void 0,1),ff.bind(void 0,0),ff.bind(void 0,1),pf.bind(void 0,0),pf.bind(void 0,1),function(C){for(var R=C.stack,U=C.loop,z=C.fv,te=R.pop()/64,oe=C.z2;U--;){var ae=R.pop(),ve=oe[ae];v.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-U)+": ":"")+"SHPIX[]",ae,te),z.setRelative(ve,ve,te),z.touch(ve)}C.loop=1},function(C){for(var R=C.stack,U=C.rp1,z=C.rp2,te=C.loop,oe=C.z0[U],ae=C.z1[z],ve=C.fv,Me=C.dpv,De=C.z2;te--;){var Oe=R.pop(),Re=De[Oe];v.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-te)+": ":"")+"IP[]",Oe,U,"<->",z),ve.interpolate(Re,oe,ae,Me),ve.touch(Re)}C.loop=1},mf.bind(void 0,0),mf.bind(void 0,1),function(C){for(var R=C.stack,U=C.rp0,z=C.z0[U],te=C.loop,oe=C.fv,ae=C.pv,ve=C.z1;te--;){var Me=R.pop(),De=ve[Me];v.DEBUG&&console.log(C.step,(1<C.loop?"loop "+(C.loop-te)+": ":"")+"ALIGNRP[]",Me),oe.setRelative(De,z,0,ae),oe.touch(De)}C.loop=1},function(C){v.DEBUG&&console.log(C.step,"RTDG[]"),C.round=Zv},gf.bind(void 0,0),gf.bind(void 0,1),function(C){var R=C.prog,U=C.ip,z=C.stack,te=R[++U];v.DEBUG&&console.log(C.step,"NPUSHB[]",te);for(var oe=0;oe<te;oe++)z.push(R[++U]);C.ip=U},function(C){var R=C.ip,U=C.prog,z=C.stack,te=U[++R];v.DEBUG&&console.log(C.step,"NPUSHW[]",te);for(var oe=0;oe<te;oe++){var ae=U[++R]<<8|U[++R];32768&ae&&(ae=-(1+(65535^ae))),z.push(ae)}C.ip=R},function(C){var z=C.stack,R=(R=C.store)||(C.store=[]),U=z.pop(),z=z.pop();v.DEBUG&&console.log(C.step,"WS",U,z),R[z]=U},function(te){var R=te.stack,U=te.store,z=R.pop(),te=(v.DEBUG&&console.log(te.step,"RS",z),U&&U[z]||0);R.push(te)},function(C){var R=(U=C.stack).pop(),U=U.pop();v.DEBUG&&console.log(C.step,"WCVTP",R,U),C.cvt[U]=R/64},function(C){var R=C.stack,U=R.pop();v.DEBUG&&console.log(C.step,"RCVT",U),R.push(64*C.cvt[U])},yf.bind(void 0,0),yf.bind(void 0,1),void 0,vf.bind(void 0,0),vf.bind(void 0,1),function(C){v.DEBUG&&console.log(C.step,"MPPEM[]"),C.stack.push(C.ppem)},void 0,function(C){v.DEBUG&&console.log(C.step,"FLIPON[]"),C.autoFlip=!0},void 0,void 0,function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"LT[]",U,z),R.push(z<U?1:0)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"LTEQ[]",U,z),R.push(z<=U?1:0)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"GT[]",U,z),R.push(U<z?1:0)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"GTEQ[]",U,z),R.push(U<=z?1:0)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"EQ[]",U,z),R.push(U===z?1:0)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"NEQ[]",U,z),R.push(U!==z?1:0)},function(C){var R=C.stack,U=R.pop();v.DEBUG&&console.log(C.step,"ODD[]",U),R.push(Math.trunc(U)%2?1:0)},function(C){var R=C.stack,U=R.pop();v.DEBUG&&console.log(C.step,"EVEN[]",U),R.push(Math.trunc(U)%2?0:1)},function(C){var R=C.stack.pop();v.DEBUG&&console.log(C.step,"IF[]",R),R||(nf(C,!0),v.DEBUG&&console.log(C.step,"EIF[]"))},function(C){v.DEBUG&&console.log(C.step,"EIF[]")},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"AND[]",U,z),R.push(U&&z?1:0)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"OR[]",U,z),R.push(U||z?1:0)},function(C){var R=C.stack,U=R.pop();v.DEBUG&&console.log(C.step,"NOT[]",U),R.push(U?0:1)},du.bind(void 0,1),function(C){var R=C.stack.pop();v.DEBUG&&console.log(C.step,"SDB[]",R),C.deltaBase=R},function(C){var R=C.stack.pop();v.DEBUG&&console.log(C.step,"SDS[]",R),C.deltaShift=Math.pow(.5,R)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"ADD[]",U,z),R.push(z+U)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"SUB[]",U,z),R.push(z-U)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"DIV[]",U,z),R.push(64*z/U)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"MUL[]",U,z),R.push(z*U/64)},function(C){var R=C.stack,U=R.pop();v.DEBUG&&console.log(C.step,"ABS[]",U),R.push(Math.abs(U))},function(C){var R=C.stack,U=R.pop();v.DEBUG&&console.log(C.step,"NEG[]",U),R.push(-U)},function(C){var R=C.stack,U=R.pop();v.DEBUG&&console.log(C.step,"FLOOR[]",U),R.push(64*Math.floor(U/64))},function(C){var R=C.stack,U=R.pop();v.DEBUG&&console.log(C.step,"CEILING[]",U),R.push(64*Math.ceil(U/64))},Xs.bind(void 0,0),Xs.bind(void 0,1),Xs.bind(void 0,2),Xs.bind(void 0,3),void 0,void 0,void 0,void 0,function(C){var R=(U=C.stack).pop(),U=U.pop();v.DEBUG&&console.log(C.step,"WCVTF[]",R,U),C.cvt[U]=R*C.ppem/C.font.unitsPerEm},du.bind(void 0,2),du.bind(void 0,3),hu.bind(void 0,1),hu.bind(void 0,2),hu.bind(void 0,3),function(C){var R,U=C.stack.pop();switch(v.DEBUG&&console.log(C.step,"SROUND[]",U),C.round=rf,192&U){case 0:R=.5;break;case 64:R=1;break;case 128:R=2;break;default:throw new Error("invalid SROUND value")}switch(C.srPeriod=R,48&U){case 0:C.srPhase=0;break;case 16:C.srPhase=.25*R;break;case 32:C.srPhase=.5*R;break;case 48:C.srPhase=.75*R;break;default:throw new Error("invalid SROUND value")}C.srThreshold=(U&=15)===0?0:(U/8-.5)*R},function(C){var R,U=C.stack.pop();switch(v.DEBUG&&console.log(C.step,"S45ROUND[]",U),C.round=rf,192&U){case 0:R=Math.sqrt(2)/2;break;case 64:R=Math.sqrt(2);break;case 128:R=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(C.srPeriod=R,48&U){case 0:C.srPhase=0;break;case 16:C.srPhase=.25*R;break;case 32:C.srPhase=.5*R;break;case 48:C.srPhase=.75*R;break;default:throw new Error("invalid S45ROUND value")}C.srThreshold=(U&=15)===0?0:(U/8-.5)*R},void 0,void 0,function(C){v.DEBUG&&console.log(C.step,"ROFF[]"),C.round=Xv},void 0,function(C){v.DEBUG&&console.log(C.step,"RUTG[]"),C.round=Kv},function(C){v.DEBUG&&console.log(C.step,"RDTG[]"),C.round=Jv},cu,cu,void 0,void 0,void 0,void 0,void 0,function(C){var R=C.stack.pop();v.DEBUG&&console.log(C.step,"SCANCTRL[]",R)},bf.bind(void 0,0),bf.bind(void 0,1),function(C){var R=C.stack,U=R.pop(),z=0;v.DEBUG&&console.log(C.step,"GETINFO[]",U),1&U&&(z=35),32&U&&(z|=4096),R.push(z)},void 0,function(C){var R=C.stack,U=R.pop(),z=R.pop(),te=R.pop();v.DEBUG&&console.log(C.step,"ROLL[]"),R.push(z),R.push(U),R.push(te)},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"MAX[]",U,z),R.push(Math.max(z,U))},function(C){var R=C.stack,U=R.pop(),z=R.pop();v.DEBUG&&console.log(C.step,"MIN[]",U,z),R.push(Math.min(z,U))},function(C){var R=C.stack.pop();v.DEBUG&&console.log(C.step,"SCANTYPE[]",R)},function(C){var R=C.stack.pop(),U=C.stack.pop();switch(v.DEBUG&&console.log(C.step,"INSTCTRL[]",R,U),R){case 1:return void(C.inhibitGridFit=!!U);case 2:return void(C.ignoreCvt=!!U);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,$n.bind(void 0,1),$n.bind(void 0,2),$n.bind(void 0,3),$n.bind(void 0,4),$n.bind(void 0,5),$n.bind(void 0,6),$n.bind(void 0,7),$n.bind(void 0,8),qn.bind(void 0,1),qn.bind(void 0,2),qn.bind(void 0,3),qn.bind(void 0,4),qn.bind(void 0,5),qn.bind(void 0,6),qn.bind(void 0,7),qn.bind(void 0,8),nt.bind(void 0,0,0,0,0,0),nt.bind(void 0,0,0,0,0,1),nt.bind(void 0,0,0,0,0,2),nt.bind(void 0,0,0,0,0,3),nt.bind(void 0,0,0,0,1,0),nt.bind(void 0,0,0,0,1,1),nt.bind(void 0,0,0,0,1,2),nt.bind(void 0,0,0,0,1,3),nt.bind(void 0,0,0,1,0,0),nt.bind(void 0,0,0,1,0,1),nt.bind(void 0,0,0,1,0,2),nt.bind(void 0,0,0,1,0,3),nt.bind(void 0,0,0,1,1,0),nt.bind(void 0,0,0,1,1,1),nt.bind(void 0,0,0,1,1,2),nt.bind(void 0,0,0,1,1,3),nt.bind(void 0,0,1,0,0,0),nt.bind(void 0,0,1,0,0,1),nt.bind(void 0,0,1,0,0,2),nt.bind(void 0,0,1,0,0,3),nt.bind(void 0,0,1,0,1,0),nt.bind(void 0,0,1,0,1,1),nt.bind(void 0,0,1,0,1,2),nt.bind(void 0,0,1,0,1,3),nt.bind(void 0,0,1,1,0,0),nt.bind(void 0,0,1,1,0,1),nt.bind(void 0,0,1,1,0,2),nt.bind(void 0,0,1,1,0,3),nt.bind(void 0,0,1,1,1,0),nt.bind(void 0,0,1,1,1,1),nt.bind(void 0,0,1,1,1,2),nt.bind(void 0,0,1,1,1,3),nt.bind(void 0,1,0,0,0,0),nt.bind(void 0,1,0,0,0,1),nt.bind(void 0,1,0,0,0,2),nt.bind(void 0,1,0,0,0,3),nt.bind(void 0,1,0,0,1,0),nt.bind(void 0,1,0,0,1,1),nt.bind(void 0,1,0,0,1,2),nt.bind(void 0,1,0,0,1,3),nt.bind(void 0,1,0,1,0,0),nt.bind(void 0,1,0,1,0,1),nt.bind(void 0,1,0,1,0,2),nt.bind(void 0,1,0,1,0,3),nt.bind(void 0,1,0,1,1,0),nt.bind(void 0,1,0,1,1,1),nt.bind(void 0,1,0,1,1,2),nt.bind(void 0,1,0,1,1,3),nt.bind(void 0,1,1,0,0,0),nt.bind(void 0,1,1,0,0,1),nt.bind(void 0,1,1,0,0,2),nt.bind(void 0,1,1,0,0,3),nt.bind(void 0,1,1,0,1,0),nt.bind(void 0,1,1,0,1,1),nt.bind(void 0,1,1,0,1,2),nt.bind(void 0,1,1,0,1,3),nt.bind(void 0,1,1,1,0,0),nt.bind(void 0,1,1,1,0,1),nt.bind(void 0,1,1,1,0,2),nt.bind(void 0,1,1,1,0,3),nt.bind(void 0,1,1,1,1,0),nt.bind(void 0,1,1,1,1,1),nt.bind(void 0,1,1,1,1,2),nt.bind(void 0,1,1,1,1,3)],n0=Array.from||function(C){return C.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Vt(C){(C=C||{}).empty||(Ui(C.familyName,"When creating a new Font object, familyName is required."),Ui(C.styleName,"When creating a new Font object, styleName is required."),Ui(C.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ui(C.ascender,"When creating a new Font object, ascender is required."),Ui(C.descender,"When creating a new Font object, descender is required."),Ui(C.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:C.familyName||" "},fontSubfamily:{en:C.styleName||" "},fullName:{en:C.fullName||C.familyName+" "+C.styleName},postScriptName:{en:C.postScriptName||(C.familyName+C.styleName).replace(/\s/g,"")},designer:{en:C.designer||" "},designerURL:{en:C.designerURL||" "},manufacturer:{en:C.manufacturer||" "},manufacturerURL:{en:C.manufacturerURL||" "},license:{en:C.license||" "},licenseURL:{en:C.licenseURL||" "},version:{en:C.version||"Version 0.1"},description:{en:C.description||" "},copyright:{en:C.copyright||" "},trademark:{en:C.trademark||" "}},this.unitsPerEm=C.unitsPerEm||1e3,this.ascender=C.ascender,this.descender=C.descender,this.createdTimestamp=C.createdTimestamp,this.tables={os2:{usWeightClass:C.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:C.widthClass||this.usWidthClasses.MEDIUM,fsSelection:C.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new Ye.GlyphSet(this,C.glyphs||[]),this.encoding=new Te(this),this.position=new qs(this),this.substitution=new cn(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new ef(this):void 0)}})}function wf(C,R){var U,z=JSON.stringify(C),te=256;for(U in R){var oe=parseInt(U);if(oe&&!(oe<256)){if(JSON.stringify(R[U])===z)return oe;te<=oe&&(te=oe+1)}}return R[te]=C,te}Vt.prototype.hasChar=function(C){return this.encoding.charToGlyphIndex(C)!==null},Vt.prototype.charToGlyphIndex=function(C){return this.encoding.charToGlyphIndex(C)},Vt.prototype.charToGlyph=function(C){return C=this.charToGlyphIndex(C),this.glyphs.get(C)||this.glyphs.get(0)},Vt.prototype.stringToGlyphs=function(C,R){R=R||this.defaultRenderOptions;for(var U=n0(C),z=[],te=0;te<U.length;te+=1){var oe=U[te];z.push(this.charToGlyphIndex(oe))}var ae=z.length;if(R.features){var C=R.script||this.substitution.getDefaultScriptName(),ve=[];R.features.liga&&(ve=ve.concat(this.substitution.getFeature("liga",C,R.language))),R.features.rlig&&(ve=ve.concat(this.substitution.getFeature("rlig",C,R.language)));for(var Me=0;Me<ae;Me+=1)for(var De=0;De<ve.length;De++){for(var Oe=ve[De],Re=Oe.sub,Pe=Re.length,Ae=0;Ae<Pe&&Re[Ae]===z[Me+Ae];)Ae++;Ae===Pe&&(z.splice(Me,Pe,Oe.by),ae=ae-Pe+1)}}for(var Ge=new Array(ae),Fe=this.glyphs.get(0),Ue=0;Ue<ae;Ue+=1)Ge[Ue]=this.glyphs.get(z[Ue])||Fe;return Ge},Vt.prototype.nameToGlyphIndex=function(C){return this.glyphNames.nameToGlyphIndex(C)},Vt.prototype.nameToGlyph=function(C){return C=this.nameToGlyphIndex(C),this.glyphs.get(C)||this.glyphs.get(0)},Vt.prototype.glyphIndexToName=function(C){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(C):""},Vt.prototype.getKerningValue=function(C,R){C=C.index||C,R=R.index||R;var U=this.position.defaultKerningTables;return U?this.position.getKerningValue(U,C,R):this.kerningPairs[C+","+R]||0},Vt.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Vt.prototype.forEachGlyph=function(C,R,U,z,te,oe){R=R!==void 0?R:0,U=U!==void 0?U:0,te=te||this.defaultRenderOptions;var ae,ve=1/this.unitsPerEm*(z=z!==void 0?z:72),Me=this.stringToGlyphs(C,te);te.kerning&&(C=te.script||this.position.getDefaultScriptName(),ae=this.position.getKerningTables(C,te.language));for(var De=0;De<Me.length;De+=1){var Oe=Me[De];oe.call(this,Oe,R,U,z,te),Oe.advanceWidth&&(R+=Oe.advanceWidth*ve),te.kerning&&De<Me.length-1&&(R+=(ae?this.position.getKerningValue(ae,Oe.index,Me[De+1].index):this.getKerningValue(Oe,Me[De+1]))*ve),te.letterSpacing?R+=te.letterSpacing*z:te.tracking&&(R+=te.tracking/1e3*z)}return R},Vt.prototype.getPath=function(C,R,U,z,te){var oe=new ee;return this.forEachGlyph(C,R,U,z,te,function(ae,ve,Me,De){ae=ae.getPath(ve,Me,De,te,this),oe.extend(ae)}),oe},Vt.prototype.getPaths=function(C,R,U,z,te){var oe=[];return this.forEachGlyph(C,R,U,z,te,function(ae,ve,Me,De){ae=ae.getPath(ve,Me,De,te,this),oe.push(ae)}),oe},Vt.prototype.getAdvanceWidth=function(C,R,U){return this.forEachGlyph(C,0,0,R,U,function(){})},Vt.prototype.draw=function(C,R,U,z,te,oe){this.getPath(R,U,z,te,oe).draw(C)},Vt.prototype.drawPoints=function(C,R,U,z,te,oe){this.forEachGlyph(R,U,z,te,oe,function(ae,ve,Me,De){ae.drawPoints(C,ve,Me,De)})},Vt.prototype.drawMetrics=function(C,R,U,z,te,oe){this.forEachGlyph(R,U,z,te,oe,function(ae,ve,Me,De){ae.drawMetrics(C,ve,Me,De)})},Vt.prototype.getEnglishName=function(C){if(C=this.names[C],C)return C.en},Vt.prototype.validate=function(){var C=this;function R(U){U=C.getEnglishName(U),U&&U.trim().length}R("fontFamily"),R("weightName"),R("manufacturer"),R("copyright"),R("version"),this.unitsPerEm},Vt.prototype.toTables=function(){return $v.fontToTable(this)},Vt.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Vt.prototype.toArrayBuffer=function(){for(var C=this.toTables().encode(),R=new ArrayBuffer(C.length),U=new Uint8Array(R),z=0;z<C.length;z++)U[z]=C[z];return R},Vt.prototype.download=function(C){var R=this.getEnglishName("fontFamily"),U=this.getEnglishName("fontSubfamily"),z=(C=C||R.replace(/\s/g,"")+"-"+U+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,z.byteLength,function(te){te.root.getFile(C,{create:!0},function(oe){oe.createWriter(function(ae){var ve=new DataView(z),ve=new Blob([ve],{type:"font/opentype"});ae.write(ve),ae.addEventListener("writeend",function(){location.href=oe.toURL()},!1)})})},function(te){throw new Error(te.name+": "+te.message)})):(R=t("fs"),U=function(te){for(var oe=new i(te.byteLength),ae=new Uint8Array(te),ve=0;ve<oe.length;++ve)oe[ve]=ae[ve];return oe}(z),R.writeFileSync(C,U))},Vt.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Vt.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Vt.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var i0={make:function(C,R){var U=new ce.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:C.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:C.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*C.axes.length}]);U.offsetToData=U.sizeOf();for(var z,te,oe,ae=0;ae<C.axes.length;ae++)U.fields=U.fields.concat((z=ae,te=C.axes[ae],oe=R,oe=wf(te.name,R),[{name:"tag_"+z,type:"TAG",value:te.tag},{name:"minValue_"+z,type:"FIXED",value:te.minValue<<16},{name:"defaultValue_"+z,type:"FIXED",value:te.defaultValue<<16},{name:"maxValue_"+z,type:"FIXED",value:te.maxValue<<16},{name:"flags_"+z,type:"USHORT",value:0},{name:"nameID_"+z,type:"USHORT",value:oe}]));for(var ve=0;ve<C.instances.length;ve++)U.fields=U.fields.concat(function(Me,De,Oe,Re){for(var Pe=[{name:"nameID_"+Me,type:"USHORT",value:wf(De.name,Re)},{name:"flags_"+Me,type:"USHORT",value:0}],Ae=0;Ae<Oe.length;++Ae){var Ge=Oe[Ae].tag;Pe.push({name:"axis_"+Me+" "+Ge,type:"FIXED",value:De.coordinates[Ge]<<16})}return Pe}(ve,C.instances[ve],C.axes,R));return U},parse:function(C,R,U){for(var z,te,oe,ae,ve=new we.Parser(C,R),Me=ve.parseULong(),De=(D.argument(Me===65536,"Unsupported fvar table version."),ve.parseOffset16()),Oe=(ve.skip("uShort",1),ve.parseUShort()),Re=ve.parseUShort(),Pe=ve.parseUShort(),Ae=ve.parseUShort(),Ge=[],Fe=0;Fe<Oe;Fe++)Ge.push((z=C,te=R+De+Fe*Re,oe=U,ae={},z=new we.Parser(z,te),ae.tag=z.parseTag(),ae.minValue=z.parseFixed(),ae.defaultValue=z.parseFixed(),ae.maxValue=z.parseFixed(),z.skip("uShort",1),ae.name=oe[z.parseUShort()]||{},ae));for(var Ue=[],Le=R+De+Oe*Re,Ne=0;Ne<Pe;Ne++)Ue.push(function(it,dt,ot,st){var bt={},zt=new we.Parser(it,dt);bt.name=st[zt.parseUShort()]||{},zt.skip("uShort",1),bt.coordinates={};for(var Qt=0;Qt<ot.length;++Qt)bt.coordinates[ot[Qt].tag]=zt.parseFixed();return bt}(C,Le+Ne*Ae,Ge,U));return{axes:Ge,instances:Ue}}},qr=new Array(10);qr[1]=function(){var C=this.offset+this.relativeOffset,R=this.parseUShort();return R===1?{posFormat:1,coverage:this.parsePointer(ge.coverage),value:this.parseValueRecord()}:R===2?{posFormat:2,coverage:this.parsePointer(ge.coverage),values:this.parseValueRecordList()}:void D.assert(!1,"0x"+C.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},qr[2]=function(){var C,R,U,z,oe=this.offset+this.relativeOffset,te=this.parseUShort(),oe=(D.assert(te===1||te===2,"0x"+oe.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(ge.coverage)),ae=this.parseUShort(),ve=this.parseUShort();return te===1?{posFormat:te,coverage:oe,valueFormat1:ae,valueFormat2:ve,pairSets:this.parseList(ge.pointer(ge.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ae),value2:this.parseValueRecord(ve)}})))}:te===2?(C=this.parsePointer(ge.classDef),R=this.parsePointer(ge.classDef),U=this.parseUShort(),z=this.parseUShort(),{posFormat:te,coverage:oe,valueFormat1:ae,valueFormat2:ve,classDef1:C,classDef2:R,class1Count:U,class2Count:z,classRecords:this.parseList(U,ge.list(z,function(){return{value1:this.parseValueRecord(ae),value2:this.parseValueRecord(ve)}}))}):void 0},qr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},qr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},qr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},qr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},qr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},qr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},qr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var o0=new Array(10),s0={parse:function(C,R){return R=(C=new ge(C,R=R||0)).parseVersion(1),D.argument(R===1||R===1.1,"Unsupported GPOS table version "+R),R===1?{version:R,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList(qr)}:{version:R,scripts:C.parseScriptList(),features:C.parseFeatureList(),lookups:C.parseLookupList(qr),variations:C.parseFeatureVariationsList()}},make:function(C){return new ce.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new ce.ScriptList(C.scripts)},{name:"features",type:"TABLE",value:new ce.FeatureList(C.features)},{name:"lookups",type:"TABLE",value:new ce.LookupList(C.lookups,o0)}])}},a0={parse:function(C,R){if(C=new we.Parser(C,R),(R=C.parseUShort())===0){var U=C,z={},Re=(U.skip("uShort"),U.parseUShort()),te=(D.argument(Re===0,"Unsupported kern sub-table version."),U.skip("uShort",2),U.parseUShort());U.skip("uShort",3);for(var oe=0;oe<te;oe+=1){var ae=U.parseUShort(),ve=U.parseUShort(),Me=U.parseShort();z[ae+","+ve]=Me}return z}if(R!==1)throw new Error("Unsupported kern table version ("+R+").");var De=C,Oe={},Re=(De.skip("uShort"),1<De.parseULong()&&console.warn("Only the first kern subtable is supported."),De.skip("uLong"),255&De.parseUShort());if(De.skip("uShort"),Re==0){var Pe=De.parseUShort();De.skip("uShort",3);for(var Ae=0;Ae<Pe;Ae+=1){var Ge=De.parseUShort(),Fe=De.parseUShort(),Ue=De.parseShort();Oe[Ge+","+Fe]=Ue}}return Oe}},l0={parse:function(C,R,U,z){for(var te=new we.Parser(C,R),oe=z?te.parseUShort:te.parseULong,ae=[],ve=0;ve<U+1;ve+=1){var Me=oe.call(te);z&&(Me*=2),ae.push(Me)}return ae}};function u0(C,R){t("fs").readFile(C,function(U,z){if(U)return R(U.message);R(null,Zh(z))})}function c0(C,R){var U=new XMLHttpRequest;U.open("get",C,!0),U.responseType="arraybuffer",U.onload=function(){return U.response?R(null,U.response):R("Font could not be loaded: "+U.statusText)},U.onerror=function(){R("Font could not be loaded")},U.send()}function _f(C,R){for(var U=[],z=12,te=0;te<R;te+=1){var oe=we.getTag(C,z),ae=we.getULong(C,z+4),ve=we.getULong(C,z+8),Me=we.getULong(C,z+12);U.push({tag:oe,checksum:ae,offset:ve,length:Me,compression:!1}),z+=16}return U}function sr(U,R){if(R.compression!=="WOFF")return{data:U,offset:R.offset};var U=new Uint8Array(U.buffer,R.offset+2,R.compressedLength-2),z=new Uint8Array(R.length);if(H(U,z),z.byteLength!==R.length)throw new Error("Decompression error: "+R.tag+" decompressed length doesn't match recorded length");return{data:new DataView(z.buffer,0),offset:0}}function fu(Ne){var R,U,z,te,oe,ae,ve,Me,De,Oe,Re,Pe,Ae,Ge,Fe=new Vt({empty:!0}),Ue=new DataView(Ne,0),Le=[],Ne=we.getTag(Ue,0);if(Ne==="\0\0\0"||Ne==="true"||Ne==="typ1")Fe.outlinesFormat="truetype",Le=_f(Ue,z=we.getUShort(Ue,4));else if(Ne==="OTTO")Fe.outlinesFormat="cff",Le=_f(Ue,z=we.getUShort(Ue,4));else{if(Ne!=="wOFF")throw new Error("Unsupported OpenType signature "+Ne);var it=we.getTag(Ue,4);if(it==="\0\0\0")Fe.outlinesFormat="truetype";else{if(it!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ne);Fe.outlinesFormat="cff"}Le=function(Wt,Nt){for(var Cr=[],Xt=44,yr=0;yr<Nt;yr+=1){var $t=we.getTag(Wt,Xt),pr=we.getULong(Wt,Xt+4),Go=we.getULong(Wt,Xt+8),Gi=we.getULong(Wt,Xt+12),Sf=void 0,Sf=Go<Gi&&"WOFF";Cr.push({tag:$t,offset:pr,compression:Sf,compressedLength:Go,length:Gi}),Xt+=20}return Cr}(Ue,z=we.getUShort(Ue,12))}for(var dt=0;dt<z;dt+=1){var ot=Le[dt],st=void 0;switch(ot.tag){case"cmap":st=sr(Ue,ot),Fe.tables.cmap=le.parse(st.data,st.offset),Fe.encoding=new ke(Fe.tables.cmap);break;case"cvt ":st=sr(Ue,ot),Ge=new we.Parser(st.data,st.offset),Fe.tables.cvt=Ge.parseShortList(ot.length/2);break;case"fvar":oe=ot;break;case"fpgm":st=sr(Ue,ot),Ge=new we.Parser(st.data,st.offset),Fe.tables.fpgm=Ge.parseByteList(ot.length);break;case"head":st=sr(Ue,ot),Fe.tables.head=an.parse(st.data,st.offset),Fe.unitsPerEm=Fe.tables.head.unitsPerEm,R=Fe.tables.head.indexToLocFormat;break;case"hhea":st=sr(Ue,ot),Fe.tables.hhea=Ie.parse(st.data,st.offset),Fe.ascender=Fe.tables.hhea.ascender,Fe.descender=Fe.tables.hhea.descender,Fe.numberOfHMetrics=Fe.tables.hhea.numberOfHMetrics;break;case"hmtx":De=ot;break;case"ltag":st=sr(Ue,ot),U=Xe.parse(st.data,st.offset);break;case"maxp":st=sr(Ue,ot),Fe.tables.maxp=We.parse(st.data,st.offset),Fe.numGlyphs=Fe.tables.maxp.numGlyphs;break;case"name":Pe=ot;break;case"OS/2":st=sr(Ue,ot),Fe.tables.os2=fr.parse(st.data,st.offset);break;case"post":st=sr(Ue,ot),Fe.tables.post=Uh.parse(st.data,st.offset),Fe.glyphNames=new Ve(Fe.tables.post);break;case"prep":st=sr(Ue,ot),Ge=new we.Parser(st.data,st.offset),Fe.tables.prep=Ge.parseByteList(ot.length);break;case"glyf":ae=ot;break;case"loca":Re=ot;break;case"CFF ":te=ot;break;case"kern":Oe=ot;break;case"GPOS":ve=ot;break;case"GSUB":Me=ot;break;case"meta":Ae=ot}}if(it=sr(Ue,Pe),Fe.tables.name=Or.parse(it.data,it.offset,U),Fe.names=Fe.tables.name,ae&&Re)Ne=R===0,it=sr(Ue,Re),it=l0.parse(it.data,it.offset,Fe.numGlyphs,Ne),Ne=sr(Ue,ae),Fe.glyphs=Jh.parse(Ne.data,Ne.offset,it,Fe);else{if(!te)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ne=sr(Ue,te),zn.parse(Ne.data,Ne.offset,Fe)}for(var it=sr(Ue,De),bt=($e.parse(it.data,it.offset,Fe.numberOfHMetrics,Fe.numGlyphs,Fe.glyphs),Fe),zt=bt.tables.cmap.glyphIndexMap,Qt=Object.keys(zt),ar=0;ar<Qt.length;ar+=1){var _r,Sr=Qt[ar],Yr=zt[Sr];(_r=bt.glyphs.get(Yr)).addUnicode(parseInt(Sr))}for(var Gt=0;Gt<bt.glyphs.length;Gt+=1)_r=bt.glyphs.get(Gt),bt.cffEncoding?bt.isCIDFont?_r.name="gid"+Gt:_r.name=bt.cffEncoding.charset[Gt]:bt.glyphNames.names&&(_r.name=bt.glyphNames.glyphIndexToName(Gt));return Oe?(Ne=sr(Ue,Oe),Fe.kerningPairs=a0.parse(Ne.data,Ne.offset)):Fe.kerningPairs={},ve&&(it=sr(Ue,ve),Fe.tables.gpos=s0.parse(it.data,it.offset),Fe.position.init()),Me&&(Ne=sr(Ue,Me),Fe.tables.gsub=Vh.parse(Ne.data,Ne.offset)),oe&&(it=sr(Ue,oe),Fe.tables.fvar=i0.parse(it.data,it.offset,Fe.names)),Ae&&(Ne=sr(Ue,Ae),Fe.tables.meta=Gh.parse(Ne.data,Ne.offset),Fe.metas=Fe.tables.meta),Fe}v.Font=Vt,v.Glyph=qe,v.Path=ee,v.BoundingBox=W,v._parse=we,v.parse=fu,v.load=function(C,R){(typeof window>"u"?u0:c0)(C,function(U,z){if(U)return R(U);var te;try{te=fu(z)}catch(oe){return R(oe,null)}return R(null,te)})},v.loadSync=function(C){return fu(Zh(t("fs").readFileSync(C)))},Object.defineProperty(v,"__esModule",{value:!0})},typeof y=="object"&&o!==void 0?u(y):typeof n=="function"&&n.amd?n(["exports"],u):u(p.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],255:[function(t,o,y){(function(i){function p(x,w){for(var c=0,a=x.length-1;0<=a;a--){var d=x[a];d==="."?x.splice(a,1):d===".."?(x.splice(a,1),c++):c&&(x.splice(a,1),c--)}if(w)for(;c--;)x.unshift("..");return x}function u(x,w){if(x.filter)return x.filter(w);for(var c=[],a=0;a<x.length;a++)w(x[a],a,x)&&c.push(x[a]);return c}y.resolve=function(){for(var x="",w=!1,c=arguments.length-1;-1<=c&&!w;c--){var a=0<=c?arguments[c]:i.cwd();if(typeof a!="string")throw new TypeError("Arguments to path.resolve must be strings");a&&(x=a+"/"+x,w=a.charAt(0)==="/")}return(w?"/":"")+(x=p(u(x.split("/"),function(d){return!!d}),!w).join("/"))||"."},y.normalize=function(x){var w=y.isAbsolute(x),c=v(x,-1)==="/";return(x=(x=p(u(x.split("/"),function(a){return!!a}),!w).join("/"))||w?x:".")&&c&&(x+="/"),(w?"/":"")+x},y.isAbsolute=function(x){return x.charAt(0)==="/"},y.join=function(){var x=Array.prototype.slice.call(arguments,0);return y.normalize(u(x,function(w,c){if(typeof w!="string")throw new TypeError("Arguments to path.join must be strings");return w}).join("/"))},y.relative=function(x,w){function c(g){for(var b=0;b<g.length&&g[b]==="";b++);for(var _=g.length-1;0<=_&&g[_]==="";_--);return _<b?[]:g.slice(b,_-b+1)}x=y.resolve(x).substr(1),w=y.resolve(w).substr(1);for(var a=c(x.split("/")),d=c(w.split("/")),f=Math.min(a.length,d.length),m=f,l=0;l<f;l++)if(a[l]!==d[l]){m=l;break}for(var h=[],l=m;l<a.length;l++)h.push("..");return(h=h.concat(d.slice(m))).join("/")},y.sep="/",y.delimiter=":",y.dirname=function(x){if(typeof x!="string"&&(x+=""),x.length===0)return".";for(var w=x.charCodeAt(0)===47,c=-1,a=!0,d=x.length-1;1<=d;--d)if(x.charCodeAt(d)===47){if(!a){c=d;break}}else a=!1;return c===-1?w?"/":".":w&&c===1?"/":x.slice(0,c)},y.basename=function(x,w){return x=function(c){typeof c!="string"&&(c+="");for(var a=0,d=-1,f=!0,m=c.length-1;0<=m;--m)if(c.charCodeAt(m)===47){if(!f){a=m+1;break}}else d===-1&&(f=!1,d=m+1);return d===-1?"":c.slice(a,d)}(x),x=w&&x.substr(-1*w.length)===w?x.substr(0,x.length-w.length):x},y.extname=function(x){typeof x!="string"&&(x+="");for(var w=-1,c=0,a=-1,d=!0,f=0,m=x.length-1;0<=m;--m){var l=x.charCodeAt(m);if(l===47){if(d)continue;c=m+1;break}a===-1&&(d=!1,a=m+1),l===46?w===-1?w=m:f!==1&&(f=1):w!==-1&&(f=-1)}return w===-1||a===-1||f===0||f===1&&w===a-1&&w===c+1?"":x.slice(w,a)};var v="ab".substr(-1)==="b"?function(x,w,c){return x.substr(w,c)}:function(x,w,c){return w<0&&(w=x.length+w),x.substr(w,c)}}).call(this,t("_process"))},{_process:256}],256:[function(t,u,y){var i,p,u=u.exports={};function v(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}try{i=typeof setTimeout=="function"?setTimeout:v}catch{i=v}try{p=typeof clearTimeout=="function"?clearTimeout:x}catch{p=x}function w(b){if(i===setTimeout)return setTimeout(b,0);if((i===v||!i)&&setTimeout)return(i=setTimeout)(b,0);try{return i(b,0)}catch{try{return i.call(null,b,0)}catch{return i.call(this,b,0)}}}var c,a=[],d=!1,f=-1;function m(){d&&c&&(d=!1,c.length?a=c.concat(a):f=-1,a.length&&l())}function l(){if(!d){for(var b=w(m),_=(d=!0,a.length);_;){for(c=a,a=[];++f<_;)c&&c[f].run();f=-1,_=a.length}c=null,d=!1,function(A){if(p===clearTimeout)return clearTimeout(A);if((p===x||!p)&&clearTimeout)return(p=clearTimeout)(A);try{p(A)}catch{try{return p.call(null,A)}catch{return p.call(this,A)}}}(b)}}function h(b,_){this.fun=b,this.array=_}function g(){}u.nextTick=function(b){var _=new Array(arguments.length-1);if(1<arguments.length)for(var A=1;A<arguments.length;A++)_[A-1]=arguments[A];a.push(new h(b,_)),a.length!==1||d||w(l)},h.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=g,u.addListener=g,u.once=g,u.off=g,u.removeListener=g,u.removeAllListeners=g,u.emit=g,u.prependListener=g,u.prependOnceListener=g,u.listeners=function(b){return[]},u.binding=function(b){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(b){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],257:[function(t,o,y){o=function(i){"use strict";var p,u=Object.prototype,v=u.hasOwnProperty,P=typeof Symbol=="function"?Symbol:{},x=P.iterator||"@@iterator",w=P.asyncIterator||"@@asyncIterator",c=P.toStringTag||"@@toStringTag";function a(V,B,F,Y){var ee,J,N,D,B=B&&B.prototype instanceof b?B:b,B=Object.create(B.prototype),Y=new T(Y||[]);return B._invoke=(ee=V,J=F,N=Y,D=f,function(G,q){if(D===l)throw new Error("Generator is already running");if(D===h){if(G==="throw")throw q;return O()}for(N.method=G,N.arg=q;;){var X=N.delegate;if(X&&(X=function ne($,K){var Q=$.iterator[K.method];if(Q===p){if(K.delegate=null,K.method==="throw"){if($.iterator.return&&(K.method="return",K.arg=p,ne($,K),K.method==="throw"))return g;K.method="throw",K.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}if(Q=d(Q,$.iterator,K.arg),Q.type==="throw")return K.method="throw",K.arg=Q.arg,K.delegate=null,g;if(Q=Q.arg,!Q)return K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,g;{if(!Q.done)return Q;K[$.resultName]=Q.value,K.next=$.nextLoc,K.method!=="return"&&(K.method="next",K.arg=p)}return K.delegate=null,g}(X,N),X)){if(X===g)continue;return X}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(D===f)throw D=h,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);if(D=l,X=d(ee,J,N),X.type==="normal"){if(D=N.done?h:m,X.arg!==g)return{value:X.arg,done:N.done}}else X.type==="throw"&&(D=h,N.method="throw",N.arg=X.arg)}}),B}function d(V,H,F){try{return{type:"normal",arg:V.call(H,F)}}catch(W){return{type:"throw",arg:W}}}i.wrap=a;var f="suspendedStart",m="suspendedYield",l="executing",h="completed",g={};function b(){}function _(){}function A(){}var P={},j=(P[x]=function(){return this},Object.getPrototypeOf),j=j&&j(j(L([]))),E=(j&&j!==u&&v.call(j,x)&&(P=j),A.prototype=b.prototype=Object.create(P));function k(V){["next","throw","return"].forEach(function(H){V[H]=function(F){return this._invoke(H,F)}})}function M(V){var H;this._invoke=function(F,W){function ee(){return new Promise(function(J,N){(function D(ne,Y,G,q){var X,ne=d(V[ne],V,Y);if(ne.type!=="throw")return(Y=(X=ne.arg).value)&&typeof Y=="object"&&v.call(Y,"__await")?Promise.resolve(Y.__await).then(function($){D("next",$,G,q)},function($){D("throw",$,G,q)}):Promise.resolve(Y).then(function($){X.value=$,G(X)},function($){return D("throw",$,G,q)});q(ne.arg)})(F,W,J,N)})}return H=H?H.then(ee,ee):ee()}}function I(V){var H={tryLoc:V[0]};1 in V&&(H.catchLoc=V[1]),2 in V&&(H.finallyLoc=V[2],H.afterLoc=V[3]),this.tryEntries.push(H)}function S(V){var H=V.completion||{};H.type="normal",delete H.arg,V.completion=H}function T(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(I,this),this.reset(!0)}function L(V){if(V){var H,F=V[x];if(F)return F.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length))return H=-1,(F=function W(){for(;++H<V.length;)if(v.call(V,H))return W.value=V[H],W.done=!1,W;return W.value=p,W.done=!0,W}).next=F}return{next:O}}function O(){return{value:p,done:!0}}return(_.prototype=E.constructor=A).constructor=_,A[c]=_.displayName="GeneratorFunction",i.isGeneratorFunction=function(V){return V=typeof V=="function"&&V.constructor,!!V&&(V===_||(V.displayName||V.name)==="GeneratorFunction")},i.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,A):(V.__proto__=A,c in V||(V[c]="GeneratorFunction")),V.prototype=Object.create(E),V},i.awrap=function(V){return{__await:V}},k(M.prototype),M.prototype[w]=function(){return this},i.AsyncIterator=M,i.async=function(V,H,F,W){var ee=new M(a(V,H,F,W));return i.isGeneratorFunction(H)?ee:ee.next().then(function(J){return J.done?J.value:ee.next()})},k(E),E[c]="Generator",E[x]=function(){return this},E.toString=function(){return"[object Generator]"},i.keys=function(V){var H,F=[];for(H in V)F.push(H);return F.reverse(),function W(){for(;F.length;){var ee=F.pop();if(ee in V)return W.value=ee,W.done=!1,W}return W.done=!0,W}},i.values=L,T.prototype={constructor:T,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=p,this.done=!1,this.delegate=null,this.method="next",this.arg=p,this.tryEntries.forEach(S),!V)for(var H in this)H.charAt(0)==="t"&&v.call(this,H)&&!isNaN(+H.slice(1))&&(this[H]=p)},stop:function(){this.done=!0;var V=this.tryEntries[0].completion;if(V.type==="throw")throw V.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var H=this;function F(B,Y){return J.type="throw",J.arg=V,H.next=B,Y&&(H.method="next",H.arg=p),!!Y}for(var W=this.tryEntries.length-1;0<=W;--W){var ee=this.tryEntries[W],J=ee.completion;if(ee.tryLoc==="root")return F("end");if(ee.tryLoc<=this.prev){var N=v.call(ee,"catchLoc"),D=v.call(ee,"finallyLoc");if(N&&D){if(this.prev<ee.catchLoc)return F(ee.catchLoc,!0);if(this.prev<ee.finallyLoc)return F(ee.finallyLoc)}else if(N){if(this.prev<ee.catchLoc)return F(ee.catchLoc,!0)}else{if(!D)throw new Error("try statement without catch or finally");if(this.prev<ee.finallyLoc)return F(ee.finallyLoc)}}}},abrupt:function(V,H){for(var F=this.tryEntries.length-1;0<=F;--F){var W=this.tryEntries[F];if(W.tryLoc<=this.prev&&v.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var ee=W;break}}var J=(ee=ee&&(V==="break"||V==="continue")&&ee.tryLoc<=H&&H<=ee.finallyLoc?null:ee)?ee.completion:{};return J.type=V,J.arg=H,ee?(this.method="next",this.next=ee.finallyLoc,g):this.complete(J)},complete:function(V,H){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&H&&(this.next=H),g},finish:function(V){for(var H=this.tryEntries.length-1;0<=H;--H){var F=this.tryEntries[H];if(F.finallyLoc===V)return this.complete(F.completion,F.afterLoc),S(F),g}},catch:function(V){for(var H=this.tryEntries.length-1;0<=H;--H){var F,W,ee=this.tryEntries[H];if(ee.tryLoc===V)return(F=ee.completion).type==="throw"&&(W=F.arg,S(ee)),W}throw new Error("illegal catch attempt")},delegateYield:function(V,H,F){return this.delegate={iterator:L(V),resultName:H,nextLoc:F},this.method==="next"&&(this.arg=p),g}},i}(typeof o=="object"?o.exports:{});try{regeneratorRuntime=o}catch{Function("r","regeneratorRuntime = r")(o)}},{}],258:[function(t,o,y){(function(i){"use strict";var p,u,v,x,w,c,a,d,f,m;function l(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(S))throw new TypeError("Invalid character in header field name");return S.toLowerCase()}function h(S){return S=typeof S!="string"?String(S):S}function g(S){var T={next:function(){var L=S.shift();return{done:L===void 0,value:L}}};return u&&(T[Symbol.iterator]=function(){return T}),T}function b(S){this.map={},S instanceof b?S.forEach(function(T,L){this.append(L,T)},this):Array.isArray(S)?S.forEach(function(T){this.append(T[0],T[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function(T){this.append(T,S[T])},this)}function _(S){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}function A(S){return new Promise(function(T,L){S.onload=function(){T(S.result)},S.onerror=function(){L(S.error)}})}function P(S){var T=new FileReader,L=A(T);return T.readAsArrayBuffer(S),L}function j(S){var T;return S.slice?S.slice(0):((T=new Uint8Array(S.byteLength)).set(new Uint8Array(S)),T.buffer)}function E(){return this.bodyUsed=!1,this._initBody=function(S){if(this._bodyInit=S)if(typeof S=="string")this._bodyText=S;else if(v&&Blob.prototype.isPrototypeOf(S))this._bodyBlob=S;else if(x&&FormData.prototype.isPrototypeOf(S))this._bodyFormData=S;else if(p&&URLSearchParams.prototype.isPrototypeOf(S))this._bodyText=S.toString();else if(w&&v&&a(S))this._bodyArrayBuffer=j(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!w||!ArrayBuffer.prototype.isPrototypeOf(S)&&!d(S))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=j(S)}else this._bodyText="";this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):p&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v&&(this.blob=function(){var S=_(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?_(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(P)}),this.text=function(){var S,T,L=_(this);if(L)return L;if(this._bodyBlob)return L=this._bodyBlob,S=new FileReader,T=A(S),S.readAsText(L),T;if(this._bodyArrayBuffer)return Promise.resolve(function(O){for(var V=new Uint8Array(O),H=new Array(V.length),F=0;F<V.length;F++)H[F]=String.fromCharCode(V[F]);return H.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},x&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}function k(S,T){var L,O=(T=T||{}).body;if(S instanceof k){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,T.headers||(this.headers=new b(S.headers)),this.method=S.method,this.mode=S.mode,O||S._bodyInit==null||(O=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=T.credentials||this.credentials||"omit",!T.headers&&this.headers||(this.headers=new b(T.headers)),this.method=(S=T.method||this.method||"GET",L=S.toUpperCase(),-1<f.indexOf(L)?L:S),this.mode=T.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(O)}function M(S){var T=new FormData;return S.trim().split("&").forEach(function(L){var O;L&&(O=(L=L.split("=")).shift().replace(/\+/g," "),L=L.join("=").replace(/\+/g," "),T.append(decodeURIComponent(O),decodeURIComponent(L)))}),T}function I(S,T){T=T||{},this.type="default",this.status=T.status===void 0?200:T.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in T?T.statusText:"OK",this.headers=new b(T.headers),this.url=T.url||"",this._initBody(S)}i.fetch||(p="URLSearchParams"in i,u="Symbol"in i&&"iterator"in Symbol,v="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),x="FormData"in i,(w="ArrayBuffer"in i)&&(c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(S){return S&&DataView.prototype.isPrototypeOf(S)},d=ArrayBuffer.isView||function(S){return S&&-1<c.indexOf(Object.prototype.toString.call(S))}),b.prototype.append=function(S,T){S=l(S),T=h(T);var L=this.map[S];this.map[S]=L?L+","+T:T},b.prototype.delete=function(S){delete this.map[l(S)]},b.prototype.get=function(S){return S=l(S),this.has(S)?this.map[S]:null},b.prototype.has=function(S){return this.map.hasOwnProperty(l(S))},b.prototype.set=function(S,T){this.map[l(S)]=h(T)},b.prototype.forEach=function(S,T){for(var L in this.map)this.map.hasOwnProperty(L)&&S.call(T,this.map[L],L,this)},b.prototype.keys=function(){var S=[];return this.forEach(function(T,L){S.push(L)}),g(S)},b.prototype.values=function(){var S=[];return this.forEach(function(T){S.push(T)}),g(S)},b.prototype.entries=function(){var S=[];return this.forEach(function(T,L){S.push([L,T])}),g(S)},u&&(b.prototype[Symbol.iterator]=b.prototype.entries),f=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],k.prototype.clone=function(){return new k(this,{body:this._bodyInit})},E.call(k.prototype),E.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},I.error=function(){var S=new I(null,{status:0,statusText:""});return S.type="error",S},m=[301,302,303,307,308],I.redirect=function(S,T){if(m.indexOf(T)===-1)throw new RangeError("Invalid status code");return new I(null,{status:T,headers:{location:S}})},i.Headers=b,i.Request=k,i.Response=I,i.fetch=function(S,T){return new Promise(function(L,O){var V=new k(S,T),H=new XMLHttpRequest;H.onload=function(){var F,W={status:H.status,statusText:H.statusText,headers:(W=H.getAllResponseHeaders()||"",F=new b,W.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(N){var N=N.split(":"),D=N.shift().trim();D&&(N=N.join(":").trim(),F.append(D,N))}),F)},ee=(W.url="responseURL"in H?H.responseURL:W.headers.get("X-Request-URL"),"response"in H?H.response:H.responseText);L(new I(ee,W))},H.onerror=function(){O(new TypeError("Network request failed"))},H.ontimeout=function(){O(new TypeError("Network request failed"))},H.open(V.method,V.url,!0),V.credentials==="include"?H.withCredentials=!0:V.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&v&&(H.responseType="blob"),V.headers.forEach(function(F,W){H.setRequestHeader(W,F)}),H.send(V._bodyInit===void 0?null:V._bodyInit)})},i.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],259:[function(t,o,y){"use strict";t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i,p=v(t("../core/main")),u=v(t("../color/color_conversion"));function v(c){return c&&c.__esModule?c:{default:c}}var x=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],w=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];p.default.prototype._rgbColorName=function(f){var a,d,f=u.default._rgbaToHSBA(f),m=[(i=f)[0],f[1],f[2]];m[0]!==0&&(m[0]=Math.round(100*m[0]),(f=m[0].toString().split(""))[d=f.length-1]=parseInt(f[d]),f[d]<2.5?f[d]=0:2.5<=f[d]&&f[d]<7.5&&(f[d]=5),f.length===2?(f[0]=parseInt(f[0]),7.5<=f[d]&&(f[d]=0,f[0]=f[0]+1),m[0]=10*f[0]+f[1]):7.5<=f[d]?m[0]=10:m[0]=f[d]),m[2]=m[2]/255;for(var l=m.length-1;1<=l;l--)m[l]<=.25?m[l]=0:.25<m[l]&&m[l]<.75?m[l]=.5:m[l]=1;if(m[0]===0&&m[1]===0&&m[2]===1){for(var h=2;0<=h;h--)i[h]=Math.round(1e4*i[h])/1e4;for(var g=0;g<x.length;g++){if(x[g].h===i[0]&&x[g].s===i[1]&&x[g].b===i[2]){a=x[g].name;break}a="white"}}else for(var b=0;b<w.length;b++)if(w[b].h===m[0]&&w[b].s===m[1]&&w[b].b===m[2]){a=w[b].name;break}return a},t=p.default,y.default=t},{"../color/color_conversion":265,"../core/main":280,"core-js/modules/es.function.name":173,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203}],260:[function(t,o,y){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t},p="_Description",u="_fallbackDesc",v="_fallbackTable",x="_Label",w="_labelDesc",c="_labelTable";function a(d){if(d==="label"||d==="fallback")throw new Error("description should not be LABEL or FALLBACK");return d.endsWith(".")||d.endsWith(";")||d.endsWith(",")||d.endsWith("?")||d.endsWith("!")||(d+="."),d}i.default.prototype.describe=function(d,f){var m;i.default._validateParameters("describe",arguments),typeof d=="string"&&(m=this.canvas.id,d=a(d),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==d&&(this.descriptions.fallback.innerHTML=d):this._describeHTML("fallback",d),f===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==d&&(this.descriptions.label.innerHTML=d):this._describeHTML("label",d)))},i.default.prototype.describeElement=function(d,f,m){var l,h;i.default._validateParameters("describeElement",arguments),typeof f=="string"&&typeof d=="string"&&(l=this.canvas.id,f=a(f),h=function(g){if(g==="label"||g==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return g.endsWith(".")||g.endsWith(";")||g.endsWith(",")?g=g.replace(/.$/,":"):g.endsWith(":")||(g+=":"),g}(d),d=d.replace(/[^a-zA-Z0-9]/g,""),h='<th scope="row">'.concat(h,"</th><td>").concat(f,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(l).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[d]?this.descriptions.fallbackElements[d].innerHTML!==h&&(this.descriptions.fallbackElements[d].innerHTML=h):this._describeElementHTML("fallback",d,h),m===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[d]?this.descriptions.labelElements[d].innerHTML!==h&&(this.descriptions.labelElements[d].innerHTML=h):this._describeElementHTML("label",d,h)))},i.default.prototype._describeHTML=function(d,f){var m,l=this.canvas.id;d==="fallback"?(this.dummyDOM.querySelector("#".concat(l+p))?this.dummyDOM.querySelector("#"+l+v).insertAdjacentHTML("beforebegin",'<p id="'.concat(l+u,'"></p>')):(m='<div id="'.concat(l).concat(p,'" role="region" aria-label="Canvas Description"><p id="').concat(l).concat(u,'"></p></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutput")).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#".concat(l)).innerHTML=m),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(l).concat(u)),this.descriptions.fallback.innerHTML=f):d==="label"&&(this.dummyDOM.querySelector("#".concat(l+x))?this.dummyDOM.querySelector("#".concat(l+c))&&this.dummyDOM.querySelector("#".concat(l+c)).insertAdjacentHTML("beforebegin",'<p id="'.concat(l).concat(w,'"></p>')):(m='<div id="'.concat(l).concat(x,'" class="p5Label"><p id="').concat(l).concat(w,'"></p></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",m):this.dummyDOM.querySelector("#"+l).insertAdjacentHTML("afterend",m)),this.descriptions.label=this.dummyDOM.querySelector("#"+l+w),this.descriptions.label.innerHTML=f)},i.default.prototype._describeElementHTML=function(d,f,m){var l,h=this.canvas.id;d==="fallback"?(this.dummyDOM.querySelector("#".concat(h+p))?this.dummyDOM.querySelector("#"+h+v)||this.dummyDOM.querySelector("#"+h+u).insertAdjacentHTML("afterend",'<table id="'.concat(h).concat(v,'"><caption>Canvas elements and their descriptions</caption></table>')):(l='<div id="'.concat(h).concat(p,'" role="region" aria-label="Canvas Description"><table id="').concat(h).concat(v,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutput")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+h).innerHTML=l),(l=document.createElement("tr")).id=h+"_fte_"+f,this.dummyDOM.querySelector("#"+h+v).appendChild(l),this.descriptions.fallbackElements[f]=this.dummyDOM.querySelector("#".concat(h).concat("_fte_").concat(f)),this.descriptions.fallbackElements[f].innerHTML=m):d==="label"&&(this.dummyDOM.querySelector("#".concat(h+x))?this.dummyDOM.querySelector("#".concat(h+c))||this.dummyDOM.querySelector("#"+h+w).insertAdjacentHTML("afterend",'<table id="'.concat(h+c,'"></table>')):(l='<div id="'.concat(h).concat(x,'" class="p5Label"><table id="').concat(h).concat(c,'"></table></div>'),this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(h,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#"+h).insertAdjacentHTML("afterend",l)),(d=document.createElement("tr")).id=h+"_lte_"+f,this.dummyDOM.querySelector("#"+h+c).appendChild(d),this.descriptions.labelElements[f]=this.dummyDOM.querySelector("#".concat(h).concat("_lte_").concat(f)),this.descriptions.labelElements[f].innerHTML=m)},t=i.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.replace":201}],261:[function(t,o,y){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(i){var p,u,v,x;this.dummyDOM.querySelector("#".concat(i,"_summary"))&&(p=this._accessibleOutputs[i],v=function(w,c,a,d){return c="".concat(c," canvas, ").concat(a," by ").concat(d," pixels, contains ").concat(w[0]),c=(w[0]===1?"".concat(c," shape: "):"".concat(c," shapes: ")).concat(w[1]),c}((u=function(w,c){var a,d="",f="",m=0;for(a in c){var l,h=0;for(l in c[a]){var g='<li id="'.concat(w,"shape").concat(m,'">').concat(c[a][l].color," ").concat(a,",");a==="line"?g+=" location = ".concat(c[a][l].pos,", length = ").concat(c[a][l].length," pixels"):(g+=" location = ".concat(c[a][l].pos),a!=="point"&&(g+=", area = ".concat(c[a][l].area," %")),g+="</li>"),d+=g,h++,m++}f=1<h?"".concat(f," ").concat(h," ").concat(a,"s"):"".concat(f," ").concat(h," ").concat(a)}return{numShapes:[m,f],details:d}}(i,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),x=function(w,c){var a,d,f=0,m="",l=Array.from(Array(10),function(){return Array(10)});for(a in c)for(var h in c[a]){var g=void 0;g=a!=="line"?'<a href="#'.concat(w,"shape").concat(f,'">').concat(c[a][h].color," ").concat(a,"</a>"):'<a href="#'.concat(w,"shape").concat(f,'">').concat(c[a][h].color," ").concat(a," midpoint</a>"),l[c[a][h].loc.locY][c[a][h].loc.locX]?l[c[a][h].loc.locY][c[a][h].loc.locX]=l[c[a][h].loc.locY][c[a][h].loc.locX]+"  "+g:l[c[a][h].loc.locY][c[a][h].loc.locX]=g,f++}for(d in l){var b,_="<tr>";for(b in l[d])_+="<td>",l[d][b]!==void 0&&(_+=l[d][b]),_+="</td>";m=m+_+"</tr>"}return m}(i,this.ingredients.shapes),v!==p.summary.innerHTML&&(p.summary.innerHTML=v),x!==p.map.innerHTML&&(p.map.innerHTML=x),u.details!==p.shapeDetails.innerHTML&&(p.shapeDetails.innerHTML=u.details),this._accessibleOutputs[i]=p)},t=t.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.map":167,"core-js/modules/es.string.iterator":197}],262:[function(t,o,y){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(v){return function(x){if(Array.isArray(x)){for(var w=0,c=new Array(x.length);w<x.length;w++)c[w]=x[w];return c}}(v)||function(x){if(Symbol.iterator in Object(x)||Object.prototype.toString.call(x)==="[object Arguments]")return Array.from(x)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(v,x,w){return x=Math.floor(v[0]/x*10),v=Math.floor(v[1]/w*10),x===10&&(x-=1),v===10&&(v-=1),{locX:x,locY:v}}i.default.prototype.textOutput=function(v){i.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),v===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},i.default.prototype.gridOutput=function(v){i.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),v===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},i.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},i.default.prototype._createOutput=function(v,x){var w,c,a,d=this.canvas.id,f=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(d).parentNode),"");x==="Fallback"?(w=d+v,this.dummyDOM.querySelector("#".concat(c=d+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(d,"_Description"))?this.dummyDOM.querySelector("#".concat(d,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(d)).innerHTML='<div id="'.concat(c,'" role="region" aria-label="Canvas Outputs"></div>'))):x==="Label"&&(w=d+v+(f=x),this.dummyDOM.querySelector("#".concat(c=d+"accessibleOutput"+x))||(this.dummyDOM.querySelector("#".concat(d,"_Label"))?this.dummyDOM.querySelector("#".concat(d,"_Label")):this.dummyDOM.querySelector("#".concat(d))).insertAdjacentHTML("afterend",'<div id="'.concat(c,'"></div>'))),this._accessibleOutputs[w]={},v==="textOutput"?(f="#".concat(d,"gridOutput").concat(f),a='<div id="'.concat(w,'">Text Output<div id="').concat(w,'Summary" aria-label="text output summary"><p id="').concat(w,'_summary"></p><ul id="').concat(w,'_list"></ul></div><table id="').concat(w,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("beforebegin",a):this.dummyDOM.querySelector("#".concat(c)).innerHTML=a,this._accessibleOutputs[w].list=this.dummyDOM.querySelector("#".concat(w,"_list"))):v==="gridOutput"&&(f="#".concat(d,"textOutput").concat(f),a='<div id="'.concat(w,'">Grid Output<p id="').concat(w,'_summary" aria-label="grid output summary"><table id="').concat(w,'_map" summary="grid output content"></table><ul id="').concat(w,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(f)?this.dummyDOM.querySelector(f).insertAdjacentHTML("afterend",a):this.dummyDOM.querySelector("#".concat(c)).innerHTML=a,this._accessibleOutputs[w].map=this.dummyDOM.querySelector("#".concat(w,"_map"))),this._accessibleOutputs[w].shapeDetails=this.dummyDOM.querySelector("#".concat(w,"_shapeDetails")),this._accessibleOutputs[w].summary=this.dummyDOM.querySelector("#".concat(w,"_summary"))},i.default.prototype._updateAccsOutput=function(){var v=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(v+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(v+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(v+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(v+"gridOutputLabel"))},i.default.prototype._accsBackground=function(v){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==v&&(this.ingredients.colors.backgroundRGBA=v,this.ingredients.colors.background=this._rgbColorName(v))},i.default.prototype._accsCanvasColors=function(v,x){v==="fill"?this.ingredients.colors.fillRGBA!==x&&(this.ingredients.colors.fillRGBA=x,this.ingredients.colors.fill=this._rgbColorName(x)):v==="stroke"&&this.ingredients.colors.strokeRGBA!==x&&(this.ingredients.colors.strokeRGBA=x,this.ingredients.colors.stroke=this._rgbColorName(x))},i.default.prototype._accsOutput=function(v,x){v==="ellipse"&&x[2]===x[3]?v="circle":v==="rectangle"&&x[2]===x[3]&&(v="square");var w,c,a={},d=!0,f=function(l,h){var g;return l=l==="rectangle"||l==="ellipse"||l==="arc"||l==="circle"||l==="square"?(g=Math.round(h[0]+h[2]/2),Math.round(h[1]+h[3]/2)):l==="triangle"?(g=(h[0]+h[2]+h[4])/3,(h[1]+h[3]+h[5])/3):l==="quadrilateral"?(g=(h[0]+h[2]+h[4]+h[6])/4,(h[1]+h[3]+h[5]+h[7])/4):l==="line"?(g=(h[0]+h[2])/2,(h[1]+h[3])/2):(g=h[0],h[1]),[g,l]}(v,x);if(v==="line"?(a.color=this.ingredients.colors.stroke,a.length=Math.round(this.dist(x[0],x[1],x[2],x[3])),w=this._getPos(x[0],[1]),c=this._getPos(x[2],[3]),a.loc=u(f,this.width,this.height),a.pos=w===c?"at ".concat(w):"from ".concat(w," to ").concat(c)):(v==="point"?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=this._getArea(v,x)),a.pos=this._getPos.apply(this,p(f)),a.loc=u(f,this.width,this.height)),this.ingredients.shapes[v]){if(this.ingredients.shapes[v]!==[a]){for(var m in this.ingredients.shapes[v])JSON.stringify(this.ingredients.shapes[v][m])===JSON.stringify(a)&&(d=!1);d===!0&&this.ingredients.shapes[v].push(a)}}else this.ingredients.shapes[v]=[a]},i.default.prototype._getPos=function(c,w){var c=new DOMPointReadOnly(c,w),w=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),c=c.matrixTransform(w),w=c.x,c=c.y,a=this.width*this._pixelDensity,d=this.height*this._pixelDensity;return w<.4*a?c<.4*d?"top left":.6*d<c?"bottom left":"mid left":.6*a<w?c<.4*d?"top right":.6*d<c?"bottom right":"mid right":c<.4*d?"top middle":.6*d<c?"bottom middle":"middle"},i.default.prototype._getArea=function(v,x){var w,c,a=0,d=(v==="arc"?(a=(w=((x[5]-x[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*x[2]*x[3]/8,x[6]!=="open"&&x[6]!=="chord"||(c=x[0],h=x[1],d=x[0]+x[2]/2*Math.cos(x[4]).toFixed(2),g=x[1]+x[3]/2*Math.sin(x[4]).toFixed(2),m=x[0]+x[2]/2*Math.cos(x[5]).toFixed(2),f=x[1]+x[3]/2*Math.sin(x[5]).toFixed(2),c=Math.abs(c*(g-f)+d*(f-h)+m*(h-g))/2,w>Math.PI?a+=c:a-=c)):v==="ellipse"||v==="circle"?a=3.14*x[2]/2*x[3]/2:v==="line"||v==="point"?a=0:v==="quadrilateral"?a=Math.abs((x[6]+x[0])*(x[7]-x[1])+(x[0]+x[2])*(x[1]-x[3])+(x[2]+x[4])*(x[3]-x[5])+(x[4]+x[6])*(x[5]-x[7]))/2:v==="rectangle"||v==="square"?a=x[2]*x[3]:v==="triangle"&&(a=Math.abs(x[0]*(x[3]-x[5])+x[2]*(x[5]-x[1])+x[4]*(x[1]-x[3]))/2),this.width*this._pixelDensity),f=this.height*this._pixelDensity,m=[new DOMPoint(0,0),new DOMPoint(d,0),new DOMPoint(d,f),new DOMPoint(0,f)],l=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),h=m.map(function(b){return b.matrixTransform(l)}),g=Math.abs((h[3].x+h[0].x)*(h[3].y-h[0].y)+(h[0].x+h[1].x)*(h[0].y-h[1].y)+(h[1].x+h[2].x)*(h[1].y-h[2].y)+(h[2].x+h[3].x)*(h[2].y-h[3].y))/2;return Math.round(100*a/g)},t=i.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],263:[function(t,o,y){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(i){var p,u,v,x;this.dummyDOM.querySelector("#".concat(i,"_summary"))&&(p=this._accessibleOutputs[i],v=function(w,c,a,d){return a="Your output is a, ".concat(a," by ").concat(d," pixels, ").concat(c," canvas containing the following"),a=w===1?"".concat(a," shape:"):"".concat(a," ").concat(w," shapes:"),a}((u=function(w,c){var a,d="",f=0;for(a in c)for(var m in c[a]){var l='<li><a href="#'.concat(w,"shape").concat(f,'">').concat(c[a][m].color," ").concat(a,"</a>");a==="line"?l+=", ".concat(c[a][m].pos,", ").concat(c[a][m].length," pixels long.</li>"):(l+=", at ".concat(c[a][m].pos),a!=="point"&&(l+=", covering ".concat(c[a][m].area,"% of the canvas")),l+=".</li>"),d+=l,f++}return{numShapes:f,listShapes:d}}(i,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),x=function(w,c){var a,d="",f=0;for(a in c)for(var m in c[a]){var l='<tr id="'.concat(w,"shape").concat(f,'"><th>').concat(c[a][m].color," ").concat(a,"</th>");a==="line"?l+="<td>location = ".concat(c[a][m].pos,"</td><td>length = ").concat(c[a][m].length," pixels</td></tr>"):(l+="<td>location = ".concat(c[a][m].pos,"</td>"),a!=="point"&&(l+="<td> area = ".concat(c[a][m].area,"%</td>")),l+="</tr>"),d+=l,f++}return d}(i,this.ingredients.shapes),v!==p.summary.innerHTML&&(p.summary.innerHTML=v),u.listShapes!==p.list.innerHTML&&(p.list.innerHTML=u.listShapes),x!==p.shapeDetails.innerHTML&&(p.shapeDetails.innerHTML=x),this._accessibleOutputs[i]=p)},t=t.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152}],264:[function(t,o,y){"use strict";var i=(i=t("./core/main"))&&i.__esModule?i:{default:i};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),o.exports=i.default},{"./accessibility/color_namer":259,"./accessibility/describe":260,"./accessibility/gridOutput":261,"./accessibility/outputs":262,"./accessibility/textOutput":263,"./color/color_conversion":265,"./color/creating_reading":266,"./color/p5.Color":267,"./color/setting":268,"./core/constants":269,"./core/environment":270,"./core/friendly_errors/fes_core":271,"./core/friendly_errors/file_errors":272,"./core/friendly_errors/sketch_reader":273,"./core/friendly_errors/stacktrace":274,"./core/friendly_errors/validate_params":275,"./core/helpers":276,"./core/init":277,"./core/legacy":279,"./core/main":280,"./core/p5.Element":281,"./core/p5.Graphics":282,"./core/p5.Renderer":283,"./core/p5.Renderer2D":284,"./core/preload":285,"./core/rendering":286,"./core/shape/2d_primitives":287,"./core/shape/attributes":288,"./core/shape/curves":289,"./core/shape/vertex":290,"./core/shim":291,"./core/structure":292,"./core/transform":293,"./data/local_storage.js":294,"./data/p5.TypedDict":295,"./dom/dom":296,"./events/acceleration":297,"./events/keyboard":298,"./events/mouse":299,"./events/touch":300,"./image/filters":301,"./image/image":302,"./image/loading_displaying":303,"./image/p5.Image":304,"./image/pixels":305,"./io/files":306,"./io/p5.Table":307,"./io/p5.TableRow":308,"./io/p5.XML":309,"./math/calculation":310,"./math/math":311,"./math/noise":312,"./math/p5.Vector":313,"./math/random":314,"./math/trigonometry":315,"./typography/attributes":316,"./typography/loading_displaying":317,"./typography/p5.Font":318,"./utilities/array_functions":319,"./utilities/conversion":320,"./utilities/string_functions":321,"./utilities/time_date":322,"./webgl/3d_primitives":323,"./webgl/interaction":325,"./webgl/light":326,"./webgl/loading":327,"./webgl/material":328,"./webgl/p5.Camera":329,"./webgl/p5.DataArray":330,"./webgl/p5.Framebuffer":331,"./webgl/p5.Geometry":332,"./webgl/p5.Matrix":333,"./webgl/p5.RenderBuffer":334,"./webgl/p5.RendererGL":337,"./webgl/p5.RendererGL.Immediate":335,"./webgl/p5.RendererGL.Retained":336,"./webgl/p5.Shader":338,"./webgl/p5.Texture":339,"./webgl/text":340}],265:[function(t,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(i){var p=i[0],u=i[1],v=i[2],x=(2-u)*v/2;return x!=0&&(x==1?u=0:x<.5?u/=2-u:u=u*v/(2-2*x)),[p,u,x,i[3]]},_hsbaToRGBA:function(i){var p,u,v,x,w,c=6*i[0],a=i[1],d=i[2];return a===0?[d,d,d,i[3]]:(u=d*(1-a),v=d*(1-a*(c-(p=Math.floor(c)))),a=d*(1-a*(1+p-c)),c=p===1?(x=v,w=d,u):p===2?(x=u,w=d,a):p===3?(x=u,w=v,d):p===4?(x=a,w=u,d):p===5?(x=d,w=u,v):(x=d,w=a,u),[x,w,c,i[3]])},_hslaToHSBA:function(i){var p=i[0],u=i[1],v=i[2],x=v<.5?(1+u)*v:v+u-v*u;return[p,u=2*(x-v)/x,x,i[3]]},_hslaToRGBA:function(i){var p,u=6*i[0],v=i[1],x=i[2];return v===0?[x,x,x,i[3]]:[(p=function(w,c,a){return w<0?w+=6:6<=w&&(w-=6),w<1?c+(a-c)*w:w<3?a:w<4?c+(a-c)*(4-w):c})(2+u,v=2*x-(x=x<.5?(1+v)*x:x+v-x*v),x),p(u,v,x),p(u-2,v,x),i[3]]},_rgbaToHSBA:function(i){var p,u,v=i[0],x=i[1],w=i[2],c=Math.max(v,x,w),a=c-Math.min(v,x,w);return a==0?u=p=0:(u=a/c,v===c?p=(x-w)/a:x===c?p=2+(w-v)/a:w===c&&(p=4+(v-x)/a),p<0?p+=6:6<=p&&(p-=6)),[p/6,u,c,i[3]]},_rgbaToHSLA:function(i){var p,u,v=i[0],x=i[1],w=i[2],c=Math.max(v,x,w),d=Math.min(v,x,w),a=c+d,d=c-d;return d==0?u=p=0:(u=a<1?d/a:d/(2-a),v===c?p=(x-w)/d:x===c?p=2+(w-v)/d:w===c&&(p=4+(v-x)/d),p<0?p+=6:6<=p&&(p-=6)),[p/6,u,a/2,i[3]]}},t=t.default.ColorConversion,y.default=t},{"../core/main":280}],266:[function(t,o,y){"use strict";function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function p(c){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(w=t("../core/main"))&&w.__esModule?w:{default:w},v=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var a=x();if(a&&a.has(c))return a.get(c);var d,f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var l;Object.prototype.hasOwnProperty.call(c,d)&&((l=m?Object.getOwnPropertyDescriptor(c,d):null)&&(l.get||l.set)?Object.defineProperty(f,d,l):f[d]=c[d])}return f.default=c,a&&a.set(c,f),f}(t("../core/constants"));function x(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,x=function(){return c},c)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.alpha=function(c){return u.default._validateParameters("alpha",arguments),this.color(c)._getAlpha()},u.default.prototype.blue=function(c){return u.default._validateParameters("blue",arguments),this.color(c)._getBlue()},u.default.prototype.brightness=function(c){return u.default._validateParameters("brightness",arguments),this.color(c)._getBrightness()},u.default.prototype.color=function(){for(var c,a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return u.default._validateParameters("color",d),d[0]instanceof u.default.Color?d[0]:(c=Array.isArray(d[0])?d[0]:d,new u.default.Color(this,c))},u.default.prototype.green=function(c){return u.default._validateParameters("green",arguments),this.color(c)._getGreen()},u.default.prototype.hue=function(c){return u.default._validateParameters("hue",arguments),this.color(c)._getHue()},u.default.prototype.lerpColor=function(c,a,d){u.default._validateParameters("lerpColor",arguments);var f,m,l,h=this._colorMode,g=this._colorMaxes;if(h===v.RGB)m=c.levels.map(function(b){return b/255}),l=a.levels.map(function(b){return b/255});else if(h===v.HSB)c._getBrightness(),a._getBrightness(),m=c.hsba,l=a.hsba;else{if(h!==v.HSL)throw new Error("".concat(h," cannot be used for interpolation."));c._getLightness(),a._getLightness(),m=c.hsla,l=a.hsla}return d=Math.max(Math.min(d,1),0),this.lerp===void 0&&(this.lerp=function(b,_,A){return A*(_-b)+b}),h===v.RGB?f=this.lerp(m[0],l[0],d):(.5<Math.abs(m[0]-l[0])&&(m[0]>l[0]?l[0]+=1:m[0]+=1),1<=(f=this.lerp(m[0],l[0],d))&&--f),c=this.lerp(m[1],l[1],d),a=this.lerp(m[2],l[2],d),m=this.lerp(m[3],l[3],d),f*=g[h][0],c*=g[h][1],a*=g[h][2],m*=g[h][3],this.color(f,c,a,m)},u.default.prototype.lightness=function(c){return u.default._validateParameters("lightness",arguments),this.color(c)._getLightness()},u.default.prototype.red=function(c){return u.default._validateParameters("red",arguments),this.color(c)._getRed()},u.default.prototype.saturation=function(c){return u.default._validateParameters("saturation",arguments),this.color(c)._getSaturation()};var w=u.default;y.default=w},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],267:[function(f,o,y){"use strict";function i(b){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(b)}function p(b){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(_){return i(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":i(_)})(b)}f("core-js/modules/es.symbol"),f("core-js/modules/es.symbol.description"),f("core-js/modules/es.symbol.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.iterator"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.get-own-property-descriptor"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.iterator"),f("core-js/modules/es.string.trim"),f("core-js/modules/es.weak-map"),f("core-js/modules/web.dom-collections.iterator"),f("core-js/modules/es.array.includes"),f("core-js/modules/es.array.join"),f("core-js/modules/es.array.map"),f("core-js/modules/es.array.slice"),f("core-js/modules/es.object.to-string"),f("core-js/modules/es.regexp.constructor"),f("core-js/modules/es.regexp.exec"),f("core-js/modules/es.regexp.to-string"),f("core-js/modules/es.string.includes"),f("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=c(f("../core/main")),v=function(b){if(b&&b.__esModule)return b;if(b===null||p(b)!=="object"&&typeof b!="function")return{default:b};var _=w();if(_&&_.has(b))return _.get(b);var A,P={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(A in b){var E;Object.prototype.hasOwnProperty.call(b,A)&&((E=j?Object.getOwnPropertyDescriptor(b,A):null)&&(E.get||E.set)?Object.defineProperty(P,A,E):P[A]=b[A])}return P.default=b,_&&_.set(b,P),P}(f("../core/constants")),x=c(f("./color_conversion"));function w(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,w=function(){return b},b)}function c(b){return b&&b.__esModule?b:{default:b}}function a(b,_){for(var A=0;A<_.length;A++){var P=_[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},f=/\s*/,g=/(\d{1,3})/,m=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,l=new RegExp("".concat(m.source,"%")),h={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(f.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(f.source),"i"),RGBA:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",m.source,"\\)$"].join(f.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",m.source,"\\)$"].join(f.source),"i"),HSL:new RegExp(["^hsl\\(",g.source,",",l.source,",",l.source,"\\)$"].join(f.source),"i"),HSLA:new RegExp(["^hsla\\(",g.source,",",l.source,",",l.source,",",m.source,"\\)$"].join(f.source),"i"),HSB:new RegExp(["^hsb\\(",g.source,",",l.source,",",l.source,"\\)$"].join(f.source),"i"),HSBA:new RegExp(["^hsba\\(",g.source,",",l.source,",",l.source,",",m.source,"\\)$"].join(f.source),"i")},g=(u.default.Color=function(){function b(j,E){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(j._colorMode,j._colorMaxes),![v.RGB,v.HSL,v.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=b._parseInputs.apply(this,E),this._calculateLevels()}var _,A,P;return _=b,P=[{key:"_parseInputs",value:function(j,E,k,M){var I,S=arguments.length,T=this.mode,L=this.maxes[T],O=[];if(3<=S){for(O[0]=j/L[0],O[1]=E/L[1],O[2]=k/L[2],O[3]=typeof M=="number"?M/L[3]:1,I=O.length-1;0<=I;--I){var V=O[I];V<0?O[I]=0:1<V&&(O[I]=1)}return T===v.HSL?x.default._hslaToRGBA(O):T===v.HSB?x.default._hsbaToRGBA(O):O}if(S===1&&typeof j=="string"){if(k=j.trim().toLowerCase(),d[k])return b._parseInputs.call(this,d[k]);if(h.HEX3.test(k))return(O=h.HEX3.exec(k).slice(1).map(function(H){return parseInt(H+H,16)/255}))[3]=1,O;if(h.HEX6.test(k))return(O=h.HEX6.exec(k).slice(1).map(function(H){return parseInt(H,16)/255}))[3]=1,O;if(h.HEX4.test(k))return O=h.HEX4.exec(k).slice(1).map(function(H){return parseInt(H+H,16)/255});if(h.HEX8.test(k))return O=h.HEX8.exec(k).slice(1).map(function(H){return parseInt(H,16)/255});if(h.RGB.test(k))return(O=h.RGB.exec(k).slice(1).map(function(H){return H/255}))[3]=1,O;if(h.RGB_PERCENT.test(k))return(O=h.RGB_PERCENT.exec(k).slice(1).map(function(H){return parseFloat(H)/100}))[3]=1,O;if(h.RGBA.test(k))return O=h.RGBA.exec(k).slice(1).map(function(H,F){return F===3?parseFloat(H):H/255});if(h.RGBA_PERCENT.test(k))return O=h.RGBA_PERCENT.exec(k).slice(1).map(function(H,F){return F===3?parseFloat(H):parseFloat(H)/100});if(h.HSL.test(k)?(O=h.HSL.exec(k).slice(1).map(function(H,F){return F===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:h.HSLA.test(k)&&(O=h.HSLA.exec(k).slice(1).map(function(H,F){return F===0?parseInt(H,10)/360:F===3?parseFloat(H):parseInt(H,10)/100})),(O=O.map(function(H){return Math.max(Math.min(H,1),0)})).length)return x.default._hslaToRGBA(O);if(h.HSB.test(k)?(O=h.HSB.exec(k).slice(1).map(function(H,F){return F===0?parseInt(H,10)/360:parseInt(H,10)/100}))[3]=1:h.HSBA.test(k)&&(O=h.HSBA.exec(k).slice(1).map(function(H,F){return F===0?parseInt(H,10)/360:F===3?parseFloat(H):parseInt(H,10)/100})),O.length){for(I=O.length-1;0<=I;--I)O[I]=Math.max(Math.min(O[I],1),0);return x.default._hsbaToRGBA(O)}O=[1,1,1,1]}else{if(S!==1&&S!==2||typeof j!="number")throw new Error("".concat(arguments,"is not a valid color representation."));O[0]=j/L[2],O[1]=j/L[2],O[2]=j/L[2],O[3]=typeof E=="number"?E/L[3]:1,O=O.map(function(H){return Math.max(Math.min(H,1),0)})}return O}}],(A=[{key:"toString",value:function(j){var E=this.levels,k=this._array,M=k[3];switch(j){case"#rrggbb":return"#".concat(E[0]<16?"0".concat(E[0].toString(16)):E[0].toString(16),E[1]<16?"0".concat(E[1].toString(16)):E[1].toString(16),E[2]<16?"0".concat(E[2].toString(16)):E[2].toString(16));case"#rrggbbaa":return"#".concat(E[0]<16?"0".concat(E[0].toString(16)):E[0].toString(16),E[1]<16?"0".concat(E[1].toString(16)):E[1].toString(16),E[2]<16?"0".concat(E[2].toString(16)):E[2].toString(16),E[3]<16?"0".concat(E[3].toString(16)):E[3].toString(16));case"#rgb":return"#".concat(Math.round(15*k[0]).toString(16),Math.round(15*k[1]).toString(16),Math.round(15*k[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*k[0]).toString(16),Math.round(15*k[1]).toString(16),Math.round(15*k[2]).toString(16),Math.round(15*k[3]).toString(16));case"rgb":return"rgb(".concat(E[0],", ",E[1],", ",E[2],")");case"rgb%":return"rgb(".concat((100*k[0]).toPrecision(3),"%, ",(100*k[1]).toPrecision(3),"%, ",(100*k[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*k[0]).toPrecision(3),"%, ",(100*k[1]).toPrecision(3),"%, ",(100*k[2]).toPrecision(3),"%, ",(100*k[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[v.HSB][0],", ",this.hsba[1]*this.maxes[v.HSB][1],", ",this.hsba[2]*this.maxes[v.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[v.HSB][0],", ",this.hsba[1]*this.maxes[v.HSB][1],", ",this.hsba[2]*this.maxes[v.HSB][2],", ",M,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[v.HSL][0],", ",this.hsla[1]*this.maxes[v.HSL][1],", ",this.hsla[2]*this.maxes[v.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[v.HSL][0],", ",this.hsla[1]*this.maxes[v.HSL][1],", ",this.hsla[2]*this.maxes[v.HSL][2],", ",M,")");case"hsla%":return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");default:return"rgba(".concat(E[0],",",E[1],",",E[2],",",M,")")}}},{key:"setRed",value:function(j){this._array[0]=j/this.maxes[v.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(j){this._array[1]=j/this.maxes[v.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(j){this._array[2]=j/this.maxes[v.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(j){this._array[3]=j/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var j=this._array,E=this.levels=new Array(j.length),k=j.length-1;0<=k;--k)E[k]=Math.round(255*j[k]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(j,E){this.mode=j,this.maxes=E}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[v.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[v.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[v.RGB][1]}},{key:"_getHue",value:function(){return this.mode===v.HSB?(this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[v.HSB][0]):(this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[v.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[v.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[v.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===v.HSB?(this.hsba||(this.hsba=x.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[v.HSB][1]):(this.hsla||(this.hsla=x.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[v.HSL][1])}}])&&a(_.prototype,A),P&&a(_,P),b}(),u.default.Color);y.default=g},{"../core/constants":269,"../core/main":280,"./color_conversion":265,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],268:[function(t,o,y){"use strict";function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function p(c){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(w=t("../core/main"))&&w.__esModule?w:{default:w},v=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var a=x();if(a&&a.has(c))return a.get(c);var d,f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var l;Object.prototype.hasOwnProperty.call(c,d)&&((l=m?Object.getOwnPropertyDescriptor(c,d):null)&&(l.get||l.set)?Object.defineProperty(f,d,l):f[d]=c[d])}return f.default=c,a&&a.set(c,f),f}(t("../core/constants"));function x(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,x=function(){return c},c)}t("./p5.Color"),u.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},u.default.prototype.endClip=function(){this._renderer.endClip()},u.default.prototype.clip=function(c,a){this._renderer.beginClip(a),c(),this._renderer.endClip(a)},u.default.prototype.background=function(){var c;return(c=this._renderer).background.apply(c,arguments),this},u.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},u.default.prototype.colorMode=function(c,a,d,f,m){return u.default._validateParameters("colorMode",arguments),c!==v.RGB&&c!==v.HSB&&c!==v.HSL||(this._colorMode=c,c=this._colorMaxes[c],arguments.length===2?(c[0]=a,c[1]=a,c[2]=a,c[3]=a):arguments.length===4?(c[0]=a,c[1]=d,c[2]=f):arguments.length===5&&(c[0]=a,c[1]=d,c[2]=f,c[3]=m)),this},u.default.prototype.fill=function(){var c;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(c=this._renderer).fill.apply(c,arguments),this},u.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},u.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},u.default.prototype.stroke=function(){var c;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(c=this._renderer).stroke.apply(c,arguments),this},u.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},u.default.prototype.noErase=function(){return this._renderer.noErase(),this};var w=u.default;y.default=w},{"../core/constants":269,"../core/main":280,"./p5.Color":267,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],269:[function(t,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.QUADRATIC=y.LINEAR=y._CTX_MIDDLE=y._DEFAULT_LEADMULT=y._DEFAULT_TEXT_FILL=y.WORD=y.CHAR=y.BOLDITALIC=y.BOLD=y.ITALIC=y.NORMAL=y.BLUR=y.ERODE=y.DILATE=y.POSTERIZE=y.INVERT=y.OPAQUE=y.GRAY=y.THRESHOLD=y.BURN=y.DODGE=y.SOFT_LIGHT=y.HARD_LIGHT=y.OVERLAY=y.REPLACE=y.SCREEN=y.MULTIPLY=y.EXCLUSION=y.SUBTRACT=y.DIFFERENCE=y.LIGHTEST=y.DARKEST=y.ADD=y.REMOVE=y.BLEND=y.UP_ARROW=y.TAB=y.SHIFT=y.RIGHT_ARROW=y.RETURN=y.OPTION=y.LEFT_ARROW=y.ESCAPE=y.ENTER=y.DOWN_ARROW=y.DELETE=y.CONTROL=y.BACKSPACE=y.ALT=y.AUTO=y.HSL=y.HSB=y.RGB=y.MITER=y.BEVEL=y.ROUND=y.SQUARE=y.PROJECT=y.PIE=y.CHORD=y.OPEN=y.CLOSE=y.TESS=y.QUAD_STRIP=y.QUADS=y.TRIANGLE_STRIP=y.TRIANGLE_FAN=y.TRIANGLES=y.LINE_LOOP=y.LINE_STRIP=y.LINES=y.POINTS=y.BASELINE=y.BOTTOM=y.TOP=y.CENTER=y.LEFT=y.RIGHT=y.RADIUS=y.CORNERS=y.CORNER=y.RAD_TO_DEG=y.DEG_TO_RAD=y.RADIANS=y.DEGREES=y.TWO_PI=y.TAU=y.QUARTER_PI=y.PI=y.HALF_PI=y.WAIT=y.TEXT=y.MOVE=y.HAND=y.CROSS=y.ARROW=y.WEBGL2=y.WEBGL=y.P2D=y.VERSION=void 0,y.RGBA=y.HALF_FLOAT=y.FLOAT=y.UNSIGNED_INT=y.UNSIGNED_BYTE=y.COVER=y.CONTAIN=y.FALLBACK=y.LABEL=y.AXES=y.GRID=y._DEFAULT_FILL=y._DEFAULT_STROKE=y.PORTRAIT=y.LANDSCAPE=y.SMOOTH=y.FLAT=y.MIRROR=y.CLAMP=y.REPEAT=y.NEAREST=y.IMAGE=y.IMMEDIATE=y.TEXTURE=y.FILL=y.STROKE=y.CURVE=y.BEZIER=void 0;var i=Math.PI,p=(y.VERSION="1.9.4",y.P2D="p2d",y.WEBGL="webgl",y.WEBGL2="webgl2",y.ARROW="default",y.CROSS="crosshair",y.HAND="pointer",y.MOVE="move",y.TEXT="text",y.WAIT="wait",i/2),p=(y.HALF_PI=p,i),p=(y.PI=p,i/4),p=(y.QUARTER_PI=p,2*i),p=(y.TAU=p,2*i),p=(y.TWO_PI=p,y.DEGREES="degrees",y.RADIANS="radians",i/180),p=(y.DEG_TO_RAD=p,180/i);y.RAD_TO_DEG=p,y.CORNER="corner",y.CORNERS="corners",y.RADIUS="radius",y.RIGHT="right",y.LEFT="left",y.CENTER="center",y.TOP="top",y.BOTTOM="bottom",y.BASELINE="alphabetic",y.POINTS=0,y.LINES=1,y.LINE_STRIP=3,y.LINE_LOOP=2,y.TRIANGLES=4,y.TRIANGLE_FAN=6,y.TRIANGLE_STRIP=5,y.QUADS="quads",y.QUAD_STRIP="quad_strip",y.TESS="tess",y.CLOSE="close",y.OPEN="open",y.CHORD="chord",y.PIE="pie",y.PROJECT="square",y.SQUARE="butt",y.ROUND="round",y.BEVEL="bevel",y.MITER="miter",y.RGB="rgb",y.HSB="hsb",y.HSL="hsl",y.AUTO="auto",y.ALT=18,y.BACKSPACE=8,y.CONTROL=17,y.DELETE=46,y.DOWN_ARROW=40,y.ENTER=13,y.ESCAPE=27,y.LEFT_ARROW=37,y.OPTION=18,y.RETURN=13,y.RIGHT_ARROW=39,y.SHIFT=16,y.TAB=9,y.UP_ARROW=38,y.BLEND="source-over",y.REMOVE="destination-out",y.ADD="lighter",y.DARKEST="darken",y.LIGHTEST="lighten",y.DIFFERENCE="difference",y.SUBTRACT="subtract",y.EXCLUSION="exclusion",y.MULTIPLY="multiply",y.SCREEN="screen",y.REPLACE="copy",y.OVERLAY="overlay",y.HARD_LIGHT="hard-light",y.SOFT_LIGHT="soft-light",y.DODGE="color-dodge",y.BURN="color-burn",y.THRESHOLD="threshold",y.GRAY="gray",y.OPAQUE="opaque",y.INVERT="invert",y.POSTERIZE="posterize",y.DILATE="dilate",y.ERODE="erode",y.BLUR="blur",y.NORMAL="normal",y.ITALIC="italic",y.BOLD="bold",y.BOLDITALIC="bold italic",y.CHAR="CHAR",y.WORD="WORD",y._DEFAULT_TEXT_FILL="#000000",y._DEFAULT_LEADMULT=1.25,y._CTX_MIDDLE="middle",y.LINEAR="linear",y.QUADRATIC="quadratic",y.BEZIER="bezier",y.CURVE="curve",y.STROKE="stroke",y.FILL="fill",y.TEXTURE="texture",y.IMMEDIATE="immediate",y.IMAGE="image",y.NEAREST="nearest",y.REPEAT="repeat",y.CLAMP="clamp",y.MIRROR="mirror",y.FLAT="flat",y.SMOOTH="smooth",y.LANDSCAPE="landscape",y.PORTRAIT="portrait",y._DEFAULT_STROKE="#000000",y._DEFAULT_FILL="#FFFFFF",y.GRID="grid",y.AXES="axes",y.LABEL="label",y.FALLBACK="fallback",y.CONTAIN="contain",y.COVER="cover",y.UNSIGNED_BYTE="unsigned-byte",y.UNSIGNED_INT="unsigned-int",y.FLOAT="float",y.HALF_FLOAT="half-float",y.RGBA="rgba"},{}],270:[function(t,o,y){"use strict";function i(m){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(m)}function p(m){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(v=t("./main"))&&v.__esModule?v:{default:v},v=function(m){if(m&&m.__esModule)return m;if(m===null||p(m)!=="object"&&typeof m!="function")return{default:m};var l=x();if(l&&l.has(m))return l.get(m);var h,g={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in m){var _;Object.prototype.hasOwnProperty.call(m,h)&&((_=b?Object.getOwnPropertyDescriptor(m,h):null)&&(_.get||_.set)?Object.defineProperty(g,h,_):g[h]=m[h])}return g.default=m,l&&l.set(m,g),g}(t("./constants"));function x(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,x=function(){return m},m)}var w=[v.ARROW,v.CROSS,v.HAND,v.MOVE,v.TEXT,v.WAIT],c=(u.default.prototype._frameRate=0,u.default.prototype._lastFrameTime=window.performance.now(),u.default.prototype._targetFrameRate=60,window.print),a=!1;function d(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function f(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}u.default.prototype.print=function(){var m;arguments.length?(m=console).log.apply(m,arguments):a||(c(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(a=!0))},u.default.prototype.frameCount=0,u.default.prototype.deltaTime=0,u.default.prototype.focused=document.hasFocus(),u.default.prototype.cursor=function(m,l,h){var g,b="auto",_=this._curElement.elt;w.includes(m)?b=m:typeof m=="string"&&(g="",l&&h&&typeof l=="number"&&typeof h=="number"&&(g="".concat(l," ").concat(h)),b=m.substring(0,7)==="http://"||m.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(m)?"url(".concat(m,") ").concat(g,", auto"):m),_.style.cursor=b},u.default.prototype.frameRate=function(m){return u.default._validateParameters("frameRate",arguments),typeof m!="number"||m<0?this._frameRate:(this._setProperty("_targetFrameRate",m),m===0&&this._setProperty("_frameRate",m),this)},u.default.prototype.getFrameRate=function(){return this.frameRate()},u.default.prototype.setFrameRate=function(m){return this.frameRate(m)},u.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},u.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},u.default.prototype.webglVersion=v.P2D,u.default.prototype.displayWidth=screen.width,u.default.prototype.displayHeight=screen.height,u.default.prototype.windowWidth=d(),u.default.prototype.windowHeight=f(),u.default.prototype._onresize=function(m){this._setProperty("windowWidth",d()),this._setProperty("windowHeight",f());var l=this._isGlobal?window:this;typeof l.windowResized!="function"||(l=l.windowResized(m))===void 0||l||m.preventDefault()},u.default.prototype.width=0,u.default.prototype.height=0,u.default.prototype.fullscreen=function(m){if(u.default._validateParameters("fullscreen",arguments),m===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(m){if(m=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");m.requestFullscreen?m.requestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.msRequestFullscreen&&m.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},u.default.prototype.pixelDensity=function(m){var l;return u.default._validateParameters("pixelDensity",arguments),typeof m=="number"?(m!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=m),(l=this).resizeCanvas(this.width,this.height,!0)):l=this._pixelDensity,l},u.default.prototype.displayDensity=function(){return window.devicePixelRatio},u.default.prototype.getURL=function(){return location.href},u.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(m){return m!==""})},u.default.prototype.getURLParams=function(){for(var m,l=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,h={};(m=l.exec(location.search))!=null;)m.index===l.lastIndex&&l.lastIndex++,h[m[1]]=m[2];return h},t=u.default,y.default=t},{"./constants":269,"./main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.search":202,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],271:[function(t,o,y){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(w=t("../main"))&&w.__esModule?w:{default:w};t("../internationalization");function p(c,a){a=a||console.log.bind(console),u||x(),u.some(function(d){var f;if(c.message&&c.message.match("\\W?".concat(d.name,"\\W"))!==null)return f=d.type==="function"?"".concat(d.name,"()"):d.name,a("Did you just try to use p5.js's ".concat(f," ").concat(d.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(v)),!0})}var u=null,x=null,v=(i.default._friendlyError=i.default._checkForUserDefinedFunctions=i.default._fesErrorMonitor=function(){},u=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),x=function(){function c(d){return Object.getOwnPropertyNames(d).filter(function(f){return f[0]!=="_"&&!(f in a)&&(a[f]=!0)}).map(function(f){var m=typeof d[f]=="function"?"function":f===f.toUpperCase()?"constant":"variable";return{name:f,type:m}})}var a={};(u=[].concat(c(i.default.prototype),c(t("../constants")))).sort(function(d,f){return f.name.length-d.name.length})},w=(i.default.prototype._helpForMisusedAtTopLevelCode=p,document.readyState!=="complete"&&(window.addEventListener("error",p,!1),window.addEventListener("load",function(){window.removeEventListener("error",p,!1)})),i.default);y.default=w},{"../constants":269,"../internationalization":278,"../main":280,"./browser_errors":void 0,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.starts-with":204,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],272:[function(t,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(i=t("../main"))&&i.__esModule?i:{default:i};t("../internationalization"),i.default._friendlyFileLoadError=function(){},t=i.default,y.default=t},{"../internationalization":278,"../main":280}],273:[function(t,o,y){"use strict";function i(D){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(D)}function p(D){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(B){return i(B)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":i(B)})(D)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=H(t("../main")),v=t("../internationalization"),x=V(t("../constants")),w,c,a,d,f,m,l,h,g,b,_,A,P,j,E,k,M,I,S,T,L;function O(){var D;return typeof WeakMap!="function"?null:(D=new WeakMap,O=function(){return D},D)}function V(D){if(D&&D.__esModule)return D;if(D===null||p(D)!=="object"&&typeof D!="function")return{default:D};var B=O();if(B&&B.has(D))return B.get(D);var Y,G,q={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Y in D)Object.prototype.hasOwnProperty.call(D,Y)&&((G=X?Object.getOwnPropertyDescriptor(D,Y):null)&&(G.get||G.set)?Object.defineProperty(q,Y,G):q[Y]=D[Y]);return q.default=D,B&&B.set(D,q),q}function H(D){return D&&D.__esModule?D:{default:D}}function F(D){return J(D)||ee(D)||W()}function W(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ee(D){if(Symbol.iterator in Object(D)||Object.prototype.toString.call(D)==="[object Arguments]")return Array.from(D)}function J(D){if(Array.isArray(D)){for(var B=0,Y=new Array(D.length);B<D.length;B++)Y[B]=D[B];return Y}}u.default._fesCodeReader=function(){};var N=u.default;y.default=N},{"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],274:[function(t,o,y){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function i(){var p=/(^|@)\S+:\d+/,u=/^\s*at .*(\S+:\d+|\(native\))/m,v=/^(eval@)?(\[native code])?$/;return{parse:function(x){return x.stacktrace!==void 0||x["opera#sourceloc"]!==void 0?this.parseOpera(x):x.stack&&x.stack.match(u)?this.parseV8OrIE(x):x.stack?this.parseFFOrSafari(x):void 0},extractLocation:function(x){return x.indexOf(":")===-1?[x]:[(x=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(x.replace(/[()]/g,"")))[1],x[2]||void 0,x[3]||void 0]},parseV8OrIE:function(x){return x.stack.split(`
`).filter(function(w){return!!w.match(u)},this).map(function(w){var c=(w=-1<w.indexOf("(eval ")?w.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):w).replace(/^\s+/,"").replace(/\(eval code/g,"("),a=c.match(/ (\((.+):(\d+):(\d+)\)$)/),c=(c=a?c.replace(a[0],""):c).split(/\s+/).slice(1),a=this.extractLocation(a?a[1]:c.pop());return{functionName:c.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(a[0])?void 0:a[0],lineNumber:a[1],columnNumber:a[2],source:w}},this)},parseFFOrSafari:function(x){return x.stack.split(`
`).filter(function(w){return!w.match(v)},this).map(function(w){var c,a;return(w=-1<w.indexOf(" > eval")?w.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):w).indexOf("@")===-1&&w.indexOf(":")===-1?{functionName:w}:{functionName:(a=w.match(c=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&a[1]?a[1]:void 0,fileName:(a=this.extractLocation(w.replace(c,"")))[0],lineNumber:a[1],columnNumber:a[2],source:w}},this)},parseOpera:function(x){return!x.stacktrace||-1<x.message.indexOf(`
`)&&x.message.split(`
`).length>x.stacktrace.split(`
`).length?this.parseOpera9(x):x.stack?this.parseOpera11(x):this.parseOpera10(x)},parseOpera9:function(x){for(var w=/Line (\d+).*script (?:in )?(\S+)/i,c=x.message.split(`
`),a=[],d=2,f=c.length;d<f;d+=2){var m=w.exec(c[d]);m&&a.push({fileName:m[2],lineNumber:m[1],source:c[d]})}return a},parseOpera10:function(x){for(var w=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=x.stacktrace.split(`
`),a=[],d=0,f=c.length;d<f;d+=2){var m=w.exec(c[d]);m&&a.push({functionName:m[3]||void 0,fileName:m[2],lineNumber:m[1],source:c[d]})}return a},parseOpera11:function(x){return x.stack.split(`
`).filter(function(w){return!!w.match(p)&&!w.match(/^Error created at/)},this).map(function(w){var c,d=w.split("@"),a=this.extractLocation(d.pop()),d=d.shift()||"";return{functionName:d.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(c=d.match(/\(([^)]*)\)/)?d.replace(/^[^(]+\(([^)]*)\)$/,"$1"):c)===void 0||c==="[arguments not available]"?void 0:c.split(","),fileName:a[0],lineNumber:a[1],columnNumber:a[2],source:w}},this)}}}t.default._getErrorStackParser=function(){return new i},t=t.default,y.default=t},{"../main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],275:[function(t,o,y){"use strict";function i(x){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(p=t("../main"))&&p.__esModule?p:{default:p};(function(x){if(!(x&&x.__esModule)&&!(x===null||v(x)!=="object"&&typeof x!="function")){var w=u();if(w&&w.has(x))return w.get(x);var c,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in x){var f;Object.prototype.hasOwnProperty.call(x,c)&&((f=d?Object.getOwnPropertyDescriptor(x,c):null)&&(f.get||f.set)?Object.defineProperty(a,c,f):a[c]=x[c])}a.default=x,w&&w.set(x,a)}})(t("../constants")),t("../internationalization");function u(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,u=function(){return x},x)}function v(x){return(v=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(w){return i(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":i(w)})(x)}p.default._validateParameters=p.default._clearValidateParamsCache=function(){},t=p.default,y.default=t},{"../../../docs/parameterData.json":void 0,"../constants":269,"../internationalization":278,"../main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],276:[function(t,o,y){"use strict";function i(x){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}function p(x){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(w){return i(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":i(w)})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=function(x){if(x&&x.__esModule)return x;if(x===null||p(x)!=="object"&&typeof x!="function")return{default:x};var w=v();if(w&&w.has(x))return w.get(x);var c,a={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(c in x){var f;Object.prototype.hasOwnProperty.call(x,c)&&((f=d?Object.getOwnPropertyDescriptor(x,c):null)&&(f.get||f.set)?Object.defineProperty(a,c,f):a[c]=x[c])}return a.default=x,w&&w.set(x,a),a}(t("./constants"));function v(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,v=function(){return x},x)}y.default={modeAdjust:function(x,w,c,a,d){return d===u.CORNER?{x,y:w,w:c,h:a}:d===u.CORNERS?{x,y:w,w:c-x,h:a-w}:d===u.RADIUS?{x:x-c,y:w-a,w:2*c,h:2*a}:d===u.CENTER?{x:x-.5*c,y:w-.5*a,w:c,h:a}:void 0}}},{"./constants":269,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],277:[function(t,o,y){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var i=(p=t("../core/main"))&&p.__esModule?p:{default:p};t("./internationalization");var p=Promise.resolve();Promise.all([new Promise(function(u,v){document.readyState==="complete"?u():window.addEventListener("load",u,!1)}),p]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!i.default.instance&&new i.default})},{"../core/main":280,"./internationalization":278,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/web.dom-collections.iterator":243}],278:[function(t,o,y){"use strict";t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.setTranslatorLanguage=y.currentTranslatorLanguage=y.availableTranslatorLanguages=y.initialize=y.translator=void 0;var i,p,u=x(t("i18next")),v=x(t("i18next-browser-languagedetector"));function x(a){return a&&a.__esModule?a:{default:a}}function w(a,d){for(var f=0;f<d.length;f++){var m=d[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(a,m.key,m)}}var c=function(){function a(l,h){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.init(l,h)}var d,f,m;return d=a,(f=[{key:"fetchWithTimeout",value:function(l,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(l,h),new Promise(function(b,_){return setTimeout(function(){return _(new Error("timeout"))},g)})])}},{key:"init",value:function(l){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=l,this.options=h}},{key:"read",value:function(l,h,g){var b=this.options.loadPath;l===this.options.fallback?g(null,i[l][h]):p.includes(l)?(b=this.services.interpolator.interpolate(b,{lng:l,ns:h}),this.loadUrl(b,g)):g("Not found",!1)}},{key:"loadUrl",value:function(l,h){this.fetchWithTimeout(l).then(function(g){if(g.ok)return g.json();throw new Error("failed loading ".concat(l))},function(){throw new Error("failed loading ".concat(l))}).then(function(g){return h(null,g)}).catch(h)}}])&&w(d.prototype,f),m&&w(d,m),a}();c.type="backend",y.translator=function(a,d){console.debug("p5.js translator called before translations were loaded"),u.default.t(a,d)},y.initialize=function(){return u.default.use(v.default).use(c).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:i}).then(function(a){y.translator=a},function(a){return console.debug("Translations failed to load (".concat(a,")"))})},y.availableTranslatorLanguages=function(){return u.default.languages},y.currentTranslatorLanguage=function(a){return u.default.language},y.setTranslatorLanguage=function(a){return u.default.changeLanguage(a||void 0,function(d){return console.debug("Translations failed to load (".concat(d,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243,i18next:3,"i18next-browser-languagedetector":3}],279:[function(t,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,y.default=t},{"./main":280}],280:[function(t,o,y){"use strict";function i(a){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function p(a){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(d){return i(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":i(d)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t("./shim");var u=function(a){if(a&&a.__esModule)return a;if(a===null||p(a)!=="object"&&typeof a!="function")return{default:a};var d=v();if(d&&d.has(a))return d.get(a);var f,m={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in a){var h;Object.prototype.hasOwnProperty.call(a,f)&&((h=l?Object.getOwnPropertyDescriptor(a,f):null)&&(h.get||h.set)?Object.defineProperty(m,f,h):m[f]=a[f])}return m.default=a,d&&d.set(a,m),m}(t("./constants"));function v(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,v=function(){return a},a)}function x(a,d){for(var f=0;f<d.length;f++){var m=d[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(a,m.key,m)}}var w,c=function(){function a(l,b){var g=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=b,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var b=Object.getOwnPropertyNames(a.prototype._registeredMethods),_=!0,A=!1,P=void 0;try{for(var j,E=b[Symbol.iterator]();!(_=(j=E.next()).done);_=!0){var k=j.value;this._registeredMethods[k]=a.prototype._registeredMethods[k].slice()}}catch(F){A=!0,P=F}finally{try{_||E.return==null||E.return()}finally{if(A)throw P}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),a.prototype.callRegisteredHooksFor=function(F){var W=this||a.prototype,ee=this._isGlobal?window:this;if(W._registeredMethods.hasOwnProperty(F)){var W=W._registeredMethods[F],J=!0,F=!1,N=void 0;try{for(var D,B=W[Symbol.iterator]();!(J=(D=B.next()).done);J=!0){var Y=D.value;typeof Y=="function"&&Y.call(ee)}}catch(X){F=!0,N=X}finally{try{J||B.return==null||B.return()}finally{if(F)throw N}}}},this._start=function(){g._userNode&&typeof g._userNode=="string"&&(g._userNode=document.getElementById(g._userNode));var F=g._isGlobal?window:g;if(F.preload){g.callRegisteredHooksFor("beforePreload");var W,ee=document.getElementById(g._loadingScreenId),J=(ee||((ee=document.createElement("div")).innerHTML="Loading...",ee.style.position="absolute",ee.id=g._loadingScreenId,(g._userNode||document.body).appendChild(ee)),g._preloadMethods);for(W in J){J[W]=J[W]||a;var N=J[W];N!==a.prototype&&N!==a||(g._isGlobal&&(window[W]=g._wrapPreload(g,W)),N=g),g._registeredPreloadMethods[W]=N[W],N[W]=g._wrapPreload(N,W)}F.preload(),g._runIfPreloadsAreDone()}else g._setup(),g._recording||g._draw()},this._runIfPreloadsAreDone=function(){var F,W=this._isGlobal?window:this;W._preloadCount===0&&((F=document.getElementById(W._loadingScreenId))&&F.parentNode.removeChild(F),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),W._setup(),this._recording||W._draw()))},this._decrementPreload=function(){var F=this._isGlobal?window:this;F._preloadDone||typeof F.preload!="function"||(F._setProperty("_preloadCount",F._preloadCount-1),F._runIfPreloadsAreDone())},this._wrapPreload=function(F,W){var ee=this;return function(){ee._incrementPreload();for(var J=arguments.length,N=new Array(J),D=0;D<J;D++)N[D]=arguments[D];return ee._registeredPreloadMethods[W].apply(F,N)}},this._incrementPreload=function(){var F=this._isGlobal?window:this;F._preloadDone||F._setProperty("_preloadCount",F._preloadCount+1)},this._setup=function(){g.callRegisteredHooksFor("beforeSetup"),g.createCanvas(g._defaultCanvasSize.width,g._defaultCanvasSize.height,"p2d");var F=g._isGlobal?window:g;if(typeof F.preload=="function")for(var W in g._preloadMethods)F[W]=g._preloadMethods[W][W],F[W]&&g&&(F[W]=F[W].bind(g));g._millisStart=window.performance.now(),F._preloadDone=!0,typeof F.setup=="function"&&F.setup();var ee=document.getElementsByTagName("canvas"),J=!0,N=!1,D=void 0;try{for(var B,Y=ee[Symbol.iterator]();!(J=(B=Y.next()).done);J=!0){var G=B.value;G.dataset.hidden==="true"&&(G.style.visibility="",delete G.dataset.hidden)}}catch(q){N=!0,D=q}finally{try{J||Y.return==null||Y.return()}finally{if(N)throw D}}g._lastTargetFrameTime=window.performance.now(),g._lastRealFrameTime=window.performance.now(),g._setupDone=!0,(g._accessibleOutputs.grid||g._accessibleOutputs.text)&&g._updateAccsOutput(),g.callRegisteredHooksFor("afterSetup")},this._draw=function(){var F=window.performance.now(),W=F-g._lastTargetFrameTime,ee=1e3/g._targetFrameRate;(!g._loop||ee-5<=W)&&(g.deltaTime=F-g._lastRealFrameTime,g._setProperty("deltaTime",g.deltaTime),g._frameRate=1e3/g.deltaTime,g.redraw(),g._lastTargetFrameTime=Math.max(g._lastTargetFrameTime+ee,F),g._lastRealFrameTime=F,g._updateMouseCoords!==void 0&&(g._updateMouseCoords(),g._setProperty("movedX",0),g._setProperty("movedY",0))),g._loop&&(g._requestAnimId=window.requestAnimationFrame(g._draw))},this._setProperty=function(F,W){g[F]=W,g._isGlobal&&(window[F]=W)},this.remove=function(){g._startListener&&window.removeEventListener("load",g._startListener,!1);var F=document.getElementById(g._loadingScreenId);if(F&&(F.parentNode.removeChild(F),g._incrementPreload()),g._curElement){for(var W in g._loop=!1,g._requestAnimId&&window.cancelAnimationFrame(g._requestAnimId),g._events)window.removeEventListener(W,g._events[W]);var ee=!0,F=!1,J=void 0;try{for(var N,D=g._elements[Symbol.iterator]();!(ee=(N=D.next()).done);ee=!0){var B,Y=N.value;for(B in Y.elt&&Y.elt.parentNode&&Y.elt.parentNode.removeChild(Y.elt),Y._events)Y.elt.removeEventListener(B,Y._events[B])}}catch($){F=!0,J=$}finally{try{ee||D.return==null||D.return()}finally{if(F)throw J}}var G=g;g._registeredMethods.remove.forEach(function($){$!==void 0&&$.call(G)})}if(g._isGlobal){for(var q in a.prototype)try{delete window[q]}catch{window[q]=void 0}for(var X in g)if(g.hasOwnProperty(X))try{delete window[X]}catch{window[X]=void 0}a.instance=null}},this._registeredMethods.init.forEach(function(F){F!==void 0&&F.call(this)},this),this._setupPromisePreloads();var M,I,S=this._createFriendlyGlobalFunctionBinder();if(l)l(this),a._checkForUserDefinedFunctions(this);else{for(var T in this._isGlobal=!0,a.instance=this,a.prototype)typeof a.prototype[T]=="function"?(M=T.substring(2),this._events.hasOwnProperty(M)||(Math.hasOwnProperty(T)&&Math[T]===a.prototype[T]?S(T,a.prototype[T]):S(T,a.prototype[T].bind(this)))):S(T,a.prototype[T]);for(var L in this)this.hasOwnProperty(L)&&S(L,this[L])}for(I in this._events){var O=this["_on".concat(I)];O&&(O=O.bind(this),window.addEventListener(I,O,{passive:!1}),this._events[I]=O)}function V(){g._setProperty("focused",!0)}function H(){g._setProperty("focused",!1)}window.addEventListener("focus",V),window.addEventListener("blur",H),this.registerMethod("remove",function(){window.removeEventListener("focus",V),window.removeEventListener("blur",H)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var d,f,m;return d=a,(f=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=u.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(l,h){a.prototype._preloadMethods.hasOwnProperty(l)||(a.prototype._preloadMethods[l]=h)}},{key:"registerMethod",value:function(l,h){var g=this||a.prototype;g._registeredMethods.hasOwnProperty(l)||(g._registeredMethods[l]=[]),g._registeredMethods[l].push(h)}},{key:"unregisterMethod",value:function(l,h){var g=this||a.prototype;if(g._registeredMethods.hasOwnProperty(l)){for(var b=g._registeredMethods[l],_=[],A=0;A<b.length;A++)b[A]===h&&_.push(A);for(var P=_.length-1;0<=P;P--)b.splice(_[P],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},h=l.globalObject||window;return l.log||console.log.bind(console),function(g,b){a.disableFriendlyErrors,h[g]=b}}}])&&x(d.prototype,f),m&&x(d,m),a}();for(w in c.instance=null,c.disableFriendlyErrors=!1,u)c.prototype[w]=u[w];c.VERSION=u.VERSION,c.prototype._preloadMethods={loadJSON:c.prototype,loadImage:c.prototype,loadStrings:c.prototype,loadXML:c.prototype,loadBytes:c.prototype,loadTable:c.prototype,loadFont:c.prototype,loadModel:c.prototype,loadShader:c.prototype},c.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},c.prototype._registeredPreloadMethods={},y.default=c},{"./constants":269,"./shim":291,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-own-property-names":184,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],281:[function(t,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("./main"))&&t.__esModule?t:{default:t};function p(u,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(u,w.key,w)}}i.default.Element=function(){function u(c,a){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.elt=c,this._pInst=this._pixelsState=a,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var v,x,w;return v=u,w=[{key:"_adjustListener",value:function(c,a,d){return a===!1?i.default.Element._detachListener(c,d):i.default.Element._attachListener(c,a,d),this}},{key:"_attachListener",value:function(c,a,d){d._events[c]&&i.default.Element._detachListener(c,d),a=a.bind(d),d.elt.addEventListener(c,a,!1),d._events[c]=a}},{key:"_detachListener",value:function(c,a){var d=a._events[c];a.elt.removeEventListener(c,d,!1),a._events[c]=null}}],(x=[{key:"parent",value:function(c){return c===void 0?this.elt.parentNode:(typeof c=="string"?(c[0]==="#"&&(c=c.substring(1)),c=document.getElementById(c)):c instanceof i.default.Element&&(c=c.elt),c.appendChild(this.elt),this)}},{key:"id",value:function(c){return c===void 0?this.elt.id:(this.elt.id=c,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(c){return c===void 0?this.elt.className:(this.elt.className=c,this)}},{key:"mousePressed",value:function(c){return i.default.Element._adjustListener("mousedown",function(a){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(a),c.call(this,a)},this),this}},{key:"doubleClicked",value:function(c){return i.default.Element._adjustListener("dblclick",c,this),this}},{key:"mouseWheel",value:function(c){return i.default.Element._adjustListener("wheel",c,this),this}},{key:"mouseReleased",value:function(c){return i.default.Element._adjustListener("mouseup",c,this),this}},{key:"mouseClicked",value:function(c){return i.default.Element._adjustListener("click",c,this),this}},{key:"mouseMoved",value:function(c){return i.default.Element._adjustListener("mousemove",c,this),this}},{key:"mouseOver",value:function(c){return i.default.Element._adjustListener("mouseover",c,this),this}},{key:"mouseOut",value:function(c){return i.default.Element._adjustListener("mouseout",c,this),this}},{key:"touchStarted",value:function(c){return i.default.Element._adjustListener("touchstart",c,this),this}},{key:"touchMoved",value:function(c){return i.default.Element._adjustListener("touchmove",c,this),this}},{key:"touchEnded",value:function(c){return i.default.Element._adjustListener("touchend",c,this),this}},{key:"dragOver",value:function(c){return i.default.Element._adjustListener("dragover",c,this),this}},{key:"dragLeave",value:function(c){return i.default.Element._adjustListener("dragleave",c,this),this}},{key:"_setProperty",value:function(c,a){this[c]=a}}])&&p(v.prototype,x),w&&p(v,w),u}(),t=i.default.Element,y.default=t},{"./main":280}],282:[function(t,o,y){"use strict";function i(h){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function p(h){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(g){return i(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":i(g)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(l=t("./main"))&&l.__esModule?l:{default:l},v=function(h){if(h&&h.__esModule)return h;if(h===null||p(h)!=="object"&&typeof h!="function")return{default:h};var g=x();if(g&&g.has(h))return g.get(h);var b,_={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in h){var P;Object.prototype.hasOwnProperty.call(h,b)&&((P=A?Object.getOwnPropertyDescriptor(h,b):null)&&(P.get||P.set)?Object.defineProperty(_,b,P):_[b]=h[b])}return _.default=h,g&&g.set(h,_),_}(t("./constants"));function x(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,x=function(){return h},h)}function w(h,g){for(var b=0;b<g.length;b++){var _=g[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}function c(h,g){return(c=Object.setPrototypeOf||function(b,_){return b.__proto__=_,b})(h,g)}function a(h){return function(){var g,b=m(h);return d(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=m(this).constructor,Reflect.construct(b,arguments,g)):b.apply(this,arguments))}}function d(h,g){return!g||p(g)!=="object"&&typeof g!="function"?f(h):g}function f(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function m(h){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(h)}u.default.Graphics=function(h){var g=A;if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),h&&c(g,h);var b,_=a(A);function A(P,j,L,k,M){var I;if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");T=M||document.createElement("canvas"),(I=_.call(this,T,k)).canvas=T;var S,T=L||v.P2D,L=k._userNode||document.body;for(S in M||L.appendChild(I.canvas),u.default.prototype)I[S]||(typeof u.default.prototype[S]=="function"?I[S]=u.default.prototype[S].bind(f(I)):I[S]=u.default.prototype[S]);return u.default.prototype._initializeInstanceVariables.apply(f(I)),I.width=P,I.height=j,I._pixelDensity=k._pixelDensity,T===v.WEBGL?(I._renderer=new u.default.RendererGL(I.canvas,f(I),!1),P=(M=I._renderer._adjustDimensions(P,j)).adjustedWidth,j=M.adjustedHeight):I._renderer=new u.default.Renderer2D(I.canvas,f(I),!1),k._elements.push(f(I)),Object.defineProperty(f(I),"deltaTime",{get:function(){return this._pInst.deltaTime}}),I._renderer.resize(P,j),I._renderer._applyDefaults(),d(I,f(I))}return g=A,(h=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var P,j=this._pInst._elements.indexOf(this);for(P in j!==-1&&this._pInst._elements.splice(j,1),this._events)this.elt.removeEventListener(P,this._events[P])}},{key:"createFramebuffer",value:function(P){return new u.default.Framebuffer(this,P)}}])&&w(g.prototype,h),b&&w(g,b),A}(u.default.Element);var l=u.default.Graphics;y.default=l},{"./constants":269,"./main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],283:[function(t,o,y){"use strict";function i(h){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(m=t("./main"))&&m.__esModule?m:{default:m},u=function(h){if(h&&h.__esModule)return h;if(h===null||x(h)!=="object"&&typeof h!="function")return{default:h};var g=v();if(g&&g.has(h))return g.get(h);var b,_={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in h){var P;Object.prototype.hasOwnProperty.call(h,b)&&((P=A?Object.getOwnPropertyDescriptor(h,b):null)&&(P.get||P.set)?Object.defineProperty(_,b,P):_[b]=h[b])}return _.default=h,g&&g.set(h,_),_}(t("../core/constants"));function v(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,v=function(){return h},h)}function x(h){return(x=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(g){return i(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":i(g)})(h)}function w(h,g){for(var b=0;b<g.length;b++){var _=g[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}function c(h,g){return(c=Object.setPrototypeOf||function(b,_){return b.__proto__=_,b})(h,g)}function a(h){return function(){var g,b,_=f(h);return g=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(g=f(this).constructor,Reflect.construct(_,arguments,g)):_.apply(this,arguments),_=this,!(b=g)||x(b)!=="object"&&typeof b!="function"?d(_):b}}function d(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function f(h){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)})(h)}var m=function(h){var g=A;if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),h&&c(g,h);var b,_=a(A);function A(P,j,E){var k;if(this instanceof A)return(k=_.call(this,P,j)).canvas=P,k._pixelsState=j,E?(k._isMainCanvas=!0,k._pInst._setProperty("_curElement",d(k)),k._pInst._setProperty("canvas",k.canvas),k._pInst._setProperty("width",k.width),k._pInst._setProperty("height",k.height)):(k.canvas.style.display="none",k._styles=[]),k._clipping=!1,k._clipInvert=!1,k._textSize=12,k._textLeading=15,k._textFont="sans-serif",k._textStyle=u.NORMAL,k._textAscent=null,k._textDescent=null,k._textAlign=u.LEFT,k._textBaseline=u.BASELINE,k._textWrap=u.WORD,k._rectMode=u.CORNER,k._ellipseMode=u.CENTER,k._curveTightness=0,k._imageMode=u.CORNER,k._tint=null,k._doStroke=!0,k._doFill=!0,k._strokeSet=!1,k._fillSet=!1,k._leadingSet=!1,k._pushPopDepth=0,k;throw new TypeError("Cannot call a class as a function")}return g=A,(h=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(P){this._pushPopDepth--,P.properties&&Object.assign(this,P.properties)}},{key:"beginClip",value:function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=P.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(P,j){this.width=P,this.height=j,this.elt.width=P*this._pInst._pixelDensity,this.elt.height=j*this._pInst._pixelDensity,this.elt.style.width="".concat(P,"px"),this.elt.style.height="".concat(j,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(P,j,E,k){var M=this._pixelsState,I=M._pixelDensity,S=this.canvas;if(P===void 0&&j===void 0)P=j=0,E=M.width,k=M.height;else if(P*=I,j*=I,E===void 0&&k===void 0)return P<0||j<0||P>=S.width||j>=S.height?[0,0,0,0]:this._getPixel(P,j);return M=new p.default.Image(E*I,k*I),M.pixelDensity(I),M.canvas.getContext("2d").drawImage(S,P,j,E*I,k*I,0,0,E*I,k*I),M}},{key:"textLeading",value:function(P){return typeof P=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",P),this._pInst):this._textLeading}},{key:"textStyle",value:function(P){return P?(P!==u.NORMAL&&P!==u.ITALIC&&P!==u.BOLD&&P!==u.BOLDITALIC||this._setProperty("_textStyle",P),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(P,j){return P!==void 0?(this._setProperty("_textAlign",P),j!==void 0&&this._setProperty("_textBaseline",j),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(P){return this._setProperty("_textWrap",P),this._textWrap}},{key:"text",value:function(P,j,E,k,M){var I,S,T,L,O=this._pInst,V=this._textWrap,H=Number.MAX_VALUE,F=E;if((this._doFill||this._doStroke)&&P!==void 0){if(I=(P=(P=typeof P!="string"?P.toString():P).replace(/(\t)/g,"  ")).split(`
`),k!==void 0){switch(this._rectMode===u.CENTER&&(j-=k/2),this._textAlign){case u.CENTER:j+=k/2;break;case u.RIGHT:j+=k}if(M!==void 0){this._rectMode===u.CENTER&&(E-=M/2,F-=M/2);var P=E,W=O.textAscent();switch(this._textBaseline){case u.BOTTOM:L=E+M,E=Math.max(L,E),F+=W;break;case u.CENTER:L=E+M/2,E=Math.max(L,E),F+=W/2}H=E+M-W,this._textBaseline===u.CENTER&&(H=P+M-W/2)}else this._textBaseline!==u.BOTTOM&&this._textBaseline!==u.CENTER||(F=E-(P=O.textSize()*this._textLeading)/2,H=E+P/2);if(V===u.WORD){for(var ee=[],J=0;J<I.length;J++){for(var N="",D=I[J].split(" "),B=0;B<D.length;B++)S="".concat(N+D[B])+" ",N=k<(T=this.textWidth(S))&&0<N.length?(ee.push(N),"".concat(D[B])+" "):S;ee.push(N)}var Y=0;this._textBaseline===u.CENTER?Y=(ee.length-1)*O.textLeading()/2:this._textBaseline===u.BOTTOM&&(Y=(ee.length-1)*O.textLeading());for(var G=0;G<I.length;G++){N="",D=I[G].split(" ");for(var q=0;q<D.length;q++)S="".concat(N+D[q])+" ",k<(T=this.textWidth(S))&&0<N.length?(this._renderText(O,N.trim(),j,E-Y,H,F),N="".concat(D[q])+" ",E+=O.textLeading()):N=S;this._renderText(O,N.trim(),j,E-Y,H,F),E+=O.textLeading()}}else{for(var X=[],ne=0;ne<I.length;ne++)for(var $=I[ne].split(N=""),K=0;K<$.length;K++)S="".concat(N+$[K]),(T=this.textWidth(S))<=k?N+=$[K]:k<T&&0<N.length&&(X.push(N),N="".concat($[K]));X.push(N);var Q=0;this._textBaseline===u.CENTER?Q=(X.length-1)*O.textLeading()/2:this._textBaseline===u.BOTTOM&&(Q=(X.length-1)*O.textLeading());for(var Z=0;Z<I.length;Z++){$=I[Z].split(N="");for(var re=0;re<$.length;re++)S="".concat(N+$[re]),(T=this.textWidth(S))<=k?N+=$[re]:k<T&&0<N.length&&(this._renderText(O,N.trim(),j,E-Q,H,F),E+=O.textLeading(),N="".concat($[re]))}this._renderText(O,N.trim(),j,E-Q,H,F),E+=O.textLeading()}}else{var ie=0;this._textBaseline===u.CENTER?ie=(I.length-1)*O.textLeading()/2:this._textBaseline===u.BOTTOM&&(ie=(I.length-1)*O.textLeading());for(var he=0;he<I.length;he++)this._renderText(O,I[he],j,E-ie,H,F-ie),E+=O.textLeading()}return O}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return x(P)==="object"&&P.font&&P.font.supported}},{key:"_updateTextMetrics",value:function(){var P,j,E,k,M,I;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((P=document.createElement("span")).style.fontFamily=this._textFont,P.style.fontSize="".concat(this._textSize,"px"),P.innerHTML="ABCjgq|",(I=document.createElement("div")).style.display="inline-block",I.style.width="1px",I.style.height="0px",k=((j=document.createElement("div")).appendChild(P),j.appendChild(I),j.style.height="0px",j.style.overflow="hidden",document.body.appendChild(j),I.style.verticalAlign="baseline",l(I)),M=l(P),E=k[1]-M[1],k=(I.style.verticalAlign="bottom",l(I)),M=l(P),I=k[1]-M[1]-E,document.body.removeChild(j),this._setProperty("_textAscent",E),this._setProperty("_textDescent",I)),this}}])&&w(g.prototype,h),b&&w(g,b),A}(p.default.Element);function l(h){var g=0,b=0;if(h.offsetParent)for(;g+=h.offsetLeft,b+=h.offsetTop,h=h.offsetParent;);else g+=h.offsetLeft,b+=h.offsetTop;return[g,b]}m.prototype.textSize=function(h){return typeof h=="number"?(this._setProperty("_textSize",h),this._leadingSet||this._setProperty("_textLeading",h*u._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},p.default.Renderer=m,t=p.default.Renderer,y.default=t},{"../core/constants":269,"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],284:[function(h,o,y){"use strict";function i(g){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}function p(g){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(b){return i(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":i(b)})(g)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.for-each"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.number.to-fixed"),h("core-js/modules/es.object.get-own-property-descriptor"),h("core-js/modules/es.object.get-prototype-of"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.reflect.construct"),h("core-js/modules/es.reflect.get"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.weak-map"),h("core-js/modules/web.dom-collections.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.for-each"),h("core-js/modules/es.array.join"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.function.name"),h("core-js/modules/es.number.to-fixed"),h("core-js/modules/es.object.get-prototype-of"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.exec"),h("core-js/modules/es.regexp.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(l=h("./main"))&&l.__esModule?l:{default:l},v=function(g){if(g&&g.__esModule)return g;if(g===null||p(g)!=="object"&&typeof g!="function")return{default:g};var b=x();if(b&&b.has(g))return b.get(g);var _,A={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in g){var j;Object.prototype.hasOwnProperty.call(g,_)&&((j=P?Object.getOwnPropertyDescriptor(g,_):null)&&(j.get||j.set)?Object.defineProperty(A,_,j):A[_]=g[_])}return A.default=g,b&&b.set(g,A),A}(h("./constants"));function x(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,x=function(){return g},g)}function w(g,b){for(var _=0;_<b.length;_++){var A=b[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(g,A.key,A)}}function c(g,b,_){return(c=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(E,P,j){var E=function(k,M){for(;!Object.prototype.hasOwnProperty.call(k,M)&&(k=f(k))!==null;);return k}(E,P);if(E)return(E=Object.getOwnPropertyDescriptor(E,P)).get?E.get.call(j):E.value})(g,b,_||g)}function a(g,b){return(a=Object.setPrototypeOf||function(_,A){return _.__proto__=A,_})(g,b)}function d(g){return function(){var b,_=f(g),_=(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=f(this).constructor,Reflect.construct(_,arguments,b)):_.apply(this,arguments),this);if(!b||p(b)!=="object"&&typeof b!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}function f(g){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(g)}h("./p5.Renderer");var m="rgba(0,0,0,0)",l=function(g){var b=P;if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),g&&a(b,g);var _,A=d(P);function P(j,E,k){if(this instanceof P)return(j=A.call(this,j,E,k)).drawingContext=j.canvas.getContext("2d"),j._pInst._setProperty("drawingContext",j.drawingContext),j;throw new TypeError("Cannot call a class as a function")}return b=P,(g=[{key:"getFilterGraphicsLayer",value:function(){var j;return this.filterGraphicsLayer||(j=(this._pInst instanceof u.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new u.default.Graphics(this.width,this.height,v.WEBGL,j)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=v.BLEND,this._setFill(v._DEFAULT_FILL),this._setStroke(v._DEFAULT_STROKE),this.drawingContext.lineCap=v.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(j,E){c(f(P.prototype),"resize",this).call(this,j,E),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var j,E;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof u.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(j=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(j,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(j=this._getFill(),E=(E=this._pInst).color.apply(E,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(E.levels),E=E.toString(),this._setFill(E),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(j),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setFill(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",j.levels)}},{key:"stroke",value:function(){var j=(j=this._pInst).color.apply(j,arguments);this._setStroke(j.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",j.levels)}},{key:"erase",value:function(j,E){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,j=this._pInst.color(255,j).toString(),this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,j=this._pInst.color(255,E).toString(),this.drawingContext.strokeStyle=j,E=this._cachedBlendMode,this.blendMode(v.REMOVE),this._cachedBlendMode=E,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var j=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},j=(c(f(P.prototype),"beginClip",this).call(this,j),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),j=(this.drawingContext.fillStyle=j,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),j=(this.drawingContext.strokeStyle=j,this._cachedBlendMode);this.blendMode(v.BLEND),this._cachedBlendMode=j,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),c(f(P.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(j,E,k,M,I,S,T,L,O){j.gifProperties&&j._animateGif(this._pInst);try{u.default.MediaElement&&j instanceof u.default.MediaElement&&j._ensureCanvas();var V=(V=this._tint&&j.canvas?this._getTintedImageCanvas(j):V)||j.canvas||j.elt,H=1;j.width&&0<j.width&&(H=V.width/j.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(V,H*E,H*k,H*M,H*I,S,T,L,O),this._isErasing&&this._pInst.erase()}catch(F){if(F.name!=="NS_ERROR_NOT_AVAILABLE")throw F}}},{key:"_getTintedImageCanvas",value:function(j){if(!j.canvas)return j;j.tintCanvas||(j.tintCanvas=document.createElement("canvas")),j.tintCanvas.width!==j.canvas.width&&(j.tintCanvas.width=j.canvas.width),j.tintCanvas.height!==j.canvas.height&&(j.tintCanvas.height=j.canvas.height);var E=j.tintCanvas.getContext("2d");return E.save(),E.clearRect(0,0,j.canvas.width,j.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(E.drawImage(j.canvas,0,0),E.globalCompositeOperation="luminosity",E.drawImage(j.canvas,0,0),E.globalCompositeOperation="color",E.drawImage(j.canvas,0,0),E.globalCompositeOperation="multiply",E.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),E.fillRect(0,0,j.canvas.width,j.canvas.height),E.globalCompositeOperation="destination-in"),E.globalAlpha=this._tint[3]/255,E.drawImage(j.canvas,0,0),E.restore(),j.tintCanvas}},{key:"blendMode",value:function(j){if(j===v.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(j!==v.BLEND&&j!==v.REMOVE&&j!==v.DARKEST&&j!==v.LIGHTEST&&j!==v.DIFFERENCE&&j!==v.MULTIPLY&&j!==v.EXCLUSION&&j!==v.SCREEN&&j!==v.REPLACE&&j!==v.OVERLAY&&j!==v.HARD_LIGHT&&j!==v.SOFT_LIGHT&&j!==v.DODGE&&j!==v.BURN&&j!==v.ADD)throw new Error("Mode ".concat(j," not recognized."));this._cachedBlendMode=j,this.drawingContext.globalCompositeOperation=j}}},{key:"blend",value:function(){for(var j=this.drawingContext.globalCompositeOperation,E=arguments.length,k=new Array(E),M=0;M<E;M++)k[M]=arguments[M];var I=k[k.length-1],S=Array.prototype.slice.call(k,0,k.length-1);this.drawingContext.globalCompositeOperation=I,u.default.prototype.copy.apply(this,S),this.drawingContext.globalCompositeOperation=j}},{key:"_getPixel",value:function(j,E){return j=this.drawingContext.getImageData(j,E,1,1).data,[j[0],j[1],j[2],j[3]]}},{key:"loadPixels",value:function(){var j=this._pixelsState,E=j._pixelDensity,k=this.width*E,E=this.height*E,k=this.drawingContext.getImageData(0,0,k,E);j._setProperty("imageData",k),j._setProperty("pixels",k.data)}},{key:"set",value:function(j,E,k){j=Math.floor(j),E=Math.floor(E);var M=this._pixelsState;if(k instanceof u.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(M._pixelDensity,M._pixelDensity),this.drawingContext.clearRect(j,E,k.width,k.height),this.drawingContext.drawImage(k.canvas,j,E),this.drawingContext.restore();else{var I=0,S=0,T=0,L=0,O=4*(E*M._pixelDensity*(this.width*M._pixelDensity)+j*M._pixelDensity);if(M.imageData||M.loadPixels(),typeof k=="number")O<M.pixels.length&&(T=S=I=k,L=255);else if(Array.isArray(k)){if(k.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");O<M.pixels.length&&(I=k[0],S=k[1],T=k[2],L=k[3])}else k instanceof u.default.Color&&O<M.pixels.length&&(I=k.levels[0],S=k.levels[1],T=k.levels[2],L=k.levels[3]);for(var V=0;V<M._pixelDensity;V++)for(var H=0;H<M._pixelDensity;H++)O=4*((E*M._pixelDensity+H)*this.width*M._pixelDensity+(j*M._pixelDensity+V)),M.pixels[O]=I,M.pixels[O+1]=S,M.pixels[O+2]=T,M.pixels[O+3]=L}}},{key:"updatePixels",value:function(j,E,k,M){var I=this._pixelsState,S=I._pixelDensity;j===void 0&&E===void 0&&k===void 0&&M===void 0&&(E=j=0,k=this.width,M=this.height),j*=S,E*=S,k*=S,M*=S,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=I.imageData),this.drawingContext.putImageData(I.imageData,j,E,0,0,k,M)}},{key:"_acuteArcToBezier",value:function(j,E){var S=E/2,k=Math.cos(S),L=Math.sin(S),M=1/Math.tan(S),S=j+S,I=Math.cos(S),S=Math.sin(S),T=(4-k)/3,L=L+(k-T)*M;return{ax:Math.cos(j).toFixed(7),ay:Math.sin(j).toFixed(7),bx:(T*I+L*S).toFixed(7),by:(T*S-L*I).toFixed(7),cx:(T*I-L*S).toFixed(7),cy:(T*S+L*I).toFixed(7),dx:Math.cos(j+E).toFixed(7),dy:Math.sin(j+E).toFixed(7)}}},{key:"arc",value:function(j,E,k,M,I,S,T){var L,O=this.drawingContext,V=k/2,H=M/2,F=[];for(j+=V,E+=H;1e-5<=S-I;)L=Math.min(S-I,v.HALF_PI),F.push(this._acuteArcToBezier(I,L)),I+=L;return this._doFill&&(this._clipping||O.beginPath(),F.forEach(function(W,ee){ee===0&&O.moveTo(j+W.ax*V,E+W.ay*H),O.bezierCurveTo(j+W.bx*V,E+W.by*H,j+W.cx*V,E+W.cy*H,j+W.dx*V,E+W.dy*H)}),T!==v.PIE&&T!=null||O.lineTo(j,E),O.closePath(),this._clipping||O.fill()),this._doStroke&&(this._clipping||O.beginPath(),F.forEach(function(W,ee){ee===0&&O.moveTo(j+W.ax*V,E+W.ay*H),O.bezierCurveTo(j+W.bx*V,E+W.by*H,j+W.cx*V,E+W.cy*H,j+W.dx*V,E+W.dy*H)}),T===v.PIE?(O.lineTo(j,E),O.closePath()):T===v.CHORD&&O.closePath(),this._clipping||O.stroke()),this}},{key:"ellipse",value:function(L){var E=this.drawingContext,k=this._doFill,M=this._doStroke,I=parseFloat(L[0]),S=parseFloat(L[1]),T=parseFloat(L[2]),L=parseFloat(L[3]);if(k&&!M){if(this._getFill()===m)return this}else if(!k&&M&&this._getStroke()===m)return this;I+=T/2,S+=L/2,T/=2,L/=2,this._clipping||E.beginPath(),E.ellipse(I,S,T,L,0,0,2*Math.PI),!this._clipping&&k&&E.fill(),!this._clipping&&M&&E.stroke()}},{key:"line",value:function(j,E,k,M){var I=this.drawingContext;return this._doStroke&&this._getStroke()!==m&&(this._clipping||I.beginPath(),I.moveTo(j,E),I.lineTo(k,M),I.stroke()),this}},{key:"point",value:function(j,E){var k,M,I=this.drawingContext;return!this._doStroke||this._getStroke()===m?this:(k=this._getStroke(),M=this._getFill(),this._clipping||this._setFill(k),this._clipping||I.beginPath(),I.arc(j,E,I.lineWidth/2,0,v.TWO_PI,!1),void(this._clipping||(I.fill(),this._setFill(M))))}},{key:"quad",value:function(j,E,k,M,I,S,T,L){var O=this.drawingContext,V=this._doFill,H=this._doStroke;if(V&&!H){if(this._getFill()===m)return this}else if(!V&&H&&this._getStroke()===m)return this;return this._clipping||O.beginPath(),O.moveTo(j,E),O.lineTo(k,M),O.lineTo(I,S),O.lineTo(T,L),O.closePath(),!this._clipping&&V&&O.fill(),!this._clipping&&H&&O.stroke(),this}},{key:"rect",value:function(H){var E,k,M=H[0],I=H[1],S=H[2],T=H[3],L=H[4],O=H[5],V=H[6],H=H[7],F=this.drawingContext,W=this._doFill,ee=this._doStroke;if(W&&!ee){if(this._getFill()===m)return this}else if(!W&&ee&&this._getStroke()===m)return this;return this._clipping||F.beginPath(),L===void 0?F.rect(M,I,S,T):(O===void 0&&(O=L),V===void 0&&(V=O),H===void 0&&(H=V),ee=(W=Math.abs(S))/2,k=(E=Math.abs(T))/2,E<2*(L=W<2*L?ee:L)&&(L=k),E<2*(O=W<2*O?ee:O)&&(O=k),E<2*(V=W<2*V?ee:V)&&(V=k),E<2*(H=W<2*H?ee:H)&&(H=k),this._clipping||F.beginPath(),F.moveTo(M+L,I),F.arcTo(M+S,I,M+S,I+T,O),F.arcTo(M+S,I+T,M,I+T,V),F.arcTo(M,I+T,M,I,H),F.arcTo(M,I,M+S,I,L),F.closePath()),!this._clipping&&this._doFill&&F.fill(),!this._clipping&&this._doStroke&&F.stroke(),this}},{key:"triangle",value:function(V){var E=this.drawingContext,k=this._doFill,M=this._doStroke,I=V[0],S=V[1],T=V[2],L=V[3],O=V[4],V=V[5];if(k&&!M){if(this._getFill()===m)return this}else if(!k&&M&&this._getStroke()===m)return this;this._clipping||E.beginPath(),E.moveTo(I,S),E.lineTo(T,L),E.lineTo(O,V),E.closePath(),!this._clipping&&k&&E.fill(),!this._clipping&&M&&E.stroke()}},{key:"endShape",value:function(j,E,k,M,I,S,T){if(E.length!==0&&(this._doStroke||this._doFill)){var L,O,V,H=j===v.CLOSE,F=(H&&!S&&E.push(E[0]),E.length);if(k&&T===null){if(3<F){var W=[],ee=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[1][0],E[1][1]),O=1;O+2<F;O++)L=E[O],W[0]=[L[0],L[1]],W[1]=[L[0]+(ee*E[O+1][0]-ee*E[O-1][0])/6,L[1]+(ee*E[O+1][1]-ee*E[O-1][1])/6],W[2]=[E[O+1][0]+(ee*E[O][0]-ee*E[O+2][0])/6,E[O+1][1]+(ee*E[O][1]-ee*E[O+2][1])/6],W[3]=[E[O+1][0],E[O+1][1]],this.drawingContext.bezierCurveTo(W[1][0],W[1][1],W[2][0],W[2][1],W[3][0],W[3][1]);H&&this.drawingContext.lineTo(E[O+1][0],E[O+1][1]),this._doFillStrokeClose(H)}}else if(M&&T===null){for(this._clipping||this.drawingContext.beginPath(),O=0;O<F;O++)E[O].isVert?E[O].moveTo?this.drawingContext.moveTo(E[O][0],E[O][1]):this.drawingContext.lineTo(E[O][0],E[O][1]):this.drawingContext.bezierCurveTo(E[O][0],E[O][1],E[O][2],E[O][3],E[O][4],E[O][5]);this._doFillStrokeClose(H)}else if(I&&T===null){for(this._clipping||this.drawingContext.beginPath(),O=0;O<F;O++)E[O].isVert?E[O].moveTo?this.drawingContext.moveTo(E[O][0],E[O][1]):this.drawingContext.lineTo(E[O][0],E[O][1]):this.drawingContext.quadraticCurveTo(E[O][0],E[O][1],E[O][2],E[O][3]);this._doFillStrokeClose(H)}else if(T===v.POINTS)for(O=0;O<F;O++)L=E[O],this._doStroke&&this._pInst.stroke(L[6]),this._pInst.point(L[0],L[1]);else if(T===v.LINES)for(O=0;O+1<F;O+=2)L=E[O],this._doStroke&&this._pInst.stroke(E[O+1][6]),this._pInst.line(L[0],L[1],E[O+1][0],E[O+1][1]);else if(T===v.TRIANGLES)for(O=0;O+2<F;O+=3)L=E[O],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(L[0],L[1]),this.drawingContext.lineTo(E[O+1][0],E[O+1][1]),this.drawingContext.lineTo(E[O+2][0],E[O+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(E[O+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(E[O+2][6]),this.drawingContext.stroke());else if(T===v.TRIANGLE_STRIP)for(O=0;O+1<F;O++)L=E[O],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[O+1][0],E[O+1][1]),this.drawingContext.lineTo(L[0],L[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[O+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(E[O+1][5]),O+2<F&&(this.drawingContext.lineTo(E[O+2][0],E[O+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[O+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(E[O+2][5])),this._doFillStrokeClose(H);else if(T===v.TRIANGLE_FAN){if(2<F){for(this._clipping||this.drawingContext.beginPath(),O=2;O<F;O++)L=E[O],this.drawingContext.moveTo(E[0][0],E[0][1]),this.drawingContext.lineTo(E[O-1][0],E[O-1][1]),this.drawingContext.lineTo(L[0],L[1]),this.drawingContext.lineTo(E[0][0],E[0][1]),O<F-1&&(this._doFill&&L[5]!==E[O+1][5]||this._doStroke&&L[6]!==E[O+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(L[5]),this.drawingContext.fill(),this._pInst.fill(E[O+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(L[6]),this.drawingContext.stroke(),this._pInst.stroke(E[O+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(H)}}else if(T===v.QUADS)for(O=0;O+3<F;O+=4){for(L=E[O],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(L[0],L[1]),V=1;V<4;V++)this.drawingContext.lineTo(E[O+V][0],E[O+V][1]);this.drawingContext.lineTo(L[0],L[1]),!this._clipping&&this._doFill&&this._pInst.fill(E[O+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[O+3][6]),this._doFillStrokeClose(H)}else if(T===v.QUAD_STRIP){if(3<F)for(O=0;O+1<F;O+=2)L=E[O],this._clipping||this.drawingContext.beginPath(),O+3<F?(this.drawingContext.moveTo(E[O+2][0],E[O+2][1]),this.drawingContext.lineTo(L[0],L[1]),this.drawingContext.lineTo(E[O+1][0],E[O+1][1]),this.drawingContext.lineTo(E[O+3][0],E[O+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(E[O+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(E[O+3][6])):(this.drawingContext.moveTo(L[0],L[1]),this.drawingContext.lineTo(E[O+1][0],E[O+1][1])),this._doFillStrokeClose(H)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(E[0][0],E[0][1]),O=1;O<F;O++)(L=E[O]).isVert&&(L.moveTo?(H&&this.drawingContext.closePath(),this.drawingContext.moveTo(L[0],L[1])):this.drawingContext.lineTo(L[0],L[1]));this._doFillStrokeClose(H)}S=I=M=k=!1,H&&E.pop()}return this}},{key:"strokeCap",value:function(j){return j!==v.ROUND&&j!==v.SQUARE&&j!==v.PROJECT||(this.drawingContext.lineCap=j),this}},{key:"strokeJoin",value:function(j){return j!==v.ROUND&&j!==v.BEVEL&&j!==v.MITER||(this.drawingContext.lineJoin=j),this}},{key:"strokeWeight",value:function(j){return this.drawingContext.lineWidth=j===void 0||j===0?1e-4:j,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(j){j!==this._cachedFillStyle&&(this.drawingContext.fillStyle=j,this._cachedFillStyle=j)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(j){j!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=j,this._cachedStrokeStyle=j)}},{key:"bezier",value:function(j,E,k,M,I,S,T,L){return this._pInst.beginShape(),this._pInst.vertex(j,E),this._pInst.bezierVertex(k,M,I,S,T,L),this._pInst.endShape(),this}},{key:"curve",value:function(j,E,k,M,I,S,T,L){return this._pInst.beginShape(),this._pInst.curveVertex(j,E),this._pInst.curveVertex(k,M),this._pInst.curveVertex(I,S),this._pInst.curveVertex(T,L),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(j){j&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(j,E,k,M,I,S){this.drawingContext.transform(j,E,k,M,I,S)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(j){this.drawingContext.rotate(j)}},{key:"scale",value:function(j,E){return this.drawingContext.scale(j,E),this}},{key:"translate",value:function(j,E){return j instanceof u.default.Vector&&(E=j.y,j=j.x),this.drawingContext.translate(j,E),this}},{key:"_renderText",value:function(j,E,k,M,I,S){if(!(M<S||I<=M))return j.push(),this._isOpenType()?this._textFont._renderPath(E,k,M,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(E,k,M),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(v._DEFAULT_TEXT_FILL),this.drawingContext.fillText(E,k,M))),j.pop(),j}},{key:"textWidth",value:function(j){return this._isOpenType()?this._textFont._textWidth(j,this._textSize):this.drawingContext.measureText(j).width}},{key:"_applyTextProperties",value:function(){var j=this._pInst,E=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),E=this._textFont,this._isOpenType()&&(E=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),E||"sans-serif");return/\s/.exec(E)&&(E='"'.concat(E,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(E),this.drawingContext.textAlign=this._textAlign,this._textBaseline===v.CENTER?this.drawingContext.textBaseline=v._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,j}},{key:"push",value:function(){return this.drawingContext.save(),c(f(P.prototype),"push",this).call(this)}},{key:"pop",value:function(j){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,c(f(P.prototype),"pop",this).call(this,j)}}])&&w(b.prototype,g),_&&w(b,_),P}(u.default.Renderer),h=(l.prototype.text=function(g,b,_,E,P){E!==void 0&&this.drawingContext.textBaseline===v.BASELINE&&(j=!0,this.drawingContext.textBaseline=v.TOP);var j,E=u.default.Renderer.prototype.text.apply(this,arguments);return j&&(this.drawingContext.textBaseline=v.BASELINE),E},u.default.Renderer2D=l,u.default.Renderer2D);y.default=h},{"./constants":269,"./main":280,"./p5.Renderer":283,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],285:[function(t,o,y){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var i=(t=t("./main"))&&t.__esModule?t:{default:t};i.default.prototype._promisePreloads=[];function p(){return{}}var u=!(i.default.prototype.registerPromisePreload=function(v){i.default.prototype._promisePreloads.push(v)});i.default.prototype._setupPromisePreloads=function(){var v=!0,x=!1,w=void 0;try{for(var c,a=this._promisePreloads[Symbol.iterator]();!(v=(c=a.next()).done);v=!0){var d=c.value,f=this,m=d.method,l=d.addCallbacks,h=d.legacyPreloadSetup,g=d.target||this,b=g[m].bind(g);if(g===i.default.prototype){if(u)continue;f=null,b=g[m]}g[m]=this._wrapPromisePreload(f,b,l),h&&(g[h.method]=this._legacyPreloadGenerator(f,h,g[m]))}}catch(_){x=!0,w=_}finally{try{v||a.return==null||a.return()}finally{if(x)throw w}}u=!0},i.default.prototype._wrapPromisePreload=function(v,x,w){var c=function(){for(var a=this,d=(this._incrementPreload(),null),f=null,m=arguments.length,l=new Array(m),h=0;h<m;h++)l[h]=arguments[h];if(w)for(var g=l.length-1;0<=g&&!f&&typeof l[g]=="function";g--)f=d,d=l.pop();var b=Promise.resolve(x.apply(this,l));return d&&b.then(d),f&&b.catch(f),b.then(function(){return a._decrementPreload()}),b};return c=v?c.bind(v):c},i.default.prototype._legacyPreloadGenerator=function(v,a,w){var c=a.createBaseObject||p,a=function(){var d=this;this._incrementPreload();for(var f=arguments.length,m=new Array(f),l=0;l<f;l++)m[l]=arguments[l];var h=c.apply(this,m);return w.apply(this,m).then(function(g){Object.assign(h,g),d._decrementPreload()}),h};return a=v?a.bind(v):a}},{"./main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],286:[function(t,o,y){"use strict";function i(a){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(c=t("./main"))&&c.__esModule?c:{default:c},u=function(a){if(a&&a.__esModule)return a;if(a===null||x(a)!=="object"&&typeof a!="function")return{default:a};var d=v();if(d&&d.has(a))return d.get(a);var f,m={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in a){var h;Object.prototype.hasOwnProperty.call(a,f)&&((h=l?Object.getOwnPropertyDescriptor(a,f):null)&&(h.get||h.set)?Object.defineProperty(m,f,h):m[f]=a[f])}return m.default=a,d&&d.set(a,m),m}(t("./constants"));function v(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,v=function(){return a},a)}function x(a){return(x=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(d){return i(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":i(d)})(a)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var w="defaultCanvas0",c=(p.default.prototype.createCanvas=function(a,d,f,m){var l,h,g;if(p.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(f=u.P2D,m=arguments[2]):l=f||u.P2D,m)(g=document.getElementById(w))&&g.parentNode.removeChild(g),g=m,this._defaultGraphicsCreated=!1;else{if(l===u.WEBGL)(g=document.getElementById(w))&&(g.parentNode.removeChild(g),h=this._renderer,this._elements=this._elements.filter(function(_){return _!==h})),(g=document.createElement("canvas")).id=w,g.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)g=this.canvas;else{g=m||document.createElement("canvas");for(var b=0;document.getElementById("defaultCanvas".concat(b));)b++;w="defaultCanvas".concat(b),g.id=w,g.classList.add("p5Canvas")}this._setupDone||(g.dataset.hidden=!0,g.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(f=document.createElement("main"),document.body.appendChild(f)),document.getElementsByTagName("main")[0])).appendChild(g)}return l===u.WEBGL?(this._setProperty("_renderer",new p.default.RendererGL(g,this,!0)),this._elements.push(this._renderer),a=(m=this._renderer._adjustDimensions(a,d)).adjustedWidth,d=m.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new p.default.Renderer2D(g,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(a,d),this._renderer._applyDefaults(),this._renderer},p.default.prototype.resizeCanvas=function(a,d,f){if(p.default._validateParameters("resizeCanvas",arguments),this._renderer){var m,l,h,g={};for(m in this.drawingContext){var b=this.drawingContext[m];x(b)!=="object"&&typeof b!="function"&&(g[m]=b)}for(h in this._renderer instanceof p.default.RendererGL&&(a=(l=this._renderer._adjustDimensions(a,d)).adjustedWidth,d=l.adjustedHeight),this.width=a,this.height=d,this._renderer.resize(a,d),g)try{this.drawingContext[h]=g[h]}catch{}f||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},p.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},p.default.prototype.createGraphics=function(a,d){for(var f=arguments.length,m=new Array(2<f?f-2:0),l=2;l<f;l++)m[l-2]=arguments[l];return m[0]instanceof HTMLCanvasElement&&(m[1]=m[0],m[0]=u.P2D),p.default._validateParameters("createGraphics",arguments),new p.default.Graphics(a,d,m[0],this,m[1])},p.default.prototype.createFramebuffer=function(a){return new p.default.Framebuffer(this,a)},p.default.prototype.clearDepth=function(a){this._assert3d("clearDepth"),this._renderer.clearDepth(a)},p.default.prototype.blendMode=function(a){p.default._validateParameters("blendMode",arguments),a===u.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),a=u.BLEND),this._renderer.blendMode(a)},p.default);y.default=c},{"../webgl/p5.RendererGL":337,"./constants":269,"./main":280,"./p5.Graphics":282,"./p5.Renderer2D":284,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],287:[function(t,o,y){"use strict";function i(d){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function p(d){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(f){return i(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":i(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=c(t("../main")),v=function(d){if(d&&d.__esModule)return d;if(d===null||p(d)!=="object"&&typeof d!="function")return{default:d};var f=w();if(f&&f.has(d))return f.get(d);var m,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in d){var g;Object.prototype.hasOwnProperty.call(d,m)&&((g=h?Object.getOwnPropertyDescriptor(d,m):null)&&(g.get||g.set)?Object.defineProperty(l,m,g):l[m]=d[m])}return l.default=d,f&&f.set(d,l),l}(t("../constants")),x=c(t("../helpers"));function w(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,w=function(){return d},d)}function c(d){return d&&d.__esModule?d:{default:d}}function a(d){return function(f){if(Array.isArray(f)){for(var m=0,l=new Array(f.length);m<f.length;m++)l[m]=f[m];return l}}(d)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),u.default.prototype._normalizeArcAngles=function(d,f,m,l,h){var g;return d-=v.TWO_PI*Math.floor(d/v.TWO_PI),f-=v.TWO_PI*Math.floor(f/v.TWO_PI),g=Math.min(Math.abs(d-f),v.TWO_PI-Math.abs(d-f)),h&&(d=d<=v.HALF_PI?Math.atan(m/l*Math.tan(d)):d>v.HALF_PI&&d<=3*v.HALF_PI?Math.atan(m/l*Math.tan(d))+v.PI:Math.atan(m/l*Math.tan(d))+v.TWO_PI,f=f<=v.HALF_PI?Math.atan(m/l*Math.tan(f)):f>v.HALF_PI&&f<=3*v.HALF_PI?Math.atan(m/l*Math.tan(f))+v.PI:Math.atan(m/l*Math.tan(f))+v.TWO_PI),f<d&&(f+=v.TWO_PI),{start:d,stop:f,correspondToSamePoint:g<1e-5}},u.default.prototype.arc=function(d,f,m,l,h,g,b,_){return u.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&h!==g&&(h=this._toRadians(h),g=this._toRadians(g),m=Math.abs(m),l=Math.abs(l),d=x.default.modeAdjust(d,f,m,l,this._renderer._ellipseMode),(f=this._normalizeArcAngles(h,g,d.w,d.h,!0)).correspondToSamePoint?this._renderer.ellipse([d.x,d.y,d.w,d.h,_]):(this._renderer.arc(d.x,d.y,d.w,d.h,f.start,f.stop,b,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[d.x,d.y,d.w,d.h,f.start,f.stop,b]))),this},u.default.prototype.ellipse=function(d,f,m,l,h){return u.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},u.default.prototype.circle=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];u.default._validateParameters("circle",f);var l=f.slice(0,2);return l.push(f[2],f[2]),this._renderEllipse.apply(this,a(l))},u.default.prototype._renderEllipse=function(d,f,m,l,h){return(this._renderer._doStroke||this._renderer._doFill)&&(m<0&&(m=Math.abs(m)),l===void 0?l=m:l<0&&(l=Math.abs(l)),d=x.default.modeAdjust(d,f,m,l,this._renderer._ellipseMode),this._renderer.ellipse([d.x,d.y,d.w,d.h,h]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[d.x,d.y,d.w,d.h])),this},u.default.prototype.line=function(){for(var d,f=arguments.length,m=new Array(f),l=0;l<f;l++)m[l]=arguments[l];return u.default._validateParameters("line",m),this._renderer._doStroke&&(d=this._renderer).line.apply(d,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",m),this},u.default.prototype.point=function(){for(var d,f=arguments.length,m=new Array(f),l=0;l<f;l++)m[l]=arguments[l];return u.default._validateParameters("point",m),this._renderer._doStroke&&(m.length===1&&m[0]instanceof u.default.Vector?this._renderer.point.call(this._renderer,m[0].x,m[0].y,m[0].z):((d=this._renderer).point.apply(d,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",m))),this},u.default.prototype.quad=function(){for(var d,f=arguments.length,m=new Array(f),l=0;l<f;l++)m[l]=arguments[l];return u.default._validateParameters("quad",m),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&m.length<12?this._renderer.quad.call(this._renderer,m[0],m[1],0,m[2],m[3],0,m[4],m[5],0,m[6],m[7],0,m[8],m[9]):((d=this._renderer).quad.apply(d,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",m))),this},u.default.prototype.rect=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return u.default._validateParameters("rect",f),this._renderRect.apply(this,f)},u.default.prototype.square=function(d,f,m,l,h,g,b){return u.default._validateParameters("square",arguments),this._renderRect.call(this,d,f,m,m,l,h,g,b)},u.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var d=x.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),f=[d.x,d.y,d.w,d.h],m=4;m<arguments.length;m++)f[m]=arguments[m];this._renderer.rect(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[d.x,d.y,d.w,d.h])}return this},u.default.prototype.triangle=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return u.default._validateParameters("triangle",f),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(f),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",f),this},t=u.default,y.default=t},{"../constants":269,"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../helpers":276,"../main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],288:[function(t,o,y){"use strict";function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function p(c){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(w=t("../main"))&&w.__esModule?w:{default:w},v=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var a=x();if(a&&a.has(c))return a.get(c);var d,f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var l;Object.prototype.hasOwnProperty.call(c,d)&&((l=m?Object.getOwnPropertyDescriptor(c,d):null)&&(l.get||l.set)?Object.defineProperty(f,d,l):f[d]=c[d])}return f.default=c,a&&a.set(c,f),f}(t("../constants"));function x(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,x=function(){return c},c)}u.default.prototype.ellipseMode=function(c){return u.default._validateParameters("ellipseMode",arguments),c!==v.CORNER&&c!==v.CORNERS&&c!==v.RADIUS&&c!==v.CENTER||(this._renderer._ellipseMode=c),this},u.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},u.default.prototype.rectMode=function(c){return u.default._validateParameters("rectMode",arguments),c!==v.CORNER&&c!==v.CORNERS&&c!==v.RADIUS&&c!==v.CENTER||(this._renderer._rectMode=c),this},u.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},u.default.prototype.strokeCap=function(c){return u.default._validateParameters("strokeCap",arguments),c!==v.ROUND&&c!==v.SQUARE&&c!==v.PROJECT||this._renderer.strokeCap(c),this},u.default.prototype.strokeJoin=function(c){return u.default._validateParameters("strokeJoin",arguments),c!==v.ROUND&&c!==v.BEVEL&&c!==v.MITER||this._renderer.strokeJoin(c),this},u.default.prototype.strokeWeight=function(c){return u.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(c),this};var w=u.default;y.default=w},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],289:[function(t,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(p=t("../main"))&&p.__esModule?p:{default:p};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),i.default.prototype.bezier=function(){for(var u,v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];return i.default._validateParameters("bezier",x),(this._renderer._doStroke||this._renderer._doFill)&&(u=this._renderer).bezier.apply(u,x),this},i.default.prototype.bezierDetail=function(u){return i.default._validateParameters("bezierDetail",arguments),this._bezierDetail=u,this},i.default.prototype.bezierPoint=function(u,v,x,w,c){i.default._validateParameters("bezierPoint",arguments);var a=1-c;return Math.pow(a,3)*u+3*Math.pow(a,2)*c*v+3*a*Math.pow(c,2)*x+Math.pow(c,3)*w},i.default.prototype.bezierTangent=function(u,v,x,w,c){i.default._validateParameters("bezierTangent",arguments);var a=1-c;return 3*w*Math.pow(c,2)-3*x*Math.pow(c,2)+6*x*a*c-6*v*a*c+3*v*Math.pow(a,2)-3*u*Math.pow(a,2)},i.default.prototype.curve=function(){for(var u,v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];return i.default._validateParameters("curve",x),this._renderer._doStroke&&(u=this._renderer).curve.apply(u,x),this},i.default.prototype.curveDetail=function(u){return i.default._validateParameters("curveDetail",arguments),this._curveDetail=u<3?3:u,this},i.default.prototype.curveTightness=function(u){return i.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=u,this},i.default.prototype.curvePoint=function(u,v,x,w,c){i.default._validateParameters("curvePoint",arguments);var a=this._renderer._curveTightness,d=c*c*c,f=c*c;return u*((a-1)/2*d+(1-a)*f+(a-1)/2*c)+v*((a+3)/2*d+(-5-a)/2*f+1)+x*((-3-a)/2*d+(a+2)*f+(1-a)/2*c)+w*((1-a)/2*d+(a-1)/2*f)},i.default.prototype.curveTangent=function(u,v,x,w,f){i.default._validateParameters("curveTangent",arguments);var a=this._renderer._curveTightness,d=f*f*3,f=2*f;return u*((a-1)/2*d+(1-a)*f+(a-1)/2)+v*((a+3)/2*d+(-5-a)/2*f)+x*((-3-a)/2*d+(a+2)*f+(1-a)/2)+w*((1-a)/2*d+(a-1)/2*f)};var p=i.default;y.default=p},{"../friendly_errors/fes_core":271,"../friendly_errors/file_errors":272,"../friendly_errors/validate_params":275,"../main":280}],290:[function(t,o,y){"use strict";function i(b){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(b)}function p(b){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(_){return i(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":i(_)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(g=t("../main"))&&g.__esModule?g:{default:g},v=function(b){if(b&&b.__esModule)return b;if(b===null||p(b)!=="object"&&typeof b!="function")return{default:b};var _=x();if(_&&_.has(b))return _.get(b);var A,P={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(A in b){var E;Object.prototype.hasOwnProperty.call(b,A)&&((E=j?Object.getOwnPropertyDescriptor(b,A):null)&&(E.get||E.set)?Object.defineProperty(P,A,E):P[A]=b[A])}return P.default=b,_&&_.set(b,P),P}(t("../constants"));function x(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,x=function(){return b},b)}var w=null,c=[],a=[],d=!1,f=!1,m=!1,l=!1,h=!0,g=(u.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(a=[],l=!0),this},u.default.prototype.beginShape=function(b){var _;return u.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(_=this._renderer).beginShape.apply(_,arguments):(w=b===v.POINTS||b===v.LINES||b===v.TRIANGLES||b===v.TRIANGLE_FAN||b===v.TRIANGLE_STRIP||b===v.QUADS||b===v.QUAD_STRIP?b:null,c=[],a=[]),this},u.default.prototype.bezierVertex=function(){for(var b,_=arguments.length,A=new Array(_),P=0;P<_;P++)A[P]=arguments[P];if(u.default._validateParameters("bezierVertex",A),this._renderer.isP3D)(b=this._renderer).bezierVertex.apply(b,A);else if(c.length===0)u.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{d=!0;for(var j=[],E=0;E<A.length;E++)j[E]=A[E];j.isVert=!1,(l?a:c).push(j)}return this},u.default.prototype.curveVertex=function(){for(var b,_=arguments.length,A=new Array(_),P=0;P<_;P++)A[P]=arguments[P];return u.default._validateParameters("curveVertex",A),this._renderer.isP3D?(b=this._renderer).curveVertex.apply(b,A):(f=!0,this.vertex(A[0],A[1])),this},u.default.prototype.endContour=function(){if(!this._renderer.isP3D){var b=a[0].slice();b.isVert=a[0].isVert,b.moveTo=!1,a.push(b),h&&(c.push(c[0]),h=!1);for(var _=0;_<a.length;_++)c.push(a[_])}return this},u.default.prototype.endShape=function(b){var _=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(u.default._validateParameters("endShape",arguments),_<1&&(console.log("\u{1F338} p5.js says: You can not have less than one instance"),_=1),this._renderer.isP3D)this._renderer.endShape(b,f,d,m,l,w,_);else{if(_!==1&&console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode"),c.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;_=b===v.CLOSE,_&&!l&&c.push(c[0]),this._renderer.endShape(b,c,f,d,m,l,w),h=!(l=m=d=f=!1),_&&c.pop()}return this},u.default.prototype.quadraticVertex=function(){for(var b,_=arguments.length,A=new Array(_),P=0;P<_;P++)A[P]=arguments[P];if(u.default._validateParameters("quadraticVertex",A),this._renderer.isP3D)(b=this._renderer).quadraticVertex.apply(b,A);else{if(this._contourInited)return(b={}).x=A[0],b.y=A[1],b.x3=A[2],b.y3=A[3],b.type=v.QUADRATIC,this._contourVertices.push(b),this;if(0<c.length){m=!0;for(var j=[],E=0;E<A.length;E++)j[E]=A[E];j.isVert=!1,(l?a:c).push(j)}else u.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},u.default.prototype.vertex=function(b,_,A,P,j){var E;return this._renderer.isP3D?(E=this._renderer).vertex.apply(E,arguments):((E=[]).isVert=!0,E[0]=b,E[1]=_,E[2]=0,E[3]=0,E[4]=0,E[5]=this._renderer._getFill(),E[6]=this._renderer._getStroke(),A&&(E.moveTo=A),(l?(a.length===0&&(E.moveTo=!0),a):c).push(E)),this},u.default.prototype.normal=function(b,_,A){var P;return this._assert3d("normal"),u.default._validateParameters("normal",arguments),(P=this._renderer).normal.apply(P,arguments),this},u.default);y.default=g},{"../constants":269,"../main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],291:[function(t,o,y){},{}],292:[function(t,o,y){"use strict";t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var i=this._styles.pop();i?(this._renderer.pop(i.renderer),Object.assign(this,i.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(i){if(!this._inUserDraw&&this._setupDone){var p=parseInt(i),u=((isNaN(p)||p<1)&&(p=1),this._isGlobal?window:this);if(typeof u.draw=="function"){u.setup===void 0&&u.scale(u._pixelDensity,u._pixelDensity);for(var v=0;v<p;v++){u.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),u._renderer.isP3D&&u._renderer._update(),u._setProperty("frameCount",u.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{u.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,y.default=t},{"./main":280,"core-js/modules/es.object.assign":181}],293:[function(t,o,y){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("./main"))&&t.__esModule?t:{default:t};function p(u){return function(v){if(Array.isArray(v)){for(var x=0,w=new Array(v.length);x<v.length;x++)w[x]=v[x];return w}}(u)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.default.prototype.applyMatrix=function(){var u=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||u?(u=this._renderer).applyMatrix.apply(u,p(arguments.length<=0?void 0:arguments[0])):(u=this._renderer).applyMatrix.apply(u,arguments),this},i.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},i.default.prototype.rotate=function(u,v){return i.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(u),v),this},i.default.prototype.rotateX=function(u){return this._assert3d("rotateX"),i.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(u)),this},i.default.prototype.rotateY=function(u){return this._assert3d("rotateY"),i.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(u)),this},i.default.prototype.rotateZ=function(u){return this._assert3d("rotateZ"),i.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(u)),this},i.default.prototype.scale=function(u,v,x){var w;return i.default._validateParameters("scale",arguments),u instanceof i.default.Vector?(u=(w=u).x,v=w.y,x=w.z):Array.isArray(u)&&(u=(w=u)[0],v=w[1],x=w[2]||1),isNaN(v)?v=x=u:isNaN(x)&&(x=1),this._renderer.scale(u,v,x),this},i.default.prototype.shearX=function(u){return i.default._validateParameters("shearX",arguments),u=this._toRadians(u),this._renderer.applyMatrix(1,0,Math.tan(u),1,0,0),this},i.default.prototype.shearY=function(u){return i.default._validateParameters("shearY",arguments),u=this._toRadians(u),this._renderer.applyMatrix(1,Math.tan(u),0,1,0,0),this},i.default.prototype.translate=function(u,v,x){return i.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(u,v,x):this._renderer.translate(u,v),this},t=i.default,y.default=t},{"./main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243}],294:[function(t,o,y){"use strict";function i(x){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(x)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var p=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(x){return function(w){if(Array.isArray(w)){for(var c=0,a=new Array(w.length);c<w.length;c++)a[c]=w[c];return a}}(x)||function(w){if(Symbol.iterator in Object(w)||Object.prototype.toString.call(w)==="[object Arguments]")return Array.from(w)}(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(x){return(v=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(w){return i(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":i(w)})(x)}p.default.prototype.storeItem=function(x,w){typeof x!="string"&&console.log("The argument that you passed to storeItem() - ".concat(x," is not a string.")),x.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(x," must not end with 'p5TypeID'.")),w===void 0&&console.log("You cannot store undefined variables using storeItem().");var c=v(w);switch(c){case"number":case"boolean":w=w.toString();break;case"object":w instanceof p.default.Color?c="p5.Color":w instanceof p.default.Vector&&(c="p5.Vector",w=[w.x,w.y,w.z]),w=JSON.stringify(w)}localStorage.setItem(x,w),x="".concat(x,"p5TypeID"),localStorage.setItem(x,c)},p.default.prototype.getItem=function(x){var w=localStorage.getItem(x),c=localStorage.getItem("".concat(x,"p5TypeID"));if(c===void 0)console.log("Unable to determine type of item stored under ".concat(x,"in local storage. Did you save the item with something other than setItem()?"));else if(w!==null)switch(c){case"number":w=parseFloat(w);break;case"boolean":w=w==="true";break;case"object":w=JSON.parse(w);break;case"p5.Color":w=JSON.parse(w),w=this.color.apply(this,u(w.levels));break;case"p5.Vector":w=JSON.parse(w),w=this.createVector.apply(this,u(w))}return w},p.default.prototype.clearStorage=function(){var x=this;Object.keys(localStorage).forEach(function(w){w.endsWith("p5TypeID")&&x.removeItem(w.replace("p5TypeID",""))})},p.default.prototype.removeItem=function(x){typeof x!="string"&&console.log("The argument that you passed to removeItem() - ".concat(x," is not a string.")),localStorage.removeItem(x),localStorage.removeItem("".concat(x,"p5TypeID"))}},{"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.ends-with":195,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],295:[function(t,o,y){"use strict";function i(m){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(m)}function p(m){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(l){return i(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":i(l)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function v(m,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(l&&l.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),l&&x(m,l)}function x(m,l){return(x=Object.setPrototypeOf||function(h,g){return h.__proto__=g,h})(m,l)}function w(m){return function(){var l,h=c(m),h=(l=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(l=c(this).constructor,Reflect.construct(h,arguments,l)):h.apply(this,arguments),this);if(!l||p(l)!=="object"&&typeof l!="function"){if(h!==void 0)return h;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return l}}function c(m){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(m)}function a(m,l){if(!(m instanceof l))throw new TypeError("Cannot call a class as a function")}function d(m,l){for(var h=0;h<l.length;h++){var g=l[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}function f(m,l,h){l&&d(m.prototype,l),h&&d(m,h)}u.default.prototype.createStringDict=function(m,l){return u.default._validateParameters("createStringDict",arguments),new u.default.StringDict(m,l)},u.default.prototype.createNumberDict=function(m,l){return u.default._validateParameters("createNumberDict",arguments),new u.default.NumberDict(m,l)},u.default.TypedDict=function(){function m(l,h){return a(this,m),l instanceof Object?this.data=l:(this.data={},this.data[l]=h),this}return f(m,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(l){return this.data.hasOwnProperty(l)}},{key:"get",value:function(l){if(this.data.hasOwnProperty(l))return this.data[l];console.log("".concat(l," does not exist in this Dictionary"))}},{key:"set",value:function(l,h){this._validate(h)?this.data[l]=h:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(l){for(var h in l)this.set(h,l[h])}},{key:"create",value:function(l,h){l instanceof Object&&h===void 0?this._addObj(l):l!==void 0?this.set(l,h):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(l){if(!this.data.hasOwnProperty(l))throw new Error("".concat(l," does not exist in this Dictionary"));delete this.data[l]}},{key:"print",value:function(){for(var l in this.data)console.log("key:".concat(l," value:").concat(this.data[l]))}},{key:"saveTable",value:function(l){var h,g="";for(h in this.data)g+="".concat(h,",").concat(this.data[h],`
`);var b=new Blob([g],{type:"text/csv"});u.default.prototype.downloadFile(b,l||"mycsv","csv")}},{key:"saveJSON",value:function(l,h){u.default.prototype.saveJSON(this.data,l,h)}},{key:"_validate",value:function(l){return!0}}]),m}(),u.default.StringDict=function(){v(l,u.default.TypedDict);var m=w(l);function l(){a(this,l);for(var h=arguments.length,g=new Array(h),b=0;b<h;b++)g[b]=arguments[b];return m.call.apply(m,[this].concat(g))}return f(l,[{key:"_validate",value:function(h){return typeof h=="string"}}]),l}(),u.default.NumberDict=function(){v(l,u.default.TypedDict);var m=w(l);function l(){a(this,l);for(var h=arguments.length,g=new Array(h),b=0;b<h;b++)g[b]=arguments[b];return m.call.apply(m,[this].concat(g))}return f(l,[{key:"_validate",value:function(h){return typeof h=="number"}},{key:"add",value:function(h,g){this.data.hasOwnProperty(h)?this.data[h]+=g:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"sub",value:function(h,g){this.add(h,-g)}},{key:"mult",value:function(h,g){this.data.hasOwnProperty(h)?this.data[h]*=g:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"div",value:function(h,g){this.data.hasOwnProperty(h)?this.data[h]/=g:console.log("The key - ".concat(h," does not exist in this dictionary."))}},{key:"_valueTest",value:function(h){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var g,b=this.data[Object.keys(this.data)[0]];for(g in this.data)this.data[g]*h<b*h&&(b=this.data[g]);return b}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(h){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var g=Object.keys(this.data)[0],b=1;b<Object.keys(this.data).length;b++)Object.keys(this.data)[b]*h<g*h&&(g=Object.keys(this.data)[b]);return g}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),l}(),t=u.default.TypedDict,y.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],296:[function(t,o,y){"use strict";function i(g){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(g,b){for(var _=0;_<b.length;_++){var A=b[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(g,A.key,A)}}function v(g,b,_){b&&u(g.prototype,b),_&&u(g,_)}function x(g,b){return(x=Object.setPrototypeOf||function(_,A){return _.__proto__=A,_})(g,b)}function w(g){return function(){var b,_,A=a(g);return b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=a(this).constructor,Reflect.construct(A,arguments,b)):A.apply(this,arguments),A=this,!(_=b)||f(_)!=="object"&&typeof _!="function"?c(A):_}}function c(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function a(g){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(g)}function d(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function f(g){return(f=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(b){return i(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":i(b)})(g)}function m(g,b,_){return(b._userNode||document.body).appendChild(g),_=new(_?p.default.MediaElement:p.default.Element)(g,b),b._elements.push(_),_}function l(g,E,_,A){var P=document.createElement(E),j=(typeof(_=_||"")=="string"&&(_=[_]),!0),E=!1,k=void 0;try{for(var M,I=_[Symbol.iterator]();!(j=(M=I.next()).done);j=!0){var S=M.value,T=document.createElement("source");T.setAttribute("src",S),P.appendChild(T)}}catch(O){E=!0,k=O}finally{try{j||I.return==null||I.return()}finally{if(E)throw k}}typeof A=="function"&&P.addEventListener("canplaythrough",function O(){A(),P.removeEventListener("canplaythrough",O)});var L=m(P,g,!0);return L.loadedmetadata=!1,P.addEventListener("loadedmetadata",function(){L.width=P.videoWidth,L.height=P.videoHeight,L.elt.width===0&&(L.elt.width=P.videoWidth),L.elt.height===0&&(L.elt.height=P.videoHeight),L.presetPlaybackRate&&(L.elt.playbackRate=L.presetPlaybackRate,delete L.presetPlaybackRate),L.loadedmetadata=!0}),L}p.default.prototype.select=function(g,b){return p.default._validateParameters("select",arguments),b=this._getContainer(b).querySelector(g),b?this._wrapElement(b):null},p.default.prototype.selectAll=function(g,b){p.default._validateParameters("selectAll",arguments);var _=[],A=this._getContainer(b).querySelectorAll(g);if(A)for(var P=0;P<A.length;P++){var j=this._wrapElement(A[P]);_.push(j)}return _},p.default.prototype._getContainer=function(g){var b=document;return typeof g=="string"?b=document.querySelector(g)||document:g instanceof p.default.Element?b=g.elt:g instanceof HTMLElement&&(b=g),b},p.default.prototype._wrapElement=function(g){var b,_=Array.prototype.slice.call(g.children);return g.tagName==="INPUT"&&g.type==="checkbox"?((b=new p.default.Element(g,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},b):g.tagName==="VIDEO"||g.tagName==="AUDIO"?new p.default.MediaElement(g,this):g.tagName==="SELECT"?this.createSelect(new p.default.Element(g,this)):0<_.length&&_.every(function(A){return A.tagName==="INPUT"||A.tagName==="LABEL"})?this.createRadio(new p.default.Element(g,this)):new p.default.Element(g,this)},p.default.prototype.removeElements=function(g){p.default._validateParameters("removeElements",arguments),this._elements.filter(function(b){return!(b.elt instanceof HTMLCanvasElement)}).map(function(b){return b.remove()})},p.default.Element.prototype.changed=function(g){return p.default.Element._adjustListener("change",g,this),this},p.default.Element.prototype.input=function(g){return p.default.Element._adjustListener("input",g,this),this},p.default.prototype.createDiv=function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",b=document.createElement("div");return b.innerHTML=g,m(b,this)},p.default.prototype.createP=function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",b=document.createElement("p");return b.innerHTML=g,m(b,this)},p.default.prototype.createSpan=function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",b=document.createElement("span");return b.innerHTML=g,m(b,this)},p.default.prototype.createImg=function(){p.default._validateParameters("createImg",arguments);var g,b=document.createElement("img"),_=arguments;return 1<_.length&&typeof _[1]=="string"&&(b.alt=_[1]),2<_.length&&typeof _[2]=="string"&&(b.crossOrigin=_[2]),b.src=_[0],g=m(b,this),b.addEventListener("load",function(){g.width=b.offsetWidth||b.width,g.height=b.offsetHeight||b.height;var A=_[_.length-1];typeof A=="function"&&A(g)}),g},p.default.prototype.createA=function(g,b,_){p.default._validateParameters("createA",arguments);var A=document.createElement("a");return A.href=g,A.innerHTML=b,_&&(A.target=_),m(A,this)},p.default.prototype.createSlider=function(g,b,_,A){p.default._validateParameters("createSlider",arguments);var P=document.createElement("input");return P.type="range",P.min=g,P.max=b,A===0?P.step=1e-18:A&&(P.step=A),typeof _=="number"&&(P.value=_),m(P,this)},p.default.prototype.createButton=function(g,b){p.default._validateParameters("createButton",arguments);var _=document.createElement("button");return _.innerHTML=g,b&&(_.value=b),m(_,this)},p.default.prototype.createCheckbox=function(){for(var g=arguments.length,b=new Array(g),_=0;_<g;_++)b[_]=arguments[_];p.default._validateParameters("createCheckbox",b);var A=document.createElement("div"),P=document.createElement("input"),j=(P.type="checkbox",document.createElement("label")),E=(j.appendChild(P),A.appendChild(j),m(A,this));return E.checked=function(){var k=E.elt.firstElementChild.getElementsByTagName("input")[0];if(k){if(arguments.length===0)return k.checked;k.checked=!(arguments.length<=0||!arguments[0])}return E},this.value=function(k){return E.value=k,this},b[0]&&(E.value(b[0]),(A=document.createElement("span")).innerHTML=b[0],j.appendChild(A)),b[1]&&(P.checked=!0),E},p.default.prototype.createSelect=function(){for(var g,b=arguments.length,_=new Array(b),A=0;A<b;A++)_[A]=arguments[A];p.default._validateParameters("createSelect",_);var P,j=_[0];return j instanceof p.default.Element&&j.elt instanceof HTMLSelectElement?this.elt=(g=j).elt:j instanceof HTMLSelectElement?(g=m(j,this),this.elt=j):(P=document.createElement("select"),j&&typeof j=="boolean"&&P.setAttribute("multiple","true"),g=m(P,this),this.elt=P),g.option=function(E,k){var M;if(E!==void 0){for(var I,S=0;S<this.elt.length;S+=1)if(this.elt[S].textContent===E){M=S;break}M!==void 0?k===!1?this.elt.remove(M):this.elt[M].value=k:((I=document.createElement("option")).textContent=E,I.value=k===void 0?E:k,this.elt.appendChild(I),this._pInst._elements.push(I))}},g.selected=function(E){if(E!==void 0){for(var k=0;k<this.elt.length;k+=1)this.elt[k].value.toString()===E.toString()&&(this.elt.selectedIndex=k);return this}if(this.elt.getAttribute("multiple")){var M=[],I=!0,S=!1,T=void 0;try{for(var L,O=this.elt.selectedOptions[Symbol.iterator]();!(I=(L=O.next()).done);I=!0){var V=L.value;M.push(V.value)}}catch(H){S=!0,T=H}finally{try{I||O.return==null||O.return()}finally{if(S)throw T}}return M}return this.elt.value},g.disable=function(E){if(typeof E=="string")for(var k=0;k<this.elt.length;k++)this.elt[k].value.toString()===E&&(this.elt[k].disabled=!0,this.elt[k].selected=!1);else this.elt.disabled=!0;return this},g.enable=function(E){if(typeof E=="string")for(var k=0;k<this.elt.length;k++)this.elt[k].value.toString()===E&&(this.elt[k].disabled=!1,this.elt[k].selected=!1);else{this.elt.disabled=!1;for(var M=0;M<this.elt.length;M++)this.elt[M].disabled=!1,this.elt[M].selected=!1}return this},g},p.default.prototype.createRadio=function(){function g(E){return E instanceof HTMLInputElement&&E.type==="radio"}function b(E){return E instanceof HTMLLabelElement}var _,A,P,j=arguments.length<=0?void 0:arguments[0];return j instanceof p.default.Element&&(j.elt instanceof HTMLDivElement||j.elt instanceof HTMLSpanElement)?(_=j,this.elt=j.elt):j instanceof HTMLDivElement||j instanceof HTMLSpanElement?(_=m(j,this),A=this.elt=j,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(P=arguments.length<=1?void 0:arguments[1])):(typeof j=="string"&&(P=j),A=document.createElement("div"),_=m(A,this),this.elt=A),_._name=P||"radioOption",_._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(E){return g(E)||b(E)&&g(E.firstElementChild)}).map(function(E){return g(E)?E:E.firstElementChild})},_.option=function(E,k){var M,I,S,T=!0,L=!1,O=void 0;try{for(var V,H=_._getOptionsArray()[Symbol.iterator]();!(T=(V=H.next()).done);T=!0){var F=V.value;if(F.value===E){M=F;break}}}catch(W){L=!0,O=W}finally{try{T||H.return==null||H.return()}finally{if(L)throw O}}return M===void 0&&((M=document.createElement("input")).setAttribute("type","radio"),M.setAttribute("value",E)),M.setAttribute("name",_._name),b(M.parentElement)?I=M.parentElement:(I=document.createElement("label")).insertAdjacentElement("afterbegin",M),I.lastElementChild instanceof HTMLSpanElement?S=I.lastElementChild:(S=document.createElement("span"),M.insertAdjacentElement("afterend",S)),S.innerHTML=k===void 0?E:k,this.elt.appendChild(I),M},_.remove=function(E){var k=!0,M=!1,I=void 0;try{for(var S,T=_._getOptionsArray()[Symbol.iterator]();!(k=(S=T.next()).done);k=!0){var L=S.value;if(L.value===E)return void(b(L.parentElement)?L.parentElement:L).remove()}}catch(O){M=!0,I=O}finally{try{k||T.return==null||T.return()}finally{if(M)throw I}}},_.value=function(){var E="",k=!0,M=!1,I=void 0;try{for(var S,T=_._getOptionsArray()[Symbol.iterator]();!(k=(S=T.next()).done);k=!0){var L=S.value;if(L.checked){E=L.value;break}}}catch(O){M=!0,I=O}finally{try{k||T.return==null||T.return()}finally{if(M)throw I}}return E},_.selected=function(E){var k=null;if(E===void 0){var M=!0,I=!1,S=void 0;try{for(var T,L=_._getOptionsArray()[Symbol.iterator]();!(M=(T=L.next()).done);M=!0){var O=T.value;if(O.checked){k=O;break}}}catch(ee){I=!0,S=ee}finally{try{M||L.return==null||L.return()}finally{if(I)throw S}}}else{_._getOptionsArray().forEach(function(N){N.checked=!1,N.removeAttribute("checked")});var V=!0,I=!1,S=void 0;try{for(var H,F=_._getOptionsArray()[Symbol.iterator]();!(V=(H=F.next()).done);V=!0){var W=H.value;W.value===E&&(W.setAttribute("checked",!0),W.checked=!0,k=W)}}catch(N){I=!0,S=N}finally{try{V||F.return==null||F.return()}finally{if(I)throw S}}}return k},_.disable=function(){var E=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],k=!0,M=!1,I=void 0;try{for(var S,T=_._getOptionsArray()[Symbol.iterator]();!(k=(S=T.next()).done);k=!0)S.value.setAttribute("disabled",E)}catch(L){M=!0,I=L}finally{try{k||T.return==null||T.return()}finally{if(M)throw I}}},_},p.default.prototype.createColorPicker=function(g){p.default._validateParameters("createColorPicker",arguments);var b=document.createElement("input");return b.type="color",g?g instanceof p.default.Color?b.value=g.toString("#rrggbb"):(p.default.prototype._colorMode="rgb",p.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},b.value=p.default.prototype.color(g).toString("#rrggbb")):b.value="#000000",(b=m(b,this)).color=function(){return g&&(g.mode&&(p.default.prototype._colorMode=g.mode),g.maxes&&(p.default.prototype._colorMaxes=g.maxes)),p.default.prototype.color(this.elt.value)},b},p.default.prototype.createInput=function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",_=(p.default._validateParameters("createInput",arguments),document.createElement("input"));return _.setAttribute("value",g),_.setAttribute("type",b),m(_,this)},p.default.prototype.createFileInput=function(g){var b,_=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(p.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(b=document.createElement("input")).setAttribute("type","file"),_&&b.setAttribute("multiple",!0),b.addEventListener("change",function(A){var P=!0,j=!1,E=void 0;try{for(var k,M=A.target.files[Symbol.iterator]();!(P=(k=M.next()).done);P=!0){var I=k.value;p.default.File._load(I,g)}}catch(S){j=!0,E=S}finally{try{P||M.return==null||M.return()}finally{if(j)throw E}}},!1),m(b,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},p.default.prototype.createVideo=function(g,b){return p.default._validateParameters("createVideo",arguments),l(this,"video",g,b)},p.default.prototype.createAudio=function(g,b){return p.default._validateParameters("createAudio",arguments),l(this,"audio",g,b)},p.default.prototype.VIDEO="video",p.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(g){var b=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return b?new Promise(function(_,A){b.call(navigator,g,_,A)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),p.default.prototype.createCapture=function(){for(var g=arguments.length,b=new Array(g),_=0;_<g;_++)b[_]=arguments[_];if(p.default._validateParameters("createCapture",b),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var A,P=!0,j=!0,E=!1,k=0,M=b;k<M.length;k++){var I=M[k];I===p.default.prototype.VIDEO?j=!1:I===p.default.prototype.AUDIO?P=!1:f(I)==="object"?(I.flipped!==void 0&&(E=I.flipped,delete I.flipped),S=Object.assign({},S,I)):typeof I=="function"&&(A=I)}var S=Object.assign({},{video:P,audio:j},S),T=document.createElement("video"),L=(T.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(S).then(function(O){try{"srcObject"in T?T.srcObject=O:T.src=window.URL.createObjectURL(O)}catch{T.src=O}}).catch(function(O){O.name==="NotFoundError"&&p.default._friendlyError("No webcam found on this device","createCapture"),O.name==="NotAllowedError"&&p.default._friendlyError("Access to the camera was denied","createCapture"),console.error(O)}),m(T,this,!0));return L.loadedmetadata=!1,T.addEventListener("loadedmetadata",function(){T.play(),T.width?(L.width=T.width,L.height=T.height,E&&(L.elt.style.transform="scaleX(-1)")):(L.width=L.elt.width=T.videoWidth,L.height=L.elt.height=T.videoHeight),L.loadedmetadata=!0,A&&A(T.srcObject)}),L.flipped=E,L},p.default.prototype.createElement=function(g,b){return p.default._validateParameters("createElement",arguments),g=document.createElement(g),b!==void 0&&(g.innerHTML=b),m(g,this)},p.default.Element.prototype.addClass=function(g){return this.elt.className?this.hasClass(g)||(this.elt.className=this.elt.className+" "+g):this.elt.className=g,this},p.default.Element.prototype.removeClass=function(g){return this.elt.classList.remove(g),this},p.default.Element.prototype.hasClass=function(g){return this.elt.classList.contains(g)},p.default.Element.prototype.toggleClass=function(g){return this.elt.classList.contains(g)?this.elt.classList.remove(g):this.elt.classList.add(g),this},p.default.Element.prototype.child=function(g){return g===void 0?this.elt.childNodes:(typeof g=="string"?(g[0]==="#"&&(g=g.substring(1)),g=document.getElementById(g)):g instanceof p.default.Element&&(g=g.elt),g instanceof HTMLElement&&this.elt.appendChild(g),this)},p.default.Element.prototype.center=function(g){var b=this.elt.style.display,_=this.elt.style.display==="none",A=this.parent().style.display==="none",P={x:this.elt.offsetLeft,y:this.elt.offsetTop},j=(_&&this.show(),A&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),E=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return g==="both"||g===void 0?this.position(j/2+this.parent().offsetLeft,E/2+this.parent().offsetTop):g==="horizontal"?this.position(j/2+this.parent().offsetLeft,P.y):g==="vertical"&&this.position(P.x,E/2+this.parent().offsetTop),this.style("display",b),_&&this.hide(),A&&this.parent().hide(),this},p.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},p.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},p.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var g="";return this.elt.style.transform&&(g=(g=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=g,this},p.default.Element.prototype._rotate=function(){var g="";return this.elt.style.transform&&(g=(g=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=g,this},p.default.Element.prototype.style=function(g,b){if((b=b instanceof p.default.Color?"rgba("+b.levels[0]+","+b.levels[1]+","+b.levels[2]+","+b.levels[3]/255+")":b)===void 0){if(g.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(g);for(var _=g.split(";"),A=0;A<_.length;A++){var P=_[A].split(":");P[0]&&P[1]&&(this.elt.style[P[0].trim()]=P[1].trim())}}else this.elt.style[g]=b,g!=="width"&&g!=="height"&&g!=="left"&&g!=="top"||(b=window.getComputedStyle(this.elt).getPropertyValue(g).replace(/[^\d.]/g,""),this[g]=Math.round(parseFloat(b,10)));return this},p.default.Element.prototype.attribute=function(g,b){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return b===void 0?this.elt.getAttribute(g):(this.elt.setAttribute(g,b),this);if(b===void 0)return this.elt.firstChild.getAttribute(g);for(var _=0;_<this.elt.childNodes.length;_++)this.elt.childNodes[_].setAttribute(g,b)},p.default.Element.prototype.removeAttribute=function(g){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var b=0;b<this.elt.childNodes.length;b++)this.elt.childNodes[b].removeAttribute(g);return this.elt.removeAttribute(g),this},p.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},p.default.Element.prototype.show=function(){return this.elt.style.display="block",this},p.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},p.default.Element.prototype.size=function(g,b){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var _=g,A=b,P=p.default.prototype.AUTO;if(_!==P||A!==P){if(_===P?_=b*this.width/this.height:A===P&&(A=g*this.height/this.width),this.elt instanceof HTMLCanvasElement){var j,E={},k=this.elt.getContext("2d");for(j in k)E[j]=k[j];for(j in this.elt.setAttribute("width",_*this._pInst._pixelDensity),this.elt.setAttribute("height",A*this._pInst._pixelDensity),this.elt.style.width=_+"px",this.elt.style.height=A+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),E)this.elt.getContext("2d")[j]=E[j]}else this.elt.style.width=_+"px",this.elt.style.height=A+"px",this.elt.width=_,this.elt.height=A;this.width=_,this.height=A,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",_),this._pInst._setProperty("height",A))}return this},p.default.Element.prototype.remove=function(){this instanceof p.default.MediaElement&&(this.stop(),(b=this.elt.srcObject)!==null&&b.getTracks().forEach(function(_){_.stop()}));var g,b=this._pInst._elements.indexOf(this);for(g in b!==-1&&this._pInst._elements.splice(b,1),this._events)this.elt.removeEventListener(g,this._events[g]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},p.default.Element.prototype.drop=function(g,b){var _;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",_=function(A){A.preventDefault()}),this.elt.addEventListener("dragleave",_)),p.default.Element._attachListener("drop",function(P){P.preventDefault(),typeof b=="function"&&b.call(this,P);var P=P.dataTransfer.files,j=!0,E=!1,k=void 0;try{for(var M,I=P[Symbol.iterator]();!(j=(M=I.next()).done);j=!0){var S=M.value;p.default.File._load(S,g)}}catch(T){E=!0,k=T}finally{try{j||I.return==null||I.return()}finally{if(E)throw k}}},this)):console.log("The File APIs are not fully supported in this browser."),this},p.default.Element.prototype.draggable=function(g){var b,_="ontouchstart"in window,A=0,P=0,j=0,E=0,k=_?"touchend":"mouseup",M=_?"touchmove":"mousemove";function I(T){var L;T=T||window.event,E=_?(L=T.changedTouches,A=j-parseInt(L[0].clientX),P=E-parseInt(L[0].clientY),j=parseInt(L[0].clientX),parseInt(L[0].clientY)):(A=j-parseInt(T.clientX),P=E-parseInt(T.clientY),j=parseInt(T.clientX),parseInt(T.clientY)),g.style.left=g.offsetLeft-A+"px",g.style.top=g.offsetTop-P+"px"}function S(){document.removeEventListener(k,S,!1),document.removeEventListener(M,I,!1)}return g===void 0?b=g=this.elt:g!==this.elt&&g.elt!==this.elt&&(g=g.elt,b=this.elt),b.addEventListener(_?"touchstart":"mousedown",function(T){{var L;T=T||window.event,E=_?(L=T.changedTouches,j=parseInt(L[0].clientX),parseInt(L[0].clientY)):(j=parseInt(T.clientX),parseInt(T.clientY))}return document.addEventListener(k,S,!1),document.addEventListener(M,I,!1),!1},!1),b.style.cursor="move",this};function h(g,b,_,A){d(this,h),this.callback=g,this.time=b,this.id=_,this.val=A}t=function(g){var b=A;if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),g&&x(b,g);var _=w(A);function A(P,j){d(this,A);var E=c(j=_.call(this,P,j));return j.elt.crossOrigin="anonymous",j._prevTime=0,j._cueIDCounter=0,j._cues=[],j.pixels=[],j._pixelsState=c(j),j._pixelDensity=1,j._modified=!1,j._frameOnCanvas=-1,Object.defineProperty(E,"src",{get:function(){var k=E.elt.children[0].src,M=E.elt.src===window.location.href?"":E.elt.src;return k===window.location.href?M:k},set:function(k){for(var M=0;M<E.elt.children.length;M++)E.elt.removeChild(E.elt.children[M]);var I=document.createElement("source");I.src=k,P.appendChild(I),E.elt.src=k,E.modified=!0}}),E._onended=function(){},E.elt.onended=function(){E._onended(E)},j}return v(A,[{key:"play",value:function(){var P;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(P=this.elt.play())&&P.catch&&P.catch(function(j){j.name==="NotAllowedError"?console.error(j):console.error("Media play method encountered an unexpected error",j)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var P=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(P)},{passive:!0,once:!0})}},{key:"autoplay",value:function(P){var j=this,E=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",P),P&&!E&&(P=function(){return j._setupAutoplayFailDetection()},this.elt.readyState===4?P():this.elt.addEventListener("canplay",P,{passive:!0,once:!0})),this}},{key:"volume",value:function(P){if(P===void 0)return this.elt.volume;this.elt.volume=P}},{key:"speed",value:function(P){if(P===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=P:this.presetPlaybackRate=P}},{key:"time",value:function(P){return P===void 0?this.elt.currentTime:(this.elt.currentTime=P,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var P=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&P&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var P=arguments.length,j=new Array(P),E=0;E<P;E++)j[E]=arguments[E];return p.default.Renderer2D.prototype.loadPixels.apply(this,j)}},{key:"updatePixels",value:function(P,j,E,k){return this.loadedmetadata&&(this._ensureCanvas(),p.default.Renderer2D.prototype.updatePixels.call(this,P,j,E,k)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var P=arguments.length,j=new Array(P),E=0;E<P;E++)j[E]=arguments[E];return p.default.Renderer2D.prototype.get.apply(this,j)}},{key:"_getPixel",value:function(){this.loadPixels();for(var P=arguments.length,j=new Array(P),E=0;E<P;E++)j[E]=arguments[E];return p.default.Renderer2D.prototype._getPixel.apply(this,j)}},{key:"set",value:function(P,j,E){this.loadedmetadata&&(this._ensureCanvas(),p.default.Renderer2D.prototype.set.call(this,P,j,E),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var P=arguments.length,j=new Array(P),E=0;E<P;E++)j[E]=arguments[E];p.default.prototype.copy.apply(this,j)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var P=arguments.length,j=new Array(P),E=0;E<P;E++)j[E]=arguments[E];p.default.Image.prototype.mask.apply(this,j)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(P){this._modified=P}},{key:"onended",value:function(P){return this._onended=P,this}},{key:"connect",value:function(P){var j,E;if(typeof p.default.prototype.getAudioContext=="function")j=p.default.prototype.getAudioContext(),E=p.default.soundOut.input;else try{E=(j=P.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=j.createMediaElementSource(this.elt),this.audioSourceNode.connect(E)),P?P.input?this.audioSourceNode.connect(P.input):this.audioSourceNode.connect(P):this.audioSourceNode.connect(E)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(P,M,E){var k=this._cueIDCounter++,M=new h(M,P,k,E);return this._cues.push(M),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),k}},{key:"removeCue",value:function(P){for(var j=0;j<this._cues.length;j++)this._cues[j].id===P&&(console.log(P),this._cues.splice(j,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var P=this.time(),j=0;j<this._cues.length;j++){var E=this._cues[j].time,k=this._cues[j].val;this._prevTime<E&&E<=P&&this._cues[j].callback(k)}this._prevTime=P}}]),A}(p.default.Element),p.default.MediaElement=t,t=function(){function g(b,_){d(this,g),this.file=b,this._pInst=_,_=b.type.split("/"),this.type=_[0],this.subtype=_[1],this.name=b.name,this.size=b.size,this.data=void 0}return v(g,null,[{key:"_createLoader",value:function(b,_){var A=new FileReader;return A.onload=function(P){var j,E=new p.default.File(b);E.file.type==="application/json"?E.data=JSON.parse(P.target.result):E.file.type==="text/xml"?(j=new DOMParser().parseFromString(P.target.result,"text/xml"),E.data=new p.default.XML(j.documentElement)):E.data=P.target.result,_(E)},A}},{key:"_load",value:function(b,_){var A;/^text\//.test(b.type)||b.type==="application/json"?p.default.File._createLoader(b,_).readAsText(b):/^(video|audio)\//.test(b.type)?((A=new p.default.File(b)).data=URL.createObjectURL(b),_(A)):p.default.File._createLoader(b,_).readAsDataURL(b)}}]),g}(),p.default.File=t,t=p.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245}],297:[function(f,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(f=f("../core/main"))&&f.__esModule?f:{default:f};i.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",i.default.prototype.accelerationX=0,i.default.prototype.accelerationY=0,i.default.prototype.accelerationZ=0,i.default.prototype.pAccelerationX=0,i.default.prototype.pAccelerationY=0,i.default.prototype.pAccelerationZ=0,i.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},i.default.prototype.rotationX=0,i.default.prototype.rotationY=0,i.default.prototype.rotationZ=0,i.default.prototype.pRotationX=0,i.default.prototype.pRotationY=0;var p=i.default.prototype.pRotationZ=0,u=0,v=0,x="clockwise",w="clockwise",c="clockwise",a=(i.default.prototype.pRotateDirectionX=void 0,i.default.prototype.pRotateDirectionY=void 0,i.default.prototype.pRotateDirectionZ=void 0,i.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},i.default.prototype.turnAxis=void 0,.5),d=30,f=(i.default.prototype.setMoveThreshold=function(m){i.default._validateParameters("setMoveThreshold",arguments),a=m},i.default.prototype.setShakeThreshold=function(m){i.default._validateParameters("setShakeThreshold",arguments),d=m},i.default.prototype._ondeviceorientation=function(m){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(m.beta)),this._setProperty("rotationY",this._fromDegrees(m.gamma)),this._setProperty("rotationZ",this._fromDegrees(m.alpha)),this._handleMotion()},i.default.prototype._ondevicemotion=function(m){this._updatePAccelerations(),this._setProperty("accelerationX",2*m.acceleration.x),this._setProperty("accelerationY",2*m.acceleration.y),this._setProperty("accelerationZ",2*m.acceleration.z),this._handleMotion()},i.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var m,l,h,g,b,_=this._isGlobal?window:this;typeof _.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>a||Math.abs(this.accelerationY-this.pAccelerationY)>a||Math.abs(this.accelerationZ-this.pAccelerationZ)>a)&&_.deviceMoved(),typeof _.deviceTurned=="function"&&(l=this._toDegrees(this.rotationX)+180,h=this._toDegrees(this.pRotationX)+180,m=p+180,0<l-h&&l-h<270||l-h<-270?x="clockwise":(l-h<0||270<l-h)&&(x="counter-clockwise"),x!==this.pRotateDirectionX&&(m=l),90<Math.abs(l-m)&&Math.abs(l-m)<270&&(m=l,this._setProperty("turnAxis","X"),_.deviceTurned()),this.pRotateDirectionX=x,p=m-180,h=this._toDegrees(this.rotationY)+180,l=this._toDegrees(this.pRotationY)+180,m=u+180,0<h-l&&h-l<270||h-l<-270?w="clockwise":(h-l<0||270<h-this.pRotationY)&&(w="counter-clockwise"),w!==this.pRotateDirectionY&&(m=h),90<Math.abs(h-m)&&Math.abs(h-m)<270&&(m=h,this._setProperty("turnAxis","Y"),_.deviceTurned()),this.pRotateDirectionY=w,u=m-180,0<(l=this._toDegrees(this.rotationZ))-(h=this._toDegrees(this.pRotationZ))&&l-h<270||l-h<-270?c="clockwise":(l-h<0||270<l-h)&&(c="counter-clockwise"),c!==this.pRotateDirectionZ&&(v=l),90<Math.abs(l-v)&&Math.abs(l-v)<270&&(v=l,this._setProperty("turnAxis","Z"),_.deviceTurned()),this.pRotateDirectionZ=c,this._setProperty("turnAxis",void 0)),typeof _.deviceShaken=="function"&&(this.pAccelerationX!==null&&(g=Math.abs(this.accelerationX-this.pAccelerationX),b=Math.abs(this.accelerationY-this.pAccelerationY)),d<g+b&&_.deviceShaken())},i.default);y.default=f},{"../core/main":280}],298:[function(t,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.prototype.isKeyPressed=!1,i.default.prototype.keyIsPressed=!1,i.default.prototype.key="",i.default.prototype.keyCode=0,i.default.prototype._onkeydown=function(p){var u;this._downKeys[p.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",p.which),this._downKeys[p.which]=!0,this._setProperty("key",p.key||String.fromCharCode(p.which)||p.which),typeof(u=this._isGlobal?window:this).keyPressed!="function"||p.charCode||u.keyPressed(p)===!1&&p.preventDefault())},i.default.prototype._onkeyup=function(p){this._downKeys[p.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",p.key||String.fromCharCode(p.which)||p.which),this._setProperty("keyCode",p.which);var u=this._isGlobal?window:this;typeof u.keyReleased=="function"&&u.keyReleased(p)===!1&&p.preventDefault()},i.default.prototype._onkeypress=function(p){var u;p.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",p.which),this._setProperty("key",p.key||String.fromCharCode(p.which)||p.which),typeof(u=this._isGlobal?window:this).keyTyped=="function"&&u.keyTyped(p)===!1&&p.preventDefault())},i.default.prototype._onblur=function(p){this._downKeys={}},i.default.prototype.keyIsDown=function(p){return i.default._validateParameters("keyIsDown",arguments),this._downKeys[p]||!1},i.default.prototype._areDownKeys=function(){for(var p in this._downKeys)if(this._downKeys.hasOwnProperty(p)&&this._downKeys[p]===!0)return!0;return!1},t=i.default,y.default=t},{"../core/main":280}],299:[function(t,o,y){"use strict";function i(w){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(w)}function p(w){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(c){return i(c)}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":i(c)})(w)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(u=t("../core/main"))&&u.__esModule?u:{default:u},v=function(w){if(w&&w.__esModule)return w;if(w===null||p(w)!=="object"&&typeof w!="function")return{default:w};var c=x();if(c&&c.has(w))return c.get(w);var a,d={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in w){var m;Object.prototype.hasOwnProperty.call(w,a)&&((m=f?Object.getOwnPropertyDescriptor(w,a):null)&&(m.get||m.set)?Object.defineProperty(d,a,m):d[a]=w[a])}return d.default=w,c&&c.set(w,d),d}(t("../core/constants"));function x(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,x=function(){return w},w)}u.default.prototype.movedX=0,u.default.prototype.movedY=0,u.default.prototype._hasMouseInteracted=!1,u.default.prototype.mouseX=0,u.default.prototype.mouseY=0,u.default.prototype.pmouseX=0,u.default.prototype.pmouseY=0,u.default.prototype.winMouseX=0,u.default.prototype.winMouseY=0,u.default.prototype.pwinMouseX=0,u.default.prototype.pwinMouseY=0,u.default.prototype.mouseButton=0,u.default.prototype.mouseIsPressed=!1,u.default.prototype._updateNextMouseCoords=function(w){var c,a,d,f,m;this._curElement!==null&&(!w.touches||0<w.touches.length)&&(c=this._curElement.elt,a=this.width,d=this.height,(f=w)&&!f.clientX&&(f.touches?f=f.touches[0]:f.changedTouches&&(f=f.changedTouches[0])),m=c.getBoundingClientRect(),a=c.scrollWidth/a||1,c=c.scrollHeight/d||1,d={x:(f.clientX-m.left)/a,y:(f.clientY-m.top)/c,winX:f.clientX,winY:f.clientY,id:f.identifier},this._setProperty("movedX",w.movementX),this._setProperty("movedY",w.movementY),this._setProperty("mouseX",d.x),this._setProperty("mouseY",d.y),this._setProperty("winMouseX",d.winX),this._setProperty("winMouseY",d.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},u.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},u.default.prototype._setMouseButton=function(w){w.button===1?this._setProperty("mouseButton",v.CENTER):w.button===2?this._setProperty("mouseButton",v.RIGHT):this._setProperty("mouseButton",v.LEFT)},u.default.prototype._onmousemove=function(w){var c=this._isGlobal?window:this;this._updateNextMouseCoords(w),this.mouseIsPressed?typeof c.mouseDragged=="function"?c.mouseDragged(w)===!1&&w.preventDefault():typeof c.touchMoved=="function"&&c.touchMoved(w)===!1&&w.preventDefault():typeof c.mouseMoved=="function"&&c.mouseMoved(w)===!1&&w.preventDefault()},u.default.prototype._onmousedown=function(w){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(w),this._updateNextMouseCoords(w),this.touchstart||(typeof c.mousePressed=="function"?c.mousePressed(w)===!1&&w.preventDefault():typeof c.touchStarted=="function"&&c.touchStarted(w)===!1&&w.preventDefault(),this.touchstart=!1)},u.default.prototype._onmouseup=function(w){var c=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof c.mouseReleased=="function"?c.mouseReleased(w)===!1&&w.preventDefault():typeof c.touchEnded=="function"&&c.touchEnded(w)===!1&&w.preventDefault(),this.touchend=!1)},u.default.prototype._ondragend=u.default.prototype._onmouseup,u.default.prototype._ondragover=u.default.prototype._onmousemove,u.default.prototype._onclick=function(w){var c=this._isGlobal?window:this;typeof c.mouseClicked=="function"&&c.mouseClicked(w)===!1&&w.preventDefault()},u.default.prototype._ondblclick=function(w){var c=this._isGlobal?window:this;typeof c.doubleClicked=="function"&&c.doubleClicked(w)===!1&&w.preventDefault()},u.default.prototype._mouseWheelDeltaY=0,u.default.prototype._pmouseWheelDeltaY=0,u.default.prototype._onwheel=function(w){var c=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",w.deltaY),typeof c.mouseWheel=="function"&&(w.delta=w.deltaY,c.mouseWheel(w)===!1&&w.preventDefault())},u.default.prototype.requestPointerLock=function(){var w=this._curElement.elt;return w.requestPointerLock=w.requestPointerLock||w.mozRequestPointerLock,w.requestPointerLock?(w.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},u.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=u.default,y.default=t},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],300:[function(t,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(i){if(this._curElement!==null){for(var p=[],u=0;u<i.touches.length;u++)p[u]=function(m,f,l,c){var a=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,d=m.getBoundingClientRect(),f=m.scrollWidth/f||1,m=m.scrollHeight/l||1,l=c.touches[a]||c.changedTouches[a];return{x:(l.clientX-d.left)/f,y:(l.clientY-d.top)/m,winX:l.clientX,winY:l.clientY,id:l.identifier}}(this._curElement.elt,this.width,this.height,i,u);this._setProperty("touches",p)}},t.default.prototype._ontouchstart=function(i){var p=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(i),this._updateNextMouseCoords(i),this._updateMouseCoords(),typeof p.touchStarted=="function"&&(p.touchStarted(i)===!1&&i.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(i){var p=this._isGlobal?window:this;this._updateTouchCoords(i),this._updateNextMouseCoords(i),typeof p.touchMoved=="function"?p.touchMoved(i)===!1&&i.preventDefault():typeof p.mouseDragged=="function"&&p.mouseDragged(i)===!1&&i.preventDefault()},t.default.prototype._ontouchend=function(i){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(i),this._updateNextMouseCoords(i);var p=this._isGlobal?window:this;typeof p.touchEnded=="function"&&(p.touchEnded(i)===!1&&i.preventDefault(),this.touchend=!0)},t=t.default,y.default=t},{"../core/main":280}],301:[function(t,o,y){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i,p,u,v,x={_toPixels:function(w){var c,a;return w instanceof ImageData?w.data:w.getContext("2d")?w.getContext("2d").getImageData(0,0,w.width,w.height).data:w.getContext("webgl")?(a=(c=w.getContext("webgl")).drawingBufferWidth*c.drawingBufferHeight*4,a=new Uint8Array(a),c.readPixels(0,0,w.width,w.height,c.RGBA,c.UNSIGNED_BYTE,a),a):void 0},_getARGB:function(w,c){return c*=4,w[3+c]<<24&4278190080|w[c]<<16&16711680|w[1+c]<<8&65280|255&w[2+c]},_setPixels:function(w,c){for(var a,d=0,f=w.length;d<f;d++)w[0+(a=4*d)]=(16711680&c[d])>>>16,w[1+a]=(65280&c[d])>>>8,w[2+a]=255&c[d],w[3+a]=(4278190080&c[d])>>>24},_toImageData:function(w){return w instanceof ImageData?w:w.getContext("2d").getImageData(0,0,w.width,w.height)},_createImageData:function(w,c){return x._tmpCanvas=document.createElement("canvas"),x._tmpCtx=x._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(w,c)},apply:function(w,m,a){var d=w.getContext("2d"),f=d.getImageData(0,0,w.width,w.height),m=m(f,a);m instanceof ImageData?d.putImageData(m,0,0,0,0,w.width,w.height):d.putImageData(f,0,0,0,0,w.width,w.height)},threshold:function(w){for(var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,a=x._toPixels(w),d=Math.floor(255*c),f=0;f<a.length;f+=4){var m=void 0,m=d<=.2126*a[f]+.7152*a[f+1]+.0722*a[f+2]?255:0;a[f]=a[f+1]=a[f+2]=m}},gray:function(w){for(var c=x._toPixels(w),a=0;a<c.length;a+=4){var d=c[a],f=c[a+1],m=c[a+2];c[a]=c[a+1]=c[a+2]=.2126*d+.7152*f+.0722*m}},opaque:function(w){for(var c=x._toPixels(w),a=0;a<c.length;a+=4)c[a+3]=255;return c},invert:function(w){for(var c=x._toPixels(w),a=0;a<c.length;a+=4)c[a]=255-c[a],c[a+1]=255-c[a+1],c[a+2]=255-c[a+2]},posterize:function(w){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,a=x._toPixels(w);if(c<2||255<c)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var d=c-1,f=0;f<a.length;f+=4){var m=a[f],l=a[f+1],h=a[f+2];a[f]=255*(m*c>>8)/d,a[f+1]=255*(l*c>>8)/d,a[f+2]=255*(h*c>>8)/d}},dilate:function(w){for(var c,a,d,f,m,l,h,g,b,_=x._toPixels(w),A=0,P=_.length?_.length/4:0,j=new Int32Array(P);A<P;)for(a=(c=A)+w.width;A<a;)f=d=x._getARGB(_,A),(b=A-1)<c&&(b=A),a<=(g=A+1)&&(g=A),(m=A-w.width)<0&&(m=0),P<=(l=A+w.width)&&(l=A),m=x._getARGB(_,m),b=x._getARGB(_,b),l=x._getARGB(_,l),(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(h=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(d=b,f=h),f<(h=77*((b=x._getARGB(_,g))>>16&255)+151*(b>>8&255)+28*(255&b))&&(d=b,f=h),f<(g=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))&&(d=m,f=g),f<(b=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))&&(d=l,f=b),j[A++]=d;x._setPixels(_,j)},erode:function(w){for(var c,a,d,f,m,l,h,g,b,_=x._toPixels(w),A=0,P=_.length?_.length/4:0,j=new Int32Array(P);A<P;)for(a=(c=A)+w.width;A<a;)f=d=x._getARGB(_,A),(b=A-1)<c&&(b=A),a<=(g=A+1)&&(g=A),(m=A-w.width)<0&&(m=0),P<=(l=A+w.width)&&(l=A),m=x._getARGB(_,m),b=x._getARGB(_,b),l=x._getARGB(_,l),(h=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<(f=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))&&(d=b,f=h),(h=77*((b=x._getARGB(_,g))>>16&255)+151*(b>>8&255)+28*(255&b))<f&&(d=b,f=h),(g=77*(m>>16&255)+151*(m>>8&255)+28*(255&m))<f&&(d=m,f=g),(b=77*(l>>16&255)+151*(l>>8&255)+28*(255&l))<f&&(d=l,f=b),j[A++]=d;x._setPixels(_,j)},blur:function(w,c){for(var a,d,f,m,l,h,g,b,_,A,P=x._toPixels(w),j=w.width,E=w.height,k=j*E,M=new Int32Array(k),I=0;I<k;I++)M[I]=x._getARGB(P,I);var S,T,L,O,V,H,F,W,ee=new Int32Array(k),J=new Int32Array(k),N=new Int32Array(k),D=new Int32Array(k),B=0,Y=3.5*c|0;if(i!==(Y=Y<1?1:Y<248?Y:248)){p=1+(i=Y)<<1,u=new Int32Array(p),v=new Array(p);for(var G=0;G<p;G++)v[G]=new Int32Array(256);for(var q=1,X=Y-1;q<Y;q++){u[Y+q]=u[X]=H=X*X,F=v[Y+q],W=v[X--];for(var ne=0;ne<256;ne++)F[ne]=W[ne]=H*ne}V=u[Y]=Y*Y,F=v[Y];for(var $=0;$<256;$++)F[$]=V*$}for(T=0;T<E;T++){for(S=0;S<j;S++){if(m=f=d=l=a=0,(h=S-i)<0)A=-h,h=0;else{if(j<=h)break;A=0}for(L=A;L<p&&!(j<=h);L++){var K=M[h+B];O=v[L],l+=O[(-16777216&K)>>>24],d+=O[(16711680&K)>>16],f+=O[(65280&K)>>8],m+=O[255&K],a+=u[L],h++}ee[g=B+S]=l/a,J[g]=d/a,N[g]=f/a,D[g]=m/a}B+=j}for(_=(b=-i)*j,T=B=0;T<E;T++){for(S=0;S<j;S++){if(m=f=d=l=a=0,b<0)A=g=-b,h=S;else{if(E<=b)break;A=0,g=b,h=S+_}for(L=A;L<p&&!(E<=g);L++)O=v[L],l+=O[ee[h]],d+=O[J[h]],f+=O[N[h]],m+=O[D[h]],a+=u[L],g++,h+=j;M[S+B]=l/a<<24|d/a<<16|f/a<<8|m/a}B+=j,_+=j,b++}x._setPixels(P,M)}};y.default=x},{"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int32-array":222,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239}],302:[function(t,o,y){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=u(t("../core/main")),p=u(t("omggif"));function u(x){return x&&x.__esModule?x:{default:x}}function v(x){return function(w){if(Array.isArray(w)){for(var c=0,a=new Array(w.length);c<w.length;c++)a[c]=w[c];return a}}(x)||function(w){if(Symbol.iterator in Object(w)||Object.prototype.toString.call(w)==="[object Arguments]")return Array.from(w)}(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.default.prototype.createImage=function(x,w){return i.default._validateParameters("createImage",arguments),new i.default.Image(x,w)},i.default.prototype.saveCanvas=function(){for(var x,w,c,a,d,f,m=arguments.length,l=new Array(m),h=0;h<m;h++)l[h]=arguments[h];switch(i.default._validateParameters("saveCanvas",l),l[0]instanceof HTMLCanvasElement?(x=l[0],l.shift()):l[0]instanceof i.default.Element?(x=l[0].elt,l.shift()):l[0]instanceof i.default.Framebuffer?(a=l[0],(d=this.createGraphics(a.width,a.height)).pixelDensity(pixelDensity()),a.loadPixels(),d.loadPixels(),d.pixels.set(a.pixels),d.updatePixels(),x=d.elt,l.shift()):x=this._curElement&&this._curElement.elt,1<=l.length&&(w=l[0]),c=(c=2<=l.length?l[1]:c)||i.default.prototype._checkFileExtension(w,c)[1]||"png"){default:f="image/png";break;case"jpeg":case"jpg":f="image/jpeg"}x.toBlob(function(g){i.default.prototype.downloadFile(g,w,c),d&&d.remove()},f)},i.default.prototype.encodeAndDownloadGif=function(x,w){for(var c=x.gifProperties,a=c.loopLimit,d=(a===1?a=null:a===null&&(a=0),new Uint8Array(x.width*x.height*c.numFrames)),f=[],m={},l=0;l<c.numFrames;l++){for(var h=new Set,g=c.frames[l].image.data,b=g.length,_=new Uint32Array(x.width*x.height),A=0,P=0;A<b;A+=4,P++){var j=g[A+0]<<16|g[A+1]<<8|g[A+2]<<0;h.add(j),_[P]=j}var E=v(h).sort().toString();m[E]===void 0?m[E]={freq:1,frames:[l]}:(m[E].freq+=1,m[E].frames.push(l)),f.push(_)}for(var I=[],k=Object.keys(m).sort(function(N,D){return m[D].freq-m[N].freq}),M=k[0].split(",").map(function(N){return parseInt(N)}),I=I.concat(m[M].frames),S=new Set(M),T=1;T<k.length;T++){var L=k[T].split(",").map(function(N){return parseInt(N)}).filter(function(N){return!S.has(N)});if(M.length+L.length<=256){for(var O=0;O<L.length;O++)M.push(L[O]),S.add(L[O]);I=I.concat(m[k[T]].frames)}}I=new Set(I);for(var V={},H=0;H<M.length;H++)V[M[H]]||(V[M[H]]=H);for(var F=1;F<M.length;)F<<=1;M.length=F;for(var a={loop:a,palette:new Uint32Array(M)},W=new p.default.GifWriter(d,x.width,x.height,a),ee={},J=0;J<c.numFrames;J++)(function(D){var B=!I.has(D),Y=B?[]:M,G=new Uint8Array(x.width*x.height),q={},X=new Set,ne=(f[D].forEach(function(re,ie){B?(q[re]===void 0&&(q[re]=Y.length,Y.push(re)),G[ie]=q[re]):G[ie]=V[re],0<D&&f[D-1][ie]!==re&&X.add(re)}),{}),$=Y.filter(function(re){return!X.has(re)});if(0<$.length){var $=$[0],K=(B?q:V)[$];if(0<D){for(var Q=0;Q<f[D].length;Q++)f[D-1][Q]===f[D][Q]&&(G[Q]=K);ne.transparent=K,ee.frameOpts.disposal=1}}if(ne.delay=c.frames[D].delay/10,B){for(var Z=1;Z<Y.length;)Z<<=1;Y.length=Z,ne.palette=new Uint32Array(Y)}0<D&&W.addFrame(0,0,x.width,x.height,ee.pixelPaletteIndex,ee.frameOpts),ee={pixelPaletteIndex:G,frameOpts:ne}})(J);ee.frameOpts.disposal=1,W.addFrame(0,0,x.width,x.height,ee.pixelPaletteIndex,ee.frameOpts),a=new Blob([d.slice(0,W.end())],{type:"image/gif"}),i.default.prototype.downloadFile(a,w,"gif")},i.default.prototype.saveFrames=function(x,w,c,f,d){i.default._validateParameters("saveFrames",arguments),c=i.default.prototype.constrain(c=c||3,0,15),c*=1e3;var f=i.default.prototype.constrain(f||15,0,22),m=0,l=i.default.prototype._makeFrame,h=this._curElement.elt,g=[],b=setInterval(function(){g.push(l(x+m,w,h)),m++},1e3/f);setTimeout(function(){if(clearInterval(b),d)d(g);else for(var _=0,A=g;_<A.length;_++){var P=A[_];i.default.prototype.downloadFile(P.imageData,P.filename,P.ext)}g=[]},.01+c)},i.default.prototype._makeFrame=function(x,w,d){var a,d=this?this._curElement.elt:d;if(w)switch(w.toLowerCase()){case"png":a="image/png";break;case"jpeg":case"jpg":a="image/jpeg";break;default:a="image/png"}else w="png",a="image/png";var d=(d=d.toDataURL(a)).replace(a,"image/octet-stream"),f={};return f.imageData=d,f.filename=x,f.ext=w,f},t=i.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243,omggif:253}],303:[function(t,o,y){"use strict";function i(h){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(h)}function p(h){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(g){return i(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":i(g)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t("regenerator-runtime/runtime");var u=d(t("../core/main")),v=d(t("../core/helpers")),x=function(h){if(h&&h.__esModule)return h;if(h===null||p(h)!=="object"&&typeof h!="function")return{default:h};var g=a();if(g&&g.has(h))return g.get(h);var b,_={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in h){var P;Object.prototype.hasOwnProperty.call(h,b)&&((P=A?Object.getOwnPropertyDescriptor(h,b):null)&&(P.get||P.set)?Object.defineProperty(_,b,P):_[b]=h[b])}return _.default=h,g&&g.set(h,_),_}(t("../core/constants")),w=d(t("omggif")),c=t("gifenc");function a(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,a=function(){return h},h)}function d(h){return h&&h.__esModule?h:{default:h}}function f(h,g,b,_,A,P,j){try{var E=h[P](j),k=E.value}catch(M){return void b(M)}E.done?g(k):Promise.resolve(k).then(_,A)}function m(h,g,b,_,A,P,j,E,k,M,I){var S,T,L,O,V,H,F,W,ee;return h===x.COVER&&(S=g,L=b,F=P,W=j,H=E,ee=k,T=M,O=I,V=Math.max(F/T,W/O),F/=V,W/=V,V=H,H=ee,S===x.CENTER?V+=(T-F)/2:S===x.RIGHT&&(V+=T-F),L===x.CENTER?H+=(O-W)/2:L===x.BOTTOM&&(H+=O-W),E=(ee={x:V,y:H,w:F,h:W}).x,k=ee.y,M=ee.w,I=ee.h),h===x.CONTAIN&&(S=g,T=b,L=_,O=A,V=P,H=j,F=M,W=I,ee=Math.max(F/V,W/H),F/=ee,W/=ee,ee=L,L=O,S===x.CENTER?ee+=(V-F)/2:S===x.RIGHT&&(ee+=V-F),T===x.CENTER?L+=(H-W)/2:T===x.BOTTOM&&(L+=H-W),_=(h={x:ee,y:L,w:F,h:W}).x,A=h.y,P=h.w,j=h.h),{sx:E,sy:k,sw:M,sh:I,dx:_,dy:A,dw:P,dh:j}}function l(h,g){return 0<h&&h<g?h:g}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadImage=function(h,g,b){u.default._validateParameters("loadImage",arguments);var _=new u.default.Image(1,1,this),A=this,P=new Request(h,{method:"GET",mode:"cors"});return fetch(h,P).then(function(j){var E,k=j.headers.get("content-type");k===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),k&&k.includes("image/gif")?j.arrayBuffer().then(function(M){if(M){for(var M=new Uint8Array(M),I=_,S=g,T=b,L=(function(B){A._decrementPreload()}).bind(A),O=new w.default.GifReader(M),V=(I.width=I.canvas.width=O.width,I.height=I.canvas.height=O.height,[]),H=O.numFrames(),F=new Uint8ClampedArray(I.width*I.height*4),W=0;W<H;W++){var ee=O.frameInfo(W),J=I.drawingContext.getImageData(0,0,I.width,I.height),N=(F=J.data.slice(),function(B,Y){try{Y.decodeAndBlitFrameRGBA(B,F)}catch(G){u.default._friendlyFileLoadError(8,I.src),typeof T=="function"?T(G):console.error(G)}}(W,O),new ImageData(F,I.width,I.height)),N=(I.drawingContext.putImageData(N,0,0),ee.delay);N===0&&(N=10),V.push({image:I.drawingContext.getImageData(0,0,I.width,I.height),delay:10*N}),ee.disposal===2?I.drawingContext.clearRect(ee.x,ee.y,ee.width,ee.height):ee.disposal===3&&I.drawingContext.putImageData(J,0,0,ee.x,ee.y,ee.width,ee.height)}(M=O.loopCount())===null?M=1:M===0&&(M=null),I.drawingContext.putImageData(V[0].image,0,0),1<V.length&&(I.gifProperties={displayIndex:0,loopLimit:M,loopCount:0,frames:V,numFrames:H,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof S=="function"&&S(I),L()}},function(M){typeof b=="function"?(b(M),A._decrementPreload()):console.error(M)}):((E=new Image).onload=function(){_.width=_.canvas.width=E.width,_.height=_.canvas.height=E.height,_.drawingContext.drawImage(E,0,0),_.modified=!0,typeof g=="function"&&g(_),A._decrementPreload()},E.onerror=function(M){u.default._friendlyFileLoadError(0,E.src),typeof b=="function"?(b(M),A._decrementPreload()):console.error(M)},h.indexOf("data:image/")!==0&&(E.crossOrigin="Anonymous"),E.src=h),_.modified=!0}).catch(function(j){u.default._friendlyFileLoadError(0,h),typeof b=="function"?(b(j),A._decrementPreload()):console.error(j)}),_},u.default.prototype.saveGif=function(){h=regeneratorRuntime.mark(function b(_,A){var P,j,E,k,M,I,S,T,L,O,V,H,F,W,ee,J,N,D,B,Y,G,q,X,ne,$,K,Q=arguments;return regeneratorRuntime.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(P=2<Q.length&&Q[2]!==void 0?Q[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof _!="string")throw TypeError("fileName parameter must be a string");Z.next=3;break;case 3:if(typeof A!="number")throw TypeError("Duration parameter must be a number");Z.next=5;break;case 5:if(j=P&&P.delay||0,E=P&&P.units||"seconds",k=P&&P.silent||!1,M=P&&P.notificationDuration||0,I=P&&P.notificationID||"progressBar",typeof j!="number")throw TypeError("Delay parameter must be a number");Z.next=12;break;case 12:if(E!=="seconds"&&E!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');Z.next=14;break;case 14:if(typeof k!="boolean")throw TypeError("Silent parameter must be a boolean");Z.next=16;break;case 16:if(typeof M!="number")throw TypeError("Notification duration parameter must be a number");Z.next=18;break;case 18:if(typeof I!="string")throw TypeError("Notification ID parameter must be a string");Z.next=20;break;case 20:return this._recording=!0,O=this._targetFrameRate,S=(S=1/(O=O!==1/0&&O!==void 0&&O!==0?O:60)*1e3)<20?20:S,L=(T=E==="seconds"?A*O:A)+(O=E==="seconds"?j*O:j),O=O,this.frameCount=O,V=this._pixelDensity,this.pixelDensity(1),H=[],document.getElementById(I)!==null&&document.getElementById(I).remove(),k||((F=this.createP("")).id(I),F.style("font-size","16px"),F.style("font-family","Montserrat"),F.style("background-color","#ffffffa0"),F.style("padding","8px"),F.style("border-radius","10px"),F.position(0,0)),this._renderer instanceof u.default.RendererGL&&(ee=this.drawingContext,W=new Uint8Array(ee.drawingBufferWidth*ee.drawingBufferHeight*4)),this.noLoop(),Z.next=39,Promise.resolve();case 39:if(O<L)return this.redraw(),ne=void 0,ne=this._renderer instanceof u.default.RendererGL?(W=new Uint8Array(ee.drawingBufferWidth*ee.drawingBufferHeight*4),ee.readPixels(0,0,ee.drawingBufferWidth,ee.drawingBufferHeight,ee.RGBA,ee.UNSIGNED_BYTE,W),function(re,ie,he){for(var ue=parseInt(he/2),fe=4*ie,xe=new Uint8Array(4*ie),Ee=0;Ee<ue;++Ee){var ce=Ee*fe,me=(he-Ee-1)*fe;xe.set(re.subarray(ce,ce+fe)),re.copyWithin(ce,me,me+fe),re.set(xe,me)}return re}(W,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,H.push(ne),O++,k||F.html("Saved frame <b>"+H.length.toString()+"</b> out of "+T.toString()),Z.next=48,new Promise(function(re){return setTimeout(re,0)});Z.next=50;break;case 48:Z.next=39;break;case 50:k||F.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(V),J=(0,c.GIFEncoder)(),N=function(re){for(var ie=new Uint8Array(re.length*re[0].length),he=0;he<re.length;he++)ie.set(re[he],he*re[0].length);var ue=(0,c.quantize)(ie,256,{format:"rgba4444",oneBitAlpha:!0});return ue.length===256?ue[ue.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ue.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ue}(H),D={},B=function(re){for(var ie=re.length/4,he=new Uint8Array(ie),ue=0;ue<ie;ue++){var fe=re[4*ue]<<24|re[4*ue+1]<<16|re[4*ue+2]<<8|re[4*ue+3];D[fe]===void 0&&(D[fe]=(0,c.nearestColorIndex)(N,re.slice(4*ue,4*(ue+1)))),he[ue]=D[fe]}return he},Y=N.length-1,G=[],q=0;case 60:if(!(q<H.length)){Z.next=71;break}if(X=B(H[q]),ne=X.slice(),q===0)J.writeFrame(X,this.width,this.height,{palette:N,delay:S,dispose:1});else{for($=0;$<X.length;$++)X[$]===G[$]&&(X[$]=Y);J.writeFrame(X,this.width,this.height,{delay:S,transparent:!0,transparentIndex:Y,dispose:1})}return G=ne,k||F.html("Rendered frame <b>"+q.toString()+"</b> out of "+T.toString()),Z.next=68,new Promise(function(re){return setTimeout(re,0)});case 68:q++,Z.next=60;break;case 71:J.finish(),K=J.bytesView(),K=new Blob([K],{type:"image/gif"}),H=[],this._recording=!1,this.loop(),k||(F.html("Done. Downloading your gif!\u{1F338}"),0<M&&setTimeout(function(){return F.remove()},1e3*M)),u.default.prototype.downloadFile(K,_,"gif");case 80:case"end":return Z.stop()}},b,this)});var h,g=function(){var b=this,_=arguments;return new Promise(function(A,P){var j=h.apply(b,_);function E(M){f(j,A,P,E,k,"next",M)}function k(M){f(j,A,P,E,k,"throw",M)}E(void 0)})};return function(b,_){return g.apply(this,arguments)}}(),u.default.prototype.image=function(h,g,b,_,O,V,H,F,ee,M,I,S){u.default._validateParameters("image",arguments);var W=h.width,T=h.height,L=(S=S||x.CENTER,I=I||x.CENTER,h.elt&&(W=W!==void 0?W:h.elt.width,T=T!==void 0?T:h.elt.height),h.elt&&h.elt.videoWidth&&!h.canvas&&(W=W!==void 0?W:h.elt.videoWidth,T=T!==void 0?T:h.elt.videoHeight),_||W),O=O||T,V=V||0,H=H||0,F=l(F!==void 0?F:W,W),W=l(ee!==void 0?ee:T,T),ee=1;h.elt&&!h.canvas&&h.elt.style.width&&(ee=h.elt.videoWidth&&!_?h.elt.videoWidth:h.elt.width,ee/=parseInt(h.elt.style.width,10)),V*=ee,H*=ee,W*=ee,F*=ee,T=m(M,I,S,(T=v.default.modeAdjust(g,b,L,O,this._renderer._imageMode)).x,T.y,T.w,T.h,V,H,F,W),this._renderer.image(h,T.sx,T.sy,T.sw,T.sh,T.dx,T.dy,T.dw,T.dh)},u.default.prototype.tint=function(){for(var h=arguments.length,g=new Array(h),b=0;b<h;b++)g[b]=arguments[b];u.default._validateParameters("tint",g);var _=this.color.apply(this,g);this._renderer._tint=_.levels},u.default.prototype.noTint=function(){this._renderer._tint=null},u.default.prototype._getTintedImageCanvas=u.default.Renderer2D.prototype._getTintedImageCanvas,u.default.prototype.imageMode=function(h){u.default._validateParameters("imageMode",arguments),h!==x.CORNER&&h!==x.CORNERS&&h!==x.CENTER||(this._renderer._imageMode=h)},t=u.default,y.default=t},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/helpers":276,"../core/main":280,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,gifenc:250,omggif:253,"regenerator-runtime/runtime":257}],304:[function(t,o,y){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=u(t("../core/main")),p=u(t("./filters"));function u(x){return x&&x.__esModule?x:{default:x}}function v(x,w){for(var c=0;c<w.length;c++){var a=w[c];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(x,a.key,a)}}i.default.Image=function(){function x(d,f){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");this.width=d,this.height=f,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var w,c,a;return w=x,(c=[{key:"pixelDensity",value:function(d){return d!==void 0?(d<=0&&(i.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),d=1),this._pixelDensity=d,this.width/=d,this.height/=d,this):this._pixelDensity}},{key:"_animateGif",value:function(l){var f,m=this.gifProperties,l=l._lastRealFrameTime||window.performance.now();m.lastChangeTime===0&&(m.lastChangeTime=l),m.playing&&(m.timeDisplayed=l-m.lastChangeTime,f=m.frames[m.displayIndex].delay,m.timeDisplayed>=f&&(f=Math.floor(m.timeDisplayed/f),m.timeDisplayed=0,m.lastChangeTime=l,m.displayIndex+=f,m.loopCount=Math.floor(m.displayIndex/m.numFrames),m.loopLimit!==null&&m.loopCount>=m.loopLimit?m.playing=!1:(l=m.displayIndex%m.numFrames,this.drawingContext.putImageData(m.frames[l].image,0,0),m.displayIndex=l,this.setModified(!0))))}},{key:"_setProperty",value:function(d,f){this[d]=f,this.setModified(!0)}},{key:"loadPixels",value:function(){i.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(d,f,m,l){i.default.Renderer2D.prototype.updatePixels.call(this,d,f,m,l),this.setModified(!0)}},{key:"get",value:function(d,f,m,l){return i.default._validateParameters("p5.Image.get",arguments),i.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return i.default.Renderer2D.prototype._getPixel.apply(this,f)}},{key:"set",value:function(d,f,m){i.default.Renderer2D.prototype.set.call(this,d,f,m),this.setModified(!0)}},{key:"resize",value:function(d,f){d===0&&f===0?(d=this.canvas.width,f=this.canvas.height):d===0?d=this.canvas.width*f/this.canvas.height:f===0&&(f=this.canvas.height*d/this.canvas.width),d=Math.floor(d),f=Math.floor(f);var m=document.createElement("canvas");if(m.width=d,m.height=f,this.gifProperties)for(var l=this.gifProperties,h=0;h<l.numFrames;h++){for(var g=this.drawingContext.createImageData(d,f),b=(E=E=j=P=A=void 0,l.frames[h].image),_=g,A=0,P=0;P<_.height;P++)for(var j=0;j<_.width;j++){var E=Math.floor(j*b.width/_.width),E=4*(Math.floor(P*b.height/_.height)*b.width+E);_.data[A++]=b.data[E++],_.data[A++]=b.data[E++],_.data[A++]=b.data[E++],_.data[A++]=b.data[+E]}l.frames[h].image=g}m.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,m.width,m.height),this.canvas.width=this.width=d,this.canvas.height=this.height=f,this.drawingContext.drawImage(m,0,0,d,f,0,0,d,f),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];i.default.prototype.copy.apply(this,f)}},{key:"mask",value:function(d){var f=this.drawingContext.globalCompositeOperation,m=this._pixelDensity,l=1,h=[d=d===void 0?this:d,0,0,(l=d instanceof i.default.Renderer?d._pInst._pixelDensity:l)*d.width,l*d.height,0,0,m*this.width,m*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var g=0;g<this.gifProperties.frames.length;g++)this.drawingContext.putImageData(this.gifProperties.frames[g].image,0,0),this.copy.apply(this,h),this.gifProperties.frames[g].image=this.drawingContext.getImageData(0,0,m*this.width,m*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,h);this.drawingContext.globalCompositeOperation=f,this.setModified(!0)}},{key:"filter",value:function(d,f){p.default.apply(this.canvas,p.default[d],f),this.setModified(!0)}},{key:"blend",value:function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];i.default._validateParameters("p5.Image.blend",arguments),i.default.prototype.blend.apply(this,f),this.setModified(!0)}},{key:"setModified",value:function(d){this._modified=d}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(d,f){this.gifProperties?i.default.prototype.encodeAndDownloadGif(this,d):i.default.prototype.saveCanvas(this.canvas,d,f)}},{key:"reset",value:function(){var d;this.gifProperties&&((d=this.gifProperties).playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var d;if(this.gifProperties)return(d=this.gifProperties).displayIndex%d.numFrames}},{key:"setFrame",value:function(d){var f;this.gifProperties&&(d<(f=this.gifProperties).numFrames&&0<=d?(f.timeDisplayed=0,f.lastChangeTime=0,f.displayIndex=d,this.drawingContext.putImageData(f.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(d,f){if(this.gifProperties){var m=this.gifProperties;if(f<m.numFrames&&0<=f)m.frames[f].delay=d;else{var l=!0,f=!1,h=void 0;try{for(var g,b=m.frames[Symbol.iterator]();!(l=(g=b.next()).done);l=!0)g.value.delay=d}catch(A){f=!0,h=A}finally{try{l||b.return==null||b.return()}finally{if(f)throw h}}}}}}])&&v(w.prototype,c),a&&v(w,a),x}(),t=i.default.Image,y.default=t},{"../core/main":280,"./filters":301,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],305:[function(t,o,y){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=u(t("../core/main")),p=u(t("./filters"));function u(v){return v&&v.__esModule?v:{default:v}}t("../color/p5.Color"),i.default.prototype.pixels=[],i.default.prototype.blend=function(){for(var v,x=arguments.length,w=new Array(x),c=0;c<x;c++)w[c]=arguments[c];i.default._validateParameters("blend",w),this._renderer?(v=this._renderer).blend.apply(v,w):i.default.Renderer2D.prototype.blend.apply(this,w)},i.default.prototype.copy=function(){for(var v,x,w,c,a,d,f,m,l,h=arguments.length,g=new Array(h),b=0;b<h;b++)g[b]=arguments[b];if(i.default._validateParameters("copy",g),g.length===9)v=g[0],x=g[1],w=g[2],c=g[3],a=g[4],d=g[5],f=g[6],m=g[7],l=g[8];else{if(g.length!==8)throw new Error("Signature not supported");v=this,x=g[0],w=g[1],c=g[2],a=g[3],d=g[4],f=g[5],m=g[6],l=g[7]}i.default.prototype._copyHelper(this,v,x,w,c,a,d,f,m,l)},i.default.prototype._copyHelper=function(v,x,w,c,a,d,f,m,l,h){var g=x.canvas.width/x.width,b=0,_=0;x._renderer&&x._renderer.isP3D&&(b=x.width/2,_=x.height/2),v._renderer&&v._renderer.isP3D?(v.push(),v.resetMatrix(),v.noLights(),v.blendMode(v.BLEND),v.imageMode(v.CORNER),i.default.RendererGL.prototype.image.call(v._renderer,x,w+b,c+_,a,d,f,m,l,h),v.pop()):v.drawingContext.drawImage(x.canvas,g*(w+b),g*(c+_),g*a,g*d,f,m,l,h)},i.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},i.default.prototype.filter=function(){for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];i.default._validateParameters("filter",x);var f=(function(){var m,l={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof i.default.Shader?l.shader=arguments.length<=0?void 0:arguments[0]:(l.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(l.value=arguments.length<=1?void 0:arguments[1]),((m=arguments.length-1)<0||arguments.length<=m?void 0:arguments[m])===!1&&(l.useWebGL=!1)),l}).apply(void 0,x),c=f.shader,a=f.operation,d=f.value,f=f.useWebGL;this._renderer.isP3D&&c?i.default.RendererGL.prototype.filter.call(this._renderer,c):f||this._renderer.isP3D?(!f&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?i.default.RendererGL.prototype.filter.call(this._renderer,a,d):((c=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),c.filter.apply(c,x),this.copy(c._renderer,0,0,this.width,this.height,0,0,this.width,this.height),c.clear())):this.canvas!==void 0?p.default.apply(this.canvas,p.default[a],d):p.default.apply(this.elt,p.default[a],d)},i.default.prototype.get=function(v,x,w,c){var a;return i.default._validateParameters("get",arguments),(a=this._renderer).get.apply(a,arguments)},i.default.prototype.loadPixels=function(){for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];i.default._validateParameters("loadPixels",x),this._renderer.loadPixels()},i.default.prototype.set=function(v,x,w){this._renderer.set(v,x,w)},i.default.prototype.updatePixels=function(v,x,w,c){i.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(v,x,w,c)},t=i.default,y.default=t},{"../color/p5.Color":267,"../core/main":280,"./filters":301,"core-js/modules/es.array.filter":156}],306:[function(t,o,y){"use strict";function i(d){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=x(t("../core/main")),u=(t("whatwg-fetch"),t("es6-promise/auto"),x(t("fetch-jsonp"))),v=x(t("file-saver"));function x(d){return d&&d.__esModule?d:{default:d}}function w(d){return(w=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(f){return i(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":i(f)})(d)}function c(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function a(d,f){f&&f!==!0&&f!=="true"||(f="");var m="";return(d=d||"untitled")&&d.includes(".")&&(m=d.split(".").pop()),f&&m!==f&&(m=f,d="".concat(d,".").concat(m)),[d,m]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),p.default.prototype.loadJSON=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];p.default._validateParameters("loadJSON",f);for(var l,h,g,b=f[0],_={},A="json",P=1;P<f.length;P++){var j=f[P];typeof j=="string"?j!=="jsonp"&&j!=="json"||(A=j):typeof j=="function"?l?h=j:l=j:w(j)==="object"&&(j.hasOwnProperty("jsonpCallback")||j.hasOwnProperty("jsonpCallbackFunction"))&&(A="jsonp",g=j)}var E=this;return this.httpDo(b,"GET",g,A,function(k){for(var M in k)_[M]=k[M];l!==void 0&&l(k),E._decrementPreload()},function(k){if(p.default._friendlyFileLoadError(5,b),!h)throw k;h(k)}),_},p.default.prototype.loadStrings=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];p.default._validateParameters("loadStrings",f);for(var l,h,g=[],b=1;b<f.length;b++){var _=f[b];typeof _=="function"&&(l===void 0?l=_:h===void 0&&(h=_))}var A=this;return p.default.prototype.httpDo.call(this,f[0],"GET","text",function(P){for(var j=P.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),E=0,k=j.length;E<k;E+=32768)Array.prototype.push.apply(g,j.slice(E,Math.min(E+32768,k)));l!==void 0&&l(g),A._decrementPreload()},function(P){if(p.default._friendlyFileLoadError(3,P),!h)throw P;h(P)}),g},p.default.prototype.loadTable=function(d){var f,m,l,h=[],g=!1,b=d.substring(d.lastIndexOf(".")+1,d.length);b==="csv"?l=",":b==="ssv"?l=";":b==="tsv"&&(l="	");for(var _=1;_<arguments.length;_++)typeof arguments[_]=="function"?f===void 0?f=arguments[_]:m===void 0&&(m=arguments[_]):typeof arguments[_]=="string"&&(h.push(arguments[_]),arguments[_]==="header"&&(g=!0),arguments[_]==="csv"?l=",":arguments[_]==="ssv"?l=";":arguments[_]==="tsv"&&(l="	"));var A=new p.default.Table,P=this;return this.httpDo(d,"GET","table",function(j){for(var E,k,M={},I=0,S=[],T=0,L=null,O=function(){M.currentState=I,M.token=""},V=function(){L.push(M.token),O()},H=function(){M.currentState=4,S.push(L),L=null};;){if((E=j[T++])==null){if(M.escaped)throw new Error("Unclosed quote in file.");if(L){V(),H();break}}if(L===null&&(M.escaped=!1,L=[],O()),M.currentState===I){if(E==='"'){M.escaped=!0,M.currentState=1;continue}M.currentState=1}if(M.currentState===1&&M.escaped)if(E==='"')j[T]==='"'?(M.token+='"',T++):(M.escaped=!1,M.currentState=2);else{if(E==="\r")continue;M.token+=E}else E==="\r"?(j[T]===`
`&&T++,V(),H()):E===`
`?(V(),H()):E===l?V():M.currentState===1&&(M.token+=E)}if(g)A.columns=S.shift();else for(var F=0;F<S[0].length;F++)A.columns[F]="null";for(var W=0;W<S.length;W++)(S[W].length!==1||S[W][0]!=="undefined"&&S[W][0]!=="")&&((k=new p.default.TableRow).arr=S[W],k.obj=function(ee,J){if((J=J||[])===void 0)for(var N=0;N<ee.length;N++)J[N.toString()]=N;return Object.fromEntries(J.map(function(D,B){return[D,ee[B]]}))}(S[W],A.columns),A.addRow(k));typeof f=="function"&&f(A),P._decrementPreload()},function(j){p.default._friendlyFileLoadError(2,d),m?m(j):console.error(j)}),A},p.default.prototype.loadXML=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];for(var l,h,g=new p.default.XML,b=1;b<f.length;b++){var _=f[b];typeof _=="function"&&(l===void 0?l=_:h===void 0&&(h=_))}var A=this;return this.httpDo(f[0],"GET","xml",function(P){for(var j in P)g[j]=P[j];l!==void 0&&l(g),A._decrementPreload()},function(P){if(p.default._friendlyFileLoadError(1,P),!h)throw P;h(P)}),g},p.default.prototype.loadBytes=function(d,f,m){var l={},h=this;return this.httpDo(d,"GET","arrayBuffer",function(g){l.bytes=new Uint8Array(g),typeof f=="function"&&f(l),h._decrementPreload()},function(g){if(p.default._friendlyFileLoadError(6,d),!m)throw g;m(g)}),l},p.default.prototype.httpGet=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return p.default._validateParameters("httpGet",f),f.splice(1,0,"GET"),p.default.prototype.httpDo.apply(this,f)},p.default.prototype.httpPost=function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return p.default._validateParameters("httpPost",f),f.splice(1,0,"POST"),p.default.prototype.httpDo.apply(this,f)},p.default.prototype.httpDo=function(){for(var d,f,m,l={},h=0,g="text/plain",b=arguments.length-1;0<b&&typeof(b<0||arguments.length<=b?void 0:arguments[b])=="function";b--)h++;var _=arguments.length-h,A=arguments.length<=0?void 0:arguments[0];if(_==2&&typeof A=="string"&&w(arguments.length<=1?void 0:arguments[1])==="object")I=new Request(A,arguments.length<=1?void 0:arguments[1]),f=arguments.length<=2?void 0:arguments[2],m=arguments.length<=3?void 0:arguments[3];else{for(var P,j="GET",E=1;E<arguments.length;E++){var k=E<0||arguments.length<=E?void 0:arguments[E];if(typeof k=="string")k==="GET"||k==="POST"||k==="PUT"||k==="DELETE"?j=k:k==="json"||k==="jsonp"||k==="binary"||k==="arrayBuffer"||k==="xml"||k==="text"||k==="table"?d=k:P=k;else if(typeof k=="number")P=k.toString();else if(w(k)==="object")if(k.hasOwnProperty("jsonpCallback")||k.hasOwnProperty("jsonpCallbackFunction"))for(var M in k)l[M]=k[M];else g=k instanceof p.default.XML?(P=k.serialize(),"application/xml"):(P=JSON.stringify(k),"application/json");else typeof k=="function"&&(f?m=k:f=k)}var _=j==="GET"?new Headers:new Headers({"Content-Type":g}),I=new Request(A,{method:j,mode:"cors",body:P,headers:_})}return(_=(_=(d=d||(A.includes("json")?"json":A.includes("xml")?"xml":"text"))==="jsonp"?(0,u.default)(A,l):fetch(I)).then(function(S){if(!S.ok)throw(T=new Error(S.body)).status=S.status,T.ok=!1,T;var T=0;switch((T=d!=="jsonp"?S.headers.get("content-length"):T)&&64e6<T&&p.default._friendlyFileLoadError(7,A),d){case"json":case"jsonp":return S.json();case"binary":return S.blob();case"arrayBuffer":return S.arrayBuffer();case"xml":return S.text().then(function(L){return L=new DOMParser().parseFromString(L,"text/xml"),new p.default.XML(L.documentElement)});default:return S.text()}})).then(f||function(){}),_.catch(m||console.error),_},window.URL=window.URL||window.webkitURL,p.default.prototype._pWriters=[],p.default.prototype.createWriter=function(d,f){var m,l;for(l in p.default.prototype._pWriters)if(p.default.prototype._pWriters[l].name===d)return m=new p.default.PrintWriter(d+this.millis(),f),p.default.prototype._pWriters.push(m),m;return m=new p.default.PrintWriter(d,f),p.default.prototype._pWriters.push(m),m},p.default.PrintWriter=function(d,f){var m=this;this.name=d,this.content="",this.write=function(l){this.content+=l},this.print=function(l){this.content+="".concat(l,`
`)},this.clear=function(){this.content=""},this.close=function(){var l,h=[];for(l in h.push(this.content),p.default.prototype.writeFile(h,d,f),p.default.prototype._pWriters)p.default.prototype._pWriters[l].name===this.name&&p.default.prototype._pWriters.splice(l,1);m.clear(),m={}}},p.default.prototype.save=function(d,f,m){var l=arguments,h=(this._curElement||this).elt;if(l.length===0)p.default.prototype.saveCanvas(h);else if(l[0]instanceof p.default.Renderer||l[0]instanceof p.default.Graphics)p.default.prototype.saveCanvas(l[0].elt,l[1],l[2]);else if(l.length===1&&typeof l[0]=="string")p.default.prototype.saveCanvas(h,l[0]);else switch(a(l[1],l[2])[1]){case"json":return void p.default.prototype.saveJSON(l[0],l[1],l[2]);case"txt":return void p.default.prototype.saveStrings(l[0],l[1],l[2]);default:l[0]instanceof Array?p.default.prototype.saveStrings(l[0],l[1],l[2]):l[0]instanceof p.default.Table?p.default.prototype.saveTable(l[0],l[1],l[2]):l[0]instanceof p.default.Image?p.default.prototype.saveCanvas(l[0].canvas,l[1]):l[0]instanceof p.default.SoundFile&&p.default.prototype.saveSound(l[0],l[1],l[2],l[3])}},p.default.prototype.saveJSON=function(d,f,m){p.default._validateParameters("saveJSON",arguments),m=m?JSON.stringify(d):JSON.stringify(d,void 0,2),this.saveStrings(m.split(`
`),f,"json")},p.default.prototype.saveJSONObject=p.default.prototype.saveJSON,p.default.prototype.saveJSONArray=p.default.prototype.saveJSON,p.default.prototype.saveStrings=function(d,f,m,l){p.default._validateParameters("saveStrings",arguments);for(var h=this.createWriter(f,m||"txt"),g=0;g<d.length;g++)l?h.write(d[g]+`\r
`):h.write(d[g]+`
`);h.close(),h.clear()},p.default.prototype.saveTable=function(d,f,m){p.default._validateParameters("saveTable",arguments),l=m===void 0?f.substring(f.lastIndexOf(".")+1,f.length):m;var l,h=this.createWriter(f,l),g=d.columns,b=l==="tsv"?"	":",";if(l!=="html"){if(g[0]!=="0"){for(var _=0;_<g.length;_++)_<g.length-1?h.write(g[_]+b):h.write(g[_]);h.write(`
`)}for(var A=0;A<d.rows.length;A++){for(var P=void 0,P=0;P<d.rows[A].arr.length;P++)P<d.rows[A].arr.length-1?l==="csv"&&String(d.rows[A].arr[P]).includes(",")?h.write('"'+d.rows[A].arr[P]+'"'+b):h.write(d.rows[A].arr[P]+b):l==="csv"&&String(d.rows[A].arr[P]).includes(",")?h.write('"'+d.rows[A].arr[P]+'"'):h.write(d.rows[A].arr[P]);h.write(`
`)}}else{if(h.print("<html>"),h.print("<head>"),h.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),h.print("</head>"),h.print("<body>"),h.print("  <table>"),g[0]!=="0"){h.print("    <tr>");for(var j=0;j<g.length;j++){var E=c(g[j]);h.print("      <td>".concat(E)),h.print("      </td>")}h.print("    </tr>")}for(var k=0;k<d.rows.length;k++){h.print("    <tr>");for(var M=0;M<d.columns.length;M++){var I=c(d.rows[k].getString(M));h.print("      <td>".concat(I)),h.print("      </td>")}h.print("    </tr>")}h.print("  </table>"),h.print("</body>"),h.print("</html>")}h.close(),h.clear()},p.default.prototype.writeFile=function(h,f,m){var l="application/octet-stream",h=(p.default.prototype._isSafari()&&(l="text/plain"),new Blob(h,{type:l}));p.default.prototype.downloadFile(h,f,m)},p.default.prototype.downloadFile=function(d,h,g){var l,h=a(h,g),g=h[0];d instanceof Blob?v.default.saveAs(d,g):((l=document.createElement("a")).href=d,l.download=g,l.onclick=function(b){document.body.removeChild(b.target),b.stopPropagation()},l.style.display="none",document.body.appendChild(l),p.default.prototype._isSafari()&&(d=(d=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(h[1],'"'),alert(d)),l.click())},p.default.prototype._checkFileExtension=a,p.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=p.default,y.default=t},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/web.dom-collections.iterator":243,"core-js/modules/web.url":245,"es6-promise/auto":246,"fetch-jsonp":248,"file-saver":249,"whatwg-fetch":258}],307:[function(t,o,y){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(u,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(u,w.key,w)}}i.default.Table=function(){function u(){var c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],a=this,d=u;if(!(a instanceof d))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=c}var v,x,w;return v=u,(x=[{key:"addRow",value:function(c){if(c=c||new i.default.TableRow,c.arr===void 0||c.obj===void 0)throw new Error("invalid TableRow: ".concat(c));return(c.table=this).rows.push(c),c}},{key:"removeRow",value:function(c){this.rows[c].table=null,c=this.rows.splice(c+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(c)}},{key:"getRow",value:function(c){return this.rows[c]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(c,a){if(typeof a=="string"){for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[a]===c)return this.rows[d]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[a]===c)return this.rows[f];return null}},{key:"findRows",value:function(c,a){var d=[];if(typeof a=="string")for(var f=0;f<this.rows.length;f++)this.rows[f].obj[a]===c&&d.push(this.rows[f]);else for(var m=0;m<this.rows.length;m++)this.rows[m].arr[a]===c&&d.push(this.rows[m]);return d}},{key:"matchRow",value:function(c,a){if(typeof a=="number"){for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[a].match(c))return this.rows[d]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[a].match(c))return this.rows[f];return null}},{key:"matchRows",value:function(c,a){var d=[];if(typeof a=="number")for(var f=0;f<this.rows.length;f++)this.rows[f].arr[a].match(c)&&d.push(this.rows[f]);else for(var m=0;m<this.rows.length;m++)this.rows[m].obj[a].match(c)&&d.push(this.rows[m]);return d}},{key:"getColumn",value:function(c){var a=[];if(typeof c=="string")for(var d=0;d<this.rows.length;d++)a.push(this.rows[d].obj[c]);else for(var f=0;f<this.rows.length;f++)a.push(this.rows[f].arr[c]);return a}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(c){this.columns.push(c||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(c,a){for(var d=[],f=0;f<c.length;f++)d.push(c.charAt(f).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var m=new RegExp(d.join("|"),"g");if(a===void 0)for(var l=0;l<this.columns.length;l++)for(var h=0;h<this.rows.length;h++){var g=(g=this.rows[h].arr[l]).replace(m,"");this.rows[h].arr[l]=g,this.rows[h].obj[this.columns[l]]=g}else if(typeof a=="string")for(var b=0;b<this.rows.length;b++){var _=(_=this.rows[b].obj[a]).replace(m,""),A=(this.rows[b].obj[a]=_,this.columns.indexOf(a));this.rows[b].arr[A]=_}else for(var P=0;P<this.rows.length;P++){var j=(j=this.rows[P].arr[a]).replace(m,"");this.rows[P].arr[a]=j,this.rows[P].obj[this.columns[a]]=j}}},{key:"trim",value:function(c){var a=new RegExp(" ","g");if(c===void 0)for(var d=0;d<this.columns.length;d++)for(var f=0;f<this.rows.length;f++){var m=(m=this.rows[f].arr[d]).replace(a,"");this.rows[f].arr[d]=m,this.rows[f].obj[this.columns[d]]=m}else if(typeof c=="string")for(var l=0;l<this.rows.length;l++){var h=(h=this.rows[l].obj[c]).replace(a,""),g=(this.rows[l].obj[c]=h,this.columns.indexOf(c));this.rows[l].arr[g]=h}else for(var b=0;b<this.rows.length;b++){var _=(_=this.rows[b].arr[c]).replace(a,"");this.rows[b].arr[c]=_,this.rows[b].obj[this.columns[c]]=_}}},{key:"removeColumn",value:function(f){typeof f=="string"?d=this.columns.indexOf(a=f):a=this.columns[d=f];var a,d,f=this.columns.splice(d+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(f);for(var m=0;m<this.rows.length;m++){var l=this.rows[m].arr,h=l.splice(d+1,l.length);l.pop(),this.rows[m].arr=l.concat(h),delete this.rows[m].obj[a]}}},{key:"set",value:function(c,a,d){this.rows[c].set(a,d)}},{key:"setNum",value:function(c,a,d){this.rows[c].setNum(a,d)}},{key:"setString",value:function(c,a,d){this.rows[c].setString(a,d)}},{key:"get",value:function(c,a){return this.rows[c].get(a)}},{key:"getNum",value:function(c,a){return this.rows[c].getNum(a)}},{key:"getString",value:function(c,a){return this.rows[c].getString(a)}},{key:"getObject",value:function(c){for(var a,d={},f=0;f<this.rows.length;f++)if(a=this.rows[f].obj,typeof c=="string"){if(!(0<=this.columns.indexOf(c)))throw new Error('This table has no column named "'.concat(c,'"'));d[a[c]]=a}else d[f]=this.rows[f].obj;return d}},{key:"getArray",value:function(){for(var c=[],a=0;a<this.rows.length;a++)c.push(this.rows[a].arr);return c}}])&&p(v.prototype,x),w&&p(v,w),u}(),t=i.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.join":165,"core-js/modules/es.array.splice":170,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.match":198,"core-js/modules/es.string.replace":201}],308:[function(t,o,y){"use strict";t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(p,u){for(var v=0;v<u.length;v++){var x=u[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}t.default.TableRow=function(){function p(w,c){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");var a=[];w&&(a=w.split(c=c||",")),this.arr=a,this.obj=Object.fromEntries(a.entries()),this.table=null}var u,v,x;return u=p,(v=[{key:"set",value:function(w,c){if(typeof w=="string"){var a=this.table.columns.indexOf(w);if(!(0<=a))throw new Error('This table has no column named "'.concat(w,'"'));this.obj[w]=c,this.arr[a]=c}else{if(!(w<this.table.columns.length))throw new Error("Column #".concat(w," is out of the range of this table"));this.arr[w]=c,a=this.table.columns[w],this.obj[a]=c}}},{key:"setNum",value:function(w,c){c=parseFloat(c),this.set(w,c)}},{key:"setString",value:function(w,c){c=c.toString(),this.set(w,c)}},{key:"get",value:function(w){return(typeof w=="string"?this.obj:this.arr)[w]}},{key:"getNum",value:function(w){var c=parseFloat(typeof w=="string"?this.obj[w]:this.arr[w]);if(c.toString()==="NaN")throw"Error: ".concat(this.obj[w]," is NaN (Not a Number)");return c}},{key:"getString",value:function(w){return(typeof w=="string"?this.obj:this.arr)[w].toString()}}])&&i(u.prototype,v),x&&i(u,x),p}(),t=t.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.from-entries":182,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.split":203,"core-js/modules/web.dom-collections.iterator":243}],309:[function(t,o,y){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(v,x){for(var w=0;w<x.length;w++){var c=x[w];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function u(v){for(var x=[],w=0;w<v.length;w++)x.push(new i.default.XML(v[w]));return x}i.default.XML=function(){function v(a){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");a?this.DOM=a:(a=document.implementation.createDocument(null,"doc"),this.DOM=a.createElement("root"))}var x,w,c;return x=v,(w=[{key:"getParent",value:function(){return new i.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(a){var d=this.DOM.innerHTML,f=this.DOM.attributes,m=document.implementation.createDocument(null,"default").createElement(a);m.innerHTML=d;for(var l=0;l<f.length;l++)m.setAttribute(f[l].nodeName,f[l].nodeValue);this.DOM=m}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var a=[],d=0;d<this.DOM.childNodes.length;d++)a.push(this.DOM.childNodes[d].nodeName);return a}},{key:"getChildren",value:function(a){return u(a?this.DOM.getElementsByTagName(a):this.DOM.children)}},{key:"getChild",value:function(a){if(typeof a!="string")return new i.default.XML(this.DOM.children[a]);var d=!0,f=!1,m=void 0;try{for(var l,h=this.DOM.children[Symbol.iterator]();!(d=(l=h.next()).done);d=!0){var g=l.value;if(g.tagName===a)return new i.default.XML(g)}}catch(b){f=!0,m=b}finally{try{d||h.return==null||h.return()}finally{if(f)throw m}}}},{key:"addChild",value:function(a){a instanceof i.default.XML&&this.DOM.appendChild(a.DOM)}},{key:"removeChild",value:function(a){var d=-1;if(typeof a=="string"){for(var f=0;f<this.DOM.children.length;f++)if(this.DOM.children[f].tagName===a){d=f;break}}else d=a;d!==-1&&this.DOM.removeChild(this.DOM.children[d])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var a=[],d=!0,f=!1,m=void 0;try{for(var l,h=this.DOM.attributes[Symbol.iterator]();!(d=(l=h.next()).done);d=!0){var g=l.value;a.push(g.nodeName)}}catch(b){f=!0,m=b}finally{try{d||h.return==null||h.return()}finally{if(f)throw m}}return a}},{key:"hasAttribute",value:function(a){var d={},f=!0,m=!1,l=void 0;try{for(var h,g=this.DOM.attributes[Symbol.iterator]();!(f=(h=g.next()).done);f=!0){var b=h.value;d[b.nodeName]=b.nodeValue}}catch(_){m=!0,l=_}finally{try{f||g.return==null||g.return()}finally{if(m)throw l}}return!!d[a]}},{key:"getNum",value:function(a,d){var f={},m=!0,l=!1,h=void 0;try{for(var g,b=this.DOM.attributes[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var _=g.value;f[_.nodeName]=_.nodeValue}}catch(A){l=!0,h=A}finally{try{m||b.return==null||b.return()}finally{if(l)throw h}}return Number(f[a])||d||0}},{key:"getString",value:function(a,d){var f={},m=!0,l=!1,h=void 0;try{for(var g,b=this.DOM.attributes[Symbol.iterator]();!(m=(g=b.next()).done);m=!0){var _=g.value;f[_.nodeName]=_.nodeValue}}catch(A){l=!0,h=A}finally{try{m||b.return==null||b.return()}finally{if(l)throw h}}return f[a]?String(f[a]):d||null}},{key:"setAttribute",value:function(a,d){this.DOM.setAttribute(a,d)}},{key:"getContent",value:function(a){var d=this.DOM.textContent;return(d=d.replace(/\s\s+/g,","))||a||null}},{key:"setContent",value:function(a){this.DOM.children.length||(this.DOM.textContent=a)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&p(x.prototype,w),c&&p(x,c),v}(),t=i.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],310:[function(t,o,y){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(u){return function(v){if(Array.isArray(v)){for(var x=0,w=new Array(v.length);x<v.length;x++)w[x]=v[x];return w}}(u)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(u)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.default.prototype.abs=Math.abs,i.default.prototype.ceil=Math.ceil,i.default.prototype.constrain=function(u,v,x){return i.default._validateParameters("constrain",arguments),Math.max(Math.min(u,x),v)},i.default.prototype.dist=function(){for(var u=arguments.length,v=new Array(u),x=0;x<u;x++)v[x]=arguments[x];return i.default._validateParameters("dist",v),v.length===4?Math.hypot(v[2]-v[0],v[3]-v[1]):v.length===6?Math.hypot(v[3]-v[0],v[4]-v[1],v[5]-v[2]):void 0},i.default.prototype.exp=Math.exp,i.default.prototype.floor=Math.floor,i.default.prototype.lerp=function(u,v,x){return i.default._validateParameters("lerp",arguments),x*(v-u)+u},i.default.prototype.log=Math.log,i.default.prototype.mag=function(u,v){return i.default._validateParameters("mag",arguments),Math.hypot(u,v)},i.default.prototype.map=function(u,v,x,w,c,a){return i.default._validateParameters("map",arguments),u=(u-v)/(x-v)*(c-w)+w,a?w<c?this.constrain(u,w,c):this.constrain(u,c,w):u},i.default.prototype.max=function(){for(var u=function(c){return Math.max.apply(Math,p(c))},v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];return Array.isArray(x[0])?u(x[0]):u(x)},i.default.prototype.min=function(){for(var u=function(c){return Math.min.apply(Math,p(c))},v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];return Array.isArray(x[0])?u(x[0]):u(x)},i.default.prototype.norm=function(u,v,x){return i.default._validateParameters("norm",arguments),this.map(u,v,x,0,1)},i.default.prototype.pow=Math.pow,i.default.prototype.round=function(u,v){return v?(v=Math.pow(10,v),Math.round(u*v)/v):Math.round(u)},i.default.prototype.sq=function(u){return u*u},i.default.prototype.sqrt=Math.sqrt,i.default.prototype.fract=function(w){i.default._validateParameters("fract",arguments);var v,x=0,w=Number(w);return isNaN(w)||Math.abs(w)===1/0?w:(w<0&&(w=-w,x=1),String(w).includes(".")&&!String(w).includes("e")?(v=String(w),v=+("0"+v.slice(v.indexOf("."))),Math.abs(x-v)):w<1?Math.abs(x-w):0)},t=i.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],311:[function(t,o,y){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(v,x,w){return(p=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(c,a,d){var f=[null];return f.push.apply(f,a),a=new(Function.bind.apply(c,f)),d&&u(a,d.prototype),a}).apply(null,arguments)}function u(v,x){return(u=Object.setPrototypeOf||function(w,c){return w.__proto__=c,w})(v,x)}i.default.prototype.createVector=function(v,x,w){return this instanceof i.default?p(i.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new i.default.Vector(v,x,w)},t=i.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193}],312:[function(w,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,w=(w=w("../core/main"))&&w.__esModule?w:{default:w};function i(c){return .5*(1-Math.cos(c*Math.PI))}var p,u=4095,v=4,x=.5,w=(w.default.prototype.noise=function(c){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(p==null){p=new Array(4096);for(var f=0;f<4096;f++)p[f]=Math.random()}c<0&&(c=-c),a<0&&(a=-a),d<0&&(d=-d);for(var m,l,h=Math.floor(c),g=Math.floor(a),b=Math.floor(d),_=c-h,A=a-g,P=d-b,j=0,E=.5,k=0;k<v;k++){var M=h+(g<<4)+(b<<8),I=i(_),S=i(A),T=p[M&u];T+=I*(p[M+1&u]-T),m=p[M+16&u],T+=S*((m+=I*(p[M+16+1&u]-m))-T),m=p[(M+=256)&u],m+=I*(p[M+1&u]-m),l=p[M+16&u],m+=S*((l+=I*(p[M+16+1&u]-l))-m),j+=(T+=i(P)*(m-T))*E,E*=x,h<<=1,g<<=1,b<<=1,1<=(_*=2)&&(h++,_--),1<=(A*=2)&&(g++,A--),1<=(P*=2)&&(b++,P--)}return j},w.default.prototype.noiseDetail=function(c,a){0<c&&(v=c),0<a&&(x=a)},w.default.prototype.noiseSeed=function(c){f=4294967296;var a,d,f,m={setSeed:function(h){d=a=(h??Math.random()*f)>>>0},getSeed:function(){return a},rand:function(){return(d=(1664525*d+1013904223)%f)/f}};m.setSeed(c),p=new Array(4096);for(var l=0;l<4096;l++)p[l]=m.rand()},w.default);y.default=w},{"../core/main":280}],313:[function(t,o,y){"use strict";function i(a){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function p(a){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(d){return i(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":i(d)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(c=t("../core/main"))&&c.__esModule?c:{default:c},v=function(a){if(a&&a.__esModule)return a;if(a===null||p(a)!=="object"&&typeof a!="function")return{default:a};var d=x();if(d&&d.has(a))return d.get(a);var f,m={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in a){var h;Object.prototype.hasOwnProperty.call(a,f)&&((h=l?Object.getOwnPropertyDescriptor(a,f):null)&&(h.get||h.set)?Object.defineProperty(m,f,h):m[f]=a[f])}return m.default=a,d&&d.set(a,m),m}(t("../core/constants"));function x(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,x=function(){return a},a)}function w(a,d){for(var f=0;f<d.length;f++){var m=d[f];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(a,m.key,m)}}u.default.Vector=function(){function a(){var b=this,l=a;if(!(b instanceof l))throw new TypeError("Cannot call a class as a function");var h,g,b=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],h=(arguments.length<=2?void 0:arguments[2])||0,g=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(h=(arguments.length<=0?void 0:arguments[0])||0,g=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=h,this.y=g,this.z=b}var d,f,m;return d=a,m=[{key:"fromAngle",value:function(l){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new u.default.Vector(h*Math.cos(l),h*Math.sin(l),0)}},{key:"fromAngles",value:function(P,_){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,b=Math.cos(_),_=Math.sin(_),A=Math.cos(P),P=Math.sin(P);return new u.default.Vector(g*P*_,-g*A,g*P*b)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*v.TWO_PI)}},{key:"random3D",value:function(){var l=Math.random()*v.TWO_PI,h=2*Math.random()-1,b=Math.sqrt(1-h*h),g=b*Math.cos(l),b=b*Math.sin(l);return new u.default.Vector(g,b,h)}},{key:"copy",value:function(l){return l.copy(l)}},{key:"add",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2];return A?A.set(b):(A=b.copy(),h.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),A.add(_),A}},{key:"rem",value:function(l,h){if(l instanceof u.default.Vector&&h instanceof u.default.Vector)return(l=l.copy()).rem(h),l}},{key:"sub",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2];return A?A.set(b):(A=b.copy(),h.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),A.sub(_),A}},{key:"mult",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2];return A?A.set(b):(A=b.copy(),h.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),A.mult(_),A}},{key:"rotate",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2];return h.length===2?A=b.copy():(A instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),A.set(b)),A.rotate(_),A}},{key:"div",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2];return A?A.set(b):(A=b.copy(),h.length===3&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),A.div(_),A}},{key:"dot",value:function(l,h){return l.dot(h)}},{key:"cross",value:function(l,h){return l.cross(h)}},{key:"dist",value:function(l,h){return l.dist(h)}},{key:"lerp",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2],P=h[3];return P?P.set(b):(P=b.copy(),h.length===4&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),P.lerp(_,A),P}},{key:"slerp",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2],P=h[3];return P?P.set(b):(P=b.copy(),h.length===4&&u.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),P.slerp(_,A),P}},{key:"mag",value:function(l){return l.mag()}},{key:"magSq",value:function(l){return l.magSq()}},{key:"normalize",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1];return h.length<2?_=b.copy():(_ instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),_.set(b)),_.normalize()}},{key:"limit",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2];return h.length<3?A=b.copy():(A instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),A.set(b)),A.limit(_)}},{key:"setMag",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2];return h.length<3?A=b.copy():(A instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),A.set(b)),A.setMag(_)}},{key:"heading",value:function(l){return l.heading()}},{key:"angleBetween",value:function(l,h){return l.angleBetween(h)}},{key:"reflect",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2];return h.length<3?A=b.copy():(A instanceof u.default.Vector||u.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),A.set(b)),A.reflect(_)}},{key:"array",value:function(l){return l.array()}},{key:"equals",value:function(l,h){var g;return l instanceof u.default.Vector?g=l:Array.isArray(l)?g=new u.default.Vector().set(l):u.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),g.equals(h)}}],(f=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(l,h,g){return l instanceof u.default.Vector?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):Array.isArray(l)?(this.x=l[0]||0,this.y=l[1]||0,this.z=l[2]||0):(this.x=l||0,this.y=h||0,this.z=g||0),this}},{key:"copy",value:function(){return this.isPInst?new u.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new u.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(l,h,g){return l instanceof u.default.Vector?(this.x+=l.x||0,this.y+=l.y||0,this.z+=l.z||0):Array.isArray(l)?(this.x+=l[0]||0,this.y+=l[1]||0,this.z+=l[2]||0):(this.x+=l||0,this.y+=h||0,this.z+=g||0),this}},{key:"calculateRemainder2D",value:function(l,h){return l!==0&&(this.x=this.x%l),h!==0&&(this.y=this.y%h),this}},{key:"calculateRemainder3D",value:function(l,h,g){return l!==0&&(this.x=this.x%l),h!==0&&(this.y=this.y%h),g!==0&&(this.z=this.z%g),this}},{key:"rem",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b,_,A,P=h[0],j=h[1],E=h[2];if(P instanceof u.default.Vector){if([P.x,P.y,P.z].every(Number.isFinite))return b=parseFloat(P.x),_=parseFloat(P.y),A=parseFloat(P.z),this.calculateRemainder3D(b,_,A)}else if(Array.isArray(P)){if(P.every(Number.isFinite))return P.length===2?this.calculateRemainder2D(P[0],P[1]):P.length===3?this.calculateRemainder3D(P[0],P[1],P[2]):void 0}else if(h.length===1){if(Number.isFinite(P)&&P!==0)return this.x=this.x%P,this.y=this.y%P,this.z=this.z%P,this}else if(h.length===2){if(h.every(Number.isFinite))return this.calculateRemainder2D(P,j)}else if(h.length===3&&h.every(Number.isFinite))return this.calculateRemainder3D(P,j,E)}},{key:"sub",value:function(l,h,g){return l instanceof u.default.Vector?(this.x-=l.x||0,this.y-=l.y||0,this.z-=l.z||0):Array.isArray(l)?(this.x-=l[0]||0,this.y-=l[1]||0,this.z-=l[2]||0):(this.x-=l||0,this.y-=h||0,this.z-=g||0),this}},{key:"mult",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b,_=h[0],A=h[1],P=h[2];return _ instanceof u.default.Vector?Number.isFinite(_.x)&&Number.isFinite(_.y)&&Number.isFinite(_.z)&&typeof _.x=="number"&&typeof _.y=="number"&&typeof _.z=="number"?(this.x*=_.x,this.y*=_.y,this.z*=_.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(_)?_.every(function(j){return Number.isFinite(j)})&&_.every(function(j){return typeof j=="number"})?_.length===1?(this.x*=_[0],this.y*=_[0],this.z*=_[0]):_.length===2?(this.x*=_[0],this.y*=_[1]):_.length===3&&(this.x*=_[0],this.y*=_[1],this.z*=_[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(b=h).every(function(j){return Number.isFinite(j)})&&b.every(function(j){return typeof j=="number"})?(h.length===1&&(this.x*=_,this.y*=_,this.z*=_),h.length===2&&(this.x*=_,this.y*=A),h.length===3&&(this.x*=_,this.y*=A,this.z*=P)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var l=arguments.length,h=new Array(l),g=0;g<l;g++)h[g]=arguments[g];var b=h[0],_=h[1],A=h[2];if(b instanceof u.default.Vector)if(Number.isFinite(b.x)&&Number.isFinite(b.y)&&Number.isFinite(b.z)&&typeof b.x=="number"&&typeof b.y=="number"&&typeof b.z=="number"){var P=b.z===0&&this.z===0;if(b.x===0||b.y===0||!P&&b.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=b.x,this.y/=b.y,P||(this.z/=b.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(b))if(b.every(Number.isFinite)&&b.every(function(j){return typeof j=="number"})){if(b.some(function(j){return j===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;b.length===1?(this.x/=b[0],this.y/=b[0],this.z/=b[0]):b.length===2?(this.x/=b[0],this.y/=b[1]):b.length===3&&(this.x/=b[0],this.y/=b[1],this.z/=b[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(h.every(Number.isFinite)&&h.every(function(j){return typeof j=="number"})){if(h.some(function(j){return j===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;h.length===1&&(this.x/=b,this.y/=b,this.z/=b),h.length===2&&(this.x/=b,this.y/=_),h.length===3&&(this.x/=b,this.y/=_,this.z/=A)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var l=this.x,h=this.y,g=this.z;return l*l+h*h+g*g}},{key:"dot",value:function(l,h,g){return l instanceof u.default.Vector?this.dot(l.x,l.y,l.z):this.x*(l||0)+this.y*(h||0)+this.z*(g||0)}},{key:"cross",value:function(b){var h=this.y*b.z-this.z*b.y,g=this.z*b.x-this.x*b.z,b=this.x*b.y-this.y*b.x;return this.isPInst?new u.default.Vector(this._fromRadians,this._toRadians,h,g,b):new u.default.Vector(h,g,b)}},{key:"dist",value:function(l){return l.copy().sub(this).mag()}},{key:"normalize",value:function(){var l=this.mag();return l!==0&&this.mult(1/l),this}},{key:"limit",value:function(l){var h=this.magSq();return l*l<h&&this.div(Math.sqrt(h)).mult(l),this}},{key:"setMag",value:function(l){return this.normalize().mult(l)}},{key:"heading",value:function(){var l=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(l):l}},{key:"setHeading",value:function(l){this.isPInst&&(l=this._toRadians(l));var h=this.mag();return this.x=h*Math.cos(l),this.y=h*Math.sin(l),this}},{key:"rotate",value:function(h){var h=this.heading()+h,g=(this.isPInst&&(h=this._toRadians(h)),this.mag());return this.x=Math.cos(h)*g,this.y=Math.sin(h)*g,this}},{key:"angleBetween",value:function(l){var h;return this.magSq()*l.magSq()==0?NaN:(h=this.cross(l),l=Math.atan2(h.mag(),this.dot(l))*Math.sign(h.z||1),this.isPInst?this._fromRadians(l):l)}},{key:"lerp",value:function(l,h,g,b){return l instanceof u.default.Vector?this.lerp(l.x,l.y,l.z,h):(this.x+=(l-this.x)*b||0,this.y+=(h-this.y)*b||0,this.z+=(g-this.z)*b||0,this)}},{key:"slerp",value:function(l,h){if(h!==0){if(h===1)return this.set(l);var g=this.mag(),b=l.mag();if(g*b==0)this.mult(1-h).add(l.x*h,l.y*h,l.z*h);else{var _=this.cross(l),A=_.mag(),P=Math.atan2(A,this.dot(l));if(0<A)_.x/=A,_.y/=A,_.z/=A;else{if(P<.5*Math.PI)return this.mult(1-h).add(l.x*h,l.y*h,l.z*h),this;this.z===0&&l.z===0?_.set(0,0,1):this.x!==0?_.set(this.y,-this.x,0).normalize():_.set(1,0,0)}A=_.cross(this),l=1-h+h*b/g,_=l*Math.cos(h*P),b=l*Math.sin(h*P),this.x=this.x*_+A.x*b,this.y=this.y*_+A.y*b,this.z=this.z*_+A.z*b}}return this}},{key:"reflect",value:function(l){return l.normalize(),this.sub(l.mult(2*this.dot(l)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(A,h,g){var b,_,A=A instanceof u.default.Vector?(b=A.x||0,_=A.y||0,A.z||0):Array.isArray(A)?(b=A[0]||0,_=A[1]||0,A[2]||0):(b=A||0,_=h||0,g||0);return this.x===b&&this.y===_&&this.z===A}}])&&w(d.prototype,f),m&&w(d,m),a}();var c=u.default.Vector;y.default=c},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.every":154,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.constructor":178,"core-js/modules/es.number.is-finite":179,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],314:[function(x,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(x=x("../core/main"))&&x.__esModule?x:{default:x},p="_lcg_random_state",u=4294967296,v=0,x=(i.default.prototype._lcg=function(w){return this[w]=(1664525*this[w]+1013904223)%u,this[w]/u},i.default.prototype._lcgSetSeed=function(w,c){this[w]=(c??Math.random()*u)>>>0},i.default.prototype.randomSeed=function(w){this._lcgSetSeed(p,w),this._gaussian_previous=!1},i.default.prototype.random=function(w,c){var a,d;return i.default._validateParameters("random",arguments),a=this[p]!=null?this._lcg(p):Math.random(),w===void 0?a:c===void 0?Array.isArray(w)?w[Math.floor(a*w.length)]:a*w:(c<w&&(d=w,w=c,c=d),a*(c-w)+w)},i.default.prototype.randomGaussian=function(w){var c,a,d,f,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)c=v,this._gaussian_previous=!1;else{for(;1<=(f=(a=this.random(2)-1)*a+(d=this.random(2)-1)*d););c=a*(f=Math.sqrt(-2*Math.log(f)/f)),v=d*f,this._gaussian_previous=!0}return c*m+(w||0)},i.default);y.default=x},{"../core/main":280}],315:[function(t,o,y){"use strict";function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function p(c){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(w=t("../core/main"))&&w.__esModule?w:{default:w},v=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var a=x();if(a&&a.has(c))return a.get(c);var d,f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var l;Object.prototype.hasOwnProperty.call(c,d)&&((l=m?Object.getOwnPropertyDescriptor(c,d):null)&&(l.get||l.set)?Object.defineProperty(f,d,l):f[d]=c[d])}return f.default=c,a&&a.set(c,f),f}(t("../core/constants"));function x(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,x=function(){return c},c)}u.default.prototype._angleMode=v.RADIANS,u.default.prototype.acos=function(c){return this._fromRadians(Math.acos(c))},u.default.prototype.asin=function(c){return this._fromRadians(Math.asin(c))},u.default.prototype.atan=function(c){return this._fromRadians(Math.atan(c))},u.default.prototype.atan2=function(c,a){return this._fromRadians(Math.atan2(c,a))},u.default.prototype.cos=function(c){return Math.cos(this._toRadians(c))},u.default.prototype.sin=function(c){return Math.sin(this._toRadians(c))},u.default.prototype.tan=function(c){return Math.tan(this._toRadians(c))},u.default.prototype.degrees=function(c){return c*v.RAD_TO_DEG},u.default.prototype.radians=function(c){return c*v.DEG_TO_RAD},u.default.prototype.angleMode=function(c){if(u.default._validateParameters("angleMode",arguments),c===void 0)return this._angleMode;c!==v.DEGREES&&c!==v.RADIANS||c!==this._angleMode&&(c===v.RADIANS?(this._setProperty("pRotationX",this.pRotationX*v.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*v.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*v.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*v.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*v.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*v.RAD_TO_DEG)),this._angleMode=c)},u.default.prototype._toRadians=function(c){return this._angleMode===v.DEGREES?c*v.DEG_TO_RAD:c},u.default.prototype._toDegrees=function(c){return this._angleMode===v.RADIANS?c*v.RAD_TO_DEG:c},u.default.prototype._fromRadians=function(c){return this._angleMode===v.DEGREES?c*v.RAD_TO_DEG:c},u.default.prototype._fromDegrees=function(c){return this._angleMode===v.RADIANS?c*v.DEG_TO_RAD:c};var w=u.default;y.default=w},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],316:[function(t,o,y){"use strict";t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.prototype.textAlign=function(p,u){var v;return i.default._validateParameters("textAlign",arguments),(v=this._renderer).textAlign.apply(v,arguments)},i.default.prototype.textLeading=function(p){var u;return i.default._validateParameters("textLeading",arguments),(u=this._renderer).textLeading.apply(u,arguments)},i.default.prototype.textSize=function(p){var u;return i.default._validateParameters("textSize",arguments),(u=this._renderer).textSize.apply(u,arguments)},i.default.prototype.textStyle=function(p){var u;return i.default._validateParameters("textStyle",arguments),(u=this._renderer).textStyle.apply(u,arguments)},i.default.prototype.textWidth=function(){for(var p=arguments.length,u=new Array(p),v=0;v<p;v++)u[v]=arguments[v];if(u[0]+="",i.default._validateParameters("textWidth",u),u[0].length===0)return 0;for(var x=u[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),w=[],c=0;c<x.length;c++)w.push(this._renderer.textWidth(x[c]));return Math.max.apply(Math,w)},i.default.prototype.textAscent=function(){for(var p=arguments.length,u=new Array(p),v=0;v<p;v++)u[v]=arguments[v];return i.default._validateParameters("textAscent",u),this._renderer.textAscent()},i.default.prototype.textDescent=function(){for(var p=arguments.length,u=new Array(p),v=0;v<p;v++)u[v]=arguments[v];return i.default._validateParameters("textDescent",u),this._renderer.textDescent()},i.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},i.default.prototype.textWrap=function(p){return i.default._validateParameters("textWrap",[p]),this._renderer.textWrap(p)},t=i.default,y.default=t},{"../core/main":280,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203}],317:[function(t,o,y){"use strict";function i(d){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function p(d){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(f){return i(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":i(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(a=t("../core/main"))&&a.__esModule?a:{default:a},v=c(t("../core/constants")),x=c(t("opentype.js"));function w(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,w=function(){return d},d)}function c(d){if(d&&d.__esModule)return d;if(d===null||p(d)!=="object"&&typeof d!="function")return{default:d};var f=w();if(f&&f.has(d))return f.get(d);var m,l,h={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&((l=g?Object.getOwnPropertyDescriptor(d,m):null)&&(l.get||l.set)?Object.defineProperty(h,m,l):h[m]=d[m]);return h.default=d,f&&f.set(d,h),h}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadFont=function(d,f,m){u.default._validateParameters("loadFont",arguments);var l=new u.default.Font(this),h=this;return x.load(d,function(_,A){if(_)return u.default._friendlyFileLoadError(4,d),m!==void 0?m(_):void console.error(_,d);l.font=A,f!==void 0&&f(l),h._decrementPreload();var _=d.split("\\").pop().split("/").pop(),A=_.lastIndexOf("."),P=A<1?null:_.slice(A+1);["ttf","otf","woff","woff2"].includes(P)&&(P=_.slice(0,A!==-1?A:0),(_=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(P,`;
src: url(`).concat(d,`);
}
`))),document.head.appendChild(_))}),l},u.default.prototype.text=function(d,f,m,l,h){var g;return u.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(g=this._renderer).text.apply(g,arguments):this},u.default.prototype.textFont=function(d,f){if(u.default._validateParameters("textFont",arguments),arguments.length){if(d)return this._renderer._setProperty("_textFont",d),f&&(this._renderer._setProperty("_textSize",f),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",f*v._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var a=u.default;y.default=a},{"../core/constants":269,"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.last-index-of":166,"core-js/modules/es.array.slice":168,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,"opentype.js":254}],318:[function(t,o,y){"use strict";function i(j){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(j)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(p=t("../core/main"))&&p.__esModule?p:{default:p},u=function(j){if(j&&j.__esModule)return j;if(j===null||x(j)!=="object"&&typeof j!="function")return{default:j};var E=v();if(E&&E.has(j))return E.get(j);var k,M={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in j){var S;Object.prototype.hasOwnProperty.call(j,k)&&((S=I?Object.getOwnPropertyDescriptor(j,k):null)&&(S.get||S.set)?Object.defineProperty(M,k,S):M[k]=j[k])}return M.default=j,E&&E.set(j,M),M}(t("../core/constants"));function v(){var j;return typeof WeakMap!="function"?null:(j=new WeakMap,v=function(){return j},j)}function x(j){return(x=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(E){return i(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":i(E)})(j)}function w(j,E){for(var k=0;k<E.length;k++){var M=E[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(j,M.key,M)}}function c(j,E){var k=j.length;return j[E<0?E%k+k:E%k]}function a(j,E,k,M){var I,S,T;return M?(a.tmpPoint1===void 0&&(a.tmpPoint1=[],a.tmpPoint2=[]),S=a.tmpPoint1,T=a.tmpPoint2,S.x=E.x-j.x,S.y=E.y-j.y,T.x=k.x-E.x,T.y=k.y-E.y,I=S.x*T.x+S.y*T.y,S=Math.sqrt(S.x*S.x+S.y*S.y),T=Math.sqrt(T.x*T.x+T.y*T.y),Math.acos(I/(S*T))<M):(E[0]-j[0])*(k[1]-j[1])-(k[0]-j[0])*(E[1]-j[1])==0}function d(D,Y,B,G,q,S,T,L,O){var V=1-O,F=Math.pow(V,3),W=Math.pow(V,2),N=O*O,ee=N*O,H=F*D+3*W*O*B+3*V*O*O*q+ee*T,F=F*Y+3*W*O*G+3*V*O*O*S+ee*L,W=D+2*O*(B-D)+N*(q-2*B+D),ee=Y+2*O*(G-Y)+N*(S-2*G+Y),J=B+2*O*(q-B)+N*(T-2*q+B),N=G+2*O*(S-G)+N*(L-2*S+G),D=V*D+O*B,B=V*Y+O*G,Y=V*q+O*T,G=V*S+O*L,q=90-180*Math.atan2(W-J,ee-N)/Math.PI;return(J<W||ee<N)&&(q+=180),{x:H,y:F,m:{x:W,y:ee},n:{x:J,y:N},start:{x:D,y:B},end:{x:Y,y:G},alpha:q}}function f(j,E,k,M,I,S,T,L,O){return O==null?A(j,E,k,M,I,S,T,L):d(j,E,k,M,I,S,T,L,function(V,H,F,W,ee,J,N,D,B){if(!(B<0||A(V,H,F,W,ee,J,N,D)<B)){var Y,G=.5,q=1-G;for(Y=A(V,H,F,W,ee,J,N,D,q);.01<Math.abs(Y-B);)Y=A(V,H,F,W,ee,J,N,D,q+=(Y<B?1:-1)*(G/=2));return q}}(j,E,k,M,I,S,T,L,O))}function m(j,E,k){for(var M,I,S,T,L,O=0,V=0,H=(j=function(F,W){function ee(ue,fe,xe){var Ee,ce;if(!ue)return["C",fe.x,fe.y,fe.x,fe.y,fe.x,fe.y];switch(ue[0]in{T:1,Q:1}||(fe.qx=fe.qy=null),ue[0]){case"M":fe.X=ue[1],fe.Y=ue[2];break;case"A":ue=["C"].concat(h.apply(0,[fe.x,fe.y].concat(ue.slice(1))));break;case"S":ce=xe==="C"||xe==="S"?(Ee=2*fe.x-fe.bx,2*fe.y-fe.by):(Ee=fe.x,fe.y),ue=["C",Ee,ce].concat(ue.slice(1));break;case"T":xe==="Q"||xe==="T"?(fe.qx=2*fe.x-fe.qx,fe.qy=2*fe.y-fe.qy):(fe.qx=fe.x,fe.qy=fe.y),ue=["C"].concat(_(fe.x,fe.y,fe.qx,fe.qy,ue[1],ue[2]));break;case"Q":fe.qx=ue[1],fe.qy=ue[2],ue=["C"].concat(_(fe.x,fe.y,ue[1],ue[2],ue[3],ue[4]));break;case"L":ue=["C"].concat(b(fe.x,fe.y,ue[1],ue[2]));break;case"H":ue=["C"].concat(b(fe.x,fe.y,ue[1],fe.y));break;case"V":ue=["C"].concat(b(fe.x,fe.y,fe.x,ue[1]));break;case"Z":ue=["C"].concat(b(fe.x,fe.y,fe.X,fe.Y))}return ue}function J(ue,fe){if(7<ue[fe].length){ue[fe].shift();for(var xe=ue[fe];xe.length;)X[fe]="A",Y&&(ne[fe]="A"),ue.splice(fe++,0,["C"].concat(xe.splice(0,6)));ue.splice(fe,1),D=Math.max(B.length,Y&&Y.length||0)}}function N(ue,fe,xe,Ee,ce){ue&&fe&&ue[ce][0]==="M"&&fe[ce][0]!=="M"&&(fe.splice(ce,0,["M",Ee.x,Ee.y]),xe.bx=0,xe.by=0,xe.x=ue[ce][1],xe.y=ue[ce][2],D=Math.max(B.length,Y&&Y.length||0))}var D,B=l(F),Y=W&&l(W),G={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},q={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},X=[],ne=[],$="",K="";D=Math.max(B.length,Y&&Y.length||0);for(var Q=0;Q<D;Q++){($=B[Q]?B[Q][0]:$)!=="C"&&(X[Q]=$,Q&&(K=X[Q-1])),B[Q]=ee(B[Q],G,K),X[Q]!=="A"&&$==="C"&&(X[Q]="C"),J(B,Q),Y&&(($=Y[Q]?Y[Q][0]:$)!=="C"&&(ne[Q]=$,Q&&(K=ne[Q-1])),Y[Q]=ee(Y[Q],q,K),ne[Q]!=="A"&&$==="C"&&(ne[Q]="C"),J(Y,Q)),N(B,Y,G,q,Q),N(Y,B,q,G,Q);var Z=B[Q],re=Y&&Y[Q],ie=Z.length,he=Y&&re.length;G.x=Z[ie-2],G.y=Z[ie-1],G.bx=parseFloat(Z[ie-4])||G.x,G.by=parseFloat(Z[ie-3])||G.y,q.bx=Y&&(parseFloat(re[he-4])||q.x),q.by=Y&&(parseFloat(re[he-3])||q.y),q.x=Y&&re[he-2],q.y=Y&&re[he-1]}return Y?[B,Y]:B}(j)).length;V<H;V++){if((S=j[V])[0]==="M")M=+S[1],I=+S[2];else{if(E<O+(T=f(M,I,S[1],S[2],S[3],S[4],S[5],S[6]))&&!k)return{x:(L=f(M,I,S[1],S[2],S[3],S[4],S[5],S[6],E-O)).x,y:L.y,alpha:L.alpha};O+=T,M=+S[5],I=+S[6]}S.shift()}return L=(L=k?O:d(M,I,S[0],S[1],S[2],S[3],S[4],S[5],1)).alpha?{x:L.x,y:L.y,alpha:L.alpha}:L}function l(j){var E=[],k=0,M=0,I=0,S=0,T=0;if(j){j[0][0]==="M"&&(I=k=+j[0][1],S=M=+j[0][2],T++,E[0]=["M",k,M]);for(var L,O,V=j.length===3&&j[0][0]==="M"&&j[1][0].toUpperCase()==="R"&&j[2][0].toUpperCase()==="Z",H=T,F=j.length;H<F;H++){if(E.push(L=[]),(O=j[H])[0]!==O[0].toUpperCase())switch(L[0]=O[0].toUpperCase(),L[0]){case"A":L[1]=O[1],L[2]=O[2],L[3]=O[3],L[4]=O[4],L[5]=O[5],L[6]=+(O[6]+k),L[7]=+(O[7]+M);break;case"V":L[1]=+O[1]+M;break;case"H":L[1]=+O[1]+k;break;case"R":for(var W,ee=2,J=(W=[k,M].concat(O.slice(1))).length;ee<J;ee++)W[ee]=+W[ee]+k,W[++ee]=+W[ee]+M;E.pop(),E=E.concat(g(W,V));break;case"M":I=+O[1]+k,S=+O[2]+M;break;default:for(var N=1,D=O.length;N<D;N++)L[N]=+O[N]+(N%2?k:M)}else if(O[0]==="R")W=[k,M].concat(O.slice(1)),E.pop(),E=E.concat(g(W,V)),L=["R"].concat(O.slice(-2));else for(var B=0,Y=O.length;B<Y;B++)L[B]=O[B];switch(L[0]){case"Z":k=I,M=S;break;case"H":k=L[1];break;case"V":M=L[1];break;case"M":I=L[L.length-2],S=L[L.length-1];break;default:k=L[L.length-2],M=L[L.length-1]}}}return E}function h(j,E,k,M,Y,X,G,L,O,V){function H(he,ue,fe){return{x:he*Math.cos(fe)-ue*Math.sin(fe),y:he*Math.sin(fe)+ue*Math.cos(fe)}}var F,D=Math.PI,B=120*D/180,W=D/180*(+Y||0),ee=[],J=(V?(Q=V[0],F=V[1],$=V[2],K=V[3]):(j=(q=H(j,E,-W)).x,E=q.y,1<(J=(N=(j-(L=(q=H(L,O,-W)).x))/2)*N/(k*k)+(q=(E-(O=q.y))/2)*q/(M*M))&&(k*=J=Math.sqrt(J),M*=J),J=k*k,ne=M*M,$=(X=(X===G?-1:1)*Math.sqrt(Math.abs((J*ne-J*q*q-ne*N*N)/(J*q*q+ne*N*N))))*k*q/M+(j+L)/2,K=X*-M*N/k+(E+O)/2,Q=Math.asin(((E-K)/M).toFixed(9)),F=Math.asin(((O-K)/M).toFixed(9)),(Q=j<$?D-Q:Q)<0&&(Q=2*D+Q),(F=L<$?D-F:F)<0&&(F=2*D+F),G&&F<Q&&(Q-=2*D),!G&&Q<F&&(F-=2*D)),F-Q),N=(Math.abs(J)>B&&(ne=F,q=L,X=O,F=Q+B*(G&&Q<F?1:-1),ee=h(L=$+k*Math.cos(F),O=K+M*Math.sin(F),k,M,Y,0,G,q,X,[F,ne,$,K])),J=F-Q,Math.cos(Q)),D=Math.sin(Q),B=Math.cos(F),Y=Math.sin(F),G=Math.tan(J/4),q=4/3*k*G,X=4/3*M*G,ne=[j,E],$=[j+q*D,E-X*N],K=[L+q*Y,O-X*B],Q=[L,O];if($[0]=2*ne[0]-$[0],$[1]=2*ne[1]-$[1],V)return[$,K,Q].concat(ee);for(var Z=[],re=0,ie=(ee=[$,K,Q].concat(ee).join().split(",")).length;re<ie;re++)Z[re]=re%2?H(ee[re-1],ee[re],W).y:H(ee[re],ee[re+1],W).x;return Z}function g(j,E){for(var k=[],M=0,I=j.length;M<I-2*!E;M+=2){var S=[{x:+j[M-2],y:+j[M-1]},{x:+j[M],y:+j[M+1]},{x:+j[M+2],y:+j[M+3]},{x:+j[M+4],y:+j[M+5]}];E?M?I-4===M?S[3]={x:+j[0],y:+j[1]}:I-2===M&&(S[2]={x:+j[0],y:+j[1]},S[3]={x:+j[2],y:+j[3]}):S[0]={x:+j[I-2],y:+j[I-1]}:I-4===M?S[3]=S[2]:M||(S[0]={x:+j[M],y:+j[M+1]}),k.push(["C",(-S[0].x+6*S[1].x+S[2].x)/6,(-S[0].y+6*S[1].y+S[2].y)/6,(S[1].x+6*S[2].x-S[3].x)/6,(S[1].y+6*S[2].y-S[3].y)/6,S[2].x,S[2].y])}return k}function b(j,E,k,M){return[j,E,k,M,k,M]}function _(j,E,k,M,I,S){return[1/3*j+2/3*k,1/3*E+2/3*M,1/3*I+2/3*k,1/3*S+2/3*M,I,S]}function A(j,E,k,M,I,S,T,L,O){for(var V=(O=1<(O=O??1)?1:O<0?0:O)/2,H=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],F=0,W=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ee=0;ee<12;ee++){var N=V*H[ee]+V,J=P(N,j,k,I,T),N=P(N,E,M,S,L);F+=W[ee]*Math.sqrt(J*J+N*N)}return V*F}function P(j,E,k,M,I){return j*(j*(-3*E+9*k-9*M+3*I)+6*E-12*k+6*M)-3*E+3*k}p.default.Font=function(){function j(I){if(!(this instanceof j))throw new TypeError("Cannot call a class as a function");this.parent=I,this.cache={},this.font=void 0}var E,k,M;return E=j,(k=[{key:"textBounds",value:function(I){var S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,H=3<arguments.length?arguments[3]:void 0,L=4<arguments.length?arguments[4]:void 0,O=L&&L.renderer&&L.renderer._pInst||this.parent,V=O._renderer.drawingContext,H=(V.textAlign||u.LEFT,V.textBaseline||u.BASELINE,H||O._renderer._textSize);if(!X){for(var F=[],W=[],ee=[],J=(ee[0]=[],[]),N=this._scale(H),D=O._renderer.textLeading(),B=0,Y=(this.font.forEachGlyph(I,S,T,H,L,function(K,Q,Z,re){var ie=K.getMetrics();K.index===0?ee[B+=1]=[]:(ee[B].push(Q+ie.xMin*N),ee[B].push(Q+ie.xMax*N),J.push(Z+B*D+-ie.yMin*N),J.push(Z+B*D+-ie.yMax*N))}),0<ee[B].length&&(F[B]=Math.min.apply(null,ee[B]),W[B]=Math.max.apply(null,ee[B])),0),G=0;G<=B;G++){F[G]=Math.min.apply(null,ee[G]),W[G]=Math.max.apply(null,ee[G]);var q=W[G]-F[G];Y<q&&(Y=q)}var V=Math.min.apply(null,F),X={x:V,y:T=Math.min.apply(null,J),h:Math.max.apply(null,J)-T,w:Y,advance:V-S},H=this._handleAlignment(O._renderer,I,X.x,X.y,X.w+X.advance);X.x=H.x,X.y=H.y}return X}},{key:"textToPoints",value:function(I,S,T,L,O){var V=S,H=[],F=I.split(/\r?\n|\r|\n/g);L=L||this.parent._renderer._textSize;for(var W,ee,J,N=0;N<F.length;N++){var D=0;S=V;for(var B=(B=F[N]).replace("	","  "),Y=this._getGlyphs(B),G=0;G<Y.length;G++){if(ee=B,!((J=Y)[W=G].name&&J[W].name==="space"||ee.length===J.length&&ee[W]===" "))for(var q=function(K){for(var Q,Z=[],re=0;re<K.length;re++)K[re].type==="M"&&(Q&&Z.push(Q),Q=[]),Q.push(function(ie){var he=[ie.type];return ie.type==="M"||ie.type==="L"?he.push(ie.x,ie.y):ie.type==="C"?he.push(ie.x1,ie.y1,ie.x2,ie.y2,ie.x,ie.y):ie.type==="Q"&&he.push(ie.x1,ie.y1,ie.x,ie.y),he}(K[re]));return Z.push(Q),Z}(Y[G].getPath(S,T,L).commands),X=0;X<q.length;X++)for(var ne=function(K,Q){for(var Q=function(fe,xe){if(x(fe)!=="object")fe=xe;else for(var Ee in xe)fe[Ee]===void 0&&(fe[Ee]=xe[Ee]);return fe}(Q,{sampleFactor:.1,simplifyThreshold:0}),Z=m(K,0,1),re=Z/(Z*Q.sampleFactor),ie=[],he=0;he<Z;he+=re)ie.push(m(K,he));return Q.simplifyThreshold&&function(ue){for(var fe=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,xe=0,Ee=ue.length-1;3<ue.length&&0<=Ee;--Ee)a(c(ue,Ee-1),c(ue,Ee),c(ue,Ee+1),fe)&&(ue.splice(Ee%ue.length,1),xe++)}(ie,Q.simplifyThreshold),ie}(q[X],O),$=0;$<ne.length;$++)ne[$].x+=D,H.push(ne[$]);D+=Y[G].advanceWidth*this._scale(L)}T+=this.parent._renderer._textLeading}return H}},{key:"_getGlyphs",value:function(I){return this.font.stringToGlyphs(I)}},{key:"_getPath",value:function(I,V,T,L){var O=(L&&L.renderer&&L.renderer._pInst||this.parent)._renderer,V=this._handleAlignment(O,I,V,T);return this.font.getPath(I,V.x,V.y,O._textSize,L)}},{key:"_getPathData",value:function(I,S,T,L){var O=3;return typeof I=="string"&&2<arguments.length?I=this._getPath(I,S,T,L):x(S)==="object"&&(L=S),L&&typeof L.decimals=="number"&&(O=L.decimals),I.toPathData(O)}},{key:"_getSVG",value:function(I,S,T,L){var O=3;return typeof I=="string"&&2<arguments.length?I=this._getPath(I,S,T,L):x(S)==="object"&&(L=S),L&&(typeof L.decimals=="number"&&(O=L.decimals),typeof L.strokeWidth=="number"&&(I.strokeWidth=L.strokeWidth),L.fill!==void 0&&(I.fill=L.fill),L.stroke!==void 0&&(I.stroke=L.stroke)),I.toSVG(O)}},{key:"_renderPath",value:function(H,W,ee,L){var O=L&&L.renderer||this.parent._renderer,V=O.drawingContext,H=(x(H)==="object"&&H.commands?H:this._getPath(H,W,ee,L)).commands,F=(V.beginPath(),!0),W=!1,ee=void 0;try{for(var J,N=H[Symbol.iterator]();!(F=(J=N.next()).done);F=!0){var D=J.value;D.type==="M"?V.moveTo(D.x,D.y):D.type==="L"?V.lineTo(D.x,D.y):D.type==="C"?V.bezierCurveTo(D.x1,D.y1,D.x2,D.y2,D.x,D.y):D.type==="Q"?V.quadraticCurveTo(D.x1,D.y1,D.x,D.y):D.type==="Z"&&V.closePath()}}catch(B){W=!0,ee=B}finally{try{F||N.return==null||N.return()}finally{if(W)throw ee}}return O._doStroke&&O._strokeSet&&!O._clipping&&V.stroke(),O._doFill&&!O._clipping&&(O._fillSet||O._setFill(u._DEFAULT_TEXT_FILL),V.fill()),this}},{key:"_textWidth",value:function(I,S){return this.font.getAdvanceWidth(I,S)}},{key:"_textAscent",value:function(I){return this.font.ascender*this._scale(I)}},{key:"_textDescent",value:function(I){return-this.font.descender*this._scale(I)}},{key:"_scale",value:function(I){return 1/this.font.unitsPerEm*(I||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(I,S,T,L,O){var V=I._textSize;switch(O===void 0&&(O=this._textWidth(S,V)),I._textAlign){case u.CENTER:T-=O/2;break;case u.RIGHT:T-=O}switch(I._textBaseline){case u.TOP:L+=this._textAscent(V);break;case u.CENTER:L+=this._textAscent(V)/2;break;case u.BOTTOM:L-=this._textDescent(V)}return{x:T,y:L}}}])&&w(E.prototype,k),M&&w(E,M),j}(),t=p.default,y.default=t},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.function.name":173,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],319:[function(t,o,y){"use strict";t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(i,p){return i.push(p),i},t.default.prototype.arrayCopy=function(i,p,u,v,x){var w,c;i=x!==void 0?(c=Math.min(x,i.length),w=v,i.slice(p,c+p)):(c=u!==void 0?(c=u,Math.min(c,i.length)):i.length,u=p,i.slice(w=0,c)),Array.prototype.splice.apply(u,[w,c].concat(i))},t.default.prototype.concat=function(i,p){return i.concat(p)},t.default.prototype.reverse=function(i){return i.reverse()},t.default.prototype.shorten=function(i){return i.pop(),i},t.default.prototype.shuffle=function(i,p){for(var u,v,x=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(i),w=(i=p||x?i:i.slice()).length;1<w;)u=this.random(0,1)*w|0,v=i[--w],i[w]=i[u],i[u]=v;return i},t.default.prototype.sort=function(i,v){var u=v?i.slice(0,Math.min(v,i.length)):i,v=v?i.slice(Math.min(v,i.length)):[];return(u=typeof u[0]=="string"?u.sort():u.sort(function(x,w){return x-w})).concat(v)},t.default.prototype.splice=function(i,p,u){return Array.prototype.splice.apply(i,[u,0].concat(p)),i},t.default.prototype.subset=function(i,p,u){return u!==void 0?i.slice(p,p+u):i.slice(p,i.length)},t=t.default,y.default=t},{"../core/main":280,"core-js/modules/es.array-buffer.constructor":151,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.to-string":187}],320:[function(t,o,y){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.prototype.float=function(p){return p instanceof Array?p.map(parseFloat):parseFloat(p)},i.default.prototype.int=function(p){var u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return p===1/0||p==="Infinity"?1/0:p===-1/0||p==="-Infinity"?-1/0:typeof p=="string"?parseInt(p,u):typeof p=="number"?0|p:typeof p=="boolean"?p?1:0:p instanceof Array?p.map(function(v){return i.default.prototype.int(v,u)}):void 0},i.default.prototype.str=function(p){return p instanceof Array?p.map(i.default.prototype.str):String(p)},i.default.prototype.boolean=function(p){return typeof p=="number"?p!==0:typeof p=="string"?p.toLowerCase()==="true":typeof p=="boolean"?p:p instanceof Array?p.map(i.default.prototype.boolean):void 0},i.default.prototype.byte=function(p){return p=i.default.prototype.int(p,10),typeof p=="number"?(p+128)%256-128:p instanceof Array?p.map(i.default.prototype.byte):void 0},i.default.prototype.char=function(p){return typeof p!="number"||isNaN(p)?p instanceof Array?p.map(i.default.prototype.char):typeof p=="string"?i.default.prototype.char(parseInt(p,10)):void 0:String.fromCharCode(p)},i.default.prototype.unchar=function(p){return typeof p=="string"&&p.length===1?p.charCodeAt(0):p instanceof Array?p.map(i.default.prototype.unchar):void 0},i.default.prototype.hex=function(p,u){if(u=u??8,p instanceof Array)return p.map(function(x){return i.default.prototype.hex(x,u)});if(p===1/0||p===-1/0)return(p===1/0?"F":"0").repeat(u);if(typeof p=="number"){p<0&&(p=4294967295+p+1);for(var v=Number(p).toString(16).toUpperCase();v.length<u;)v="0".concat(v);return v=v.length>=u?v.substring(v.length-u,v.length):v}},i.default.prototype.unhex=function(p){return p instanceof Array?p.map(i.default.prototype.unhex):parseInt("0x".concat(p),16)},t=i.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.map":167,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.repeat":200}],321:[function(t,o,y){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(c=t("../core/main"))&&c.__esModule?c:{default:c};function p(a,d){return function(f){if(Array.isArray(f))return f}(a)||function(f,m){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]"){var l=[],h=!0,g=!1,b=void 0;try{for(var _,A=f[Symbol.iterator]();!(h=(_=A.next()).done)&&(l.push(_.value),!m||l.length!==m);h=!0);}catch(P){g=!0,b=P}finally{try{h||A.return==null||A.return()}finally{if(g)throw b}}return l}}(a,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(a,d,f){var l=p(a.toString().split("."),2),m=l[0],l=l[1];return f===void 0?(m=m.padStart(d,"0"),l?m+"."+l:m):(m=(a=p(a.toFixed(f).toString().split("."),2))[0],l=a[1],m=m.padStart(d,"0"),l===void 0?m:m+"."+l)}function v(l,d){var f=(l=l.toString()).indexOf("."),m=f!==-1?l.substring(f):"",l=(l=f!==-1?l.substring(0,f):l).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(d===0)m="";else if(d!==void 0)if(d>m.length)for(var h=d-(m+=f===-1?".":"").length+1,g=0;g<h;g++)m+="0";else m=m.substring(0,d+1);return l+m}function x(a){return 0<parseFloat(a)?"+".concat(a.toString()):a.toString()}function w(a){return 0<=parseFloat(a)?" ".concat(a.toString()):a.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),i.default.prototype.join=function(a,d){return i.default._validateParameters("join",arguments),a.join(d)},i.default.prototype.match=function(a,d){return i.default._validateParameters("match",arguments),a.match(d)},i.default.prototype.matchAll=function(a,d){i.default._validateParameters("matchAll",arguments);for(var f=new RegExp(d,"g"),m=f.exec(a),l=[];m!==null;)l.push(m),m=f.exec(a);return l},i.default.prototype.nf=function(a,d,f){return i.default._validateParameters("nf",arguments),a instanceof Array?a.map(function(m){return u(m,d,f)}):Object.prototype.toString.call(a)==="[object Arguments]"?a.length===3?this.nf(a[0],a[1],a[2]):a.length===2?this.nf(a[0],a[1]):this.nf(a[0]):u(a,d,f)},i.default.prototype.nfc=function(a,d){return i.default._validateParameters("nfc",arguments),a instanceof Array?a.map(function(f){return v(f,d)}):v(a,d)},i.default.prototype.nfp=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];i.default._validateParameters("nfp",d);var m=i.default.prototype.nf.apply(this,d);return m instanceof Array?m.map(x):x(m)},i.default.prototype.nfs=function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];i.default._validateParameters("nfs",d);var m=i.default.prototype.nf.apply(this,d);return m instanceof Array?m.map(w):w(m)},i.default.prototype.split=function(a,d){return i.default._validateParameters("split",arguments),a.split(d)},i.default.prototype.splitTokens=function(a,d){var f,m;return i.default._validateParameters("splitTokens",arguments),m=d!==void 0?(m=/\]/g.exec(d=d),(f=/\[/g.exec(d))&&m?(d=d.slice(0,m.index)+d.slice(m.index+1),f=/\[/g.exec(d),d=d.slice(0,f.index)+d.slice(f.index+1),new RegExp("[\\[".concat(d,"\\]]"),"g")):m?(d=d.slice(0,m.index)+d.slice(m.index+1),new RegExp("[".concat(d,"\\]]"),"g")):f?(d=d.slice(0,f.index)+d.slice(f.index+1),new RegExp("[".concat(d,"\\[]"),"g")):new RegExp("[".concat(d,"]"),"g")):/\s/g,a.split(m).filter(function(l){return l})},i.default.prototype.trim=function(a){return i.default._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};var c=i.default;y.default=c},{"../core/friendly_errors/fes_core":271,"../core/friendly_errors/file_errors":272,"../core/friendly_errors/validate_params":275,"../core/main":280,"core-js/modules/es.array.filter":156,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.constructor":191,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.pad-start":199,"core-js/modules/es.string.replace":201,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],322:[function(t,o,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,y.default=t},{"../core/main":280}],323:[function(t,o,y){"use strict";function i(a){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}function p(a){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(d){return i(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":i(d)})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(c=t("../core/main"))&&c.__esModule?c:{default:c},v=(t("./p5.Geometry"),function(a){if(a&&a.__esModule)return a;if(a===null||p(a)!=="object"&&typeof a!="function")return{default:a};var d=x();if(d&&d.has(a))return d.get(a);var f,m={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(f in a){var h;Object.prototype.hasOwnProperty.call(a,f)&&((h=l?Object.getOwnPropertyDescriptor(a,f):null)&&(h.get||h.set)?Object.defineProperty(m,f,h):m[f]=a[f])}return m.default=a,d&&d.set(a,m),m}(t("../core/constants")));function x(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,x=function(){return a},a)}u.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},u.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},u.default.prototype.buildGeometry=function(a){return this._renderer.buildGeometry(a)},u.default.prototype.freeGeometry=function(a){this._renderer._freeBuffers(a.gid)},u.default.prototype.plane=function(){var a,d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:d,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,h=(this._assert3d("plane"),u.default._validateParameters("plane",arguments),"plane|".concat(m,"|").concat(l));return this._renderer.geometryInHash(h)||((a=new u.default.Geometry(m,l,function(){for(var g,b,_=0;_<=this.detailY;_++)for(var A=_/this.detailY,P=0;P<=this.detailX;P++)g=P/this.detailX,b=new u.default.Vector(g-.5,A-.5,0),this.vertices.push(b),this.uvs.push(g,A)})).computeFaces().computeNormals(),m<=1&&l<=1?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(h,a)),this._renderer.drawBuffersScaled(h,d,f,1),this},u.default.prototype.box=function(a,d,f,m,l){this._assert3d("box"),u.default._validateParameters("box",arguments),a===void 0&&(a=50),d===void 0&&(d=a),f===void 0&&(f=d);var h,g=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,g=(l===void 0&&(l=g?1:4),"box|".concat(m=m===void 0?g?1:4:m,"|").concat(l));return this._renderer.geometryInHash(g)||((h=new u.default.Geometry(m,l,function(){var b=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(_,A){for(var A=4*A,P=0;P<4;P++){var j=_[P],j=new u.default.Vector((2*(1&j)-1)/2,((2&j)-1)/2,((4&j)/2-1)/2);b.vertices.push(j),b.uvs.push(1&P,(2&P)/2)}b.faces.push([A,1+A,2+A]),b.faces.push([2+A,1+A,3+A])})})).computeNormals(),m<=4&&l<=4?h._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(g,h)),this._renderer.drawBuffersScaled(g,a,d,f),this},u.default.prototype.sphere=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),u.default._validateParameters("sphere",arguments),this.ellipsoid(a,a,a,d,f),this};function w(a,d,f,m,l,h,g){a=a<=0?1:a,d=d<0?0:d,f=f<=0?a:f,m=m<3?3:m;for(var b,_,A=(h=h===void 0||h)?-2:0,P=(l=l<1?1:l)+((g=g===void 0?d!==0:g)?2:0),j=Math.atan2(a-d,f),E=Math.sin(j),k=Math.cos(j),M=A;M<=P;++M){var I=M/l,S=f*I,T=void 0,T=M<0?(I=S=0,a):l<M?(S=f,I=1,d):a+(d-a)*I;for(M!==-2&&M!==l+2||(T=0),S-=f/2,b=0;b<m;++b){var L=b/(m-1),V=2*Math.PI*L,O=Math.sin(V),V=Math.cos(V),H=(this.vertices.push(new u.default.Vector(O*T,S,V*T)),void 0),H=M<0?new u.default.Vector(0,-1,0):l<M&&d?new u.default.Vector(0,1,0):new u.default.Vector(O*k,E,V*k);this.vertexNormals.push(H),this.uvs.push(L,I)}}var F=0;if(h){for(_=0;_<m;++_)this.faces.push([F+_,F+m+(_+1)%m,F+m+_]);F+=2*m}for(M=0;M<l;++M){for(b=0;b<m;++b){var W=(b+1)%m;this.faces.push([F+b,F+W,F+m+W]),this.faces.push([F+b,F+m+W,F+m+b])}F+=m}if(g)for(F+=m,b=0;b<m;++b)this.faces.push([F+b,F+(b+1)%m,F+m])}u.default.prototype.cylinder=function(){var a,d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:d,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,h=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],g=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],b=(this._assert3d("cylinder"),u.default._validateParameters("cylinder",arguments),"cylinder|".concat(m,"|").concat(l,"|").concat(h,"|").concat(g));return this._renderer.geometryInHash(b)||(a=new u.default.Geometry(m,l),w.call(a,1,1,1,m,l,h,g),m<=24&&l<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,a)),this._renderer.drawBuffersScaled(b,d,f,d),this},u.default.prototype.cone=function(){var a,d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:d,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,h=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],g=(this._assert3d("cone"),u.default._validateParameters("cone",arguments),"cone|".concat(m,"|").concat(l,"|").concat(h));return this._renderer.geometryInHash(g)||(a=new u.default.Geometry(m,l),w.call(a,1,0,1,m,l,h,!1),m<=24&&l<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,a)),this._renderer.drawBuffersScaled(g,d,f,d),this},u.default.prototype.ellipsoid=function(){var a,d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:d,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:d,l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,g=(this._assert3d("ellipsoid"),u.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(l,"|").concat(h));return this._renderer.geometryInHash(g)||((a=new u.default.Geometry(l,h,function(){for(var b=0;b<=this.detailY;b++)for(var _=b/this.detailY,A=Math.PI*_-Math.PI/2,P=Math.cos(A),j=Math.sin(A),E=0;E<=this.detailX;E++){var k=E/this.detailX,I=2*Math.PI*k,M=Math.cos(I),I=Math.sin(I),I=new u.default.Vector(P*I,j,P*M);this.vertices.push(I),this.vertexNormals.push(I),this.uvs.push(k,_)}})).computeFaces(),l<=24&&h<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(g,a)),this._renderer.drawBuffersScaled(g,d,f,m),this},u.default.prototype.torus=function(a,g,f,m){if(this._assert3d("torus"),u.default._validateParameters("torus",arguments),a===void 0)a=50;else if(!a)return;if(g===void 0)g=10;else if(!g)return;f===void 0&&(f=24),m===void 0&&(m=16);var l,h=(g/a).toPrecision(4),g="torus|".concat(h,"|").concat(f,"|").concat(m);return this._renderer.geometryInHash(g)||((l=new u.default.Geometry(f,m,function(){for(var b=0;b<=this.detailY;b++)for(var _=b/this.detailY,A=2*Math.PI*_,P=Math.cos(A),j=Math.sin(A),E=1+h*P,k=0;k<=this.detailX;k++){var M=k/this.detailX,I=2*Math.PI*M,T=Math.cos(I),I=Math.sin(I),S=new u.default.Vector(E*T,E*I,h*j),T=new u.default.Vector(P*T,P*I,j);this.vertices.push(S),this.vertexNormals.push(T),this.uvs.push(M,_)}})).computeFaces(),f<=24&&m<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(g,l)),this._renderer.drawBuffersScaled(g,a,a,a),this},u.default.RendererGL.prototype.point=function(a,d){var f=[];return f.push(new u.default.Vector(a,d,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(f,this.immediateMode.buffers.point),this},u.default.RendererGL.prototype.triangle=function(g){var d=g[0],f=g[1],m=g[2],l=g[3],h=g[4],g=g[5],b=(this.geometryInHash("tri")||((b=new u.default.Geometry(1,1,function(){var P=[];P.push(new u.default.Vector(0,0,0)),P.push(new u.default.Vector(1,0,0)),P.push(new u.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=P,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),b.computeNormals(),this.createBuffers("tri",b)),this.uMVMatrix.copy());try{var _=Math.sign(d*l-m*f+m*g-h*l+h*f-d*g),A=new u.default.Matrix([m-d,l-f,0,0,h-d,g-f,0,0,0,0,_,0,d,f,0,1]).mult(this.uMVMatrix);this.uMVMatrix=A,this.drawBuffers("tri")}finally{this.uMVMatrix=b}return this},u.default.RendererGL.prototype.ellipse=function(a){this.arc(a[0],a[1],a[2],a[3],0,v.TWO_PI,v.OPEN,a[4])},u.default.RendererGL.prototype.arc=function(){var a,d=arguments.length<=0?void 0:arguments[0],f=arguments.length<=1?void 0:arguments[1],m=arguments.length<=2?void 0:arguments[2],l=arguments.length<=3?void 0:arguments[3],h=arguments.length<=4?void 0:arguments[4],g=arguments.length<=5?void 0:arguments[5],b=arguments.length<=6?void 0:arguments[6],_=(arguments.length<=7?void 0:arguments[7])||25,A=(Math.abs(g-h)>=v.TWO_PI?"".concat(P="ellipse","|"):"".concat(P="arc","|").concat(h,"|").concat(g,"|").concat(b,"|")).concat(_,"|"),P=(this.geometryInHash(A)||((a=new u.default.Geometry(_,1,function(){if(h.toFixed(10)!==g.toFixed(10)){b!==v.PIE&&b!==void 0||(this.vertices.push(new u.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var j=0;j<=_;j++){var k=(g-h)*(j/_)+h,E=.5+Math.cos(k)/2,k=.5+Math.sin(k)/2;this.vertices.push(new u.default.Vector(E,k,0)),this.uvs.push([E,k]),j<_-1&&(this.faces.push([0,j+1,j+2]),this.edges.push([j+1,j+2]))}switch(b){case v.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case v.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case v.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),_<=50?a._edgesToVertices(a):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(P," with more than 50 detail")),this.createBuffers(A,a)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,f,0]),this.uMVMatrix.scale(m,l,1),this.drawBuffers(A)}finally{this.uMVMatrix=P}return this},u.default.RendererGL.prototype.rect=function(a){var d=a[0],f=a[1],m=a[2],l=a[3];if(a[4]===void 0){var b=this._pInst._glAttributes.perPixelLighting,h=a[4]||(b?1:24),g=a[5]||(b?1:16),b="rect|".concat(h,"|").concat(g),_=(this.geometryInHash(b)||((_=new u.default.Geometry(h,g,function(){for(var H=0;H<=this.detailY;H++)for(var F=H/this.detailY,W=0;W<=this.detailX;W++){var ee=W/this.detailX,J=new u.default.Vector(ee,F,0);this.vertices.push(J),this.uvs.push(ee,F)}0<h&&0<g&&(this.edges=[[0,h],[h,(h+1)*(g+1)-1],[(h+1)*(g+1)-1,(h+1)*g],[(h+1)*g,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(b,_)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([d,f,0]),this.uMVMatrix.scale(m,l,1),this.drawBuffers(b)}finally{this.uMVMatrix=_}}else{var b=a[4],_=a[5]===void 0?b:a[5],A=a[6]===void 0?_:a[6],a=a[7]===void 0?A:a[7],I=m,P=l,k=((I+=d)<d&&(k=d,d=I,I=k),(P+=f)<f&&(k=f,f=P,P=k),Math.min((I-d)/2,(P-f)/2)),j=(k<b&&(b=k),k<_&&(_=k),k<A&&(A=k),k<a&&(a=k),d),E=f,k=I,d=P,M=(this.beginShape(),_!==0?(this.vertex(k-_,E),this.quadraticVertex(k,E,k,E+_)):this.vertex(k,E),A!==0?(this.vertex(k,d-A),this.quadraticVertex(k,d,k-A,d)):this.vertex(k,d),a!==0?(this.vertex(j+a,d),this.quadraticVertex(j,d,j,d-a)):this.vertex(j,d),b!==0?(this.vertex(j,E+b),this.quadraticVertex(j,E,j+b,E)):this.vertex(j,E),!(this.immediateMode.geometry.uvs.length=0)),f=!1,I=void 0;try{for(var S,T=this.immediateMode.geometry.vertices[Symbol.iterator]();!(M=(S=T.next()).done);M=!0){var L=S.value,O=(L.x-j)/m,V=(L.y-E)/l;this.immediateMode.geometry.uvs.push(O,V)}}catch(N){f=!0,I=N}finally{try{M||T.return==null||T.return()}finally{if(f)throw I}}this.endShape(v.CLOSE)}return this},u.default.RendererGL.prototype.quad=function(a,d,f,m,l,h,g,b,_,A,P,j){var E=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,k=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,M="quad|".concat(a,"|").concat(d,"|").concat(f,"|").concat(m,"|").concat(l,"|").concat(h,"|").concat(g,"|").concat(b,"|").concat(_,"|").concat(A,"|").concat(P,"|").concat(j,"|").concat(E,"|").concat(k);if(!this.geometryInHash(M)){var I=new u.default.Geometry(E,k,function(){for(var W=1/(this.detailX-1),ee=1/(this.detailY-1),J=0;J<this.detailY;J++)for(var N=0;N<this.detailX;N++){var D=N*W,B=J*ee;this.vertices.push(new u.default.Vector((1-D)*((1-B)*a+B*A)+D*((1-B)*m+B*g),(1-D)*((1-B)*d+B*P)+D*((1-B)*l+B*b),(1-D)*((1-B)*f+B*j)+D*((1-B)*h+B*_))),this.uvs.push([D,B])}});I.faces=[];for(var S=0;S<k-1;S++)for(var T=0;T<E-1;T++){var L=T+S*E,O=T+1+(S+1)*E,V=T+(S+1)*E;I.faces.push([L,T+1+S*E,O]),I.faces.push([L,O,V])}I.computeNormals();for(var H=[I.edges.length=0,2,3,1],F=0;F<H.length;F++)I.edges.push([H[F],H[(F+1)%H.length]]);I._edgesToVertices(),this.createBuffers(M,I)}return this.drawBuffers(M),this},u.default.RendererGL.prototype.bezier=function(a,d,f,m,l,h,g,b,_,A,P,j){arguments.length===8&&(P=b,A=g,b=h,g=l,l=m,m=f,f=h=_=j=0);var E=this._pInst._bezierDetail||20;this.beginShape();for(var k=0;k<=E;k++){var M=Math.pow(1-k/E,3),I=k/E*3*Math.pow(1-k/E,2),S=3*Math.pow(k/E,2)*(1-k/E),T=Math.pow(k/E,3);this.vertex(a*M+m*I+g*S+A*T,d*M+l*I+b*S+P*T,f*M+h*I+_*S+j*T)}return this.endShape(),this},u.default.RendererGL.prototype.curve=function(a,d,f,m,l,h,g,b,_,A,P,j){arguments.length===8&&(A=g,P=b,g=l,b=m,l=m=f,f=h=_=j=0);var E=this._pInst._curveDetail;this.beginShape();for(var k=0;k<=E;k++){var M=.5*Math.pow(k/E,3),I=.5*Math.pow(k/E,2),S=k/E*.5;this.vertex(M*(3*m-a-3*g+A)+I*(2*a-5*m+4*g-A)+S*(-a+g)+2*m*.5,M*(3*l-d-3*b+P)+I*(2*d-5*l+4*b-P)+S*(-d+b)+2*l*.5,M*(3*h-f-3*_+j)+I*(2*f-5*h+4*_-j)+S*(-f+_)+2*h*.5)}return this.endShape(),this},u.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(v.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(v.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},u.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var a,d,f,m,l,h,g=[],b=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var A=1/this._lutBezierDetail,P=0,j=1,E=0;P<1;){if(h=parseFloat(P.toFixed(6)),this._lookUpTableBezier[E]=this._bezierCoefficients(h),j.toFixed(6)===A.toFixed(6)){h=parseFloat(j.toFixed(6))+parseFloat(P.toFixed(6)),++E,this._lookUpTableBezier[E]=this._bezierCoefficients(h);break}P+=A,j-=A,++E}}for(var k=this._lookUpTableBezier.length,M=[],I=0;I<4;I++)M.push([]);M[0]=this.immediateMode.geometry.vertexColors.slice(-4),M[3]=this.curFillColor.slice();var S=[];for(I=0;I<4;I++)S.push([]);if(S[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),S[3]=this.curStrokeColor.slice(),_===6){this.isBezier=!0;var g=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],T=Math.hypot(g[0]-g[1],b[0]-b[1]),O=Math.hypot(g[1]-g[2],b[1]-b[2]),L=Math.hypot(g[2]-g[3],b[2]-b[3]),O=T+O+L;for(T/=O,L/=O,l=0;l<4;l++)M[1].push(M[0][l]*(1-T)+M[3][l]*T),M[2].push(M[0][l]*L+M[3][l]*(1-L)),S[1].push(S[0][l]*(1-T)+S[3][l]*T),S[2].push(S[0][l]*L+S[3][l]*(1-L));for(m=0;m<k;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=a=d=0;I<4;I++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableBezier[m][I]*M[I][l],this.curStrokeColor[l]+=this._lookUpTableBezier[m][I]*S[I][l];a+=g[I]*this._lookUpTableBezier[m][I],d+=b[I]*this._lookUpTableBezier[m][I]}this.vertex(a,d)}this.curFillColor=M[3],this.curStrokeColor=S[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(_===9){this.isBezier=!0,g=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],b=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var V=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],H=Math.hypot(g[0]-g[1],b[0]-b[1],V[0]-V[1]),O=Math.hypot(g[1]-g[2],b[1]-b[2],V[1]-V[2]),F=Math.hypot(g[2]-g[3],b[2]-b[3],V[2]-V[3]),_=H+O+F;for(H/=_,F/=_,l=0;l<4;l++)M[1].push(M[0][l]*(1-H)+M[3][l]*H),M[2].push(M[0][l]*F+M[3][l]*(1-F)),S[1].push(S[0][l]*(1-H)+S[3][l]*H),S[2].push(S[0][l]*F+S[3][l]*(1-F));for(m=0;m<k;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=a=d=f=0;I<4;I++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableBezier[m][I]*M[I][l],this.curStrokeColor[l]+=this._lookUpTableBezier[m][I]*S[I][l];a+=g[I]*this._lookUpTableBezier[m][I],d+=b[I]*this._lookUpTableBezier[m][I],f+=V[I]*this._lookUpTableBezier[m][I]}this.vertex(a,d,f)}this.curFillColor=M[3],this.curStrokeColor=S[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},u.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var a,d,f,m,l,h,g=[],b=[],_=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var A=1/this._lutQuadraticDetail,P=0,j=1,E=0;P<1;){if(h=parseFloat(P.toFixed(6)),this._lookUpTableQuadratic[E]=this._quadraticCoefficients(h),j.toFixed(6)===A.toFixed(6)){h=parseFloat(j.toFixed(6))+parseFloat(P.toFixed(6)),++E,this._lookUpTableQuadratic[E]=this._quadraticCoefficients(h);break}P+=A,j-=A,++E}}for(var k=this._lookUpTableQuadratic.length,M=[],I=0;I<3;I++)M.push([]);M[0]=this.immediateMode.geometry.vertexColors.slice(-4),M[2]=this.curFillColor.slice();var S=[];for(I=0;I<3;I++)S.push([]);if(S[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),S[2]=this.curStrokeColor.slice(),_===4){this.isQuadratic=!0;var g=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],T=Math.hypot(g[0]-g[1],b[0]-b[1]);for(T/=T+Math.hypot(g[1]-g[2],b[1]-b[2]),l=0;l<4;l++)M[1].push(M[0][l]*(1-T)+M[2][l]*T),S[1].push(S[0][l]*(1-T)+S[2][l]*T);for(m=0;m<k;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=a=d=0;I<3;I++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableQuadratic[m][I]*M[I][l],this.curStrokeColor[l]+=this._lookUpTableQuadratic[m][I]*S[I][l];a+=g[I]*this._lookUpTableQuadratic[m][I],d+=b[I]*this._lookUpTableQuadratic[m][I]}this.vertex(a,d)}this.curFillColor=M[2],this.curStrokeColor=S[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(_===6){this.isQuadratic=!0,g=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],b=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var L=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],O=Math.hypot(g[0]-g[1],b[0]-b[1],L[0]-L[1]);for(O/=O+Math.hypot(g[1]-g[2],b[1]-b[2],L[1]-L[2]),l=0;l<4;l++)M[1].push(M[0][l]*(1-O)+M[2][l]*O),S[1].push(S[0][l]*(1-O)+S[2][l]*O);for(m=0;m<k;m++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],I=a=d=f=0;I<3;I++){for(l=0;l<4;l++)this.curFillColor[l]+=this._lookUpTableQuadratic[m][I]*M[I][l],this.curStrokeColor[l]+=this._lookUpTableQuadratic[m][I]*S[I][l];a+=g[I]*this._lookUpTableQuadratic[m][I],d+=b[I]*this._lookUpTableQuadratic[m][I],f+=L[I]*this._lookUpTableQuadratic[m][I]}this.vertex(a,d,f)}this.curFillColor=M[2],this.curStrokeColor=S[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},u.default.RendererGL.prototype.curveVertex=function(){var a,d,f,m,l,h,g=[],b=[],_=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var A=1/this._lutBezierDetail,P=0,j=1,E=0;P<1;){if(h=parseFloat(P.toFixed(6)),this._lookUpTableBezier[E]=this._bezierCoefficients(h),j.toFixed(6)===A.toFixed(6)){h=parseFloat(j.toFixed(6))+parseFloat(P.toFixed(6)),++E,this._lookUpTableBezier[E]=this._bezierCoefficients(h);break}P+=A,j-=A,++E}}var k=this._lookUpTableBezier.length;if(_===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,g=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),l=0;l<k;l++)d=g[0]*this._lookUpTableBezier[l][0]+g[1]*this._lookUpTableBezier[l][1]+g[2]*this._lookUpTableBezier[l][2]+g[3]*this._lookUpTableBezier[l][3],f=b[0]*this._lookUpTableBezier[l][0]+b[1]*this._lookUpTableBezier[l][1]+b[2]*this._lookUpTableBezier[l][2]+b[3]*this._lookUpTableBezier[l][3],this.vertex(d,f);for(l=0;l<_;l++)this.immediateMode._curveVertex.shift()}}else if(_===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,g=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),b=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),a=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),l=0;l<k;l++)d=g[0]*this._lookUpTableBezier[l][0]+g[1]*this._lookUpTableBezier[l][1]+g[2]*this._lookUpTableBezier[l][2]+g[3]*this._lookUpTableBezier[l][3],f=b[0]*this._lookUpTableBezier[l][0]+b[1]*this._lookUpTableBezier[l][1]+b[2]*this._lookUpTableBezier[l][2]+b[3]*this._lookUpTableBezier[l][3],m=a[0]*this._lookUpTableBezier[l][0]+a[1]*this._lookUpTableBezier[l][1]+a[2]*this._lookUpTableBezier[l][2]+a[3]*this._lookUpTableBezier[l][3],this.vertex(d,f,m);for(l=0;l<_;l++)this.immediateMode._curveVertex.shift()}},u.default.RendererGL.prototype.image=function(a,j,f,E,l,h,g,b,_){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(a),this._pInst.textureMode(v.NORMAL);var A=0,P=(j<=a.width&&(A=j/a.width),1),j=(j+E<=a.width&&(P=(j+E)/a.width),0),E=(f<=a.height&&(j=f/a.height),1);f+l<=a.height&&(E=(f+l)/a.height),this.beginShape(),this.vertex(h,g,0,A,j),this.vertex(h+b,g,0,P,j),this.vertex(h+b,g+_,0,P,E),this.vertex(h,g+_,0,A,E),this.endShape(v.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(v.REMOVE)};var c=u.default;y.default=c},{"../core/constants":269,"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.number.to-fixed":180,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],324:[function(t,o,y){"use strict";function i(d){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function p(d){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(f){return i(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":i(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(a=t("../core/main"))&&a.__esModule?a:{default:a},v=function(d){if(d&&d.__esModule)return d;if(d===null||p(d)!=="object"&&typeof d!="function")return{default:d};var f=x();if(f&&f.has(d))return f.get(d);var m,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in d){var g;Object.prototype.hasOwnProperty.call(d,m)&&((g=h?Object.getOwnPropertyDescriptor(d,m):null)&&(g.get||g.set)?Object.defineProperty(l,m,g):l[m]=d[m])}return l.default=d,f&&f.set(d,l),l}(t("../core/constants"));function x(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,x=function(){return d},d)}function w(d){return function(f){if(Array.isArray(f)){for(var m=0,l=new Array(f.length);m<f.length;m++)l[m]=f[m];return l}}(d)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(d,f){for(var m=0;m<f.length;m++){var l=f[m];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}var a=function(){function d(h){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");(this.renderer=h)._pInst.push(),this.identityMatrix=new u.default.Matrix,h.uMVMatrix=new u.default.Matrix,this.geometry=new u.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(d.nextGeometryId),d.nextGeometryId++,this.hasTransform=!1}var f,m,l;return f=d,(m=[{key:"transformVertices",value:function(h){var g=this;return this.hasTransform?h.map(function(b){return g.renderer.uMVMatrix.multiplyPoint(b)}):h}},{key:"transformNormals",value:function(h){var g=this;return this.hasTransform?h.map(function(b){return g.renderer.uNMatrix.multiplyVec3(b)}):h}},{key:"addGeometry",value:function(h){for(var g,b=this,_=(this.hasTransform=!this.renderer.uMVMatrix.mat4.every(function(P,j){return P===b.identityMatrix.mat4[j]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uMVMatrix),this.geometry.vertices.length),A=((g=this.geometry.vertices).push.apply(g,w(this.transformVertices(h.vertices))),(g=this.geometry.vertexNormals).push.apply(g,w(this.transformNormals(h.vertexNormals))),(g=this.geometry.uvs).push.apply(g,w(h.uvs)),this.renderer._doFill&&(g=this.geometry.faces).push.apply(g,w(h.faces.map(function(P){return P.map(function(j){return j+_})}))),this.renderer._doStroke&&(g=this.geometry.edges).push.apply(g,w(h.edges.map(function(P){return P.map(function(j){return j+_})}))),w(h.vertexColors));A.length<4*h.vertices.length;)A.push.apply(A,w(this.renderer.curFillColor));(g=this.geometry.vertexColors).push.apply(g,w(A))}},{key:"addImmediate",value:function(){var h=this.renderer.immediateMode.geometry,g=this.renderer.immediateMode.shapeMode,b=[];if(this.renderer._doFill)if(g===v.TRIANGLE_STRIP||g===v.QUAD_STRIP)for(var _=2;_<h.vertices.length;_++)_%2==0?b.push([_,_-1,_-2]):b.push([_,_-2,_-1]);else if(g===v.TRIANGLE_FAN)for(var A=2;A<h.vertices.length;A++)b.push([0,A-1,A]);else for(var P=0;P<h.vertices.length;P+=3)b.push([P,P+1,P+2]);this.addGeometry(Object.assign({},h,{faces:b}))}},{key:"addRetained",value:function(h){this.addGeometry(h.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&c(f.prototype,m),l&&c(f,l),d}();a.nextGeometryId=0,y.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.every":154,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],325:[function(t,o,y){"use strict";function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var p=(w=t("../core/main"))&&w.__esModule?w:{default:w},u=function(c){if(c&&c.__esModule)return c;if(c===null||x(c)!=="object"&&typeof c!="function")return{default:c};var a=v();if(a&&a.has(c))return a.get(c);var d,f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var l;Object.prototype.hasOwnProperty.call(c,d)&&((l=m?Object.getOwnPropertyDescriptor(c,d):null)&&(l.get||l.set)?Object.defineProperty(f,d,l):f[d]=c[d])}return f.default=c,a&&a.set(c,f),f}(t("../core/constants"));function v(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,v=function(){return c},c)}function x(c){return(x=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(c)}p.default.prototype.orbitControl=function(c,a,d,_){var m=this,l=(this._assert3d("orbitControl"),p.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);c===void 0&&(c=1),a===void 0&&(a=c),d===void 0&&(d=1),x(_)!=="object"&&(_={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var P=_.disableTouchActions;this.touchActionsDisabled===!0||P!==void 0&&!P||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var h,g,b,P=_.freeRotation,_=P!==void 0&&P,A=[],P=(this.touches.forEach(function(T){m._renderer.prevTouches.forEach(function(L){T.id===L.id&&(L={x:T.x,y:T.y,px:L.x,py:L.y},A.push(L))})}),this._renderer.prevTouches=this.touches,0),j=0,E=0,k=0,M=0,I=this.height<this.width?this.height:this.width,S=!1;return 0<A.length?(S=0<A[0].x&&A[0].x<this.width&&0<A[0].y&&A[0].y<this.height,A.length===1?(j=-c*((h=A[0]).x-h.px)/I,E=a*(h.y-h.py)/I):(h=A[0],g=A[1],P=-(Math.hypot(h.x-g.x,h.y-g.y)-Math.hypot(h.px-g.px,h.py-g.py))*d*4e-4,k=.5*(h.x+g.x)-.5*(h.px+g.px),M=.5*(h.y+g.y)-.5*(h.py+g.py)),0<this.touches.length?S&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(S=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(P=Math.sign(this._mouseWheelDeltaY)*d,P*=.01,this._mouseWheelDeltaY=0,S&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(j=-c*this.movedX/I,E=a*this.movedY/I):this.mouseButton===this.RIGHT&&(k=this.movedX,M=this.movedY*l.yScale),S&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),P!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=P),.001<Math.abs(this._renderer.zoomVelocity)?(_?l._orbitFree(0,0,this._renderer.zoomVelocity):l._orbit(0,0,this._renderer.zoomVelocity),l.projMatrix.mat4[15]!==0&&(l.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),l.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=l.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=l.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,j===0&&E===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*j,.6*E),1e-6<this._renderer.rotateVelocity.magSq()?(_?l._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):l._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),k===0&&M===0||!this._renderer.executeRotateAndMove||(h=2*k/this.width,g=2*-M/this.height,this._renderer.moveVelocity.add(.15*h,.15*g)),1e-6<this._renderer.moveVelocity.magSq()?(d=l._getLocalAxes(),c=l.eyeX-l.centerX,a=l.eyeY-l.centerY,I=l.eyeZ-l.centerZ,S=Math.sqrt(c*c+a*a+I*I),P=new p.default.Vector(l.centerX,l.centerY,l.centerZ),P=l.cameraMatrix.multiplyPoint(P),(P=this._renderer.uPMatrix.multiplyAndNormalizePoint(P)).x-=this._renderer.moveVelocity.x,P.y-=this._renderer.moveVelocity.y,E=(j=this._renderer.uPMatrix.mat4)[15]===0?(b=(j[8]+P.x)/j[0]*S,(j[9]+P.y)/j[5]*S):(b=(P.x-j[12])/j[0],(P.y-j[13])/j[5]),l.setPosition(l.eyeX+b*d.x[0]+E*d.y[0],l.eyeY+b*d.x[1]+E*d.y[1],l.eyeZ+b*d.x[2]+E*d.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},p.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var c=arguments.length,a=new Array(c),d=0;d<c;d++)a[d]=arguments[d];p.default._validateParameters("debugMode",a);for(var f=this._registeredMethods.post.length-1;0<=f;f--)this._registeredMethods.post[f].toString()!==this._grid().toString()&&this._registeredMethods.post[f].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(f,1);a[0]===u.GRID?this.registerMethod("post",this._grid(a[1],a[2],a[3],a[4],a[5])):a[0]===u.AXES?this.registerMethod("post",this._axesIcon(a[1],a[2],a[3],a[4])):(this.registerMethod("post",this._grid(a[0],a[1],a[2],a[3],a[4])),this.registerMethod("post",this._axesIcon(a[5],a[6],a[7],a[8])))},p.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var c=this._registeredMethods.post.length-1;0<=c;c--)this._registeredMethods.post[c].toString()!==this._grid().toString()&&this._registeredMethods.post[c].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(c,1)},p.default.prototype._grid=function(c,a,d,f,m){c===void 0&&(c=this.width/2),a===void 0&&(a=Math.round(c/30)<4?4:Math.round(c/30)),d===void 0&&(d=0),f===void 0&&(f=0),m===void 0&&(m=0);var l=c/a,h=c/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix);for(var g=0;g<=a;g++)this.beginShape(this.LINES),this.vertex(-h+d,f,g*l-h+m),this.vertex(h+d,f,g*l-h+m),this.endShape();for(var b=0;b<=a;b++)this.beginShape(this.LINES),this.vertex(b*l-h+d,f,-h+m),this.vertex(b*l-h+d,f,h+m),this.endShape();this.pop()}},p.default.prototype._axesIcon=function(c,a,d,f){return c===void 0&&(c=40<this.width/20?this.width/20:40),a===void 0&&(a=-this.width/4),d===void 0&&(d=a),f===void 0&&(f=a),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(a,d,f),this.vertex(a+c,d,f),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(a,d,f),this.vertex(a,d+c,f),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(a,d,f),this.vertex(a,d,f+c),this.endShape(),this.pop()}};var w=p.default;y.default=w},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.splice":170,"core-js/modules/es.math.hypot":175,"core-js/modules/es.math.sign":177,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],326:[function(t,o,y){"use strict";t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};i.default.prototype.ambientLight=function(p,u,v,x){this._assert3d("ambientLight"),i.default._validateParameters("ambientLight",arguments);var w=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(w._array[0],w._array[1],w._array[2]),this._renderer._enableLighting=!0,this},i.default.prototype.specularColor=function(p,u,v){this._assert3d("specularColor"),i.default._validateParameters("specularColor",arguments);var x=this.color.apply(this,arguments);return this._renderer.specularColors=[x._array[0],x._array[1],x._array[2]],this},i.default.prototype.directionalLight=function(p,m,f,x,w,c){this._assert3d("directionalLight"),i.default._validateParameters("directionalLight",arguments),p=p instanceof i.default.Color?p:this.color(p,m,f);var a,d,m=arguments[arguments.length-1],f=typeof m=="number"?(a=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(a=m.x,d=m.y,m.z),m=Math.sqrt(a*a+d*d+f*f);return this._renderer.directionalLightDirections.push(a/m,d/m,f/m),this._renderer.directionalLightDiffuseColors.push(p._array[0],p._array[1],p._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},i.default.prototype.pointLight=function(p,f,m,x,w,c){this._assert3d("pointLight"),i.default._validateParameters("pointLight",arguments),p=p instanceof i.default.Color?p:this.color(p,f,m);var a,d,f=arguments[arguments.length-1],m=typeof f=="number"?(a=arguments[arguments.length-3],d=arguments[arguments.length-2],arguments[arguments.length-1]):(a=f.x,d=f.y,f.z);return this._renderer.pointLightPositions.push(a,d,m),this._renderer.pointLightDiffuseColors.push(p._array[0],p._array[1],p._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},i.default.prototype.imageLight=function(p){this._renderer.activeImageLight=p,this._renderer._enableLighting=!0},i.default.prototype.panorama=function(p){this.filter(this._renderer._getSphereMapping(p))},i.default.prototype.lights=function(){this._assert3d("lights");var p=this.color("rgb(128,128,128)");return this.ambientLight(p),this.directionalLight(p,0,0,-1),this},i.default.prototype.lightFalloff=function(p,u,v){return this._assert3d("lightFalloff"),i.default._validateParameters("lightFalloff",arguments),p<0&&(p=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),v<0&&(v=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),p===0&&u===0&&v===0&&(p=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=p,this._renderer.linearAttenuation=u,this._renderer.quadraticAttenuation=v,this},i.default.prototype.spotLight=function(p,u,v,x,w,c,a,d,f,m,l){this._assert3d("spotLight"),i.default._validateParameters("spotLight",arguments);var h,g,b,_=arguments.length;switch(_){case 11:case 10:h=this.color(p,u,v),g=new i.default.Vector(x,w,c),b=new i.default.Vector(a,d,f);break;case 9:p instanceof i.default.Color?(h=p,g=new i.default.Vector(u,v,x),b=new i.default.Vector(w,c,a),m=d,l=f):x instanceof i.default.Vector?(h=this.color(p,u,v),g=x,b=new i.default.Vector(w,c,a),m=d,l=f):a instanceof i.default.Vector?(h=this.color(p,u,v),g=new i.default.Vector(x,w,c),b=a,m=d,l=f):(h=this.color(p,u,v),g=new i.default.Vector(x,w,c),b=new i.default.Vector(a,d,f));break;case 8:m=(b=p instanceof i.default.Color?(h=p,g=new i.default.Vector(u,v,x),new i.default.Vector(w,c,a)):x instanceof i.default.Vector?(h=this.color(p,u,v),g=x,new i.default.Vector(w,c,a)):(h=this.color(p,u,v),g=new i.default.Vector(x,w,c),a),d);break;case 7:p instanceof i.default.Color&&u instanceof i.default.Vector?(h=p,g=u,b=new i.default.Vector(v,x,w),m=c,l=a):p instanceof i.default.Color&&w instanceof i.default.Vector?(h=p,g=new i.default.Vector(u,v,x),b=w,m=c,l=a):x instanceof i.default.Vector&&w instanceof i.default.Vector?(h=this.color(p,u,v),g=x,b=w,m=c,l=a):b=p instanceof i.default.Color?(h=p,g=new i.default.Vector(u,v,x),new i.default.Vector(w,c,a)):x instanceof i.default.Vector?(h=this.color(p,u,v),g=x,new i.default.Vector(w,c,a)):(h=this.color(p,u,v),g=new i.default.Vector(x,w,c),a);break;case 6:x instanceof i.default.Vector&&w instanceof i.default.Vector?(h=this.color(p,u,v),g=x,b=w,m=c):p instanceof i.default.Color&&w instanceof i.default.Vector?(h=p,g=new i.default.Vector(u,v,x),b=w,m=c):p instanceof i.default.Color&&u instanceof i.default.Vector&&(h=p,g=u,b=new i.default.Vector(v,x,w),m=c);break;case 5:p instanceof i.default.Color&&u instanceof i.default.Vector&&v instanceof i.default.Vector?(h=p,g=u,b=v,m=x,l=w):x instanceof i.default.Vector&&w instanceof i.default.Vector?(h=this.color(p,u,v),g=x,b=w):p instanceof i.default.Color&&w instanceof i.default.Vector?(h=p,g=new i.default.Vector(u,v,x),b=w):p instanceof i.default.Color&&u instanceof i.default.Vector&&(h=p,g=u,b=new i.default.Vector(v,x,w));break;case 4:h=p,g=u,b=v,m=x;break;case 3:h=p,g=u,b=v;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(_<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(h._array[0],h._array[1],h._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(g.x,g.y,g.z),b.normalize(),this._renderer.spotLightDirections.push(b.x,b.y,b.z),m===void 0&&(m=Math.PI/3),l!==void 0&&l<1?(l=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):l===void 0&&(l=100),m=this._renderer._pInst._toRadians(m),this._renderer.spotLightAngle.push(Math.cos(m)),this._renderer.spotLightConc.push(l),this._renderer._enableLighting=!0,this},i.default.prototype.noLights=function(){this._assert3d("noLights");for(var p=arguments.length,u=new Array(p),v=0;v<p;v++)u[v]=arguments[v];return i.default._validateParameters("noLights",u),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=i.default,y.default=t},{"../core/main":280,"core-js/modules/es.array.filter":156}],327:[function(t,o,y){"use strict";function i(a){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(a)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t("regenerator-runtime/runtime");var p=(c=t("../core/main"))&&c.__esModule?c:{default:c};function u(a){return function(d){if(Array.isArray(d)){for(var f=0,m=new Array(d.length);f<d.length;f++)m[f]=d[f];return m}}(a)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(a,d,f,m,l,h,g){try{var b=a[h](g),_=b.value}catch(A){return void f(A)}b.done?d(_):Promise.resolve(_).then(m,l)}function x(a){return function(){var d=this,f=arguments;return new Promise(function(m,l){var h=a.apply(d,f);function g(_){v(h,m,l,g,b,"next",_)}function b(_){v(h,m,l,g,b,"throw",_)}g(void 0)})}}function w(a){return(w=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(d){return i(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":i(d)})(a)}t("./p5.Geometry"),p.default.prototype.loadModel=function(a,d){p.default._validateParameters("loadModel",arguments);var f,m,l=!1,h=!1,g=!1,b=a.slice(-4),_=(d&&w(d)==="object"?(l=d.normalize||!1,f=d.successCallback,m=d.failureCallback,b=d.fileType||b,h=d.flipU||!1,g=d.flipV||!1):typeof d=="boolean"?(l=d,f=arguments[2],m=arguments[3],arguments[4]!==void 0&&(b=arguments[4])):(f=typeof d=="function"?d:void 0,m=arguments[2],arguments[3]!==void 0&&(b=arguments[3])),new p.default.Geometry),A=(_.gid="".concat(a,"|").concat(l),this);function P(){return(P=x(regeneratorRuntime.mark(function E(k){var M,I,S,T;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:for(M=[],I=0;I<k.length;I++)(S=k[I].match(/^mtllib (.+)/))&&function(){var O="",V=S[1],H=a.split("/");O=1<H.length?(H.pop(),H.join("/")+"/"+V):V,M.push(function(){return j.apply(this,arguments)}(O).then(function(F){return F?(W=A,ee=O,new Promise(function(J,N){var D=null,B={};W.loadStrings(ee,function(Y){for(var G=0;G<Y.length;++G){var q,X=Y[G].trim().split(/\s+/);X[0]==="newmtl"?(q=X[1],B[D=q]={}):X[0]==="Kd"?B[D].diffuseColor=[parseFloat(X[1]),parseFloat(X[2]),parseFloat(X[3])]:X[0]==="Ka"?B[D].ambientColor=[parseFloat(X[1]),parseFloat(X[2]),parseFloat(X[3])]:X[0]==="Ks"?B[D].specularColor=[parseFloat(X[1]),parseFloat(X[2]),parseFloat(X[3])]:X[0]==="map_Kd"&&(B[D].texturePath=X[1])}J(B)},N)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(O)),{});var W,ee}).catch(function(F){return console.warn("Error loading MTL file: ".concat(O),F),{}}))}();return L.prev=2,L.next=5,Promise.all(M);case 5:return T=L.sent,T=Object.assign.apply(Object,[{}].concat(u(T))),L.abrupt("return",T);case 10:return L.prev=10,L.t0=L.catch(2),L.abrupt("return",{});case 13:case"end":return L.stop()}},E,null,[[2,10]])}))).apply(this,arguments)}function j(){return(j=x(regeneratorRuntime.mark(function E(k){var M;return regeneratorRuntime.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.prev=0,I.next=3,fetch(k,{method:"HEAD"});case 3:return M=I.sent,I.abrupt("return",M.ok);case 7:return I.prev=7,I.t0=I.catch(0),I.abrupt("return",!1);case 10:case"end":return I.stop()}},E,null,[[0,7]])}))).apply(this,arguments)}return b.match(/\.stl$/i)?this.httpDo(a,"GET","arrayBuffer",function(E){(function(k,M){if(function(I){for(var S=new DataView(I),T=[115,111,108,105,100],L=0;L<5;L++)if(function(O,V,H){for(var F=0,W=O.length;F<W;F++)if(O[F]!==V.getUint8(H+F,!1))return;return 1}(T,S,L))return;return 1}(M))(function(I,S){for(var T,L,O,V,H,F,W,ee=new DataView(S),J=ee.getUint32(80,!0),N=!1,D=0;D<70;D++)ee.getUint32(D,!1)===1129270351&&ee.getUint8(D+4)===82&&ee.getUint8(D+5)===61&&(N=!0,V=[],H=ee.getUint8(D+6)/255,F=ee.getUint8(D+7)/255,W=ee.getUint8(D+8)/255);for(var B=0;B<J;B++){for(var Y,G=84+50*B,q=ee.getFloat32(G,!0),X=ee.getFloat32(4+G,!0),ne=ee.getFloat32(8+G,!0),$=(N&&(Y=ee.getUint16(48+G,!0),O=32768&Y?(T=H,L=F,W):(T=(31&Y)/31,L=(Y>>5&31)/31,(Y>>10&31)/31)),new p.default.Vector(q,X,ne)),K=1;K<=3;K++){var Q=G+12*K,Q=new p.default.Vector(ee.getFloat32(Q,!0),ee.getFloat32(4+Q,!0),ee.getFloat32(8+Q,!0));I.vertices.push(Q),I.vertexNormals.push($),N&&V.push(T,L,O)}I.faces.push([3*B,3*B+1,3*B+2]),I.uvs.push([0,0],[0,0],[0,0])}})(k,M);else{if(M=new DataView(M),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");M=new TextDecoder("utf-8").decode(M).split(`
`),function(I,S){for(var T,L,O="",V=[],H=0;H<S.length;++H){for(var F=S[H].trim(),W=F.split(" "),ee=0;ee<W.length;++ee)W[ee]===""&&W.splice(ee,1);if(W.length!==0)switch(O){case"":if(W[0]!=="solid")return console.error(F),console.error('Invalid state "'.concat(W[0],'", should be "solid"'));O="solid";break;case"solid":if(W[0]!=="facet"||W[1]!=="normal")return console.error(F),console.error('Invalid state "'.concat(W[0],'", should be "facet normal"'));T=new p.default.Vector(parseFloat(W[2]),parseFloat(W[3]),parseFloat(W[4])),I.vertexNormals.push(T,T,T),O="facet normal";break;case"facet normal":if(W[0]!=="outer"||W[1]!=="loop")return console.error(F),console.error('Invalid state "'.concat(W[0],'", should be "outer loop"'));O="vertex";break;case"vertex":if(W[0]==="vertex")L=new p.default.Vector(parseFloat(W[1]),parseFloat(W[2]),parseFloat(W[3])),I.vertices.push(L),I.uvs.push([0,0]),V.push(I.vertices.indexOf(L));else{if(W[0]!=="endloop")return console.error(F),console.error('Invalid state "'.concat(W[0],'", should be "vertex" or "endloop"'));I.faces.push(V),V=[],O="endloop"}break;case"endloop":if(W[0]!=="endfacet")return console.error(F),console.error('Invalid state "'.concat(W[0],'", should be "endfacet"'));O="endfacet";break;case"endfacet":if(W[0]!=="endsolid"){if(W[0]!=="facet"||W[1]!=="normal")return console.error(F),console.error('Invalid state "'.concat(W[0],'", should be "endsolid" or "facet normal"'));T=new p.default.Vector(parseFloat(W[2]),parseFloat(W[3]),parseFloat(W[4])),I.vertexNormals.push(T,T,T),O="facet normal"}break;default:console.error('Invalid state "'.concat(O,'"'))}}}(k,M)}})(_,E),l&&_.normalize(),h&&_.flipU(),g&&_.flipV(),A._decrementPreload(),typeof f=="function"&&f(_)},m):b.match(/\.obj$/i)?this.loadStrings(a,function(){var E=x(regeneratorRuntime.mark(function k(M){var I;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,S.next=3,function(){return P.apply(this,arguments)}(M);case 3:I=S.sent,function(T,L){for(var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},V={v:[],vt:[],vn:[]},H={},F=null,W=new Set,ee=!1,J=!1,N=0;N<L.length;++N){var D=L[N].trim().split(/\b\s+/);if(0<D.length){if(D[0]==="usemtl")F=D[1];else if(D[0]==="v"||D[0]==="vn"){var B=new p.default.Vector(parseFloat(D[1]),parseFloat(D[2]),parseFloat(D[3]));V[D[0]].push(B)}else if(D[0]==="vt")B=[parseFloat(D[1]),1-parseFloat(D[2])],V[D[0]].push(B);else if(D[0]==="f")for(var Y=3;Y<D.length;++Y){for(var G=[],q=[1,Y-1,Y],X=0;X<q.length;++X){for(var ne,$=D[q[X]],K=$.split("/"),Q=0;Q<K.length;Q++)K[Q]=parseInt(K[Q])-1;H[$]||(H[$]={}),H[$][F]===void 0?(ne=T.vertices.length,T.vertices.push(V.v[K[0]].copy()),T.uvs.push(V.vt[K[1]]?V.vt[K[1]].slice():[0,0]),T.vertexNormals.push(V.vn[K[2]]?V.vn[K[2]].copy():new p.default.Vector),H[$][F]=ne,G.push(ne),F&&O[F]&&O[F].diffuseColor&&W.add(V.v[K[0]])):G.push(H[$][F])}if(G[0]!==G[1]&&G[0]!==G[2]&&G[1]!==G[2])if(T.faces.push(G),F&&O[F]&&O[F].diffuseColor){ee=ee=!0;for(var Z=O[F].diffuseColor,re=0;re<G.length;re++)T.vertexColors.push(Z[0]),T.vertexColors.push(Z[1]),T.vertexColors.push(Z[2])}else J=!0}}}if(T.vertexNormals.length===0&&T.computeNormals(),ee===J)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}(_,M,I),S.next=11;break;case 7:return S.prev=7,S.t0=S.catch(0),m?m(S.t0):p.default._friendlyError("Error during parsing: "+S.t0.message),S.abrupt("return");case 11:return S.prev=11,l&&_.normalize(),h&&_.flipU(),g&&_.flipV(),A._decrementPreload(),typeof f=="function"&&f(_),S.finish(11);case 18:case"end":return S.stop()}},k,null,[[0,7,11,18]])}));return function(k){return E.apply(this,arguments)}}(),m):(p.default._friendlyFileLoadError(3,a),m?m():p.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),_},p.default.prototype.model=function(a){this._assert3d("model"),p.default._validateParameters("model",arguments),0<a.vertices.length&&(this._renderer.geometryInHash(a.gid)||(a.edges.length===0&&a._makeTriangleEdges(),a._edgesToVertices(),this._renderer.createBuffers(a.gid,a)),this._renderer.drawBuffers(a.gid))};var c=p.default;y.default=c},{"../core/main":280,"./p5.Geometry":332,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.from":161,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.splice":170,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.to-string":187,"core-js/modules/es.promise":188,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.match":198,"core-js/modules/es.string.split":203,"core-js/modules/es.string.trim":206,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243,"regenerator-runtime/runtime":257}],328:[function(t,o,y){"use strict";function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function p(c){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(w=t("../core/main"))&&w.__esModule?w:{default:w},v=function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var a=x();if(a&&a.has(c))return a.get(c);var d,f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var l;Object.prototype.hasOwnProperty.call(c,d)&&((l=m?Object.getOwnPropertyDescriptor(c,d):null)&&(l.get||l.set)?Object.defineProperty(f,d,l):f[d]=c[d])}return f.default=c,a&&a.set(c,f),f}(t("../core/constants"));function x(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,x=function(){return c},c)}t("./p5.Texture"),u.default.prototype.loadShader=function(c,a,d,f){u.default._validateParameters("loadShader",arguments),f=f||console.error;function m(){h._decrementPreload(),d&&d(l)}var l=new u.default.Shader,h=this,g=!1,b=!1;return this.loadStrings(c,function(_){l._vertSrc=_.join(`
`),b=!0,g&&m()},f),this.loadStrings(a,function(_){l._fragSrc=_.join(`
`),g=!0,b&&m()},f),l},u.default.prototype.createShader=function(c,a){return u.default._validateParameters("createShader",arguments),new u.default.Shader(this._renderer,c,a)},u.default.prototype.createFilterShader=function(c){u.default._validateParameters("createFilterShader",arguments);var a=c.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,a=new u.default.Shader(this._renderer,a,c);return this._renderer.GL?a.ensureCompiledOnContext(this):a.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),a},u.default.prototype.shader=function(c){return this._assert3d("shader"),u.default._validateParameters("shader",arguments),c.ensureCompiledOnContext(this),c.isStrokeShader()?this._renderer.userStrokeShader=c:(this._renderer.userFillShader=c,this._renderer._useNormalMaterial=!1),this},u.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},u.default.prototype.texture=function(c){return this._assert3d("texture"),u.default._validateParameters("texture",arguments),c.gifProperties&&c._animateGif(this),this._renderer.drawMode=v.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=c,this._renderer._setProperty("_doFill",!0),this},u.default.prototype.textureMode=function(c){c!==v.IMAGE&&c!==v.NORMAL?console.warn("You tried to set ".concat(c," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=c},u.default.prototype.textureWrap=function(c){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,d=(this._renderer.textureWrapX=c,this._renderer.textureWrapY=a,!0),f=!1,m=void 0;try{for(var l,h=this._renderer.textures.values()[Symbol.iterator]();!(d=(l=h.next()).done);d=!0)l.value.setWrapMode(c,a)}catch(g){f=!0,m=g}finally{try{d||h.return==null||h.return()}finally{if(f)throw m}}},u.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var c=arguments.length,a=new Array(c),d=0;d<c;d++)a[d]=arguments[d];return u.default._validateParameters("normalMaterial",a),this._renderer.drawMode=v.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},u.default.prototype.ambientMaterial=function(c,a,d){this._assert3d("ambientMaterial"),u.default._validateParameters("ambientMaterial",arguments);var f=u.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=f._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},u.default.prototype.emissiveMaterial=function(c,a,d,f){this._assert3d("emissiveMaterial"),u.default._validateParameters("emissiveMaterial",arguments);var m=u.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=m._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},u.default.prototype.specularMaterial=function(c,a,d,f){this._assert3d("specularMaterial"),u.default._validateParameters("specularMaterial",arguments);var m=u.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=m._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},u.default.prototype.shininess=function(c){return this._assert3d("shininess"),u.default._validateParameters("shininess",arguments),this._renderer._useShininess=c=c<1?1:c,this},u.default.prototype.metalness=function(c){return this._assert3d("metalness"),c=1-Math.exp(-c/100),this._renderer._useMetalness=c,this},u.default.RendererGL.prototype._applyColorBlend=function(c,m){var d=this.GL,f=this.drawMode===v.TEXTURE,m=m||this.userFillShader||this.userStrokeShader||this.userPointShader||f||this.curBlendMode!==v.BLEND||c[c.length-1]<1||this._isErasing;return m!==this._isBlending&&(m||this.curBlendMode!==v.BLEND&&this.curBlendMode!==v.ADD?d.enable(d.BLEND):d.disable(d.BLEND),d.depthMask(!0),this._isBlending=m),this._applyBlendMode(),c},u.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var c=this.GL;switch(this.curBlendMode){case v.BLEND:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case v.ADD:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE);break;case v.REMOVE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ZERO,c.ONE_MINUS_SRC_ALPHA);break;case v.MULTIPLY:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.DST_COLOR,c.ONE_MINUS_SRC_ALPHA);break;case v.SCREEN:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ONE_MINUS_SRC_COLOR);break;case v.EXCLUSION:c.blendEquationSeparate(c.FUNC_ADD,c.FUNC_ADD),c.blendFuncSeparate(c.ONE_MINUS_DST_COLOR,c.ONE_MINUS_SRC_COLOR,c.ONE,c.ONE);break;case v.REPLACE:c.blendEquation(c.FUNC_ADD),c.blendFunc(c.ONE,c.ZERO);break;case v.SUBTRACT:c.blendEquationSeparate(c.FUNC_REVERSE_SUBTRACT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE_MINUS_SRC_ALPHA);break;case v.DARKEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case v.LIGHTEST:this.blendExt?(c.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,c.FUNC_ADD),c.blendFuncSeparate(c.ONE,c.ONE,c.ONE,c.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var w=u.default;y.default=w},{"../core/constants":269,"../core/main":280,"./p5.Texture":339,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.join":165,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],329:[function(t,o,y){"use strict";t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(u,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(u,w.key,w)}}i.default.prototype.camera=function(){var u;this._assert3d("camera");for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];return i.default._validateParameters("camera",x),(u=this._renderer._curCamera).camera.apply(u,x),this},i.default.prototype.perspective=function(){var u;this._assert3d("perspective");for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];return i.default._validateParameters("perspective",x),(u=this._renderer._curCamera).perspective.apply(u,x),this},i.default.prototype.linePerspective=function(u){if(i.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof i.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(u===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=u},i.default.prototype.ortho=function(){var u;this._assert3d("ortho");for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];return i.default._validateParameters("ortho",x),(u=this._renderer._curCamera).ortho.apply(u,x),this},i.default.prototype.frustum=function(){var u;this._assert3d("frustum");for(var v=arguments.length,x=new Array(v),w=0;w<v;w++)x[w]=arguments[w];return i.default._validateParameters("frustum",x),(u=this._renderer._curCamera).frustum.apply(u,x),this},i.default.prototype.createCamera=function(){this._assert3d("createCamera");var u=new i.default.Camera(this._renderer);return u._computeCameraDefaultSettings(),u._setDefaultCamera(),this._renderer._curCamera=u},i.default.Camera=function(){function u(c){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._renderer=c,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new i.default.Matrix,this.projMatrix=new i.default.Matrix,this.yScale=1}var v,x,w;return v=u,(x=[{key:"perspective",value:function(m,a,d,f){this.cameraType=0<arguments.length?"custom":"default",m===void 0?(m=this.defaultCameraFOV,this.cameraFOV=m):this.cameraFOV=this._renderer._pInst._toRadians(m),a===void 0&&(a=this.defaultAspectRatio),d===void 0&&(d=this.defaultCameraNear),f===void 0&&(f=this.defaultCameraFar),d<=1e-4&&(d=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),f<d&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=a,this.cameraNear=d,this.cameraFar=f,this.projMatrix=i.default.Matrix.identity();var m=1/Math.tan(this.cameraFOV/2),l=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(m/a,0,0,0,0,-m*this.yScale,0,0,0,0,(f+d)*l,-1,0,0,2*f*d*l,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(j,P,d,f,m,l){j===void 0&&(j=-this._renderer.width/2),P===void 0&&(P=+this._renderer.width/2),d===void 0&&(d=-this._renderer.height/2),f===void 0&&(f=+this._renderer.height/2),m===void 0&&(m=0),l===void 0&&(l=Math.max(this._renderer.width,this._renderer.height)+800),this.cameraNear=m;var E=P-j,h=f-d,g=(this.cameraFar=l)-m,b=2/E,_=2/h*this.yScale,A=-2/g,P=-(P+j)/E,j=-(f+d)/h,E=-(l+m)/g;this.projMatrix=i.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-_,0,0,0,0,A,0,P,j,E,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(j,P,d,f,m,l){j===void 0&&(j=.05*-this._renderer.width),P===void 0&&(P=.05*+this._renderer.width),d===void 0&&(d=.05*+this._renderer.height),f===void 0&&(f=.05*-this._renderer.height),m===void 0&&(m=this.defaultCameraNear),l===void 0&&(l=this.defaultCameraFar),this.cameraNear=m;var E=P-j,h=f-d,g=(this.cameraFar=l)-m,b=2*m/E,_=2*m/h*this.yScale,A=-2*l*m/g,P=(P+j)/E,j=(f+d)/h,E=-(l+m)/g;this.projMatrix=i.default.Matrix.identity(),this.projMatrix.set(b,0,0,0,0,-_,0,0,P,j,E,-1,0,0,A,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(b,a,d,f){var m=this.centerX,l=this.centerY,h=this.centerZ,g=(m-=this.eyeX,l-=this.eyeY,h-=this.eyeZ,i.default.Matrix.identity(this._renderer._pInst)),b=(g.rotate(this._renderer._pInst._toRadians(b),a,d,f),[m*g.mat4[0]+l*g.mat4[4]+h*g.mat4[8],m*g.mat4[1]+l*g.mat4[5]+h*g.mat4[9],m*g.mat4[2]+l*g.mat4[6]+h*g.mat4[10]]);b[0]+=this.eyeX,b[1]+=this.eyeY,b[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,b[0],b[1],b[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(c){var a=this._getLocalAxes();this._rotateView(c,a.y[0],a.y[1],a.y[2])}},{key:"tilt",value:function(c){var a=this._getLocalAxes();this._rotateView(c,a.x[0],a.x[1],a.x[2])}},{key:"lookAt",value:function(c,a,d){this.camera(this.eyeX,this.eyeY,this.eyeZ,c,a,d,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(c,a,d,f,m,l,h,g,b){return c===void 0&&(c=this.defaultEyeX,a=this.defaultEyeY,d=this.defaultEyeZ,f=c,m=a,g=1,b=h=l=0),this.eyeX=c,this.eyeY=a,this.eyeZ=d,f!==void 0&&(this.centerX=f,this.centerY=m,this.centerZ=l),h!==void 0&&(this.upX=h,this.upY=g,this.upZ=b),f=this._getLocalAxes(),this.cameraMatrix.set(f.x[0],f.y[0],f.z[0],0,f.x[1],f.y[1],f.z[1],0,f.x[2],f.y[2],f.z[2],0,0,0,0,1),m=-c,this.cameraMatrix.translate([m,-a,-d]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(f,m,d){var l=this._getLocalAxes(),f=[l.x[0]*f,l.x[1]*f,l.x[2]*f],m=[l.y[0]*m,l.y[1]*m,l.y[2]*m],l=[l.z[0]*d,l.z[1]*d,l.z[2]*d];this.camera(this.eyeX+f[0]+m[0]+l[0],this.eyeY+f[1]+m[1]+l[1],this.eyeZ+f[2]+m[2]+l[2],this.centerX+f[0]+m[0]+l[0],this.centerY+f[1]+m[1]+l[1],this.centerZ+f[2]+m[2]+l[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(c,a,d){var f=c-this.eyeX,m=a-this.eyeY,l=d-this.eyeZ;this.camera(c,a,d,this.centerX+f,this.centerY+m,this.centerZ+l,this.upX,this.upY,this.upZ)}},{key:"set",value:function(c){for(var a=0,d=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];a<d.length;a++){var f=d[a];this[f]=c[f]}this.cameraMatrix=c.cameraMatrix.copy(),this.projMatrix=c.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(c,a,d){var f,m,l,h,g,b,_,A,P,j,E,k,M,I,S,T,L,O;d===0?this.set(c):d===1?this.set(a):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=c.projMatrix.mat4[0]*Math.pow(a.projMatrix.mat4[0]/c.projMatrix.mat4[0],d),this.projMatrix.mat4[5]=c.projMatrix.mat4[5]*Math.pow(a.projMatrix.mat4[5]/c.projMatrix.mat4[5],d),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),h=new i.default.Vector(c.eyeX,c.eyeY,c.eyeZ),g=new i.default.Vector(a.eyeX,a.eyeY,a.eyeZ),T=new i.default.Vector(c.centerX,c.centerY,c.centerZ),O=new i.default.Vector(a.centerX,a.centerY,a.centerZ),l=i.default.Vector.dist(h,T),f=i.default.Vector.dist(g,O),f=l*Math.pow(f/l,d),l=i.default.Vector.sub(h,g),m=1,1e-6<(L=(I=h.copy().sub(g).sub(T).add(O)).magSq())&&(m=i.default.Vector.dot(l,I)/L,m=Math.max(0,Math.min(m,1))),l=i.default.Vector.lerp(i.default.Vector.lerp(h,T,m),i.default.Vector.lerp(g,O,m),d),I=c.cameraMatrix.createSubMatrix3x3(),L=a.cameraMatrix.createSubMatrix3x3(),h=I.row(2),T=L.row(2),g=I.row(1),O=L.row(1),c=new i.default.Vector,a=new i.default.Vector,b=new i.default.Vector,_=new i.default.Vector,1-(A=.5*((I=(L=L.mult3x3(I.copy().transpose3x3())).diagonal())[0]+I[1]+I[2]-1))<1e-7?(c.set(i.default.Vector.lerp(h,T,d)).normalize(),b.set(c).mult(m*f).add(l),_.set(c).mult((m-1)*f).add(l),a.set(i.default.Vector.lerp(g,O,d)).normalize()):(T=1/(1-A),O=Math.max(I[0],I[1],I[2]),k=L.mat3[1]+L.mat3[3],M=L.mat3[2]+L.mat3[6],S=L.mat3[5]+L.mat3[7],O=O===I[0]?(j=.5*k*(T/=P=Math.sqrt((I[0]-A)*T)),E=.5*M*T,.5*(L.mat3[7]-L.mat3[5])/P):O===I[1]?(E=.5*S*(T/=j=Math.sqrt((I[1]-A)*T)),P=.5*k*T,.5*(L.mat3[2]-L.mat3[6])/j):(P=.5*M*(T/=E=Math.sqrt((I[2]-A)*T)),j=.5*S*T,.5*(L.mat3[3]-L.mat3[1])/E),k=d*Math.atan2(O,A),M=Math.cos(k),I=Math.sin(k),(O=new i.default.Matrix("mat3",[M+(S=1-M)*P*P,S*(T=P*j)+I*E,S*(L=E*P)-I*j,S*T-I*E,M+S*j*j,S*(d=j*E)+I*P,S*L+I*j,S*d-I*P,M+S*E*E])).multiplyVec3(h,c),b.set(c).mult(m*f).add(l),_.set(c).mult((m-1)*f).add(l),O.multiplyVec3(g,a)),this.camera(b.x,b.y,b.z,_.x,_.y,_.z,a.x,a.y,a.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var c=new i.default.Camera(this._renderer);return c.cameraFOV=this.cameraFOV,c.aspectRatio=this.aspectRatio,c.eyeX=this.eyeX,c.eyeY=this.eyeY,c.eyeZ=this.eyeZ,c.centerX=this.centerX,c.centerY=this.centerY,c.centerZ=this.centerZ,c.upX=this.upX,c.upY=this.upY,c.upZ=this.upZ,c.cameraNear=this.cameraNear,c.cameraFar=this.cameraFar,c.cameraType=this.cameraType,c.cameraMatrix=this.cameraMatrix.copy(),c.projMatrix=this.projMatrix.copy(),c.yScale=this.yScale,c}},{key:"_getLocalAxes",value:function(){var c=this.eyeX-this.centerX,a=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,h=Math.sqrt(c*c+a*a+d*d),h=(h!==0&&(c/=h,a/=h,d/=h),this.upX),f=(g=this.upY)*d-(b=this.upZ)*a,m=-h*d+b*c,l=h*a-g*c,h=a*l-d*m,g=-c*l+d*f,b=c*m-a*f,_=Math.sqrt(f*f+m*m+l*l),_=(_!==0&&(f/=_,m/=_,l/=_),Math.sqrt(h*h+g*g+b*b));return _!==0&&(h/=_,g/=_,b/=_),{x:[f,m,l],y:[h,g,b],z:[c,a,d]}}},{key:"_orbit",value:function(c,_,b){var m=this.eyeX-this.centerX,l=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,f=Math.hypot(m,l,h),m=new i.default.Vector(m,l,h).normalize(),l=new i.default.Vector(this.upX,this.upY,this.upZ).normalize(),h=i.default.Vector.cross(l,m).normalize(),g=i.default.Vector.cross(h,l),b=((f=(f*=Math.pow(10,b))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,i.default.Vector.dot(m,l))))+_),_=c;(b<=0||b>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),l.mult(Math.cos(b)),g.mult(Math.cos(_)*Math.sin(b)),h.mult(Math.sin(_)*Math.sin(b)),m.set(l).add(g).add(h),this.eyeX=f*m.x+this.centerX,this.eyeY=f*m.y+this.centerY,this.eyeZ=f*m.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(b,_,P){var m=this.eyeX-this.centerX,l=this.eyeY-this.centerY,h=this.eyeZ-this.centerZ,f=Math.hypot(m,l,h),m=new i.default.Vector(m,l,h).normalize(),l=new i.default.Vector(this.upX,this.upY,this.upZ),h=i.default.Vector.cross(l,m).normalize(),g=i.default.Vector.cross(m,h),j=Math.atan2(_,b),j=(g.mult(Math.sin(j)),h.mult(Math.cos(j)).add(g),Math.sqrt(b*b+_*_)),g=i.default.Vector.cross(m,h),b=((f=(f*=Math.pow(10,P))<this.cameraNear?this.cameraNear:f)>this.cameraFar&&(f=this.cameraFar),Math.cos(j)),_=Math.sin(j),P=l.dot(m),j=l.dot(h),A=P*b+j*_,P=-P*_+j*b,j=l.dot(g);l.x=A*m.x+P*h.x+j*g.x,l.y=A*m.y+P*h.y+j*g.y,l.z=A*m.z+P*h.z+j*g.z,h.mult(-_),m.mult(b).add(h).mult(f),this.camera(m.x+this.centerX,m.y+this.centerY,m.z+this.centerZ,this.centerX,this.centerY,this.centerZ,l.x,l.y,l.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&p(v.prototype,x),w&&p(v,w),u}(),i.default.prototype.setCamera=function(u){this._renderer._curCamera=u,this._renderer.uPMatrix.set(u.projMatrix)},t=i.default.Camera,y.default=t},{"../core/main":280,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.hypot":175,"core-js/modules/es.string.sub":205}],330:[function(t,o,y){"use strict";t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(p,u){for(var v=0;v<u.length;v++){var x=u[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}t.default.DataArray=function(){function p(){var w=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,c=this,a=p;if(!(c instanceof a))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(w),this.initialLength=w}var u,v,x;return u=p,(v=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var w;this.length<this.data.length/2&&(w=1<<Math.ceil(Math.log2(this.length)),(w=new Float32Array(w)).set(this.data.subarray(0,this.length),0),this.data=w)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var w=arguments.length,c=new Array(w),a=0;a<w;a++)c[a]=arguments[a];this.ensureLength(this.length+c.length),this.data.set(c,this.length),this.length+=c.length}},{key:"slice",value:function(w,c){return this.data.slice(w,Math.min(c,this.length))}},{key:"subArray",value:function(w,c){return this.data.subarray(w,Math.min(c,this.length))}},{key:"ensureLength",value:function(w){for(;this.data.length<w;){var c=new Float32Array(2*this.data.length);c.set(this.data,0),this.data=c}}}])&&i(u.prototype,v),x&&i(u,x),p}(),t=t.default.DataArray,y.default=t},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.math.log2":176,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],331:[function(E,o,y){"use strict";function i(k){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(k)}function p(k){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(M){return i(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":i(M)})(k)}E("core-js/modules/es.symbol"),E("core-js/modules/es.symbol.description"),E("core-js/modules/es.symbol.iterator"),E("core-js/modules/es.array.fill"),E("core-js/modules/es.array.includes"),E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.get-own-property-descriptor"),E("core-js/modules/es.object.get-prototype-of"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.reflect.construct"),E("core-js/modules/es.reflect.get"),E("core-js/modules/es.regexp.to-string"),E("core-js/modules/es.string.includes"),E("core-js/modules/es.string.iterator"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.uint8-array"),E("core-js/modules/es.typed-array.uint8-clamped-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),E("core-js/modules/es.weak-map"),E("core-js/modules/web.dom-collections.iterator"),E("core-js/modules/es.array.fill"),E("core-js/modules/es.array.includes"),E("core-js/modules/es.array.iterator"),E("core-js/modules/es.object.get-prototype-of"),E("core-js/modules/es.object.to-string"),E("core-js/modules/es.string.includes"),E("core-js/modules/es.typed-array.float32-array"),E("core-js/modules/es.typed-array.uint8-array"),E("core-js/modules/es.typed-array.uint8-clamped-array"),E("core-js/modules/es.typed-array.copy-within"),E("core-js/modules/es.typed-array.every"),E("core-js/modules/es.typed-array.fill"),E("core-js/modules/es.typed-array.filter"),E("core-js/modules/es.typed-array.find"),E("core-js/modules/es.typed-array.find-index"),E("core-js/modules/es.typed-array.for-each"),E("core-js/modules/es.typed-array.includes"),E("core-js/modules/es.typed-array.index-of"),E("core-js/modules/es.typed-array.iterator"),E("core-js/modules/es.typed-array.join"),E("core-js/modules/es.typed-array.last-index-of"),E("core-js/modules/es.typed-array.map"),E("core-js/modules/es.typed-array.reduce"),E("core-js/modules/es.typed-array.reduce-right"),E("core-js/modules/es.typed-array.reverse"),E("core-js/modules/es.typed-array.set"),E("core-js/modules/es.typed-array.slice"),E("core-js/modules/es.typed-array.some"),E("core-js/modules/es.typed-array.sort"),E("core-js/modules/es.typed-array.subarray"),E("core-js/modules/es.typed-array.to-locale-string"),E("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(j=E("../core/main"))&&j.__esModule?j:{default:j},v=function(k){if(k&&k.__esModule)return k;if(k===null||p(k)!=="object"&&typeof k!="function")return{default:k};var M=c();if(M&&M.has(k))return M.get(k);var I,S={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(I in k){var L;Object.prototype.hasOwnProperty.call(k,I)&&((L=T?Object.getOwnPropertyDescriptor(k,I):null)&&(L.get||L.set)?Object.defineProperty(S,I,L):S[I]=k[I])}return S.default=k,M&&M.set(k,S),S}(E("../core/constants")),x=E("./p5.Texture"),w=E("./p5.RendererGL");function c(){var k;return typeof WeakMap!="function"?null:(k=new WeakMap,c=function(){return k},k)}function a(k,M){return function(I){if(Array.isArray(I))return I}(k)||function(I,S){if(Symbol.iterator in Object(I)||Object.prototype.toString.call(I)==="[object Arguments]"){var T=[],L=!0,O=!1,V=void 0;try{for(var H,F=I[Symbol.iterator]();!(L=(H=F.next()).done)&&(T.push(H.value),!S||T.length!==S);L=!0);}catch(W){O=!0,V=W}finally{try{L||F.return==null||F.return()}finally{if(O)throw V}}return T}}(k,M)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function d(k,M,I){return M in k?Object.defineProperty(k,M,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[M]=I,k}function f(k,M){if(!(k instanceof M))throw new TypeError("Cannot call a class as a function")}function m(k,M){for(var I=0;I<M.length;I++){var S=M[I];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(k,S.key,S)}}function l(k,M,I){M&&m(k.prototype,M),I&&m(k,I)}function h(k,M,I){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(O,T,L){var O=function(V,H){for(;!Object.prototype.hasOwnProperty.call(V,H)&&(V=_(V))!==null;);return V}(O,T);if(O)return(O=Object.getOwnPropertyDescriptor(O,T)).get?O.get.call(L):O.value})(k,M,I||k)}function g(k,M){return(g=Object.setPrototypeOf||function(I,S){return I.__proto__=S,I})(k,M)}function b(k){return function(){var M,I=_(k),I=(M=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(M=_(this).constructor,Reflect.construct(I,arguments,M)):I.apply(this,arguments),this);if(!M||p(M)!=="object"&&typeof M!="function"){if(I!==void 0)return I;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return M}}function _(k){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(M){return M.__proto__||Object.getPrototypeOf(M)})(k)}var A=function(k){var M=S;if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(k&&k.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),k&&g(M,k);var I=b(S);function S(T){var L;return f(this,S),(L=I.call(this,T.target._renderer)).fbo=T,L.yScale=-1,L}return l(S,[{key:"_computeCameraDefaultSettings",value:function(){h(_(S.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),S}(u.default.Camera),P=(u.default.FramebufferCamera=A,function(){function k(M,I){f(this,k),this.framebuffer=M,this.property=I}return l(k,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),k}()),j=(u.default.FramebufferTexture=P,function(){function k(M){var I=this,S=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},T=(f(this,k),this.target=M,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=S.format||v.UNSIGNED_BYTE,this.channels=S.channels||(M._renderer._pInst._glAttributes.alpha?v.RGBA:v.RGB),this.useDepth=S.depth===void 0||S.depth,this.depthFormat=S.depthFormat||v.FLOAT,this.textureFiltering=S.textureFiltering||v.LINEAR,S.antialias===void 0?this.antialiasSamples=M._renderer._pInst._glAttributes.antialias?2:0:typeof S.antialias=="number"?this.antialiasSamples=S.antialias:this.antialiasSamples=S.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&M.webglVersion!==v.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=S.density||M.pixelDensity(),M._renderer.GL);if(this.gl=T,S.width&&S.height?(L=M._renderer._adjustDimensions(S.width,S.height),this.width=L.adjustedWidth,this.height=L.adjustedHeight,this._autoSized=!1):(S.width===void 0!=(S.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=M.width,this.height=M.height,this._autoSized=!0),this._checkIfFormatsAvailable(),S.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(S.stencil===void 0||S.stencil),this.framebuffer=T.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=T.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var L=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=L,this.draw(function(){return I.target.clear()})}return l(k,[{key:"resize",value:function(M,I){this._autoSized=!1;var S=this.target._renderer._adjustDimensions(M,I);M=S.adjustedWidth,I=S.adjustedHeight,this.width=M,this.height=I,this._handleResize()}},{key:"pixelDensity",value:function(M){if(!M)return this.density;this._autoSized=!1,this.density=M,this._handleResize()}},{key:"autoSized",value:function(M){if(M===void 0)return this._autoSized;this._autoSized=M,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var M=this.gl,M=(this.useDepth&&this.target.webglVersion===v.WEBGL&&!M.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===v.WEBGL&&this.depthFormat===v.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=v.UNSIGNED_INT),[v.UNSIGNED_BYTE,v.FLOAT,v.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=v.UNSIGNED_BYTE),this.useDepth&&![v.UNSIGNED_INT,v.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=v.FLOAT),(0,x.checkWebGLCapabilities)(this.target._renderer));M.float||this.format!==v.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=v.UNSIGNED_BYTE),this.useDepth&&!M.float&&this.depthFormat===v.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=v.UNSIGNED_INT),M.halfFloat||this.format!==v.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=v.UNSIGNED_BYTE),this.channels===v.RGB&&[v.FLOAT,v.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=v.RGBA)}},{key:"_recreateTextures",value:function(){var M=this.gl,I=(this._updateSize(),M.getParameter(M.TEXTURE_BINDING_2D)),S=M.getParameter(M.FRAMEBUFFER_BINDING),T=M.createTexture();if(!T)throw new Error("Unable to create color texture");M.bindTexture(M.TEXTURE_2D,T);var L=this._glColorFormat();if(M.texImage2D(M.TEXTURE_2D,0,L.internalFormat,this.width*this.density,this.height*this.density,0,L.format,L.type,null),this.colorTexture=T,M.bindFramebuffer(M.FRAMEBUFFER,this.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,T,0),this.useDepth){var T=M.createTexture();if(!T)throw new Error("Unable to create depth texture");var O=this._glDepthFormat();M.bindTexture(M.TEXTURE_2D,T),M.texImage2D(M.TEXTURE_2D,0,O.internalFormat,this.width*this.density,this.height*this.density,0,O.format,O.type,null),M.framebufferTexture2D(M.FRAMEBUFFER,this.useStencil?M.DEPTH_STENCIL_ATTACHMENT:M.DEPTH_ATTACHMENT,M.TEXTURE_2D,T,0),this.depthTexture=T}this.antialias&&(this.colorRenderbuffer=M.createRenderbuffer(),M.bindRenderbuffer(M.RENDERBUFFER,this.colorRenderbuffer),M.renderbufferStorageMultisample(M.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,M.getParameter(M.MAX_SAMPLES))),L.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(O=this._glDepthFormat(),this.depthRenderbuffer=M.createRenderbuffer(),M.bindRenderbuffer(M.RENDERBUFFER,this.depthRenderbuffer),M.renderbufferStorageMultisample(M.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,M.getParameter(M.MAX_SAMPLES))),O.internalFormat,this.width*this.density,this.height*this.density)),M.bindFramebuffer(M.FRAMEBUFFER,this.aaFramebuffer),M.framebufferRenderbuffer(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&M.framebufferRenderbuffer(M.FRAMEBUFFER,this.useStencil?M.DEPTH_STENCIL_ATTACHMENT:M.DEPTH_ATTACHMENT,M.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new P(this,"depthTexture"),T=M.NEAREST,this.depthP5Texture=new u.default.Texture(this.target._renderer,this.depth,{minFilter:T,magFilter:T}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new P(this,"colorTexture"),L=this.textureFiltering===v.LINEAR?M.LINEAR:M.NEAREST,this.colorP5Texture=new u.default.Texture(this.target._renderer,this.color,{minFilter:L,magFilter:L}),this.target._renderer.textures.set(this.color,this.colorP5Texture),M.bindTexture(M.TEXTURE_2D,I),M.bindFramebuffer(M.FRAMEBUFFER,S)}},{key:"_glColorFormat",value:function(){var M,I,S=this.gl,T=this.format===v.FLOAT?S.FLOAT:this.format===v.HALF_FLOAT?this.target.webglVersion===v.WEBGL2?S.HALF_FLOAT:S.getExtension("OES_texture_half_float").HALF_FLOAT_OES:S.UNSIGNED_BYTE,L=this.channels===v.RGBA?S.RGBA:S.RGB;return{internalFormat:this.target.webglVersion===v.WEBGL2?(d(I={},S.FLOAT,d({},S.RGBA,S.RGBA32F)),d(I,S.HALF_FLOAT,d({},S.RGBA,S.RGBA16F)),d(I,S.UNSIGNED_BYTE,(d(M={},S.RGBA,S.RGBA8),d(M,S.RGB,S.RGB8),M)),I[T][L]):this.format===v.HALF_FLOAT?S.RGBA:L,format:L,type:T}}},{key:"_glDepthFormat",value:function(){var S=this.gl,M=this.useStencil?this.depthFormat===v.FLOAT?S.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===v.WEBGL2?S.UNSIGNED_INT_24_8:S.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===v.FLOAT?S.FLOAT:S.UNSIGNED_INT,I=this.useStencil?S.DEPTH_STENCIL:S.DEPTH_COMPONENT,S=this.useStencil?this.depthFormat===v.FLOAT?S.DEPTH32F_STENCIL8:this.target.webglVersion===v.WEBGL2?S.DEPTH24_STENCIL8:S.DEPTH_STENCIL:this.target.webglVersion===v.WEBGL2?this.depthFormat===v.FLOAT?S.DEPTH_COMPONENT32F:S.DEPTH_COMPONENT24:S.DEPTH_COMPONENT;return{internalFormat:S,format:I,type:M}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var T=this.color,M=this.depth,I=this.colorRenderbuffer,S=this.depthRenderbuffer,T=(this._deleteTexture(T),M&&this._deleteTexture(M),this.gl);I&&T.deleteRenderbuffer(I),S&&T.deleteRenderbuffer(S),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var M=new A(this);return M._computeCameraDefaultSettings(),M._setDefaultCamera(),this.target._renderer._curCamera=M}},{key:"_deleteTexture",value:function(M){this.gl.deleteTexture(M.rawTexture()),this.target._renderer.textures.delete(M)}},{key:"remove",value:function(){var M=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),M.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&M.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&M.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&M.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var M=this.gl;M.bindFramebuffer(M.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var M=this.gl,I=(M.bindFramebuffer(M.READ_FRAMEBUFFER,this.aaFramebuffer),M.bindFramebuffer(M.DRAW_FRAMEBUFFER,this.framebuffer),[[M.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&I.push([M.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var S=0,T=I;S<T.length;S++){var O=a(T[S],2),L=O[0],O=O[1];M.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,L,O)}}}},{key:"end",value:function(){var M=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(M.bindFramebuffer(M.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(M){this.begin(),M(),this.end()}},{key:"loadPixels",value:function(){var M=this.gl,I=this.target._renderer.activeFramebuffer(),S=(M.bindFramebuffer(M.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,w.readPixelsWebGL)(this.pixels,M,this.framebuffer,0,0,this.width*this.density,this.height*this.density,S.format,S.type),I?M.bindFramebuffer(M.FRAMEBUFFER,I._framebufferToBind()):M.bindFramebuffer(M.FRAMEBUFFER,null)}},{key:"get",value:function(M,I,S,T){u.default._validateParameters("p5.Framebuffer.get",arguments);var L=this._glColorFormat();if(M===void 0&&I===void 0)I=M=0,S=this.width,T=this.height;else if(S===void 0&&T===void 0)return(M<0||I<0||M>=this.width||I>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),M=this.target.constrain(M,0,this.width-1),I=this.target.constrain(I,0,this.height-1)),(0,w.readPixelWebGL)(this.gl,this.framebuffer,M*this.density,I*this.density,L.format,L.type);M=this.target.constrain(M,0,this.width-1),I=this.target.constrain(I,0,this.height-1),S=this.target.constrain(S,1,this.width-M),T=this.target.constrain(T,1,this.height-I);for(var O=(0,w.readPixelsWebGL)(void 0,this.gl,this.framebuffer,M*this.density,I*this.density,S*this.density,T*this.density,L.format,L.type),V=new Uint8ClampedArray(S*T*this.density*this.density*4),H=(V.fill(255),L.type===this.gl.RGB?3:4),F=0;F<T*this.density;F++)for(var W=0;W<S*this.density;W++)for(var ee=0;ee<4;ee++){var J,N=4*(F*S*this.density+W)+ee;ee<H&&(J=H==4?N:(F*S*this.density+W)*H+ee,V[N]=O[J])}return M=new u.default.Image(S*this.density,T*this.density),M.imageData=M.canvas.getContext("2d").createImageData(M.width,M.height),M.imageData.data.set(V),M.pixels=M.imageData.data,M.updatePixels(),this.density!==1&&M.resize(S,T),M}},{key:"updatePixels",value:function(){var M=this.gl,I=(this.colorP5Texture.bindTexture(),this._glColorFormat()),S=I.format===M.RGBA?4:3,S=this.width*this.height*this.density*this.density*S,T=I.type===M.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof T)||this.pixels.length!==S)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");M.texImage2D(M.TEXTURE_2D,0,I.internalFormat,this.width*this.density,this.height*this.density,0,I.format,I.type,this.pixels),this.colorP5Texture.unbindTexture(),T=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(M.clearDepth(1),M.clear(M.DEPTH_BUFFER_BIT)),this.end()):(M.bindFramebuffer(M.FRAMEBUFFER,this.framebuffer),this.useDepth&&(M.clearDepth(1),M.clear(M.DEPTH_BUFFER_BIT)),T?M.bindFramebuffer(M.FRAMEBUFFER,T._framebufferToBind()):M.bindFramebuffer(M.FRAMEBUFFER,null))}}]),k}()),E=u.default.Framebuffer=j;y.default=E},{"../core/constants":269,"../core/main":280,"./p5.RendererGL":337,"./p5.Texture":339,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.typed-array.uint8-clamped-array":240,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],332:[function(t,o,y){"use strict";function i(d){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function p(d){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(f){return i(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":i(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(a=t("../core/main"))&&a.__esModule?a:{default:a},v=function(d){if(d&&d.__esModule)return d;if(d===null||p(d)!=="object"&&typeof d!="function")return{default:d};var f=x();if(f&&f.has(d))return f.get(d);var m,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in d){var g;Object.prototype.hasOwnProperty.call(d,m)&&((g=h?Object.getOwnPropertyDescriptor(d,m):null)&&(g.get||g.set)?Object.defineProperty(l,m,g):l[m]=d[m])}return l.default=d,f&&f.set(d,l),l}(t("../core/constants"));function x(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,x=function(){return d},d)}function w(d){return function(f){if(Array.isArray(f)){for(var m=0,l=new Array(f.length);m<f.length;m++)l[m]=f[m];return l}}(d)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(d,f){for(var m=0;m<f.length;m++){var l=f[m];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}u.default.Geometry=function(){function d(h,g,b){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new u.default.DataArray,this.lineTangentsIn=new u.default.DataArray,this.lineTangentsOut=new u.default.DataArray,this.lineSides=new u.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new u.default.DataArray,this.detailX=h!==void 0?h:1,this.detailY=g!==void 0?g:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,b instanceof Function&&b.call(this)}var f,m,l;return f=d,(m=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var h=new u.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),g=new u.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),b=0;b<this.vertices.length;b++){var _=this.vertices[b];h.x=Math.min(h.x,_.x),h.y=Math.min(h.y,_.y),h.z=Math.min(h.z,_.z),g.x=Math.max(g.x,_.x),g.y=Math.max(g.y,_.y),g.z=Math.max(g.z,_.z)}var A=new u.default.Vector(g.x-h.x,g.y-h.y,g.z-h.z),P=new u.default.Vector((h.x+g.x)/2,(h.y+g.y)/2,(h.z+g.z)/2);this.boundingBoxCache={min:h,max:g,size:A,offset:P}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var h=0;h<this.vertexColors.length;h+=4)if(this.vertexColors[h+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var h=0;h<this.lineVertexColors.length;h+=4)if(this.lineVertexColors[h+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(h,g){return g%2==0?1-h:h})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(h,g){return g%2==0?h:1-h})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var h,g,b,_=this.detailX+1,A=0;A<this.detailY;A++)for(var P=0;P<this.detailX;P++)g=(A+1)*_+P+1,this.faces.push([A*_+P,h=A*_+P+1,b=(A+1)*_+P]),this.faces.push([b,h,g]);return this}},{key:"_getFaceNormal",value:function(g){var g=this.faces[g],b=this.vertices[g[0]],A=this.vertices[g[1]],g=this.vertices[g[2]],A=u.default.Vector.sub(A,b),g=u.default.Vector.sub(g,b),b=u.default.Vector.cross(A,g),_=u.default.Vector.mag(b),A=_/(u.default.Vector.mag(A)*u.default.Vector.mag(g));return A===0||isNaN(A)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),b):(1<A&&(A=1),b.mult(Math.asin(A)/_))}},{key:"computeNormals",value:function(){var h,g=this,b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:v.FLAT,_=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,A=this.vertexNormals,P=this.vertices,j=this.faces;if(b===v.SMOOTH){for(var E={},k=[],M=Math.pow(10,_===void 0?3:_),I=function(V){return Math.round(V*M)/M},S=function(V){return"".concat(I(V.x),",").concat(I(V.y),",").concat(I(V.z))},T=0;T<P.length;T++){var L=P[T],O=S(L);E[O]===void 0&&(E[O]=k.length,k.push(L))}j.forEach(function(V){for(var H=0;H<3;++H){var F=V[H],F=P[F],F=S(F);V[H]=E[F]}}),this.edges.forEach(function(V){for(var H=0;H<2;++H){var F=V[H],F=P[F],F=S(F);V[H]=E[F]}}),this.vertices=P=k}for(h=A.length=0;h<P.length;++h)A.push(new u.default.Vector);for(j.forEach(function(V,H){for(var F=g._getFaceNormal(H),W=0;W<3;++W){var ee=V[W];A[ee].add(F)}}),h=0;h<P.length;++h)A[h].normalize();return this}},{key:"averageNormals",value:function(){for(var h=0;h<=this.detailY;h++){var g=this.detailX+1,b=u.default.Vector.add(this.vertexNormals[h*g],this.vertexNormals[h*g+this.detailX]),b=u.default.Vector.div(b,2);this.vertexNormals[h*g]=b,this.vertexNormals[h*g+this.detailX]=b}return this}},{key:"averagePoleNormals",value:function(){for(var h=new u.default.Vector(0,0,0),g=0;g<this.detailX;g++)h.add(this.vertexNormals[g]);for(var h=u.default.Vector.div(h,this.detailX),b=0;b<this.detailX;b++)this.vertexNormals[b]=h;h=new u.default.Vector(0,0,0);for(var _=this.vertices.length-1;_>this.vertices.length-1-this.detailX;_--)h.add(this.vertexNormals[_]);h=u.default.Vector.div(h,this.detailX);for(var A=this.vertices.length-1;A>this.vertices.length-1-this.detailX;A--)this.vertexNormals[A]=h;return this}},{key:"_makeTriangleEdges",value:function(){for(var h=this.edges.length=0;h<this.faces.length;h++)this.edges.push([this.faces[h][0],this.faces[h][1]]),this.edges.push([this.faces[h][1],this.faces[h][2]]),this.edges.push([this.faces[h][2],this.faces[h][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var h,g=new Map,b=new Set,_=0;_<this.edges.length;_++){var A,P=this.edges[_-1],j=this.edges[_],E=this.vertices[j[0]],k=this.vertices[j[1]],M=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*j[0],4*(j[0]+1)):[0,0,0,0],I=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*j[1],4*(j[1]+1)):[0,0,0,0],S=k.copy().sub(E).normalize(),T=0<S.magSq();T&&this._addSegment(E,k,M,I,S),0<_&&P[1]===j[0]?b.has(j[0])||(b.add(j[0]),g.delete(j[0]),h&&T&&S.dot(h)<1-1e-8&&this._addJoin(E,h,S,M)):(T&&!b.has(j[0])&&((A=g.get(j[0]))?(this._addJoin(E,A.dir,S,M),g.delete(j[0]),b.add(j[0])):g.set(j[0],{point:E,dir:S.copy().mult(-1),color:M})),h&&!b.has(P[1])&&((A=g.get(P[1]))?(this._addJoin(this.vertices[P[1]],h,A.dir.copy().mult(-1),M),g.delete(P[1]),b.add(P[1])):g.set(P[1],{point:this.vertices[P[1]],dir:h,color:M}),h=void 0)),_!==this.edges.length-1||b.has(j[1])||((E=g.get(j[1]))?(this._addJoin(k,S,E.dir.copy().mult(-1),I),g.delete(j[1]),b.add(j[1])):g.set(j[1],{point:k,dir:S,color:I})),T&&(h=S)}var L=!0,O=!1,V=void 0;try{for(var H,F=g.values()[Symbol.iterator]();!(L=(H=F.next()).done);L=!0){var W=H.value,ee=W.point,J=W.dir,N=W.color;this._addCap(ee,J,N)}}catch(D){O=!0,V=D}finally{try{L||F.return==null||F.return()}finally{if(O)throw V}}return this}},{key:"_addSegment",value:function(P,j,b,_,A){var P=P.array(),j=j.array(),E=A.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var k=0,M=[this.lineTangentsIn,this.lineTangentsOut];k<M.length;k++)for(var I=M[k],S=0;S<6;S++)I.push.apply(I,w(E));return(A=this.lineVertices).push.apply(A,w(P).concat(w(j),w(P),w(j),w(j),w(P))),(A=this.lineVertexColors).push.apply(A,w(b).concat(w(_),w(b),w(_),w(_),w(b))),this}},{key:"_addCap",value:function(h,g,b){for(var _,A=h.array(),P=g.array(),j=[0,0,0],E=0;E<6;E++)(_=this.lineVertices).push.apply(_,w(A)),(_=this.lineTangentsIn).push.apply(_,w(P)),(_=this.lineTangentsOut).push.apply(_,j),(_=this.lineVertexColors).push.apply(_,w(b));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(h,g,b,_){for(var A,P=h.array(),j=g.array(),E=b.array(),k=0;k<12;k++)(A=this.lineVertices).push.apply(A,w(P)),(A=this.lineTangentsIn).push.apply(A,w(j)),(A=this.lineTangentsOut).push.apply(A,w(E)),(A=this.lineVertexColors).push.apply(A,w(_));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var h=this.vertices[0].copy(),g=this.vertices[0].copy(),b=0;b<this.vertices.length;b++)h.x=Math.max(h.x,this.vertices[b].x),g.x=Math.min(g.x,this.vertices[b].x),h.y=Math.max(h.y,this.vertices[b].y),g.y=Math.min(g.y,this.vertices[b].y),h.z=Math.max(h.z,this.vertices[b].z),g.z=Math.min(g.z,this.vertices[b].z);for(var _=u.default.Vector.lerp(h,g,.5),A=u.default.Vector.sub(h,g),P=200/Math.max(Math.max(A.x,A.y),A.z),j=0;j<this.vertices.length;j++)this.vertices[j].sub(_),this.vertices[j].mult(P)}return this}}])&&c(f.prototype,m),l&&c(f,l),d}();var a=u.default.Geometry;y.default=a},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.for-each":160,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.map":174,"core-js/modules/es.number.constructor":178,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.for-each":242,"core-js/modules/web.dom-collections.iterator":243}],333:[function(x,o,y){"use strict";x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),x("core-js/modules/es.array.iterator"),x("core-js/modules/es.object.to-string"),x("core-js/modules/es.typed-array.float32-array"),x("core-js/modules/es.typed-array.copy-within"),x("core-js/modules/es.typed-array.every"),x("core-js/modules/es.typed-array.fill"),x("core-js/modules/es.typed-array.filter"),x("core-js/modules/es.typed-array.find"),x("core-js/modules/es.typed-array.find-index"),x("core-js/modules/es.typed-array.for-each"),x("core-js/modules/es.typed-array.includes"),x("core-js/modules/es.typed-array.index-of"),x("core-js/modules/es.typed-array.iterator"),x("core-js/modules/es.typed-array.join"),x("core-js/modules/es.typed-array.last-index-of"),x("core-js/modules/es.typed-array.map"),x("core-js/modules/es.typed-array.reduce"),x("core-js/modules/es.typed-array.reduce-right"),x("core-js/modules/es.typed-array.reverse"),x("core-js/modules/es.typed-array.set"),x("core-js/modules/es.typed-array.slice"),x("core-js/modules/es.typed-array.some"),x("core-js/modules/es.typed-array.sort"),x("core-js/modules/es.typed-array.subarray"),x("core-js/modules/es.typed-array.to-locale-string"),x("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(x=x("../core/main"))&&x.__esModule?x:{default:x};function p(w,c){for(var a=0;a<c.length;a++){var d=c[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(w,d.key,d)}}var u=Array,v=function(w){return Array.isArray(w)},x=(typeof Float32Array<"u"&&(u=Float32Array,v=function(w){return Array.isArray(w)||w instanceof Float32Array}),i.default.Matrix=function(){function w(){var f=this,m=w;if(f instanceof m)return arguments.length&&((f=arguments.length-1)<0||arguments.length<=f?void 0:arguments[f])instanceof i.default&&(this.p5=(m=arguments.length-1)<0||arguments.length<=m?void 0:arguments[m]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new u([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new u([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var c,a,d;return c=w,d=[{key:"identity",value:function(f){return new i.default.Matrix(f)}}],(a=[{key:"set",value:function(f){var m=arguments;if(f instanceof i.default.Matrix?m=f.mat4:v(f)&&(m=f),m.length!==16)i.default._friendlyError("Expected 16 values but received ".concat(m.length,"."),"p5.Matrix.set");else for(var l=0;l<16;l++)this.mat4[l]=m[l];return this}},{key:"get",value:function(){return new i.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var f;return this.mat3!==void 0?((f=new i.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],f.mat3[1]=this.mat3[1],f.mat3[2]=this.mat3[2],f.mat3[3]=this.mat3[3],f.mat3[4]=this.mat3[4],f.mat3[5]=this.mat3[5],f.mat3[6]=this.mat3[6],f.mat3[7]=this.mat3[7],f.mat3[8]=this.mat3[8]):((f=new i.default.Matrix(this.p5)).mat4[0]=this.mat4[0],f.mat4[1]=this.mat4[1],f.mat4[2]=this.mat4[2],f.mat4[3]=this.mat4[3],f.mat4[4]=this.mat4[4],f.mat4[5]=this.mat4[5],f.mat4[6]=this.mat4[6],f.mat4[7]=this.mat4[7],f.mat4[8]=this.mat4[8],f.mat4[9]=this.mat4[9],f.mat4[10]=this.mat4[10],f.mat4[11]=this.mat4[11],f.mat4[12]=this.mat4[12],f.mat4[13]=this.mat4[13],f.mat4[14]=this.mat4[14],f.mat4[15]=this.mat4[15]),f}},{key:"transpose",value:function(f){var m,l,h,g,b,_;return f instanceof i.default.Matrix?(m=f.mat4[1],l=f.mat4[2],h=f.mat4[3],g=f.mat4[6],b=f.mat4[7],_=f.mat4[11],this.mat4[0]=f.mat4[0],this.mat4[1]=f.mat4[4],this.mat4[2]=f.mat4[8],this.mat4[3]=f.mat4[12],this.mat4[4]=m,this.mat4[5]=f.mat4[5],this.mat4[6]=f.mat4[9],this.mat4[7]=f.mat4[13],this.mat4[8]=l,this.mat4[9]=g,this.mat4[10]=f.mat4[10],this.mat4[11]=f.mat4[14],this.mat4[12]=h,this.mat4[13]=b,this.mat4[14]=_,this.mat4[15]=f.mat4[15]):v(f)&&(m=f[1],l=f[2],h=f[3],g=f[6],b=f[7],_=f[11],this.mat4[0]=f[0],this.mat4[1]=f[4],this.mat4[2]=f[8],this.mat4[3]=f[12],this.mat4[4]=m,this.mat4[5]=f[5],this.mat4[6]=f[9],this.mat4[7]=f[13],this.mat4[8]=l,this.mat4[9]=g,this.mat4[10]=f[10],this.mat4[11]=f[14],this.mat4[12]=h,this.mat4[13]=b,this.mat4[14]=_,this.mat4[15]=f[15]),this}},{key:"invert",value:function(O){O instanceof i.default.Matrix?(m=O.mat4[0],l=O.mat4[1],h=O.mat4[2],g=O.mat4[3],b=O.mat4[4],_=O.mat4[5],A=O.mat4[6],P=O.mat4[7],j=O.mat4[8],E=O.mat4[9],k=O.mat4[10],M=O.mat4[11],I=O.mat4[12],S=O.mat4[13],T=O.mat4[14],L=O.mat4[15]):v(O)&&(m=O[0],l=O[1],h=O[2],g=O[3],b=O[4],_=O[5],A=O[6],P=O[7],j=O[8],E=O[9],k=O[10],M=O[11],I=O[12],S=O[13],T=O[14],L=O[15]);var m,l,h,g,b,_,A,P,j,E,k,M,I,S,T,L,O=m*_-l*b,V=m*A-h*b,H=m*P-g*b,F=l*A-h*_,W=l*P-g*_,ee=h*P-g*A,J=j*S-E*I,N=j*T-k*I,D=j*L-M*I,B=E*T-k*S,Y=E*L-M*S,G=k*L-M*T,q=O*G-V*Y+H*B+F*D-W*N+ee*J;return q?(this.mat4[0]=(_*G-A*Y+P*B)*(q=1/q),this.mat4[1]=(h*Y-l*G-g*B)*q,this.mat4[2]=(S*ee-T*W+L*F)*q,this.mat4[3]=(k*W-E*ee-M*F)*q,this.mat4[4]=(A*D-b*G-P*N)*q,this.mat4[5]=(m*G-h*D+g*N)*q,this.mat4[6]=(T*H-I*ee-L*V)*q,this.mat4[7]=(j*ee-k*H+M*V)*q,this.mat4[8]=(b*Y-_*D+P*J)*q,this.mat4[9]=(l*D-m*Y-g*J)*q,this.mat4[10]=(I*W-S*H+L*O)*q,this.mat4[11]=(E*H-j*W-M*O)*q,this.mat4[12]=(_*N-b*B-A*J)*q,this.mat4[13]=(m*B-l*N+h*J)*q,this.mat4[14]=(S*V-I*F-T*O)*q,this.mat4[15]=(j*F-E*V+k*O)*q,this):null}},{key:"invert3x3",value:function(){var f=this.mat3[0],m=this.mat3[1],l=this.mat3[2],h=this.mat3[3],g=this.mat3[4],b=this.mat3[5],_=this.mat3[6],A=this.mat3[7],P=this.mat3[8],j=P*g-b*A,E=-P*h+b*_,k=A*h-g*_,M=f*j+m*E+l*k;return M?(this.mat3[0]=j*(M=1/M),this.mat3[1]=(-P*m+l*A)*M,this.mat3[2]=(b*m-l*g)*M,this.mat3[3]=E*M,this.mat3[4]=(P*f-l*_)*M,this.mat3[5]=(-b*f+l*h)*M,this.mat3[6]=k*M,this.mat3[7]=(-A*f+m*_)*M,this.mat3[8]=(g*f-m*h)*M,this):null}},{key:"transpose3x3",value:function(f){var m=(f=f===void 0?this.mat3:f)[1],l=f[2],h=f[5];return this.mat3[0]=f[0],this.mat3[1]=f[3],this.mat3[2]=f[6],this.mat3[3]=m,this.mat3[4]=f[4],this.mat3[5]=f[7],this.mat3[6]=l,this.mat3[7]=h,this.mat3[8]=f[8],this}},{key:"inverseTranspose",value:function(f){if(f=f.mat4,this.mat3===void 0?i.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=f[0],this.mat3[1]=f[1],this.mat3[2]=f[2],this.mat3[3]=f[4],this.mat3[4]=f[5],this.mat3[5]=f[6],this.mat3[6]=f[8],this.mat3[7]=f[9],this.mat3[8]=f[10]),f=this.invert3x3(),f)f.transpose3x3(this.mat3);else for(var m=0;m<9;m++)this.mat3[m]=0;return this}},{key:"determinant",value:function(){var f=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],m=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],l=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],h=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],g=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],b=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],_=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],A=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],P=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],j=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],E=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return f*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-m*E+l*j+h*P-g*A+b*_}},{key:"mult",value:function(l){var m;if(l===this||l===this.mat4)m=this.copy().mat4;else if(l instanceof i.default.Matrix)m=l.mat4;else if(v(l))m=l;else{if(arguments.length!==16)return;m=arguments}var l=this.mat4[0],h=this.mat4[1],g=this.mat4[2],b=this.mat4[3];return this.mat4[0]=l*m[0]+h*m[4]+g*m[8]+b*m[12],this.mat4[1]=l*m[1]+h*m[5]+g*m[9]+b*m[13],this.mat4[2]=l*m[2]+h*m[6]+g*m[10]+b*m[14],this.mat4[3]=l*m[3]+h*m[7]+g*m[11]+b*m[15],l=this.mat4[4],h=this.mat4[5],g=this.mat4[6],b=this.mat4[7],this.mat4[4]=l*m[0]+h*m[4]+g*m[8]+b*m[12],this.mat4[5]=l*m[1]+h*m[5]+g*m[9]+b*m[13],this.mat4[6]=l*m[2]+h*m[6]+g*m[10]+b*m[14],this.mat4[7]=l*m[3]+h*m[7]+g*m[11]+b*m[15],l=this.mat4[8],h=this.mat4[9],g=this.mat4[10],b=this.mat4[11],this.mat4[8]=l*m[0]+h*m[4]+g*m[8]+b*m[12],this.mat4[9]=l*m[1]+h*m[5]+g*m[9]+b*m[13],this.mat4[10]=l*m[2]+h*m[6]+g*m[10]+b*m[14],this.mat4[11]=l*m[3]+h*m[7]+g*m[11]+b*m[15],l=this.mat4[12],h=this.mat4[13],g=this.mat4[14],b=this.mat4[15],this.mat4[12]=l*m[0]+h*m[4]+g*m[8]+b*m[12],this.mat4[13]=l*m[1]+h*m[5]+g*m[9]+b*m[13],this.mat4[14]=l*m[2]+h*m[6]+g*m[10]+b*m[14],this.mat4[15]=l*m[3]+h*m[7]+g*m[11]+b*m[15],this}},{key:"apply",value:function(l){var m;if(l===this||l===this.mat4)m=this.copy().mat4;else if(l instanceof i.default.Matrix)m=l.mat4;else if(v(l))m=l;else{if(arguments.length!==16)return;m=arguments}var l=this.mat4,h=l[0],g=l[4],b=l[8],_=l[12],h=(l[0]=m[0]*h+m[1]*g+m[2]*b+m[3]*_,l[4]=m[4]*h+m[5]*g+m[6]*b+m[7]*_,l[8]=m[8]*h+m[9]*g+m[10]*b+m[11]*_,l[12]=m[12]*h+m[13]*g+m[14]*b+m[15]*_,l[1]),g=l[5],b=l[9],_=l[13],h=(l[1]=m[0]*h+m[1]*g+m[2]*b+m[3]*_,l[5]=m[4]*h+m[5]*g+m[6]*b+m[7]*_,l[9]=m[8]*h+m[9]*g+m[10]*b+m[11]*_,l[13]=m[12]*h+m[13]*g+m[14]*b+m[15]*_,l[2]),g=l[6],b=l[10],_=l[14],h=(l[2]=m[0]*h+m[1]*g+m[2]*b+m[3]*_,l[6]=m[4]*h+m[5]*g+m[6]*b+m[7]*_,l[10]=m[8]*h+m[9]*g+m[10]*b+m[11]*_,l[14]=m[12]*h+m[13]*g+m[14]*b+m[15]*_,l[3]),g=l[7],b=l[11],_=l[15];return l[3]=m[0]*h+m[1]*g+m[2]*b+m[3]*_,l[7]=m[4]*h+m[5]*g+m[6]*b+m[7]*_,l[11]=m[8]*h+m[9]*g+m[10]*b+m[11]*_,l[15]=m[12]*h+m[13]*g+m[14]*b+m[15]*_,this}},{key:"scale",value:function(f,m,l){return f instanceof i.default.Vector?(m=f.y,l=f.z,f=f.x):f instanceof Array&&(m=f[1],l=f[2],f=f[0]),this.mat4[0]*=f,this.mat4[1]*=f,this.mat4[2]*=f,this.mat4[3]*=f,this.mat4[4]*=m,this.mat4[5]*=m,this.mat4[6]*=m,this.mat4[7]*=m,this.mat4[8]*=l,this.mat4[9]*=l,this.mat4[10]*=l,this.mat4[11]*=l,this}},{key:"rotate",value:function(O,Y,B,h){Y instanceof i.default.Vector?(B=Y.y,h=Y.z,Y=Y.x):Y instanceof Array&&(B=Y[1],h=Y[2],Y=Y[0]);var g=Math.sqrt(Y*Y+B*B+h*h),g=(Y*=1/g,B*=1/g,h*=1/g,this.mat4[0]),b=this.mat4[1],_=this.mat4[2],A=this.mat4[3],P=this.mat4[4],j=this.mat4[5],E=this.mat4[6],k=this.mat4[7],M=this.mat4[8],I=this.mat4[9],S=this.mat4[10],T=this.mat4[11],L=Math.sin(O),O=Math.cos(O),V=1-O,H=Y*Y*V+O,F=B*Y*V+h*L,W=h*Y*V-B*L,ee=Y*B*V-h*L,J=B*B*V+O,N=h*B*V+Y*L,D=Y*h*V+B*L,B=B*h*V-Y*L,Y=h*h*V+O;return this.mat4[0]=g*H+P*F+M*W,this.mat4[1]=b*H+j*F+I*W,this.mat4[2]=_*H+E*F+S*W,this.mat4[3]=A*H+k*F+T*W,this.mat4[4]=g*ee+P*J+M*N,this.mat4[5]=b*ee+j*J+I*N,this.mat4[6]=_*ee+E*J+S*N,this.mat4[7]=A*ee+k*J+T*N,this.mat4[8]=g*D+P*B+M*Y,this.mat4[9]=b*D+j*B+I*Y,this.mat4[10]=_*D+E*B+S*Y,this.mat4[11]=A*D+k*B+T*Y,this}},{key:"translate",value:function(h){var m=h[0],l=h[1],h=h[2]||0;this.mat4[12]+=this.mat4[0]*m+this.mat4[4]*l+this.mat4[8]*h,this.mat4[13]+=this.mat4[1]*m+this.mat4[5]*l+this.mat4[9]*h,this.mat4[14]+=this.mat4[2]*m+this.mat4[6]*l+this.mat4[10]*h,this.mat4[15]+=this.mat4[3]*m+this.mat4[7]*l+this.mat4[11]*h}},{key:"rotateX",value:function(f){this.rotate(f,1,0,0)}},{key:"rotateY",value:function(f){this.rotate(f,0,1,0)}},{key:"rotateZ",value:function(f){this.rotate(f,0,0,1)}},{key:"perspective",value:function(g,m,l,h){var g=1/Math.tan(g/2),b=1/(l-h);return this.mat4[0]=g/m,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=g,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(h+l)*b,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*h*l*b,this.mat4[15]=0,this}},{key:"ortho",value:function(f,m,l,h,g,b){var _=1/(f-m),A=1/(l-h),P=1/(g-b);return this.mat4[0]=-2*_,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*A,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*P,this.mat4[11]=0,this.mat4[12]=(f+m)*_,this.mat4[13]=(h+l)*A,this.mat4[14]=(b+g)*P,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(f,m,l,h){var g=new Array(4),b=this.mat4;return g[0]=b[0]*f+b[4]*m+b[8]*l+b[12]*h,g[1]=b[1]*f+b[5]*m+b[9]*l+b[13]*h,g[2]=b[2]*f+b[6]*m+b[10]*l+b[14]*h,g[3]=b[3]*f+b[7]*m+b[11]*l+b[15]*h,g}},{key:"multiplyPoint",value:function(l){var h=l.x,m=l.y,l=l.z,h=this.multiplyVec4(h,m,l,1);return new i.default.Vector(h[0],h[1],h[2])}},{key:"multiplyAndNormalizePoint",value:function(l){var h=l.x,m=l.y,l=l.z,h=this.multiplyVec4(h,m,l,1);return h[0]/=h[3],h[1]/=h[3],h[2]/=h[3],new i.default.Vector(h[0],h[1],h[2])}},{key:"multiplyDirection",value:function(l){var h=l.x,m=l.y,l=l.z,h=this.multiplyVec4(h,m,l,0);return new i.default.Vector(h[0],h[1],h[2])}},{key:"mult3x3",value:function(l){var m;if(l===this||l===this.mat3)m=this.copy().mat3;else if(l instanceof i.default.Matrix)m=l.mat3;else if(v(l))m=l;else{if(arguments.length!==9)return;m=arguments}var l=this.mat3[0],h=this.mat3[1],g=this.mat3[2];return this.mat3[0]=l*m[0]+h*m[3]+g*m[6],this.mat3[1]=l*m[1]+h*m[4]+g*m[7],this.mat3[2]=l*m[2]+h*m[5]+g*m[8],l=this.mat3[3],h=this.mat3[4],g=this.mat3[5],this.mat3[3]=l*m[0]+h*m[3]+g*m[6],this.mat3[4]=l*m[1]+h*m[4]+g*m[7],this.mat3[5]=l*m[2]+h*m[5]+g*m[8],l=this.mat3[6],h=this.mat3[7],g=this.mat3[8],this.mat3[6]=l*m[0]+h*m[3]+g*m[6],this.mat3[7]=l*m[1]+h*m[4]+g*m[7],this.mat3[8]=l*m[2]+h*m[5]+g*m[8],this}},{key:"column",value:function(f){return new i.default.Vector(this.mat3[3*f],this.mat3[3*f+1],this.mat3[3*f+2])}},{key:"row",value:function(f){return new i.default.Vector(this.mat3[f],this.mat3[f+3],this.mat3[f+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(f,m){return(m=m===void 0?f.copy():m).x=this.row(0).dot(f),m.y=this.row(1).dot(f),m.z=this.row(2).dot(f),m}},{key:"createSubMatrix3x3",value:function(){var f=new i.default.Matrix("mat3");return f.mat3[0]=this.mat4[0],f.mat3[1]=this.mat4[1],f.mat3[2]=this.mat4[2],f.mat3[3]=this.mat4[4],f.mat3[4]=this.mat4[5],f.mat3[5]=this.mat4[6],f.mat3[6]=this.mat4[8],f.mat3[7]=this.mat4[9],f.mat3[8]=this.mat4[10],f}}])&&p(c.prototype,a),d&&p(c,d),w}(),i.default.Matrix);y.default=x},{"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.to-string":187,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236}],334:[function(t,o,y){"use strict";t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function i(p,u){for(var v=0;v<u.length;v++){var x=u[v];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(p,x.key,x)}}t.default.RenderBuffer=function(){function p(w,c,a,d,f,m){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.size=w,this.src=c,this.dst=a,this.attr=d,this._renderer=f,this.map=m}var u,v,x;return u=p,(v=[{key:"_prepareBuffer",value:function(w,c){var a,d,f,h=c.attributes,m=this._renderer.GL,l=w.model||w,h=h[this.attr];h&&(a=w[this.dst],0<(d=l[this.src]).length?((f=!a)&&(w[this.dst]=a=m.createBuffer()),m.bindBuffer(m.ARRAY_BUFFER,a),!f&&l.dirtyFlags[this.src]===!1||(f=(w=this.map)?w(d):d,this._renderer._bindBuffer(a,m.ARRAY_BUFFER,f),l.dirtyFlags[this.src]=!1),c.enableAttrib(h,this.size)):(w=h.location)!==-1&&this._renderer.registerEnabled.has(w)&&(m.disableVertexAttribArray(w),this._renderer.registerEnabled.delete(w)))}}])&&i(u.prototype,v),x&&i(u,x),p}(),t=t.default.RenderBuffer,y.default=t},{"../core/main":280,"core-js/modules/es.array.map":167}],335:[function(t,o,y){"use strict";function i(d){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f})(d)}function p(d){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(f){return i(f)}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":i(f)})(d)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(a=t("../core/main"))&&a.__esModule?a:{default:a},v=function(d){if(d&&d.__esModule)return d;if(d===null||p(d)!=="object"&&typeof d!="function")return{default:d};var f=x();if(f&&f.has(d))return f.get(d);var m,l={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in d){var g;Object.prototype.hasOwnProperty.call(d,m)&&((g=h?Object.getOwnPropertyDescriptor(d,m):null)&&(g.get||g.set)?Object.defineProperty(l,m,g):l[m]=d[m])}return l.default=d,f&&f.set(d,l),l}(t("../core/constants"));function x(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,x=function(){return d},d)}function w(d){return function(f){if(Array.isArray(f)){for(var m=0,l=new Array(f.length);m<f.length;m++)l[m]=f[m];return l}}(d)||function(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),u.default.RendererGL.prototype.beginShape=function(d){return this.immediateMode.shapeMode=d!==void 0?d:v.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var c={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},a=(u.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==v.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},u.default.RendererGL.prototype.vertex=function(d,f){if(this.immediateMode.shapeMode===v.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var m in c){var l=c[m],m=this.immediateMode.geometry[m];m.push.apply(m,w(m.slice(m.length-3*l,m.length-2*l)).concat(w(m.slice(m.length-l,m.length))))}var h,g,b=h=g=0,_=(arguments.length===3?b=arguments[2]:arguments.length===4?(h=arguments[2],g=arguments[3]):arguments.length===5&&(b=arguments[2],h=arguments[3],g=arguments[4]),new u.default.Vector(d,f,b)),_=(this.immediateMode.geometry.vertices.push(_),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),_=(this.immediateMode.geometry.vertexColors.push(_[0],_[1],_[2],_[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(_[0],_[1],_[2],_[3]),this.textureMode!==v.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(h/=this._tex.width,g/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(h,g),this.immediateMode._bezierVertex[0]=d,this.immediateMode._bezierVertex[1]=f,this.immediateMode._bezierVertex[2]=b,this.immediateMode._quadraticVertex[0]=d,this.immediateMode._quadraticVertex[1]=f,this.immediateMode._quadraticVertex[2]=b,this},u.default.RendererGL.prototype.normal=function(d,f,m){return d instanceof u.default.Vector?this._currentNormal=d:this._currentNormal=new u.default.Vector(d,f,m),this},u.default.RendererGL.prototype.endShape=function(d,f,m,l,h,g){var b,_=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===v.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===v.TESS&&(this.immediateMode.shapeMode,v.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),b=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==v.LINE_STRIP&&this.immediateMode.shapeMode!==v.LINES||(this.immediateMode.shapeMode=v.TRIANGLE_FAN,b=!0),this.immediateMode.shapeMode===v.QUADS?this.immediateMode.shapeMode=v.TRIANGLES:this.immediateMode.shapeMode===v.QUAD_STRIP&&(this.immediateMode.shapeMode=v.TRIANGLE_STRIP),this._doFill&&!b&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(_),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},u.default.RendererGL.prototype._processVertices=function(d){var f;this.immediateMode.geometry.vertices.length!==0&&(f=this._doStroke,d=d===v.CLOSE,f&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,d),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),f=this.immediateMode.shapeMode===v.TESS,d=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||f||d)&&this.immediateMode.shapeMode!==v.LINES&&this._tesselateShape())},u.default.RendererGL.prototype._calculateEdges=function(d,f,m){var l=[],h=0,g=this.immediateMode.contourIndices.slice(),b=0;switch(d){case v.TRIANGLE_STRIP:for(h=0;h<f.length-2;h++)l.push([h,h+1]),l.push([h,h+2]);l.push([h,h+1]);break;case v.TRIANGLE_FAN:for(h=1;h<f.length-1;h++)l.push([0,h]),l.push([h,h+1]);l.push([0,f.length-1]);break;case v.TRIANGLES:for(h=0;h<f.length-2;h+=3)l.push([h,h+1]),l.push([h+1,h+2]),l.push([h+2,h]);break;case v.LINES:for(h=0;h<f.length-1;h+=2)l.push([h,h+1]);break;case v.QUADS:for(h=0;h<f.length-5;h+=6)l.push([h,h+1]),l.push([h+1,h+2]),l.push([h+3,h+5]),l.push([h+4,h+5]);break;case v.QUAD_STRIP:for(h=0;h<f.length-2;h+=2)l.push([h,h+1]),l.push([h,h+2]),l.push([h+1,h+3]);l.push([h,h+1]);break;default:for(h=0;h<f.length;h++)h+1<f.length&&h+1!==g[0]?l.push([h,h+1]):((m||b)&&l.push([h,b]),0<g.length&&(b=g.shift()))}return d!==v.TESS&&m&&l.push([f.length-1,0]),l},u.default.RendererGL.prototype._tesselateShape=function(){for(var d=this,f=(this.immediateMode.shapeMode=v.TRIANGLES,[[]]),m=0;m<this.immediateMode.geometry.vertices.length;m++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===m&&(this.immediateMode.contourIndices.shift(),f.push([])),f[f.length-1].push(this.immediateMode.geometry.vertices[m].x,this.immediateMode.geometry.vertices[m].y,this.immediateMode.geometry.vertices[m].z,this.immediateMode.geometry.uvs[2*m],this.immediateMode.geometry.uvs[2*m+1],this.immediateMode.geometry.vertexColors[4*m],this.immediateMode.geometry.vertexColors[4*m+1],this.immediateMode.geometry.vertexColors[4*m+2],this.immediateMode.geometry.vertexColors[4*m+3],this.immediateMode.geometry.vertexNormals[m].x,this.immediateMode.geometry.vertexNormals[m].y,this.immediateMode.geometry.vertexNormals[m].z);for(var l,h=this._triangulate(f),g=this.immediateMode.geometry.vertices,b=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),_=0,A=h.length;_<A;_+=u.default.RendererGL.prototype.tessyVertexSize)b.push.apply(b,w(h.slice(_+5,_+9))),this.normal.apply(this,w(h.slice(_+9,_+12))),this.vertex.apply(this,w(h.slice(_,_+5)));this.geometryBuilder&&(l=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(P){return P.map(function(j){if(!l.has(j)){var E=g[j],k=d.immediateMode.geometry.vertices.findIndex(function(V){return E.x===V.x&&E.y===V.y&&E.z===V.z});if(k===-1){for(var M=1/0,I=0,S=0;S<d.immediateMode.geometry.vertices.length;S++){var L=d.immediateMode.geometry.vertices[S],O=E.x-L.x,T=E.y-L.y,L=E.z-L.z,O=O*O+T*T+L*L;O<M&&(M=O,I=S)}k=I}l.set(j,k)}return l.get(j)})})),this.immediateMode.geometry.vertexColors=b},u.default.RendererGL.prototype._drawImmediateFill=function(){var d,f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,m=this.GL,l=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,d=this._getImmediateFillShader(),this._setFillUniforms(d),!0),h=!1,g=void 0;try{for(var b,_=this.immediateMode.buffers.fill[Symbol.iterator]();!(l=(b=_.next()).done);l=!0)b.value._prepareBuffer(this.immediateMode.geometry,d)}catch(A){h=!0,g=A}finally{try{l||_.return==null||_.return()}finally{if(h)throw g}}if(d.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),f===1)m.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{m.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,f)}catch{console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode")}d.unbindShader()},u.default.RendererGL.prototype._drawImmediateStroke=function(){var d=this.GL,f=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),m=(this._setStrokeUniforms(f),!0),l=!1,h=void 0;try{for(var g,b=this.immediateMode.buffers.stroke[Symbol.iterator]();!(m=(g=b.next()).done);m=!0)g.value._prepareBuffer(this.immediateMode.geometry,f)}catch(_){l=!0,h=_}finally{try{m||b.return==null||b.return()}finally{if(l)throw h}}f.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),d.drawArrays(d.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),f.unbindShader()},u.default.RendererGL);y.default=a},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.find-index":157,"core-js/modules/es.array.from":161,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.map":174,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],336:[function(t,o,y){"use strict";function i(c){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(c)}function p(c){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(a){return i(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":i(a)})(c)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var u=(w=t("../core/main"))&&w.__esModule?w:{default:w},v=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(c){if(c&&c.__esModule)return c;if(c===null||p(c)!=="object"&&typeof c!="function")return{default:c};var a=x();if(a&&a.has(c))return a.get(c);var d,f={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in c){var l;Object.prototype.hasOwnProperty.call(c,d)&&((l=m?Object.getOwnPropertyDescriptor(c,d):null)&&(l.get||l.set)?Object.defineProperty(f,d,l):f[d]=c[d])}return f.default=c,a&&a.set(c,f),f}(t("../core/constants")));function x(){var c;return typeof WeakMap!="function"?null:(c=new WeakMap,x=function(){return c},c)}u.default.RendererGL.prototype.freeGeometry=function(c){c.gid?this._freeBuffers(c.gid):console.warn("The model you passed to freeGeometry does not have an id!")},u.default.RendererGL.prototype._initBufferDefaults=function(c){var a;return this._freeBuffers(c),1e3<Object.keys(this.retainedMode.geometry).length&&(a=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(a)),this.retainedMode.geometry[c]={}},u.default.RendererGL.prototype._freeBuffers=function(c){var a,d=this.retainedMode.geometry[c];function f(m){var l=!0,h=!1,g=void 0;try{for(var b,_=m[Symbol.iterator]();!(l=(b=_.next()).done);l=!0){var A=b.value;d[A.dst]&&(a.deleteBuffer(d[A.dst]),d[A.dst]=null)}}catch(P){h=!0,g=P}finally{try{l||_.return==null||_.return()}finally{if(h)throw g}}}d&&(delete this.retainedMode.geometry[c],a=this.GL,d.indexBuffer&&a.deleteBuffer(d.indexBuffer),f(this.retainedMode.buffers.stroke),f(this.retainedMode.buffers.fill))},u.default.RendererGL.prototype.createBuffers=function(h,a){var d,f,m,l=this.GL,h=this._initBufferDefaults(h),g=(h.model=a,h.indexBuffer);return a.faces.length?(g=g||(h.indexBuffer=l.createBuffer()),m=(f=(d=u.default.RendererGL.prototype._flatten(a.faces)).some(function(b){return 65535<b}))?Uint32Array:Uint16Array,this._bindBuffer(g,l.ELEMENT_ARRAY_BUFFER,d,m),h.indexBufferType=f?l.UNSIGNED_INT:l.UNSIGNED_SHORT,h.vertexCount=3*a.faces.length):(g&&(l.deleteBuffer(g),h.indexBuffer=null),h.vertexCount=a.vertices?a.vertices.length:0),h.lineVertexCount=a.lineVertices?a.lineVertices.length/3:0,h},u.default.RendererGL.prototype.drawBuffers=function(c){var a=this.GL,d=this.retainedMode.geometry[c];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[c].vertexCount){this._useVertexColor=0<d.model.vertexColors.length;var f=this._getRetainedFillShader(),m=(this._setFillUniforms(f),!0),l=!1,h=void 0;try{for(var g,b=this.retainedMode.buffers.fill[Symbol.iterator]();!(m=(g=b.next()).done);m=!0)g.value._prepareBuffer(d,f)}catch(E){l=!0,h=E}finally{try{m||b.return==null||b.return()}finally{if(l)throw h}}f.disableRemainingAttributes(),d.indexBuffer&&this._bindBuffer(d.indexBuffer,a.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,d.model.hasFillTransparency()),this._drawElements(a.TRIANGLES,c),f.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<d.lineVertexCount){this._useLineColor=0<d.model.vertexStrokeColors.length;var _=this._getRetainedStrokeShader(),A=(this._setStrokeUniforms(_),!0),l=!1,h=void 0;try{for(var P,j=this.retainedMode.buffers.stroke[Symbol.iterator]();!(A=(P=j.next()).done);A=!0)P.value._prepareBuffer(d,_)}catch(M){l=!0,h=M}finally{try{A||j.return==null||j.return()}finally{if(l)throw h}}_.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,d.model.hasStrokeTransparency()),this._drawArrays(a.TRIANGLES,c),_.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(d),this},u.default.RendererGL.prototype.drawBuffersScaled=function(c,a,d,f){var m=this.uMVMatrix.copy();try{this.uMVMatrix.scale(a,d,f),this.drawBuffers(c)}finally{this.uMVMatrix=m}},u.default.RendererGL.prototype._drawArrays=function(c,a){return this.GL.drawArrays(c,0,this.retainedMode.geometry[a].lineVertexCount),this},u.default.RendererGL.prototype._drawElements=function(c,d){var d=this.retainedMode.geometry[d],f=this.GL;if(d.indexBuffer){if(this._pInst.webglVersion!==v.WEBGL2&&d.indexBufferType===f.UNSIGNED_INT&&!f.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");f.drawElements(f.TRIANGLES,d.vertexCount,d.indexBufferType,0)}else f.drawArrays(c||f.TRIANGLES,0,d.vertexCount)},u.default.RendererGL.prototype._drawPoints=function(c,a){var d=this.GL,f=this._getImmediatePointShader();this._setPointUniforms(f),this._bindBuffer(a,d.ARRAY_BUFFER,this._vToNArray(c),Float32Array,d.STATIC_DRAW),f.enableAttrib(f.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),d.drawArrays(d.Points,0,c.length),f.unbindShader()};var w=u.default.RendererGL;y.default=w},{"../core/constants":269,"../core/main":280,"./p5.RenderBuffer":334,"./p5.RendererGL":337,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.some":169,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],337:[function(S,o,y){"use strict";function i(F){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(F)}function p(F){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(W){return i(W)}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":i(W)})(F)}S("core-js/modules/es.symbol"),S("core-js/modules/es.symbol.description"),S("core-js/modules/es.symbol.iterator"),S("core-js/modules/es.array.concat"),S("core-js/modules/es.array.copy-within"),S("core-js/modules/es.array.every"),S("core-js/modules/es.array.fill"),S("core-js/modules/es.array.flat"),S("core-js/modules/es.array.flat-map"),S("core-js/modules/es.array.from"),S("core-js/modules/es.array.includes"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.array.map"),S("core-js/modules/es.array.slice"),S("core-js/modules/es.array.some"),S("core-js/modules/es.array.unscopables.flat"),S("core-js/modules/es.array.unscopables.flat-map"),S("core-js/modules/es.map"),S("core-js/modules/es.object.assign"),S("core-js/modules/es.object.get-own-property-descriptor"),S("core-js/modules/es.object.get-prototype-of"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.reflect.construct"),S("core-js/modules/es.reflect.get"),S("core-js/modules/es.regexp.to-string"),S("core-js/modules/es.set"),S("core-js/modules/es.string.includes"),S("core-js/modules/es.string.iterator"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.float64-array"),S("core-js/modules/es.typed-array.int16-array"),S("core-js/modules/es.typed-array.uint8-array"),S("core-js/modules/es.typed-array.uint16-array"),S("core-js/modules/es.typed-array.uint32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),S("core-js/modules/es.weak-map"),S("core-js/modules/web.dom-collections.iterator"),S("core-js/modules/es.symbol"),S("core-js/modules/es.symbol.description"),S("core-js/modules/es.symbol.iterator"),S("core-js/modules/es.array.concat"),S("core-js/modules/es.array.copy-within"),S("core-js/modules/es.array.every"),S("core-js/modules/es.array.fill"),S("core-js/modules/es.array.flat"),S("core-js/modules/es.array.flat-map"),S("core-js/modules/es.array.from"),S("core-js/modules/es.array.includes"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.array.map"),S("core-js/modules/es.array.slice"),S("core-js/modules/es.array.some"),S("core-js/modules/es.array.unscopables.flat"),S("core-js/modules/es.array.unscopables.flat-map"),S("core-js/modules/es.map"),S("core-js/modules/es.object.assign"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.set"),S("core-js/modules/es.string.includes"),S("core-js/modules/es.string.iterator"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.float64-array"),S("core-js/modules/es.typed-array.int16-array"),S("core-js/modules/es.typed-array.uint8-array"),S("core-js/modules/es.typed-array.uint16-array"),S("core-js/modules/es.typed-array.uint32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),S("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.readPixelsWebGL=V,y.readPixelWebGL=H,y.default=void 0;var u=d(S("../core/main")),v=function(F){if(F&&F.__esModule)return F;if(F===null||p(F)!=="object"&&typeof F!="function")return{default:F};var W=a();if(W&&W.has(F))return W.get(F);var ee,J={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(ee in F){var D;Object.prototype.hasOwnProperty.call(F,ee)&&((D=N?Object.getOwnPropertyDescriptor(F,ee):null)&&(D.get||D.set)?Object.defineProperty(J,ee,D):J[ee]=F[ee])}return J.default=F,W&&W.set(F,J),J}(S("../core/constants")),x=d(S("./GeometryBuilder")),w=d(S("libtess")),c=(S("./p5.Shader"),S("./p5.Camera"),S("../core/p5.Renderer"),S("./p5.Matrix"),S("./p5.Framebuffer"),S("path"),S("./p5.Texture"));function a(){var F;return typeof WeakMap!="function"?null:(F=new WeakMap,a=function(){return F},F)}function d(F){return F&&F.__esModule?F:{default:F}}function f(F){return function(W){if(Array.isArray(W)){for(var ee=0,J=new Array(W.length);ee<W.length;ee++)J[ee]=W[ee];return J}}(F)||function(W){if(Symbol.iterator in Object(W)||Object.prototype.toString.call(W)==="[object Arguments]")return Array.from(W)}(F)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(F,W){for(var ee=0;ee<W.length;ee++){var J=W[ee];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(F,J.key,J)}}function l(F,W,ee){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(B,N,D){var B=function(Y,G){for(;!Object.prototype.hasOwnProperty.call(Y,G)&&(Y=_(Y))!==null;);return Y}(B,N);if(B)return(B=Object.getOwnPropertyDescriptor(B,N)).get?B.get.call(D):B.value})(F,W,ee||F)}function h(F,W){return(h=Object.setPrototypeOf||function(ee,J){return ee.__proto__=J,ee})(F,W)}function g(F){return function(){var W,ee,J=_(F);return W=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(W=_(this).constructor,Reflect.construct(J,arguments,W)):J.apply(this,arguments),J=this,!(ee=W)||p(ee)!=="object"&&typeof ee!="function"?b(J):ee}}function b(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function _(F){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(W){return W.__proto__||Object.getPrototypeOf(W)})(F)}function A(F,W,ee){W in F?Object.defineProperty(F,W,{value:ee,enumerable:!0,configurable:!0,writable:!0}):F[W]=ee}function P(F,W){I+="#define STROKE_CAP_".concat(F," ").concat(W,`
`),k[v[F]]=W}function j(F,W){I+="#define STROKE_JOIN_".concat(F," ").concat(W,`
`),M[v[F]]=W}var E,k={},M={},I="",S=(P("ROUND",0),P("PROJECT",1),P("SQUARE",2),j("ROUND",0),j("MITER",1),j("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float metallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),T={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:S+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:S+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:I+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float scale = mix(1., 0.995, facingCamera);

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:I+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},L=T.sphereMappingFrag;for(E in T)T[E]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+T[E];A(S={},v.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),A(S,v.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),A(S,v.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),A(S,v.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),A(S,v.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),A(S,v.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),A(S,v.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),A(S,v.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var O=S;function V(F,W,ne,J,N,D,B,Y,G,q){var X=W.getParameter(W.FRAMEBUFFER_BINDING),ne=(W.bindFramebuffer(W.FRAMEBUFFER,ne),Y===W.RGBA?4:3),$=D*B*ne,K=G===W.UNSIGNED_BYTE?Uint8Array:Float32Array;if(F instanceof K&&F.length===$||(F=new K($)),W.readPixels(J,q?q-N-B:N,D,B,Y,G,F),W.bindFramebuffer(W.FRAMEBUFFER,X),q)for(var Q=Math.floor(B/2),Z=new K(D*ne),re=0;re<Q;re++){var ie=re*D*4,he=(B-re-1)*D*4;Z.set(F.subarray(ie,ie+4*D)),F.copyWithin(ie,he,he+4*D),F.set(Z,he)}return F}function H(F,G,ee,J,N,D,B){var Y=F.getParameter(F.FRAMEBUFFER_BINDING),G=(F.bindFramebuffer(F.FRAMEBUFFER,G),N===F.RGBA?4:3),G=new(D===F.UNSIGNED_BYTE?Uint8Array:Float32Array)(G);return F.readPixels(ee,B?B-J-1:J,1,1,N,D,G),F.bindFramebuffer(F.FRAMEBUFFER,Y),Array.from(G)}u.default.prototype.setAttributes=function(F,W){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var ee=!0;if(W!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[F]!==W&&(this._glAttributes[F]=W,ee=!1)):F instanceof Object&&this._glAttributes!==F&&(this._glAttributes=F,ee=!1),this._renderer.isP3D&&!ee){if(!this._setupDone){for(var J in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(J))return void u.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},u.default.RendererGL=function(F){var W=N;if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");W.prototype=Object.create(F&&F.prototype,{constructor:{value:W,writable:!0,configurable:!0}}),F&&h(W,F);var ee,J=g(N);function N(D,B,Y,G){if(this instanceof N)return(D=J.call(this,D,B,Y))._setAttributeDefaults(B),D._initContext(),D.isP3D=!0,D.geometryBuilder=void 0,D.GL=D.drawingContext,D._pInst._setProperty("drawingContext",D.drawingContext),D._isErasing=!1,D._clipDepths=[],D._isClipApplied=!1,D._stencilTestOn=!1,D._enableLighting=!1,D.ambientLightColors=[],D.mixedAmbientLight=[],D.mixedSpecularColor=[],D.specularColors=[1,1,1],D.directionalLightDirections=[],D.directionalLightDiffuseColors=[],D.directionalLightSpecularColors=[],D.pointLightPositions=[],D.pointLightDiffuseColors=[],D.pointLightSpecularColors=[],D.spotLightPositions=[],D.spotLightDirections=[],D.spotLightDiffuseColors=[],D.spotLightSpecularColors=[],D.spotLightAngle=[],D.spotLightConc=[],D.activeImageLight=null,D.diffusedTextures=new Map,D.specularTextures=new Map,D.drawMode=v.FILL,D.curFillColor=D._cachedFillStyle=[1,1,1,1],D.curAmbientColor=D._cachedFillStyle=[1,1,1,1],D.curSpecularColor=D._cachedFillStyle=[0,0,0,0],D.curEmissiveColor=D._cachedFillStyle=[0,0,0,0],D.curStrokeColor=D._cachedStrokeStyle=[0,0,0,1],D.curBlendMode=v.BLEND,D.preEraseBlend=void 0,D._cachedBlendMode=void 0,D.webglVersion===v.WEBGL2?D.blendExt=D.GL:D.blendExt=D.GL.getExtension("EXT_blend_minmax"),D._isBlending=!1,D._hasSetAmbient=!1,D._useSpecularMaterial=!1,D._useEmissiveMaterial=!1,D._useNormalMaterial=!1,D._useShininess=1,D._useMetalness=0,D._useLineColor=!1,D._useVertexColor=!1,D.registerEnabled=new Set,D._tint=[255,255,255,255],D.constantAttenuation=1,D.linearAttenuation=0,D.quadraticAttenuation=0,D.uMVMatrix=new u.default.Matrix,D.uPMatrix=new u.default.Matrix,D.uNMatrix=new u.default.Matrix("mat3"),D.curMatrix=new u.default.Matrix("mat3"),D._currentNormal=new u.default.Vector(0,0,1),D._curCamera=new u.default.Camera(b(D)),D._curCamera._computeCameraDefaultSettings(),D._curCamera._setDefaultCamera(),D.filterCamera=new u.default.Camera(b(D)),D.filterCamera._computeCameraDefaultSettings(),D.filterCamera._setDefaultCamera(),D.prevTouches=[],D.zoomVelocity=0,D.rotateVelocity=new u.default.Vector(0,0),D.moveVelocity=new u.default.Vector(0,0),D.executeZoom=!1,D.executeRotateAndMove=!1,D.specularShader=void 0,D.sphereMapping=void 0,D.diffusedShader=void 0,D._defaultLightShader=void 0,D._defaultImmediateModeShader=void 0,D._defaultNormalShader=void 0,D._defaultColorShader=void 0,D._defaultPointShader=void 0,D.userFillShader=void 0,D.userStrokeShader=void 0,D.userPointShader=void 0,D.retainedMode={geometry:{},buffers:{stroke:[new u.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(D)),new u.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(D)),new u.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(D)),new u.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(D)),new u.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(D))],fill:[new u.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(D),D._vToNArray),new u.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(D),D._vToNArray),new u.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(D)),new u.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(D)),new u.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(D),D._flatten)],text:[new u.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(D),D._vToNArray),new u.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(D),D._flatten)]}},D.immediateMode={geometry:new u.default.Geometry,shapeMode:v.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new u.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",b(D),D._vToNArray),new u.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",b(D),D._vToNArray),new u.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",b(D)),new u.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",b(D)),new u.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",b(D),D._flatten)],stroke:[new u.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",b(D)),new u.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",b(D)),new u.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",b(D)),new u.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",b(D)),new u.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",b(D))],point:D.GL.createBuffer()}},D.pointSize=5,D.curStrokeWeight=1,D.curStrokeCap=v.ROUND,D.curStrokeJoin=v.ROUND,D.textures=new Map,D.framebuffers=new Set,D.activeFramebuffers=[],D.filterShader=void 0,D.filterLayer=void 0,D.filterLayerTemp=void 0,D.defaultFilterShaders={},D.textureMode=v.IMAGE,D.textureWrapX=v.CLAMP,D.textureWrapY=v.CLAMP,D._tex=null,D._curveTightness=6,D._lookUpTableBezier=[],D._lookUpTableQuadratic=[],D._lutBezierDetail=0,D._lutQuadraticDetail=0,D.isProcessingVertices=!1,D._tessy=D._initTessy(),D.fontInfos={},D._curShader=void 0,D;throw new TypeError("Cannot call a class as a function")}return W=N,(F=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new x.default(this)}},{key:"endGeometry",value:function(){var D;if(this.geometryBuilder)return D=this.geometryBuilder.finish(),this.geometryBuilder=void 0,D;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(D){return this.beginGeometry(),D(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(D){var B={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};D._glAttributes===null?D._glAttributes=B:D._glAttributes=Object.assign(B,D._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?v.WEBGL2:v.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var D=this.drawingContext;D.enable(D.DEPTH_TEST),D.depthFunc(D.LEQUAL),D.viewport(0,0,D.drawingBufferWidth,D.drawingBufferHeight),D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var D=this.drawingContext;return D.getParameter(D.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(D,B){this._maxTextureSize||(this._maxTextureSize=this._getParam());var G=this._maxTextureSize,G=(u.default.prototype._maxAllowedPixelDimensions,Math.floor(G/this.pixelDensity())),Y=Math.min(D,G),G=Math.min(B,G);return Y===D&&G===B||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(Y,", height: ").concat(G,".")),{adjustedWidth:Y,adjustedHeight:G}}},{key:"_resetContext",value:function(D,B){var Y,G=this.width,q=this.height,ne=this.canvas.id,X=this._pInst instanceof u.default.Graphics,ne=(X?((Y=this._pInst).canvas.parentNode.removeChild(Y.canvas),Y.canvas=document.createElement("canvas"),(Y._pInst._userNode||document.body).appendChild(Y.canvas),u.default.Element.call(Y,Y.canvas,Y._pInst),Y.width=G,Y.height=q):((Y=this.canvas)&&Y.parentNode.removeChild(Y),(Y=document.createElement("canvas")).id=ne,(this._pInst._userNode||document.body).appendChild(Y),this._pInst.canvas=Y,this.canvas=Y),new u.default.RendererGL(this._pInst.canvas,this._pInst,!X));this._pInst._setProperty("_renderer",ne),ne.resize(G,q),ne._applyDefaults(),X||this._pInst._elements.push(ne),typeof B=="function"&&setTimeout(function(){B.apply(window._renderer,D)},0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var G=(G=this._pInst).color.apply(G,arguments),D=G.levels[0]/255,B=G.levels[1]/255,Y=G.levels[2]/255,G=G.levels[3]/255;this.clear(D,B,Y,G)}},{key:"fill",value:function(D,B,Y,G){var q=u.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=q._array,this.drawMode=v.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(D,B,Y,G){var q=u.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=q._array}},{key:"strokeCap",value:function(D){this.curStrokeCap=D}},{key:"strokeJoin",value:function(D){this.curStrokeJoin=D}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(D,B){D.width===B.width&&D.height===B.height||D.resize(B.width,B.height),D.pixelDensity()!==B.pixelDensity()&&D.pixelDensity(B.pixelDensity())}},{key:"filter",value:function(){var D,B,Y=this,G=this.getFilterLayer(),q=void 0,X=void 0,ne=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(X=arguments.length<=0?void 0:arguments[0],A(D={},v.BLUR,3),A(D,v.POSTERIZE,4),A(D,v.THRESHOLD,.5),q=X in(D=D)&&(arguments.length<=1?void 0:arguments[1])===void 0?D[X]:arguments.length<=1?void 0:arguments[1],X in this.defaultFilterShaders||(this.defaultFilterShaders[X]=new u.default.Shader(G._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,O[X])),this.filterShader=this.defaultFilterShaders[X]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),$=(this.matchSize(G,ne),G.draw(function(){return Y._pInst.clear()}),[1/(ne.width*ne.pixelDensity()),1/(ne.height*ne.pixelDensity())]);X===v.BLUR?(B=this.getFilterLayerTemp(),this.matchSize(B,ne),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(v.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",$),this.filterShader.setUniform("canvasSize",[ne.width,ne.height]),this.filterShader.setUniform("radius",Math.max(1,q)),B.draw(function(){Y.filterShader.setUniform("direction",[1,0]),Y.filterShader.setUniform("tex0",ne),Y._pInst.clear(),Y._pInst.shader(Y.filterShader),Y._pInst.noLights(),Y._pInst.plane(ne.width,ne.height)}),G.draw(function(){Y.filterShader.setUniform("direction",[0,1]),Y.filterShader.setUniform("tex0",B),Y._pInst.clear(),Y._pInst.shader(Y.filterShader),Y._pInst.noLights(),Y._pInst.plane(ne.width,ne.height)}),this._pInst.pop()):G.draw(function(){Y._pInst.noStroke(),Y._pInst.blendMode(v.BLEND),Y._pInst.shader(Y.filterShader),Y.filterShader.setUniform("tex0",ne),Y.filterShader.setUniform("texelSize",$),Y.filterShader.setUniform("canvasSize",[ne.width,ne.height]),Y.filterShader.setUniform("filterParameter",q),Y._pInst.noLights(),Y._pInst.plane(ne.width,ne.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(v.CORNER),this._pInst.blendMode(v.BLEND),ne.filterCamera._resize(),this._pInst.setCamera(ne.filterCamera),this._pInst.resetMatrix(),this._pInst.image(G,-ne.width/2,-ne.height/2,ne.width,ne.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(D){return D?this._pInst.pixelDensity(D):this._pInst.pixelDensity()}},{key:"blendMode",value:function(D){D===v.DARKEST||D===v.LIGHTEST||D===v.ADD||D===v.BLEND||D===v.SUBTRACT||D===v.SCREEN||D===v.EXCLUSION||D===v.REPLACE||D===v.MULTIPLY||D===v.REMOVE?this.curBlendMode=D:D!==v.BURN&&D!==v.OVERLAY&&D!==v.HARD_LIGHT&&D!==v.SOFT_LIGHT&&D!==v.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(D,B){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(v.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,D/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,B/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},D=(l(_(N.prototype),"beginClip",this).call(this,D),this.drawTarget()._isClipApplied=!0,this.GL);D.clearStencil(0),D.clear(D.STENCIL_BUFFER_BIT),D.enable(D.STENCIL_TEST),this._stencilTestOn=!0,D.stencilFunc(D.ALWAYS,1,255),D.stencilOp(D.KEEP,D.KEEP,D.REPLACE),D.disable(D.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var D=this.GL;D.stencilOp(D.KEEP,D.KEEP,D.KEEP),D.stencilFunc(this._clipInvert?D.EQUAL:D.NOTEQUAL,0,255),D.enable(D.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),l(_(N.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(D){this.curStrokeWeight!==D&&(this.pointSize=D,this.curStrokeWeight=D)}},{key:"_getPixel",value:function(D,B){var Y=this.GL;return H(Y,null,D,B,Y.RGBA,Y.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var D,B,Y=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(D=this._pInst._pixelDensity,B=this.GL,Y._setProperty("pixels",V(Y.pixels,B,null,0,0,this.width*D,this.height*D,B.RGBA,B.UNSIGNED_BYTE,this.height*D)))}},{key:"updatePixels",value:function(){var D=this._getTempFramebuffer();D.pixels=this._pixelsState.pixels,D.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(v.CENTER),this._pInst.image(D,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:v.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:v.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(D){return this.retainedMode.geometry[D]!==void 0}},{key:"viewport",value:function(D,B){this._viewport=[0,0,D,B],this.GL.viewport(0,0,D,B)}},{key:"resize",value:function(q,G){u.default.Renderer.prototype.resize.call(this,q,G),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var q=this._pixelsState,Y=(q.pixels!==void 0&&q._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),G=!1,q=void 0;try{for(var X,ne=this.framebuffers[Symbol.iterator]();!(Y=(X=ne.next()).done);Y=!0)X.value._canvasSizeChanged()}catch($){G=!0,q=$}finally{try{Y||ne.return==null||ne.return()}finally{if(G)throw q}}}},{key:"clear",value:function(){var D=(arguments.length<=0?void 0:arguments[0])||0,B=(arguments.length<=1?void 0:arguments[1])||0,Y=(arguments.length<=2?void 0:arguments[2])||0,G=(arguments.length<=3?void 0:arguments[3])||0,q=this.activeFramebuffer();q&&q.format===v.UNSIGNED_BYTE&&!q.antialias&&G===0&&(G=1e-10),this.GL.clearColor(D*G,B*G,Y*G,G),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(D,B,Y,G,q,X){arguments.length===16?u.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([D,B,0,0,Y,G,0,0,0,0,1,0,q,X,0,1])}},{key:"translate",value:function(D,B,Y){return D instanceof u.default.Vector&&(Y=D.z,B=D.y,D=D.x),this.uMVMatrix.translate([D,B,Y]),this}},{key:"scale",value:function(D,B,Y){return this.uMVMatrix.scale(D,B,Y),this}},{key:"rotate",value:function(D,B){return B===void 0?this.rotateZ(D):(u.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(D){return this.rotate(D,1,0,0),this}},{key:"rotateY",value:function(D){return this.rotate(D,0,1,0),this}},{key:"rotateZ",value:function(D){return this.rotate(D,0,0,1),this}},{key:"push",value:function(){var D=u.default.Renderer.prototype.push.apply(this),B=D.properties;return B.uMVMatrix=this.uMVMatrix.copy(),B.uPMatrix=this.uPMatrix.copy(),B._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),B.ambientLightColors=this.ambientLightColors.slice(),B.specularColors=this.specularColors.slice(),B.directionalLightDirections=this.directionalLightDirections.slice(),B.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),B.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),B.pointLightPositions=this.pointLightPositions.slice(),B.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),B.pointLightSpecularColors=this.pointLightSpecularColors.slice(),B.spotLightPositions=this.spotLightPositions.slice(),B.spotLightDirections=this.spotLightDirections.slice(),B.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),B.spotLightSpecularColors=this.spotLightSpecularColors.slice(),B.spotLightAngle=this.spotLightAngle.slice(),B.spotLightConc=this.spotLightConc.slice(),B.userFillShader=this.userFillShader,B.userStrokeShader=this.userStrokeShader,B.userPointShader=this.userPointShader,B.pointSize=this.pointSize,B.curStrokeWeight=this.curStrokeWeight,B.curStrokeColor=this.curStrokeColor,B.curFillColor=this.curFillColor,B.curAmbientColor=this.curAmbientColor,B.curSpecularColor=this.curSpecularColor,B.curEmissiveColor=this.curEmissiveColor,B._hasSetAmbient=this._hasSetAmbient,B._useSpecularMaterial=this._useSpecularMaterial,B._useEmissiveMaterial=this._useEmissiveMaterial,B._useShininess=this._useShininess,B._useMetalness=this._useMetalness,B.constantAttenuation=this.constantAttenuation,B.linearAttenuation=this.linearAttenuation,B.quadraticAttenuation=this.quadraticAttenuation,B._enableLighting=this._enableLighting,B._useNormalMaterial=this._useNormalMaterial,B._tex=this._tex,B.drawMode=this.drawMode,B._currentNormal=this._currentNormal,B.curBlendMode=this.curBlendMode,B.activeImageLight=this.activeImageLight,D}},{key:"pop",value:function(){var D;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var B=arguments.length,Y=new Array(B),G=0;G<B;G++)Y[G]=arguments[G];(D=l(_(N.prototype),"pop",this)).call.apply(D,[this].concat(Y)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var D=this.drawTarget();D._isClipApplied!==this._stencilTestOn&&(D._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var D=this.userStrokeShader;return D&&D.isStrokeShader()?D:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(D){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(L)),this.uNMatrix.inverseTranspose(this.uMVMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",D),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var D=this.userFillShader;if(this._useNormalMaterial&&(!D||!D.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!D||!D.isLightShader())return this._getLightShader()}else if(this._tex){if(!D||!D.isTextureShader())return this._getLightShader()}else if(!D)return this._getImmediateModeShader();return D}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var D=this.userFillShader;if(this._enableLighting){if(!D||!D.isLightShader())return this._getLightShader()}else if(this._tex){if(!D||!D.isTextureShader())return this._getLightShader()}else if(!D)return this._getColorShader();return D}},{key:"_getImmediatePointShader",value:function(){var D=this.userPointShader;return D&&D.isPointShader()?D:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+T.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+T.phongFrag):this._defaultLightShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+T.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+T.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+T.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+T.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+T.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+T.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+T.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+T.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+T.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+T.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+T.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+T.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===v.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new u.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+T.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+T.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(D,B){var Y="";return this.webglVersion===v.WEBGL2&&(Y+=`#version 300 es
#define WEBGL2
`),D==="vert"?Y+=`#define VERTEX_SHADER
`:D==="frag"&&(Y+=`#define FRAGMENT_SHADER
`),B&&(Y+="precision ".concat(B,` float;
`)),Y}},{key:"_getEmptyTexture",value:function(){var D;return this._emptyTexture||((D=new u.default.Image(1,1)).set(0,0,255),this._emptyTexture=new u.default.Texture(this,D)),this._emptyTexture}},{key:"getTexture",value:function(D){D instanceof u.default.Framebuffer&&(D=D.color);var B=this.textures.get(D);return B||(B=new u.default.Texture(this,D),this.textures.set(D,B),B)}},{key:"getDiffusedTexture",value:function(D){var B,Y,G=this;return this.diffusedTextures.get(D)!=null?this.diffusedTextures.get(D):(B=Math.floor(D.height/D.width*200),Y=this._pInst.createFramebuffer({width:200,height:B,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(T.imageLightVert,T.imageLightDiffusedFrag)),Y.draw(function(){G._pInst.shader(G.diffusedShader),G.diffusedShader.setUniform("environmentMap",D),G._pInst.noStroke(),G._pInst.rectMode(v.CENTER),G._pInst.noLights(),G._pInst.rect(0,0,200,B)}),this.diffusedTextures.set(D,Y),Y)}},{key:"getSpecularTexture",value:function(D){var B=this;if(this.specularTextures.get(D)!=null)return this.specularTextures.get(D);for(var Y,G=[],q=this._pInst.createFramebuffer({width:512,height:512,density:1}),X=Math.log(512)/Math.log(2),ne=(this.specularShader||(this.specularShader=this._pInst.createShader(T.imageLightVert,T.imageLightSpecularFrag)),512);1<=ne;ne/=2)(function($){q.resize($,$);var K=1-Math.log($)/Math.log(2)/X;q.draw(function(){B._pInst.shader(B.specularShader),B._pInst.clear(),B.specularShader.setUniform("environmentMap",D),B.specularShader.setUniform("roughness",K),B._pInst.noStroke(),B._pInst.noLights(),B._pInst.plane($,$)}),G.push(q.get().drawingContext.getImageData(0,0,$,$))})(ne);return q.remove(),Y=new c.MipmapTexture(this,G,{}),this.specularTextures.set(D,Y),Y}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(D){return new u.default.Framebuffer(this,D)}},{key:"_setStrokeUniforms",value:function(D){D.bindShader(),D.setUniform("uUseLineColor",this._useLineColor),D.setUniform("uMaterialColor",this.curStrokeColor),D.setUniform("uStrokeWeight",this.curStrokeWeight),D.setUniform("uStrokeCap",k[this.curStrokeCap]),D.setUniform("uStrokeJoin",M[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(D){var B=this,Y=(D.bindShader(),this.mixedSpecularColor=f(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(G,q){return B.curFillColor[q]*B._useMetalness+G*(1-B._useMetalness)})),D.setUniform("uUseVertexColor",this._useVertexColor),D.setUniform("uMaterialColor",this.curFillColor),D.setUniform("isTexture",!!this._tex),this._tex&&D.setUniform("uSampler",this._tex),D.setUniform("uTint",this._tint),D.setUniform("uHasSetAmbient",this._hasSetAmbient),D.setUniform("uAmbientMatColor",this.curAmbientColor),D.setUniform("uSpecularMatColor",this.mixedSpecularColor),D.setUniform("uEmissiveMatColor",this.curEmissiveColor),D.setUniform("uSpecular",this._useSpecularMaterial),D.setUniform("uEmissive",this._useEmissiveMaterial),D.setUniform("uShininess",this._useShininess),D.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(D),D.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),Y=(D.setUniform("uPointLightCount",Y),D.setUniform("uPointLightLocation",this.pointLightPositions),D.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),D.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),Y=(D.setUniform("uDirectionalLightCount",Y),D.setUniform("uLightingDirection",this.directionalLightDirections),D.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),D.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),Y=(this.mixedAmbientLight=f(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(G){return G-=B._useMetalness,Math.max(0,G)})),D.setUniform("uAmbientLightCount",Y),D.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);D.setUniform("uSpotLightCount",Y),D.setUniform("uSpotLightAngle",this.spotLightAngle),D.setUniform("uSpotLightConc",this.spotLightConc),D.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),D.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),D.setUniform("uSpotLightLocation",this.spotLightPositions),D.setUniform("uSpotLightDirection",this.spotLightDirections),D.setUniform("uConstantAttenuation",this.constantAttenuation),D.setUniform("uLinearAttenuation",this.linearAttenuation),D.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),D.bindTextures()}},{key:"_setImageLightUniforms",value:function(D){var B,Y;D.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(B=this.getDiffusedTexture(this.activeImageLight),D.setUniform("environmentMapDiffused",B),B=this.getSpecularTexture(this.activeImageLight),Y=20/this._useShininess,D.setUniform("levelOfDetail",8*Y),D.setUniform("environmentMapSpecular",B))}},{key:"_setPointUniforms",value:function(D){D.bindShader(),D.setUniform("uMaterialColor",this.curStrokeColor),D.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(D,B,Y,G,q){B=B||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(B,D),Y!==void 0&&((D=Y)instanceof u.default.DataArray?D=Y.dataArray():D instanceof(G||Float32Array)||(D=new(G||Float32Array)(D)),this.GL.bufferData(B,D,q||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(D,B){return D.length===B.length&&D.every(function(Y,G){return Y===B[G]})}},{key:"_isTypedArray",value:function(D){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(B){return D instanceof B})}},{key:"_flatten",value:function(D){return D.flat()}},{key:"_vToNArray",value:function(D){return D.flatMap(function(B){return[B.x,B.y,B.z]})}},{key:"_bezierCoefficients",value:function(D){var B=D*D,Y=1-D,G=Y*Y;return[G*Y,3*G*D,3*Y*B,B*D]}},{key:"_quadraticCoefficients",value:function(D){var B=1-D;return[B*B,2*B*D,D*D]}},{key:"_bezierToCatmull",value:function(D){return[D[1],D[1]+(D[2]-D[0])/this._curveTightness,D[2]-(D[3]-D[1])/this._curveTightness,D[2]]}},{key:"_initTessy",value:function(){var D=new w.default.GluTesselator;return D.gluTessCallback(w.default.gluEnum.GLU_TESS_VERTEX_DATA,function(B,Y){var G=!0,q=!1,X=void 0;try{for(var ne,$=B[Symbol.iterator]();!(G=(ne=$.next()).done);G=!0){var K=ne.value;Y.push(K)}}catch(Q){q=!0,X=Q}finally{try{G||$.return==null||$.return()}finally{if(q)throw X}}}),D.gluTessCallback(w.default.gluEnum.GLU_TESS_BEGIN,function(B){B!==w.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(B))}),D.gluTessCallback(w.default.gluEnum.GLU_TESS_ERROR,function(B){console.log("error callback"),console.log("error number: ".concat(B))}),D.gluTessCallback(w.default.gluEnum.GLU_TESS_COMBINE,function(B,Y,G){for(var q=new Array(u.default.RendererGL.prototype.tessyVertexSize).fill(0),X=0;X<G.length;X++)for(var ne=0;ne<q.length;ne++)G[X]!==0&&Y[X]&&(q[ne]+=Y[X][ne]*G[X]);return q}),D.gluTessCallback(w.default.gluEnum.GLU_TESS_EDGE_FLAG,function(B){}),D.gluTessProperty(w.default.gluEnum.GLU_TESS_WINDING_RULE,w.default.windingRule.GLU_TESS_WINDING_NONZERO),D}},{key:"_triangulate",value:function(D){var B=D[0]?D[0][2]:void 0,Y=!0,G=!0,K=!1,Z=void 0;try{for(var q,X=D[Symbol.iterator]();!(G=(q=X.next()).done);G=!0)for(var ne=q.value,$=0;$<ne.length;$+=u.default.RendererGL.prototype.tessyVertexSize)if(ne[$+2]!==B){Y=!1;break}}catch(Ee){K=!0,Z=Ee}finally{try{G||X.return==null||X.return()}finally{if(K)throw Z}}Y?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var K=[],Q=(this._tessy.gluTessBeginPolygon(K),!0),Z=!1,re=void 0;try{for(var ie,he=D[Symbol.iterator]();!(Q=(ie=he.next()).done);Q=!0){var ue=ie.value;this._tessy.gluTessBeginContour();for(var fe=0;fe<ue.length;fe+=u.default.RendererGL.prototype.tessyVertexSize){var xe=ue.slice(fe,fe+u.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(xe,xe)}this._tessy.gluTessEndContour()}}catch(Ee){Z=!0,re=Ee}finally{try{Q||he.return==null||he.return()}finally{if(Z)throw re}}return this._tessy.gluTessEndPolygon(),K}}])&&m(W.prototype,F),ee&&m(W,ee),N}(u.default.Renderer),u.default.prototype._assert3d=function(F){if(!this._renderer.isP3D)throw new Error("".concat(F,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},u.default.RendererGL.prototype.tessyVertexSize=12,S=u.default.RendererGL,y.default=S},{"../core/constants":269,"../core/main":280,"../core/p5.Renderer":283,"./GeometryBuilder":324,"./p5.Camera":329,"./p5.Framebuffer":331,"./p5.Matrix":333,"./p5.Shader":338,"./p5.Texture":339,"core-js/modules/es.array.concat":152,"core-js/modules/es.array.copy-within":153,"core-js/modules/es.array.every":154,"core-js/modules/es.array.fill":155,"core-js/modules/es.array.flat":159,"core-js/modules/es.array.flat-map":158,"core-js/modules/es.array.from":161,"core-js/modules/es.array.includes":162,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.map":167,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.array.unscopables.flat":172,"core-js/modules/es.array.unscopables.flat-map":171,"core-js/modules/es.map":174,"core-js/modules/es.object.assign":181,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.reflect.get":190,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.set":194,"core-js/modules/es.string.includes":196,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.float32-array":216,"core-js/modules/es.typed-array.float64-array":217,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.int16-array":221,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint16-array":237,"core-js/modules/es.typed-array.uint32-array":238,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243,libtess:252,path:255}],338:[function(t,o,y){"use strict";t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function p(u,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(u,w.key,w)}}i.default.Shader=function(){function u(c,a,d){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._renderer=c,this._vertSrc=a,this._fragSrc=d,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var v,x,w;return v=u,(x=[{key:"init",value:function(){if(this._glProgram===0){var c=this._renderer.GL;if(this._vertShader=c.createShader(c.VERTEX_SHADER),c.shaderSource(this._vertShader,this._vertSrc),c.compileShader(this._vertShader),!c.getShaderParameter(this._vertShader,c.COMPILE_STATUS))return i.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(c.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=c.createShader(c.FRAGMENT_SHADER),c.shaderSource(this._fragShader,this._fragSrc),c.compileShader(this._fragShader),!c.getShaderParameter(this._fragShader,c.COMPILE_STATUS))return i.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(c.getShaderInfoLog(this._fragShader))),null;this._glProgram=c.createProgram(),c.attachShader(this._glProgram,this._vertShader),c.attachShader(this._glProgram,this._fragShader),c.linkProgram(this._glProgram),c.getProgramParameter(this._glProgram,c.LINK_STATUS)||i.default._friendlyError("Snap! Error linking shader program: ".concat(c.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(c){var a=new i.default.Shader(c._renderer,this._vertSrc,this._fragSrc);return a.ensureCompiledOnContext(c),a}},{key:"ensureCompiledOnContext",value:function(c){if(this._glProgram!==0&&this._renderer!==c._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=c._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var c=this._renderer.GL,a=c.getProgramParameter(this._glProgram,c.ACTIVE_ATTRIBUTES),d=0;d<a;++d){var f=c.getActiveAttrib(this._glProgram,d),m=f.name,l=c.getAttribLocation(this._glProgram,m),h={};h.name=m,h.location=l,h.index=d,h.type=f.type,h.size=f.size,this.attributes[m]=h}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var c=this._renderer.GL,a=c.getProgramParameter(this._glProgram,c.ACTIVE_UNIFORMS),d=0,f=0;f<a;++f){var m=c.getActiveUniform(this._glProgram,f),l={},h=(l.location=c.getUniformLocation(this._glProgram,m.name),l.size=m.size,m.name);1<m.size&&(h=h.substring(0,h.indexOf("[0]"))),l.name=h,l.type=m.type,l._cachedData=void 0,l.type===c.SAMPLER_2D&&(l.samplerIndex=d,d++,this.samplers.push(l)),l.isArray=1<m.size||l.type===c.FLOAT_MAT3||l.type===c.FLOAT_MAT4||l.type===c.FLOAT_VEC2||l.type===c.FLOAT_VEC3||l.type===c.FLOAT_VEC4||l.type===c.INT_VEC2||l.type===c.INT_VEC4||l.type===c.INT_VEC3,this.uniforms[h]=l}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var c=this._renderer.GL,a=!0,d=!1,f=void 0;try{for(var m,l=this.samplers[Symbol.iterator]();!(a=(m=l.next()).done);a=!0){var h=m.value,g=h.texture;g===void 0&&(g=this._renderer._getEmptyTexture()),c.activeTexture(c.TEXTURE0+h.samplerIndex),g.bindTexture(),g.update(),c.uniform1i(h.location,h.samplerIndex)}}catch(b){d=!0,f=b}finally{try{a||l.return==null||l.return()}finally{if(d)throw f}}}},{key:"updateTextures",value:function(){var c=!0,a=!1,d=void 0;try{for(var f,m=this.samplers[Symbol.iterator]();!(c=(f=m.next()).done);c=!0){var l=f.value.texture;l&&l.update()}}catch(h){a=!0,d=h}finally{try{c||m.return==null||m.return()}finally{if(a)throw d}}}},{key:"unbindTextures",value:function(){var c=!0,a=!1,d=void 0;try{for(var f,m=this.samplers[Symbol.iterator]();!(c=(f=m.next()).done);c=!0){var l=f.value;this.setUniform(l.name,this._renderer._getEmptyTexture())}}catch(h){a=!0,d=h}finally{try{c||m.return==null||m.return()}finally{if(a)throw d}}}},{key:"_setMatrixUniforms",value:function(){var c=this._renderer._curCamera.cameraMatrix,a=this._renderer.uPMatrix,d=this._renderer.uMVMatrix,f=d.copy();f.mult(a),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",c.mat4),this.setUniform("uProjectionMatrix",a.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",f.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer._curCamera.cameraMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var c=this._renderer.GL;return this._renderer._curShader!==this&&(c.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(c,a){var d=this.uniforms[c];if(d){var f=this._renderer.GL;if(d.isArray){if(d._cachedData&&this._renderer._arraysEqual(d._cachedData,a))return;d._cachedData=a.slice(0)}else{if(d._cachedData&&d._cachedData===a)return;Array.isArray(a)?d._cachedData=a.slice(0):d._cachedData=a}var m=d.location;switch(this.useProgram(),d.type){case f.BOOL:a===!0?f.uniform1i(m,1):f.uniform1i(m,0);break;case f.INT:1<d.size?a.length&&f.uniform1iv(m,a):f.uniform1i(m,a);break;case f.FLOAT:1<d.size?a.length&&f.uniform1fv(m,a):f.uniform1f(m,a);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(m,!1,a);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(m,!1,a);break;case f.FLOAT_VEC2:1<d.size?a.length&&f.uniform2fv(m,a):f.uniform2f(m,a[0],a[1]);break;case f.FLOAT_VEC3:1<d.size?a.length&&f.uniform3fv(m,a):f.uniform3f(m,a[0],a[1],a[2]);break;case f.FLOAT_VEC4:1<d.size?a.length&&f.uniform4fv(m,a):f.uniform4f(m,a[0],a[1],a[2],a[3]);break;case f.INT_VEC2:1<d.size?a.length&&f.uniform2iv(m,a):f.uniform2i(m,a[0],a[1]);break;case f.INT_VEC3:1<d.size?a.length&&f.uniform3iv(m,a):f.uniform3i(m,a[0],a[1],a[2]);break;case f.INT_VEC4:1<d.size?a.length&&f.uniform4iv(m,a):f.uniform4i(m,a[0],a[1],a[2],a[3]);break;case f.SAMPLER_2D:f.activeTexture(f.TEXTURE0+d.samplerIndex),d.texture=a instanceof i.default.Texture?a:this._renderer.getTexture(a),f.uniform1i(m,d.samplerIndex),d.texture.src.gifProperties&&d.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(c){return c!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(c,a,d,f,m,l){var h;return c&&(c=c.location)!==-1&&(h=this._renderer.GL,this._renderer.registerEnabled.has(c)||(h.enableVertexAttribArray(c),this._renderer.registerEnabled.add(c)),this._renderer.GL.vertexAttribPointer(c,a,d||h.FLOAT,f||!1,m||0,l||0)),this}},{key:"disableRemainingAttributes",value:function(){var c=this,a=!0,d=!1,f=void 0;try{for(var m,l=this._renderer.registerEnabled.values()[Symbol.iterator]();!(a=(m=l.next()).done);a=!0)(function(){var h=m.value;Object.keys(c.attributes).some(function(g){return c.attributes[g].location===h})||(c._renderer.GL.disableVertexAttribArray(h),c._renderer.registerEnabled.delete(h))})()}catch(h){d=!0,f=h}finally{try{a||l.return==null||l.return()}finally{if(d)throw f}}}}])&&p(v.prototype,x),w&&p(v,w),u}(),t=i.default.Shader,y.default=t},{"../core/main":280,"core-js/modules/es.array.index-of":163,"core-js/modules/es.array.iterator":164,"core-js/modules/es.array.slice":168,"core-js/modules/es.array.some":169,"core-js/modules/es.function.name":173,"core-js/modules/es.object.keys":186,"core-js/modules/es.object.to-string":187,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/web.dom-collections.iterator":243}],339:[function(t,o,y){"use strict";function i(g){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}function p(g){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(b){return i(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":i(b)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(y,"__esModule",{value:!0}),y.checkWebGLCapabilities=h,y.default=y.MipmapTexture=void 0;var u=(l=t("../core/main"))&&l.__esModule?l:{default:l},v=function(g){if(g&&g.__esModule)return g;if(g===null||p(g)!=="object"&&typeof g!="function")return{default:g};var b=x();if(b&&b.has(g))return b.get(g);var _,A={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in g){var j;Object.prototype.hasOwnProperty.call(g,_)&&((j=P?Object.getOwnPropertyDescriptor(g,_):null)&&(j.get||j.set)?Object.defineProperty(A,_,j):A[_]=g[_])}return A.default=g,b&&b.set(g,A),A}(t("../core/constants"));function x(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,x=function(){return g},g)}function w(g,b){return(w=Object.setPrototypeOf||function(_,A){return _.__proto__=A,_})(g,b)}function c(g){return function(){var b,_=a(g),_=(b=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(b=a(this).constructor,Reflect.construct(_,arguments,b)):_.apply(this,arguments),this);if(!b||p(b)!=="object"&&typeof b!="function"){if(_!==void 0)return _;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return b}}function a(g){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)})(g)}function d(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function f(g,b){for(var _=0;_<b.length;_++){var A=b[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(g,A.key,A)}}function m(g,b,_){b&&f(g.prototype,b),_&&f(g,_)}u.default.Texture=function(){function g(E,_,j){d(this,g),this._renderer=E;var P=this._renderer.GL,j=(j=j||{},this.src=_,this.glTex=void 0,this.glTarget=P.TEXTURE_2D,this.glFormat=j.format||P.RGBA,this.mipmaps=!1,this.glMinFilter=j.minFilter||P.LINEAR,this.glMagFilter=j.magFilter||P.LINEAR,this.glWrapS=j.wrapS||P.CLAMP_TO_EDGE,this.glWrapT=j.wrapT||P.CLAMP_TO_EDGE,this.glDataType=j.dataType||P.UNSIGNED_BYTE,h(E)),E=(this.glFormat!==P.HALF_FLOAT||j.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=P.FLOAT),this.glFormat!==P.HALF_FLOAT||this.glMinFilter!==P.LINEAR&&this.glMagFilter!==P.LINEAR||j.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===P.LINEAR&&(this.glMinFilter=P.NEAREST),this.glMagFilter===P.LINEAR&&(this.glMagFilter=P.NEAREST)),this.glFormat!==P.FLOAT||j.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=P.UNSIGNED_BYTE),this.glFormat!==P.FLOAT||this.glMinFilter!==P.LINEAR&&this.glMagFilter!==P.LINEAR||j.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===P.LINEAR&&(this.glMinFilter=P.NEAREST),this.glMagFilter===P.LINEAR&&(this.glMagFilter=P.NEAREST)),this.isSrcMediaElement=u.default.MediaElement!==void 0&&_ instanceof u.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=u.default.Element!==void 0&&_ instanceof u.default.Element&&!(_ instanceof u.default.Graphics)&&!(_ instanceof u.default.Renderer),this.isSrcP5Image=_ instanceof u.default.Image,this.isSrcP5Graphics=_ instanceof u.default.Graphics,this.isSrcP5Renderer=_ instanceof u.default.Renderer,this.isImageData=typeof ImageData<"u"&&_ instanceof ImageData,this.isFramebufferTexture=_ instanceof u.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=E.width,this.height=E.height,this.init(E),this}return m(g,[{key:"_getTextureDataFromSource",value:function(){var b;return this.isFramebufferTexture?b=this.src.rawTexture():this.isSrcP5Image?b=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?b=this.src.elt:this.isImageData&&(b=this.src),b}},{key:"init",value:function(b){var _,A=this._renderer.GL;this.isFramebufferTexture||(this.glTex=A.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,this.glMagFilter),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(_=new Uint8Array([1,1,1,1]),A.texImage2D(this.glTarget,0,A.RGBA,1,1,0,this.glFormat,this.glDataType,_)):A.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b))}},{key:"update",value:function(){var b,_,A,P=this.src;return P.width!==0&&P.height!==0&&!this.isFramebufferTexture&&(b=this._getTextureDataFromSource(),_=!1,A=this._renderer.GL,b.width!==this.width||b.height!==this.height?(_=!0,this.width=b.width||P.width,this.height=b.height||P.height,this.isSrcP5Image?P.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&P.setModified(!0)):this.isSrcP5Image?P.isModified()&&P.setModified(!(_=!0)):this.isSrcMediaElement?P.isModified()?P.setModified(!(_=!0)):P.loadedmetadata&&this._videoPrevUpdateTime!==P.time()&&(this._videoPrevUpdateTime=P.time(),_=!0):this.isImageData?P._dirty&&(_=!(P._dirty=!1)):_=!0,_&&(this.bindTexture(),A.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,b)),_)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(b,_){var A=this._renderer.GL;this.glMinFilter=this.glFilter(b),this.glMagFilter=this.glFilter(_),this.bindTexture(),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,this.glMinFilter),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(b){var _=this._renderer.GL;return b===v.NEAREST?_.NEAREST:_.LINEAR}},{key:"setWrapMode",value:function(b,_){function A(k){return(k&k-1)==0}var P=this._renderer.GL,E=this._getTextureDataFromSource(),E=E.naturalWidth&&E.naturalHeight?(j=E.naturalWidth,E.naturalHeight):(j=this.width,this.height),j=A(j),E=A(E);b===v.REPEAT?this._renderer.webglVersion===v.WEBGL2||j&&E?this.glWrapS=P.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=P.CLAMP_TO_EDGE):b===v.MIRROR?this._renderer.webglVersion===v.WEBGL2||j&&E?this.glWrapS=P.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=P.CLAMP_TO_EDGE):this.glWrapS=P.CLAMP_TO_EDGE,_===v.REPEAT?this._renderer.webglVersion===v.WEBGL2||j&&E?this.glWrapT=P.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=P.CLAMP_TO_EDGE):_===v.MIRROR?this._renderer.webglVersion===v.WEBGL2||j&&E?this.glWrapT=P.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=P.CLAMP_TO_EDGE):this.glWrapT=P.CLAMP_TO_EDGE,this.bindTexture(),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,this.glWrapS),P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),g}();var l=function(g){var b=A;if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),g&&w(b,g);var _=c(A);function A(P,j,E){return d(this,A),j=(P=_.call(this,P,j,E))._renderer.GL,P.glMinFilter===j.LINEAR&&(P.glMinFilter=j.LINEAR_MIPMAP_LINEAR),P}return m(A,[{key:"glFilter",value:function(P){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(P){var j=this._renderer.GL;this.glTex=j.createTexture(),this.bindTexture();for(var E=0;E<P.length;E++)j.texImage2D(this.glTarget,E,this.glFormat,this.glFormat,this.glDataType,P[E]);this.glMinFilter=j.LINEAR_MIPMAP_LINEAR,j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MAG_FILTER,this.glMagFilter),j.texParameteri(j.TEXTURE_2D,j.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),A}(u.default.Texture);function h(P){var b=P.GL,P=P.webglVersion,_=P===v.WEBGL2?b.getExtension("EXT_color_buffer_float")&&b.getExtension("EXT_float_blend"):b.getExtension("OES_texture_float"),A=_&&b.getExtension("OES_texture_float_linear"),P=P===v.WEBGL2?b.getExtension("EXT_color_buffer_float"):b.getExtension("OES_texture_half_float");return{float:_,floatLinear:A,halfFloat:P,halfFloatLinear:P&&b.getExtension("OES_texture_half_float_linear")}}y.MipmapTexture=l,t=u.default.Texture,y.default=t},{"../core/constants":269,"../core/main":280,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.get-prototype-of":185,"core-js/modules/es.object.to-string":187,"core-js/modules/es.reflect.construct":189,"core-js/modules/es.regexp.to-string":193,"core-js/modules/es.string.iterator":197,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.typed-array.copy-within":210,"core-js/modules/es.typed-array.every":211,"core-js/modules/es.typed-array.fill":212,"core-js/modules/es.typed-array.filter":213,"core-js/modules/es.typed-array.find":215,"core-js/modules/es.typed-array.find-index":214,"core-js/modules/es.typed-array.for-each":218,"core-js/modules/es.typed-array.includes":219,"core-js/modules/es.typed-array.index-of":220,"core-js/modules/es.typed-array.iterator":223,"core-js/modules/es.typed-array.join":224,"core-js/modules/es.typed-array.last-index-of":225,"core-js/modules/es.typed-array.map":226,"core-js/modules/es.typed-array.reduce":228,"core-js/modules/es.typed-array.reduce-right":227,"core-js/modules/es.typed-array.reverse":229,"core-js/modules/es.typed-array.set":230,"core-js/modules/es.typed-array.slice":231,"core-js/modules/es.typed-array.some":232,"core-js/modules/es.typed-array.sort":233,"core-js/modules/es.typed-array.subarray":234,"core-js/modules/es.typed-array.to-locale-string":235,"core-js/modules/es.typed-array.to-string":236,"core-js/modules/es.typed-array.uint8-array":239,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}],340:[function(t,o,y){"use strict";function i(g){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(g)}function p(g){return(p=typeof Symbol=="function"&&i(Symbol.iterator)==="symbol"?function(b){return i(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":i(b)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var u,v=(u=t("../core/main"))&&u.__esModule?u:{default:u},x=function(g){if(g&&g.__esModule)return g;if(g===null||p(g)!=="object"&&typeof g!="function")return{default:g};var b=w();if(b&&b.has(g))return b.get(g);var _,A={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in g){var j;Object.prototype.hasOwnProperty.call(g,_)&&((j=P?Object.getOwnPropertyDescriptor(g,_):null)&&(j.get||j.set)?Object.defineProperty(A,_,j):A[_]=g[_])}return A.default=g,b&&b.set(g,A),A}(t("../core/constants"));function w(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,w=function(){return g},g)}function c(g,b){if(!(g instanceof b))throw new TypeError("Cannot call a class as a function")}function a(g,b){for(var _=0;_<b.length;_++){var A=b[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(g,A.key,A)}}function d(g,b,_){b&&a(g.prototype,b),_&&a(g,_)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),v.default.RendererGL.prototype._applyTextProperties=function(){},v.default.RendererGL.prototype.textWidth=function(g){return this._isOpenType()?this._textFont._textWidth(g,this._textSize):0};var f=function(){function g(b,_){c(this,g),this.width=b,this.height=_,this.infos=[]}return d(g,[{key:"findImage",value:function(b){var _,A,P=this.width*this.height;if(P<b)throw new Error("font is too complex to render in 3D");for(var j=this.infos.length-1;0<=j;--j){var E=this.infos[j];if(E.index+b<P){A=(_=E).imageData;break}}if(!_){try{A=new ImageData(this.width,this.height)}catch{var k=document.getElementsByTagName("canvas")[0],M=!k,I=(k||((k=document.createElement("canvas")).style.display="none",document.body.appendChild(k)),k.getContext("2d"));I&&(A=I.createImageData(this.width,this.height)),M&&document.body.removeChild(k)}this.infos.push(_={index:0,imageData:A})}return I=_.index,_.index+=b,A._dirty=!0,{imageData:A,index:I}}}]),g}();function m(E,b,_,A,P){var j=E.imageData.data,E=4*E.index++;j[E++]=b,j[E++]=_,j[E++]=A,j[+E]=P}var l=Math.sqrt(3),h=function(){function g(b){c(this,g),this.font=b,this.strokeImageInfos=new f(64,64),this.colDimImageInfos=new f(64,64),this.rowDimImageInfos=new f(64,64),this.colCellImageInfos=new f(64,64),this.rowCellImageInfos=new f(64,64),this.glyphInfos={}}return d(g,[{key:"getGlyphInfo",value:function(b){var _=this.glyphInfos[b.index];if(!_){var A=b.getBoundingBox(),P=A.x1,j=A.y1,E=A.x2-P,k=A.y2-j,M=b.path.commands;if(E==0||k==0||!M.length)return this.glyphInfos[b.index]={};for(var I=[],S=[],T=[],L=8;0<=L;--L)T.push([]);for(L=8;0<=L;--L)S.push([]);var O,V,H,F,W=function(){function ye(be,Ce,Se,ge){c(this,ye),this.p0=be,this.c0=Ce,this.c1=Se,this.p1=ge}return d(ye,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return v.default.Vector.sub(v.default.Vector.sub(this.p1,this.p0),v.default.Vector.mult(v.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(_e){var Ce=v.default.Vector.lerp(this.p0,this.c0,_e),ge=v.default.Vector.lerp(this.c0,this.c1,_e),Se=v.default.Vector.lerp(Ce,ge,_e),ge=(this.c1=v.default.Vector.lerp(this.c1,this.p1,_e),this.c0=v.default.Vector.lerp(ge,this.c1,_e),v.default.Vector.lerp(Se,this.c0,_e)),_e=new ye(this.p0,Ce,Se,ge);return this.p0=ge,_e}},{key:"splitInflections",value:function(){var be=v.default.Vector.sub(this.c0,this.p0),Ce=v.default.Vector.sub(v.default.Vector.sub(this.c1,this.c0),be),Se=v.default.Vector.sub(v.default.Vector.sub(v.default.Vector.sub(this.p1,this.c1),be),v.default.Vector.mult(Ce,2)),ge=[],_e=Ce.x*Se.y-Ce.y*Se.x;return _e!==0&&0<=(be=(Se=be.x*Se.y-be.y*Se.x)*Se-4*_e*(be.x*Ce.y-be.y*Ce.x))&&(_e<0&&(_e=-_e,Se=-Se),be=(-Se+(Ce=Math.sqrt(be)))/(2*_e),0<(Se=(-Se-Ce)/(2*_e))&&Se<1&&(ge.push(this.split(Se)),be=1-(1-be)/(1-Se)),0<be&&be<1&&ge.push(this.split(be))),ge.push(this),ge}}]),ye}(),ee=!0,J=!1,N=void 0;try{for(var D,B=M[Symbol.iterator]();!(ee=(D=B.next()).done);ee=!0){var Y=D.value,G=(Y.x-P)/E,q=(Y.y-j)/k;if(!ce(O,V,G,q)){switch(Y.type){case"M":H=G,F=q;break;case"L":Ee(O,V,G,q);break;case"Q":var X=(Y.x1-P)/E,ne=(Y.y1-j)/k;fe([O,G,X],[V,q,ne],{x:O,y:V,cx:X,cy:ne});break;case"Z":ce(O,V,H,F)?I.push({x:O,y:V}):(Ee(O,V,H,F),I.push({x:H,y:F}));break;case"C":for(var $=function(de,Te,ke,Se,ge,_e,we,le){var de=new W(new v.default.Vector(de,Te),new v.default.Vector(ke,Se),new v.default.Vector(ge,_e),new v.default.Vector(we,le)).splitInflections(),se=[],pe=30/l,je=!0,Te=!1,ke=void 0;try{for(var Be,Ve=de[Symbol.iterator]();!(je=(Be=Ve.next()).done);je=!0){for(var ze=Be.value,qe=[],rt=void 0;!(.125<=(rt=pe/ze.quadError()));){var et=Math.pow(rt,.3333333333333333),Ye=ze.split(et),at=ze.split(1-et/(1-et));se.push(Ye),qe.push(ze),ze=at}rt<1&&se.push(ze.split(.5)),se.push(ze),Array.prototype.push.apply(se,qe.reverse())}}catch(tt){Te=!0,ke=tt}finally{try{je||Ve.return==null||Ve.return()}finally{if(Te)throw ke}}return se}(O,V,(Y.x1-P)/E,(Y.y1-j)/k,(Y.x2-P)/E,(Y.y2-j)/k,G,q),K=0;K<$.length;K++){var Q=$[K].toQuadratic();fe([Q.x,Q.x1,Q.cx],[Q.y,Q.y1,Q.cy],Q)}break;default:throw new Error("unknown command type: ".concat(Y.type))}O=G,V=q}}}catch(ye){J=!0,N=ye}finally{try{ee||B.return==null||B.return()}finally{if(J)throw N}}for(var Z=I.length,re=this.strokeImageInfos.findImage(Z),ie=re.index,he=0;he<Z;++he){var ue=I[he];m(re,xe(ue.x),xe(ue.y),xe(ue.cx),xe(ue.cy))}(_=this.glyphInfos[b.index]={glyph:b,uGlyphRect:[A.x1,-A.y1,A.x2,-A.y2],strokeImageInfo:re,strokes:I,colInfo:me(T,this.colDimImageInfos,this.colCellImageInfos),rowInfo:me(S,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[_.colInfo.dimOffset,_.rowInfo.dimOffset]}return _;function fe(ye,be,Ce){var Se=I.length;function ge(se,pe,je){for(var Te=se.length;0<Te--;){var ke=se[Te];ke<pe&&(pe=ke),je<ke&&(je=ke)}return{min:pe,max:je}}I.push(Ce);for(var Ce=ge(ye,1,0),ye=Math.max(Math.floor(9*Ce.min-.5),0),_e=Math.min(Math.ceil(9*Ce.max+.5),9),we=ye;we<_e;++we)T[we].push(Se);for(var Ce=ge(be,1,0),ye=Math.max(Math.floor(9*Ce.min-.5),0),le=Math.min(Math.ceil(9*Ce.max+.5),9),de=ye;de<le;++de)S[de].push(Se)}function xe(ye){return(ye=(Ce=255)*ye)<(be=0)?be:Ce<ye?Ce:ye;var be,Ce}function Ee(ye,be,Ce,Se){fe([ye,Ce],[be,Se],{x:ye,y:be,cx:(ye+Ce)/2,cy:(be+Se)/2})}function ce(ye,be,Ce,Se){return Math.abs(Ce-ye)<1e-5&&Math.abs(Se-be)<1e-5}function me(ye,be,Ce){for(var Se=ye.length,ge=be.findImage(Se),be=ge.index,_e=0,we=0;we<Se;++we)_e+=ye[we].length;for(var le=Ce.findImage(_e),de=0;de<Se;++de){var se=ye[de],pe=se.length,je=le.index;m(ge,je>>7,127&je,pe>>7,127&pe);for(var Te=0;Te<pe;++Te){var ke=se[Te]+ie;m(le,ke>>7,127&ke,0,0)}}return{cellImageInfo:le,dimOffset:be,dimImageInfo:ge}}}}]),g}();v.default.RendererGL.prototype._renderText=function(g,b,_,A,P){if(this._textFont&&typeof this._textFont!="string"){if(!(P<=A)&&this._doFill){if(this._isOpenType()){g.push();var P=this._doStroke,j=this.drawMode,E=(this._doStroke=!1,this.drawMode=x.TEXTURE,this._textFont.font),k=(k=this._textFont._fontInfo)||(this._textFont._fontInfo=new h(E)),_=this._textFont._handleAlignment(this,b,_,A),A=this._textSize/E.unitsPerEm,M=(this.translate(_.x,_.y,0),this.scale(A,A,1),this.GL),_=!this._defaultFontShader,I=this._getFontShader(),S=(I.init(),I.bindShader(),_&&(I.setUniform("uGridImageSize",[64,64]),I.setUniform("uCellsImageSize",[64,64]),I.setUniform("uStrokeImageSize",[64,64]),I.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),T=(S||((A=this._textGeom=new v.default.Geometry(1,1,function(){for(var K=0;K<=1;K++)for(var Q=0;Q<=1;Q++)this.vertices.push(new v.default.Vector(Q,K,0)),this.uvs.push(Q,K)})).computeFaces().computeNormals(),S=this.createBuffers("glyph",A)),!0),_=!1,A=void 0;try{for(var L,O=this.retainedMode.buffers.text[Symbol.iterator]();!(T=(L=O.next()).done);T=!0)L.value._prepareBuffer(S,I)}catch(K){_=!0,A=K}finally{try{T||O.return==null||O.return()}finally{if(_)throw A}}this._bindBuffer(S.indexBuffer,M.ELEMENT_ARRAY_BUFFER),I.setUniform("uMaterialColor",this.curFillColor),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var V=0,H=null,F=E.stringToGlyphs(b),W=!0,ee=!1,J=void 0;try{for(var N,D=F[Symbol.iterator]();!(W=(N=D.next()).done);W=!0){var B,Y,G=N.value,q=(H&&(V+=E.getKerningValue(H,G)),k.getGlyphInfo(G));q.uGlyphRect&&(B=q.rowInfo,Y=q.colInfo,I.setUniform("uSamplerStrokes",q.strokeImageInfo.imageData),I.setUniform("uSamplerRowStrokes",B.cellImageInfo.imageData),I.setUniform("uSamplerRows",B.dimImageInfo.imageData),I.setUniform("uSamplerColStrokes",Y.cellImageInfo.imageData),I.setUniform("uSamplerCols",Y.dimImageInfo.imageData),I.setUniform("uGridOffset",q.uGridOffset),I.setUniform("uGlyphRect",q.uGlyphRect),I.setUniform("uGlyphOffset",V),I.bindTextures(),M.drawElements(M.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),V+=G.advanceWidth,H=G}}catch(K){ee=!0,J=K}finally{try{W||D.return==null||D.return()}finally{if(ee)throw J}}}finally{I.unbindShader(),this._doStroke=P,this.drawMode=j,M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),g.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return g}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":269,"../core/main":280,"./p5.RendererGL.Retained":336,"./p5.Shader":338,"core-js/modules/es.array.iterator":164,"core-js/modules/es.object.get-own-property-descriptor":183,"core-js/modules/es.object.to-string":187,"core-js/modules/es.regexp.exec":192,"core-js/modules/es.string.iterator":197,"core-js/modules/es.string.split":203,"core-js/modules/es.string.sub":205,"core-js/modules/es.symbol":209,"core-js/modules/es.symbol.description":207,"core-js/modules/es.symbol.iterator":208,"core-js/modules/es.weak-map":241,"core-js/modules/web.dom-collections.iterator":243}]},{},[264])(264)})});var Hv=Mf((Gv,su)=>{"use strict";(function(n,r){typeof su=="object"&&su.exports?(r.default=r,su.exports=n&&n.document?r(n):r):typeof define=="function"&&define.amd?define("highcharts/highcharts",function(){return r(n)}):(n.Highcharts&&n.Highcharts.error(16,!0),n.Highcharts=r(n))})(typeof window<"u"?window:Gv,function(n){"use strict";var r={};function s(t,o,y,i){t.hasOwnProperty(o)||(t[o]=i.apply(null,y),typeof CustomEvent=="function"&&n.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:o,module:t[o]}})))}return s(r,"Core/Globals.js",[],function(){var t,o;return(o=t||(t={})).SVG_NS="http://www.w3.org/2000/svg",o.product="Highcharts",o.version="11.4.6",o.win=n!==void 0?n:{},o.doc=o.win.document,o.svg=o.doc&&o.doc.createElementNS&&!!o.doc.createElementNS(o.SVG_NS,"svg").createSVGRect,o.userAgent=o.win.navigator&&o.win.navigator.userAgent||"",o.isChrome=o.win.chrome,o.isFirefox=o.userAgent.indexOf("Firefox")!==-1,o.isMS=/(edge|msie|trident)/i.test(o.userAgent)&&!o.win.opera,o.isSafari=!o.isChrome&&o.userAgent.indexOf("Safari")!==-1,o.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(o.userAgent),o.isWebKit=o.userAgent.indexOf("AppleWebKit")!==-1,o.deg2rad=2*Math.PI/360,o.hasBidiBug=o.isFirefox&&4>parseInt(o.userAgent.split("Firefox/")[1],10),o.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],o.noop=function(){},o.supportsPassiveEvents=function(){let y=!1;if(!o.isMS){let i=Object.defineProperty({},"passive",{get:function(){y=!0}});o.win.addEventListener&&o.win.removeEventListener&&(o.win.addEventListener("testPassive",o.noop,i),o.win.removeEventListener("testPassive",o.noop,i))}return y}(),o.charts=[],o.composed=[],o.dateFormats={},o.seriesTypes={},o.symbolSizes={},o.chartCount=0,t}),s(r,"Core/Utilities.js",[r["Core/Globals.js"]],function(t){let o,{charts:y,doc:i,win:p}=t;function u(S,T,L,O){let V=T?"Highcharts error":"Highcharts warning";S===32&&(S=`${V}: Deprecated member`);let H=f(S),F=H?`${V} #${S}: www.highcharts.com/errors/${S}/`:S.toString();if(O!==void 0){let W="";H&&(F+="?"),E(O,function(ee,J){W+=`
 - ${J}: ${ee}`,H&&(F+=encodeURI(J)+"="+encodeURI(ee))}),F+=W}M(t,"displayError",{chart:L,code:S,message:F,params:O},function(){if(T)throw Error(F);p.console&&u.messages.indexOf(F)===-1&&console.warn(F)}),u.messages.push(F)}function v(S,T){return parseInt(S,T||10)}function x(S){return typeof S=="string"}function w(S){let T=Object.prototype.toString.call(S);return T==="[object Array]"||T==="[object Array Iterator]"}function c(S,T){return!!S&&typeof S=="object"&&(!T||!w(S))}function a(S){return c(S)&&typeof S.nodeType=="number"}function d(S){let T=S&&S.constructor;return!!(c(S,!0)&&!a(S)&&T&&T.name&&T.name!=="Object")}function f(S){return typeof S=="number"&&!isNaN(S)&&S<1/0&&S>-1/0}function m(S){return S!=null}function l(S,T,L){let O,V=x(T)&&!m(L),H=(F,W)=>{m(F)?S.setAttribute(W,F):V?(O=S.getAttribute(W))||W!=="class"||(O=S.getAttribute(W+"Name")):S.removeAttribute(W)};return x(T)?H(L,T):E(T,H),O}function h(S){return w(S)?S:[S]}function g(S,T){let L;for(L in S||(S={}),T)S[L]=T[L];return S}function b(){let S=arguments,T=S.length;for(let L=0;L<T;L++){let O=S[L];if(O!=null)return O}}function _(S,T){g(S.style,T)}function A(S){return Math.pow(10,Math.floor(Math.log(S)/Math.LN10))}function P(S,T){return S>1e14?S:parseFloat(S.toPrecision(T||14))}(u||(u={})).messages=[],Math.easeInOutSine=function(S){return-.5*(Math.cos(Math.PI*S)-1)};let j=Array.prototype.find?function(S,T){return S.find(T)}:function(S,T){let L,O=S.length;for(L=0;L<O;L++)if(T(S[L],L))return S[L]};function E(S,T,L){for(let O in S)Object.hasOwnProperty.call(S,O)&&T.call(L||S[O],S[O],O,S)}function k(S,T,L){function O(F,W){let ee=S.removeEventListener;ee&&ee.call(S,F,W,!1)}function V(F){let W,ee;S.nodeName&&(T?(W={})[T]=!0:W=F,E(W,function(J,N){if(F[N])for(ee=F[N].length;ee--;)O(N,F[N][ee].fn)}))}let H=typeof S=="function"&&S.prototype||S;if(Object.hasOwnProperty.call(H,"hcEvents")){let F=H.hcEvents;if(T){let W=F[T]||[];L?(F[T]=W.filter(function(ee){return L!==ee.fn}),O(T,L)):(V(F),F[T]=[])}else V(F),delete H.hcEvents}}function M(S,T,L,O){if(L=L||{},i.createEvent&&(S.dispatchEvent||S.fireEvent&&S!==t)){let V=i.createEvent("Events");V.initEvent(T,!0,!0),L=g(V,L),S.dispatchEvent?S.dispatchEvent(L):S.fireEvent(T,L)}else if(S.hcEvents){L.target||g(L,{preventDefault:function(){L.defaultPrevented=!0},target:S,type:T});let V=[],H=S,F=!1;for(;H.hcEvents;)Object.hasOwnProperty.call(H,"hcEvents")&&H.hcEvents[T]&&(V.length&&(F=!0),V.unshift.apply(V,H.hcEvents[T])),H=Object.getPrototypeOf(H);F&&V.sort((W,ee)=>W.order-ee.order),V.forEach(W=>{W.fn.call(S,L)===!1&&L.preventDefault()})}O&&!L.defaultPrevented&&O.call(S,L)}E({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(S,T){t[T]=function(L){return u(32,!1,void 0,{[`Highcharts.${T}`]:`use Array.${S}`}),Array.prototype[S].apply(L,[].slice.call(arguments,1))}});let I=function(){let S=Math.random().toString(36).substring(2,9)+"-",T=0;return function(){return"highcharts-"+(o?"":S)+T++}}();return p.jQuery&&(p.jQuery.fn.highcharts=function(){let S=[].slice.call(arguments);if(this[0])return S[0]?(new t[x(S[0])?S.shift():"Chart"](this[0],S[0],S[1]),this):y[l(this[0],"data-highcharts-chart")]}),{addEvent:function(S,T,L,O={}){let V=typeof S=="function"&&S.prototype||S;Object.hasOwnProperty.call(V,"hcEvents")||(V.hcEvents={});let H=V.hcEvents;t.Point&&S instanceof t.Point&&S.series&&S.series.chart&&(S.series.chart.runTrackerClick=!0);let F=S.addEventListener;F&&F.call(S,T,L,!!t.supportsPassiveEvents&&{passive:O.passive===void 0?T.indexOf("touch")!==-1:O.passive,capture:!1}),H[T]||(H[T]=[]);let W={fn:L,order:typeof O.order=="number"?O.order:1/0};return H[T].push(W),H[T].sort((ee,J)=>ee.order-J.order),function(){k(S,T,L)}},arrayMax:function(S){let T=S.length,L=S[0];for(;T--;)S[T]>L&&(L=S[T]);return L},arrayMin:function(S){let T=S.length,L=S[0];for(;T--;)S[T]<L&&(L=S[T]);return L},attr:l,clamp:function(S,T,L){return S>T?S<L?S:L:T},clearTimeout:function(S){m(S)&&clearTimeout(S)},correctFloat:P,createElement:function(S,T,L,O,V){let H=i.createElement(S);return T&&g(H,T),V&&_(H,{padding:"0",border:"none",margin:"0"}),L&&_(H,L),O&&O.appendChild(H),H},crisp:(S,T=0,L)=>{let O=T%2/2,V=L?-1:1;return(Math.round(S*V-O)+O)*V},css:_,defined:m,destroyObjectProperties:function(S,T,L){E(S,function(O,V){O!==T&&O?.destroy&&O.destroy(),(O?.destroy||!L)&&delete S[V]})},diffObjects:function(S,T,L,O){let V={};return function H(F,W,ee,J){let N=L?W:F;E(F,function(D,B){if(!J&&O&&O.indexOf(B)>-1&&W[B]){D=h(D),ee[B]=[];for(let Y=0;Y<Math.max(D.length,W[B].length);Y++)W[B][Y]&&(D[Y]===void 0?ee[B][Y]=W[B][Y]:(ee[B][Y]={},H(D[Y],W[B][Y],ee[B][Y],J+1)))}else c(D,!0)&&!D.nodeType?(ee[B]=w(D)?[]:{},H(D,W[B]||{},ee[B],J+1),Object.keys(ee[B]).length!==0||B==="colorAxis"&&J===0||delete ee[B]):(F[B]!==W[B]||B in F&&!(B in W))&&B!=="__proto__"&&B!=="constructor"&&(ee[B]=N[B])})}(S,T,V,0),V},discardElement:function(S){S&&S.parentElement&&S.parentElement.removeChild(S)},erase:function(S,T){let L=S.length;for(;L--;)if(S[L]===T){S.splice(L,1);break}},error:u,extend:g,extendClass:function(S,T){let L=function(){};return L.prototype=new S,g(L.prototype,T),L},find:j,fireEvent:M,getClosestDistance:function(S,T){let L,O,V,H,F=!T;return S.forEach(W=>{if(W.length>1)for(H=O=W.length-1;H>0;H--)(V=W[H]-W[H-1])<0&&!F?(T?.(),T=void 0):V&&(L===void 0||V<L)&&(L=V)}),L},getMagnitude:A,getNestedProperty:function(S,T){let L=S.split(".");for(;L.length&&m(T);){let O=L.shift();if(O===void 0||O==="__proto__")return;if(O==="this"){let H;return c(T)&&(H=T["@this"]),H??T}let V=T[O];if(!m(V)||typeof V=="function"||typeof V.nodeType=="number"||V===p)return;T=V}return T},getStyle:function S(T,L,O){let V;if(L==="width"){let F=Math.min(T.offsetWidth,T.scrollWidth),W=T.getBoundingClientRect&&T.getBoundingClientRect().width;return W<F&&W>=F-1&&(F=Math.floor(W)),Math.max(0,F-(S(T,"padding-left",!0)||0)-(S(T,"padding-right",!0)||0))}if(L==="height")return Math.max(0,Math.min(T.offsetHeight,T.scrollHeight)-(S(T,"padding-top",!0)||0)-(S(T,"padding-bottom",!0)||0));let H=p.getComputedStyle(T,void 0);return H&&(V=H.getPropertyValue(L),b(O,L!=="opacity")&&(V=v(V))),V},inArray:function(S,T,L){return u(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),T.indexOf(S,L)},insertItem:function(S,T){let L,O=S.options.index,V=T.length;for(L=S.options.isInternal?V:0;L<V+1;L++)if(!T[L]||f(O)&&O<b(T[L].options.index,T[L]._i)||T[L].options.isInternal){T.splice(L,0,S);break}return L},isArray:w,isClass:d,isDOMElement:a,isFunction:function(S){return typeof S=="function"},isNumber:f,isObject:c,isString:x,keys:function(S){return u(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(S)},merge:function(){let S,T=arguments,L={},O=function(H,F){return typeof H!="object"&&(H={}),E(F,function(W,ee){ee!=="__proto__"&&ee!=="constructor"&&(!c(W,!0)||d(W)||a(W)?H[ee]=F[ee]:H[ee]=O(H[ee]||{},W))}),H};T[0]===!0&&(L=T[1],T=Array.prototype.slice.call(T,2));let V=T.length;for(S=0;S<V;S++)L=O(L,T[S]);return L},normalizeTickInterval:function(S,T,L,O,V){let H,F=S;L=b(L,A(S));let W=S/L;for(!T&&(T=V?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],O===!1&&(L===1?T=T.filter(function(ee){return ee%1==0}):L<=.1&&(T=[1/L]))),H=0;H<T.length&&(F=T[H],(!V||!(F*L>=S))&&(V||!(W<=(T[H]+(T[H+1]||T[H]))/2)));H++);return P(F*L,-Math.round(Math.log(.001)/Math.LN10))},objectEach:E,offset:function(S){let T=i.documentElement,L=S.parentElement||S.parentNode?S.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:L.top+(p.pageYOffset||T.scrollTop)-(T.clientTop||0),left:L.left+(p.pageXOffset||T.scrollLeft)-(T.clientLeft||0),width:L.width,height:L.height}},pad:function(S,T,L){return Array((T||2)+1-String(S).replace("-","").length).join(L||"0")+S},pick:b,pInt:v,pushUnique:function(S,T){return 0>S.indexOf(T)&&!!S.push(T)},relativeLength:function(S,T,L){return/%$/.test(S)?T*parseFloat(S)/100+(L||0):parseFloat(S)},removeEvent:k,replaceNested:function(S,...T){let L,O;do for(O of(L=S,T))S=S.replace(O[0],O[1]);while(S!==L);return S},splat:h,stableSort:function(S,T){let L,O,V=S.length;for(O=0;O<V;O++)S[O].safeI=O;for(S.sort(function(H,F){return(L=T(H,F))===0?H.safeI-F.safeI:L}),O=0;O<V;O++)delete S[O].safeI},syncTimeout:function(S,T,L){return T>0?setTimeout(S,T,L):(S.call(0,L),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:I,useSerialIds:function(S){return o=b(S,o)},wrap:function(S,T,L){let O=S[T];S[T]=function(){let V=arguments,H=this;return L.apply(this,[function(){return O.apply(H,arguments.length?arguments:V)}].concat([].slice.call(arguments)))}}}}),s(r,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),s(r,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),s(r,"Core/Time.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(t,o){let{win:y}=t,{defined:i,error:p,extend:u,isNumber:v,isObject:x,merge:w,objectEach:c,pad:a,pick:d,splat:f,timeUnits:m}=o,l=t.isSafari&&y.Intl&&y.Intl.DateTimeFormat.prototype.formatRange,h=t.isSafari&&y.Intl&&!y.Intl.DateTimeFormat.prototype.formatRange;class g{constructor(_){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=y.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(_)}get(_,A){if(this.variableTimezone||this.timezoneOffset){let P=A.getTime(),j=P-this.getTimezoneOffset(A);A.setTime(j);let E=A["getUTC"+_]();return A.setTime(P),E}return this.useUTC?A["getUTC"+_]():A["get"+_]()}set(_,A,P){if(this.variableTimezone||this.timezoneOffset){if(_==="Milliseconds"||_==="Seconds"||_==="Minutes"&&this.getTimezoneOffset(A)%36e5==0)return A["setUTC"+_](P);let j=this.getTimezoneOffset(A),E=A.getTime()-j;A.setTime(E),A["setUTC"+_](P);let k=this.getTimezoneOffset(A);return E=A.getTime()+k,A.setTime(E)}return this.useUTC||l&&_==="FullYear"?A["setUTC"+_](P):A["set"+_](P)}update(_={}){let A=d(_.useUTC,!0);this.options=_=w(!0,this.options,_),this.Date=_.Date||y.Date||Date,this.useUTC=A,this.timezoneOffset=A&&_.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=A&&!!(_.getTimezoneOffset||_.timezone)}makeTime(_,A,P,j,E,k){let M,I,S;return this.useUTC?(M=this.Date.UTC.apply(0,arguments),I=this.getTimezoneOffset(M),M+=I,I!==(S=this.getTimezoneOffset(M))?M+=S-I:I-36e5!==this.getTimezoneOffset(M-36e5)||h||(M-=36e5)):M=new this.Date(_,A,d(P,1),d(j,0),d(E,0),d(k,0)).getTime(),M}timezoneOffsetFunction(){let _=this,A=this.options,P=A.getTimezoneOffset;return this.useUTC?A.timezone?j=>{try{let E=`shortOffset,${A.timezone||""}`,[k,M,I,S,T=0]=(g.formatCache[E]=g.formatCache[E]||Intl.DateTimeFormat("en",{timeZone:A.timezone,timeZoneName:"shortOffset"})).format(j).split(/(GMT|:)/).map(Number),L=-(36e5*(I+T/60));if(v(L))return L}catch{p(34)}return 0}:this.useUTC&&P?j=>6e4*P(j.valueOf()):()=>6e4*(_.timezoneOffset||0):j=>6e4*new Date(j.toString()).getTimezoneOffset()}dateFormat(_,A,P){if(!i(A)||isNaN(A))return t.defaultOptions.lang&&t.defaultOptions.lang.invalidDate||"";_=d(_,"%Y-%m-%d %H:%M:%S");let j=this,E=new this.Date(A),k=this.get("Hours",E),M=this.get("Day",E),I=this.get("Date",E),S=this.get("Month",E),T=this.get("FullYear",E),L=t.defaultOptions.lang,O=L&&L.weekdays,V=L&&L.shortWeekdays;return c(u({a:V?V[M]:O[M].substr(0,3),A:O[M],d:a(I),e:a(I,2," "),w:M,b:L.shortMonths[S],B:L.months[S],m:a(S+1),o:S+1,y:T.toString().substr(2,2),Y:T,H:a(k),k,I:a(k%12||12),l:k%12||12,M:a(this.get("Minutes",E)),p:k<12?"AM":"PM",P:k<12?"am":"pm",S:a(this.get("Seconds",E)),L:a(Math.floor(A%1e3),3)},t.dateFormats),function(H,F){for(;_.indexOf("%"+F)!==-1;)_=_.replace("%"+F,typeof H=="function"?H.call(j,A):H)}),P?_.substr(0,1).toUpperCase()+_.substr(1):_}resolveDTLFormat(_){return x(_,!0)?_:{main:(_=f(_))[0],from:_[1],to:_[2]}}getTimeTicks(_,A,P,j){let E,k,M,I,S=this,T=S.Date,L=[],O={},V=new T(A),H=_.unitRange,F=_.count||1;if(j=d(j,1),i(A)){S.set("Milliseconds",V,H>=m.second?0:F*Math.floor(S.get("Milliseconds",V)/F)),H>=m.second&&S.set("Seconds",V,H>=m.minute?0:F*Math.floor(S.get("Seconds",V)/F)),H>=m.minute&&S.set("Minutes",V,H>=m.hour?0:F*Math.floor(S.get("Minutes",V)/F)),H>=m.hour&&S.set("Hours",V,H>=m.day?0:F*Math.floor(S.get("Hours",V)/F)),H>=m.day&&S.set("Date",V,H>=m.month?1:Math.max(1,F*Math.floor(S.get("Date",V)/F))),H>=m.month&&(S.set("Month",V,H>=m.year?0:F*Math.floor(S.get("Month",V)/F)),k=S.get("FullYear",V)),H>=m.year&&(k-=k%F,S.set("FullYear",V,k)),H===m.week&&(I=S.get("Day",V),S.set("Date",V,S.get("Date",V)-I+j+(I<j?-7:0))),k=S.get("FullYear",V);let W=S.get("Month",V),ee=S.get("Date",V),J=S.get("Hours",V);A=V.getTime(),(S.variableTimezone||!S.useUTC)&&i(P)&&(M=P-A>4*m.month||S.getTimezoneOffset(A)!==S.getTimezoneOffset(P));let N=V.getTime();for(E=1;N<P;)L.push(N),H===m.year?N=S.makeTime(k+E*F,0):H===m.month?N=S.makeTime(k,W+E*F):M&&(H===m.day||H===m.week)?N=S.makeTime(k,W,ee+E*F*(H===m.day?1:7)):M&&H===m.hour&&F>1?N=S.makeTime(k,W,ee,J+E*F):N+=H*F,E++;L.push(N),H<=m.hour&&L.length<1e4&&L.forEach(function(D){D%18e5==0&&S.dateFormat("%H%M%S%L",D)==="000000000"&&(O[D]="day")})}return L.info=u(_,{higherRanks:O,totalRange:H*F}),L}getDateFormat(_,A,P,j){let E=this.dateFormat("%m-%d %H:%M:%S.%L",A),k="01-01 00:00:00.000",M={millisecond:15,second:12,minute:9,hour:6,day:3},I="millisecond",S=I;for(I in m){if(_===m.week&&+this.dateFormat("%w",A)===P&&E.substr(6)===k.substr(6)){I="week";break}if(m[I]>_){I=S;break}if(M[I]&&E.substr(M[I])!==k.substr(M[I]))break;I!=="week"&&(S=I)}return this.resolveDTLFormat(j[I]).main}}return g.formatCache={},g}),s(r,"Core/Defaults.js",[r["Core/Chart/ChartDefaults.js"],r["Core/Globals.js"],r["Core/Color/Palettes.js"],r["Core/Time.js"],r["Core/Utilities.js"]],function(t,o,y,i,p){let{isTouchDevice:u}=o,{fireEvent:v,merge:x}=p,w={colors:y.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:t,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:a=>Math.sqrt(1-Math.pow(a-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:u?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};w.chart.styledMode=!1;let c=new i(w.time);return{defaultOptions:w,defaultTime:c,getOptions:function(){return w},setOptions:function(a){return v(o,"setOptions",{options:a}),x(!0,w,a),(a.time||a.global)&&(o.time?o.time.update(x(w.global,w.time,a.global,a.time)):o.time=c),w}}}),s(r,"Core/Color/Color.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(t,o){let{isNumber:y,merge:i,pInt:p}=o;class u{static parse(x){return x?new u(x):u.None}constructor(x){let w,c,a,d;this.rgba=[NaN,NaN,NaN,NaN],this.input=x;let f=t.Color;if(f&&f!==u)return new f(x);if(typeof x=="object"&&x.stops!==void 0)this.stops=x.stops.map(m=>new u(m[1]));else if(typeof x=="string"){if(this.input=x=u.names[x.toLowerCase()]||x,x.charAt(0)==="#"){let m=x.length,l=parseInt(x.substr(1),16);m===7?c=[(16711680&l)>>16,(65280&l)>>8,255&l,1]:m===4&&(c=[(3840&l)>>4|(3840&l)>>8,(240&l)>>4|240&l,(15&l)<<4|15&l,1])}if(!c)for(a=u.parsers.length;a--&&!c;)(w=(d=u.parsers[a]).regex.exec(x))&&(c=d.parse(w))}c&&(this.rgba=c)}get(x){let w=this.input,c=this.rgba;if(typeof w=="object"&&this.stops!==void 0){let a=i(w);return a.stops=[].slice.call(a.stops),this.stops.forEach((d,f)=>{a.stops[f]=[a.stops[f][0],d.get(x)]}),a}return c&&y(c[0])?x!=="rgb"&&(x||c[3]!==1)?x==="a"?`${c[3]}`:"rgba("+c.join(",")+")":"rgb("+c[0]+","+c[1]+","+c[2]+")":w}brighten(x){let w=this.rgba;if(this.stops)this.stops.forEach(function(c){c.brighten(x)});else if(y(x)&&x!==0)for(let c=0;c<3;c++)w[c]+=p(255*x),w[c]<0&&(w[c]=0),w[c]>255&&(w[c]=255);return this}setOpacity(x){return this.rgba[3]=x,this}tweenTo(x,w){let c=this.rgba,a=x.rgba;if(!y(c[0])||!y(a[0]))return x.input||"none";let d=a[3]!==1||c[3]!==1;return(d?"rgba(":"rgb(")+Math.round(a[0]+(c[0]-a[0])*(1-w))+","+Math.round(a[1]+(c[1]-a[1])*(1-w))+","+Math.round(a[2]+(c[2]-a[2])*(1-w))+(d?","+(a[3]+(c[3]-a[3])*(1-w)):"")+")"}}return u.names={white:"#ffffff",black:"#000000"},u.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(v){return[p(v[1]),p(v[2]),p(v[3]),parseFloat(v[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(v){return[p(v[1]),p(v[2]),p(v[3]),1]}}],u.None=new u(""),u}),s(r,"Core/Animation/Fx.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(t,o,y){let{parse:i}=t,{win:p}=o,{isNumber:u,objectEach:v}=y;class x{constructor(c,a,d){this.pos=NaN,this.options=a,this.elem=c,this.prop=d}dSetter(){let c=this.paths,a=c&&c[0],d=c&&c[1],f=this.now||0,m=[];if(f!==1&&a&&d)if(a.length===d.length&&f<1)for(let l=0;l<d.length;l++){let h=a[l],g=d[l],b=[];for(let _=0;_<g.length;_++){let A=h[_],P=g[_];u(A)&&u(P)&&!(g[0]==="A"&&(_===4||_===5))?b[_]=A+f*(P-A):b[_]=P}m.push(b)}else m=d;else m=this.toD||[];this.elem.attr("d",m,void 0,!0)}update(){let c=this.elem,a=this.prop,d=this.now,f=this.options.step;this[a+"Setter"]?this[a+"Setter"]():c.attr?c.element&&c.attr(a,d,null,!0):c.style[a]=d+this.unit,f&&f.call(c,d,this)}run(c,a,d){let f=this,m=f.options,l=function(b){return!l.stopped&&f.step(b)},h=p.requestAnimationFrame||function(b){setTimeout(b,13)},g=function(){for(let b=0;b<x.timers.length;b++)x.timers[b]()||x.timers.splice(b--,1);x.timers.length&&h(g)};c!==a||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=c,this.end=a,this.unit=d,this.now=this.start,this.pos=0,l.elem=this.elem,l.prop=this.prop,l()&&x.timers.push(l)===1&&h(g)):(delete m.curAnim[this.prop],m.complete&&Object.keys(m.curAnim).length===0&&m.complete.call(this.elem))}step(c){let a,d,f=+new Date,m=this.options,l=this.elem,h=m.complete,g=m.duration,b=m.curAnim;return l.attr&&!l.element?a=!1:c||f>=g+this.startTime?(this.now=this.end,this.pos=1,this.update(),b[this.prop]=!0,d=!0,v(b,function(_){_!==!0&&(d=!1)}),d&&h&&h.call(l),a=!1):(this.pos=m.easing((f-this.startTime)/g),this.now=this.start+(this.end-this.start)*this.pos,this.update(),a=!0),a}initPath(c,a,d){let f=c.startX,m=c.endX,l=d.slice(),h=c.isArea,g=h?2:1,b=a&&d.length>a.length&&d.hasStackedCliffs,_,A,P,j,E=a&&a.slice();if(!E||b)return[l,l];function k(I,S){for(;I.length<A;){let T=I[0],L=S[A-I.length];if(L&&T[0]==="M"&&(L[0]==="C"?I[0]=["C",T[1],T[2],T[1],T[2],T[1],T[2]]:I[0]=["L",T[1],T[2]]),I.unshift(T),h){let O=I.pop();I.push(I[I.length-1],O)}}}function M(I){for(;I.length<A;){let S=I[Math.floor(I.length/g)-1].slice();if(S[0]==="C"&&(S[1]=S[5],S[2]=S[6]),h){let T=I[Math.floor(I.length/g)].slice();I.splice(I.length/2,0,S,T)}else I.push(S)}}if(f&&m&&m.length){for(P=0;P<f.length;P++){if(f[P]===m[0]){_=P;break}if(f[0]===m[m.length-f.length+P]){_=P,j=!0;break}if(f[f.length-1]===m[m.length-f.length+P]){_=f.length-P;break}}_===void 0&&(E=[])}return E.length&&u(_)&&(A=l.length+_*g,j?(k(E,l),M(l)):(k(l,E),M(E))),[E,l]}fillSetter(){x.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,i(this.start).tweenTo(i(this.end),this.pos),void 0,!0)}}return x.timers=[],x}),s(r,"Core/Animation/AnimationUtilities.js",[r["Core/Animation/Fx.js"],r["Core/Utilities.js"]],function(t,o){let{defined:y,getStyle:i,isArray:p,isNumber:u,isObject:v,merge:x,objectEach:w,pick:c}=o;function a(f){return v(f)?x({duration:500,defer:0},f):{duration:f?500:0,defer:0}}function d(f,m){let l=t.timers.length;for(;l--;)t.timers[l].elem!==f||m&&m!==t.timers[l].prop||(t.timers[l].stopped=!0)}return{animate:function(f,m,l){let h,g="",b,_,A;v(l)||(A=arguments,l={duration:A[2],easing:A[3],complete:A[4]}),u(l.duration)||(l.duration=400),l.easing=typeof l.easing=="function"?l.easing:Math[l.easing]||Math.easeInOutSine,l.curAnim=x(m),w(m,function(P,j){d(f,j),_=new t(f,l,j),b=void 0,j==="d"&&p(m.d)?(_.paths=_.initPath(f,f.pathArray,m.d),_.toD=m.d,h=0,b=1):f.attr?h=f.attr(j):(h=parseFloat(i(f,j))||0,j!=="opacity"&&(g="px")),b||(b=P),typeof b=="string"&&b.match("px")&&(b=b.replace(/px/g,"")),_.run(h,b,g)})},animObject:a,getDeferredAnimation:function(f,m,l){let h=a(m),g=l?[l]:f.series,b=0,_=0;return g.forEach(A=>{let P=a(A.options.animation);b=v(m)&&y(m.defer)?h.defer:Math.max(b,P.duration+P.defer),_=Math.min(h.duration,P.duration)}),f.renderer.forExport&&(b=0),{defer:Math.max(0,b-_),duration:Math.min(b,_)}},setAnimation:function(f,m){m.renderer.globalAnimation=c(f,m.options.chart.animation,!0)},stop:d}}),s(r,"Core/Renderer/HTML/AST.js",[r["Core/Globals.js"],r["Core/Utilities.js"]],function(t,o){let{SVG_NS:y,win:i}=t,{attr:p,createElement:u,css:v,error:x,isFunction:w,isString:c,objectEach:a,splat:d}=o,{trustedTypes:f}=i,m=f&&w(f.createPolicy)&&f.createPolicy("highcharts",{createHTML:b=>b}),l=m?m.createHTML(""):"",h=function(){try{return!!new DOMParser().parseFromString(l,"text/html")}catch{return!1}}();class g{static filterUserAttributes(_){return a(_,(A,P)=>{let j=!0;g.allowedAttributes.indexOf(P)===-1&&(j=!1),["background","dynsrc","href","lowsrc","src"].indexOf(P)!==-1&&(j=c(A)&&g.allowedReferences.some(E=>A.indexOf(E)===0)),j||(x(33,!1,void 0,{"Invalid attribute in config":`${P}`}),delete _[P]),c(A)&&_[P]&&(_[P]=A.replace(/</g,"&lt;"))}),_}static parseStyle(_){return _.split(";").reduce((A,P)=>{let j=P.split(":").map(k=>k.trim()),E=j.shift();return E&&j.length&&(A[E.replace(/-([a-z])/g,k=>k[1].toUpperCase())]=j.join(":")),A},{})}static setElementHTML(_,A){_.innerHTML=g.emptyHTML,A&&new g(A).addToDOM(_)}constructor(_){this.nodes=typeof _=="string"?this.parseMarkup(_):_}addToDOM(_){return function A(P,j){let E;return d(P).forEach(function(k){let M,I=k.tagName,S=k.textContent?t.doc.createTextNode(k.textContent):void 0,T=g.bypassHTMLFiltering;if(I)if(I==="#text")M=S;else if(g.allowedTags.indexOf(I)!==-1||T){let L=I==="svg"?y:j.namespaceURI||y,O=t.doc.createElementNS(L,I),V=k.attributes||{};a(k,function(H,F){F!=="tagName"&&F!=="attributes"&&F!=="children"&&F!=="style"&&F!=="textContent"&&(V[F]=H)}),p(O,T?V:g.filterUserAttributes(V)),k.style&&v(O,k.style),S&&O.appendChild(S),A(k.children||[],O),M=O}else x(33,!1,void 0,{"Invalid tagName in config":I});M&&j.appendChild(M),E=M}),E}(this.nodes,_)}parseMarkup(_){let A,P=[];if(_=_.trim().replace(/ style=(["'])/g," data-style=$1"),h)A=new DOMParser().parseFromString(m?m.createHTML(_):_,"text/html");else{let E=u("div");E.innerHTML=_,A={body:E}}let j=(E,k)=>{let M=E.nodeName.toLowerCase(),I={tagName:M};M==="#text"&&(I.textContent=E.textContent||"");let S=E.attributes;if(S){let T={};[].forEach.call(S,L=>{L.name==="data-style"?I.style=g.parseStyle(L.value):T[L.name]=L.value}),I.attributes=T}if(E.childNodes.length){let T=[];[].forEach.call(E.childNodes,L=>{j(L,T)}),T.length&&(I.children=T)}k.push(I)};return[].forEach.call(A.body.childNodes,E=>j(E,P)),P}}return g.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],g.allowedReferences=["https://","http://","mailto:","/","../","./","#"],g.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],g.emptyHTML=l,g.bypassHTMLFiltering=!1,g}),s(r,"Core/Templating.js",[r["Core/Defaults.js"],r["Core/Utilities.js"]],function(t,o){let{defaultOptions:y,defaultTime:i}=t,{extend:p,getNestedProperty:u,isArray:v,isNumber:x,isObject:w,pick:c,pInt:a}=o,d={add:(l,h)=>l+h,divide:(l,h)=>h!==0?l/h:"",eq:(l,h)=>l==h,each:function(l){let h=arguments[arguments.length-1];return!!v(l)&&l.map((g,b)=>f(h.body,p(w(g)?g:{"@this":g},{"@index":b,"@first":b===0,"@last":b===l.length-1}))).join("")},ge:(l,h)=>l>=h,gt:(l,h)=>l>h,if:l=>!!l,le:(l,h)=>l<=h,lt:(l,h)=>l<h,multiply:(l,h)=>l*h,ne:(l,h)=>l!=h,subtract:(l,h)=>l-h,unless:l=>!l};function f(l="",h,g){let b=/\{([\w\:\.\,;\-\/<>%@"'= #\(\)]+)\}/g,_=/\(([\w\:\.\,;\-\/<>%@"'= ]+)\)/g,A=[],P=/f$/,j=/\.(\d)/,E=y.lang,k=g&&g.time||i,M=g&&g.numberFormatter||m,I=(V="")=>{let H;return V==="true"||V!=="false"&&((H=Number(V)).toString()===V?H:u(V,h))},S,T,L=0,O;for(;(S=b.exec(l))!==null;){let V=_.exec(S[1]);V&&(S=V,O=!0),T&&T.isBlock||(T={ctx:h,expression:S[1],find:S[0],isBlock:S[1].charAt(0)==="#",start:S.index,startInner:S.index+S[0].length,length:S[0].length});let H=S[1].split(" ")[0].replace("#","");d[H]&&(T.isBlock&&H===T.fn&&L++,T.fn||(T.fn=H));let F=S[1]==="else";if(T.isBlock&&T.fn&&(S[1]===`/${T.fn}`||F))if(L)!F&&L--;else{let W=T.startInner,ee=l.substr(W,S.index-W);T.body===void 0?(T.body=ee,T.startInner=S.index+S[0].length):T.elseBody=ee,T.find+=ee+S[0],F||(A.push(T),T=void 0)}else T.isBlock||A.push(T);if(V&&!T?.isBlock)break}return A.forEach(V=>{let H,F,{body:W,elseBody:ee,expression:J,fn:N}=V;if(N){let D=[V],B=J.split(" ");for(F=d[N].length;F--;)D.unshift(I(B[F+1]));H=d[N].apply(h,D),V.isBlock&&typeof H=="boolean"&&(H=f(H?W:ee,h,g))}else{let D=J.split(":");if(H=I(D.shift()||""),D.length&&typeof H=="number"){let B=D.join(":");if(P.test(B)){let Y=parseInt((B.match(j)||["","-1"])[1],10);H!==null&&(H=M(H,Y,E.decimalPoint,B.indexOf(",")>-1?E.thousandsSep:""))}else H=k.dateFormat(B,H)}}l=l.replace(V.find,c(H,""))}),O?f(l,h,g):l}function m(l,h,g,b){let _,A;l=+l||0,h=+h;let P=y.lang,j=(l.toString().split(".")[1]||"").split("e")[0].length,E=l.toString().split("e"),k=h;h===-1?h=Math.min(j,20):x(h)?h&&E[1]&&E[1]<0&&((A=h+ +E[1])>=0?(E[0]=(+E[0]).toExponential(A).split("e")[0],h=A):(E[0]=E[0].split(".")[0]||0,l=h<20?(E[0]*Math.pow(10,E[1])).toFixed(h):0,E[1]=0)):h=2;let M=(Math.abs(E[1]?E[0]:l)+Math.pow(10,-Math.max(h,j)-1)).toFixed(h),I=String(a(M)),S=I.length>3?I.length%3:0;return g=c(g,P.decimalPoint),b=c(b,P.thousandsSep),_=(l<0?"-":"")+(S?I.substr(0,S)+b:""),0>+E[1]&&!k?_="0":_+=I.substr(S).replace(/(\d{3})(?=\d)/g,"$1"+b),h?_+=g+M.slice(-h):+_==0&&(_="0"),E[1]&&+_!=0&&(_+="e"+E[1]),_}return{dateFormat:function(l,h,g){return i.dateFormat(l,h,g)},format:f,helpers:d,numberFormat:m}}),s(r,"Core/Renderer/RendererRegistry.js",[r["Core/Globals.js"]],function(t){var o,y;let i;return(y=o||(o={})).rendererTypes={},y.getRendererType=function(p=i){return y.rendererTypes[p]||y.rendererTypes[i]},y.registerRendererType=function(p,u,v){y.rendererTypes[p]=u,(!i||v)&&(i=p,t.Renderer=u)},o}),s(r,"Core/Renderer/RendererUtilities.js",[r["Core/Utilities.js"]],function(t){var o;let{clamp:y,pick:i,pushUnique:p,stableSort:u}=t;return(o||(o={})).distribute=function v(x,w,c){let a=x,d=a.reducedLen||w,f=(I,S)=>I.target-S.target,m=[],l=x.length,h=[],g=m.push,b,_,A,P=!0,j,E,k=0,M;for(b=l;b--;)k+=x[b].size;if(k>d){for(u(x,(I,S)=>(S.rank||0)-(I.rank||0)),A=(M=x[0].rank===x[x.length-1].rank)?l/2:-1,_=M?A:l-1;A&&k>d;)j=x[b=Math.floor(_)],p(h,b)&&(k-=j.size),_+=A,M&&_>=x.length&&(A/=2,_=A);h.sort((I,S)=>S-I).forEach(I=>g.apply(m,x.splice(I,1)))}for(u(x,f),x=x.map(I=>({size:I.size,targets:[I.target],align:i(I.align,.5)}));P;){for(b=x.length;b--;)j=x[b],E=(Math.min.apply(0,j.targets)+Math.max.apply(0,j.targets))/2,j.pos=y(E-j.size*j.align,0,w-j.size);for(b=x.length,P=!1;b--;)b>0&&x[b-1].pos+x[b-1].size>x[b].pos&&(x[b-1].size+=x[b].size,x[b-1].targets=x[b-1].targets.concat(x[b].targets),x[b-1].align=.5,x[b-1].pos+x[b-1].size>w&&(x[b-1].pos=w-x[b-1].size),x.splice(b,1),P=!0)}return g.apply(a,m),b=0,x.some(I=>{let S=0;return(I.targets||[]).some(()=>(a[b].pos=I.pos+S,c!==void 0&&Math.abs(a[b].pos-a[b].target)>c?(a.slice(0,b+1).forEach(T=>delete T.pos),a.reducedLen=(a.reducedLen||w)-.1*w,a.reducedLen>.1*w&&v(a,w,c),!0):(S+=a[b].size,b++,!1)))}),u(a,f),a},o}),s(r,"Core/Renderer/SVG/SVGElement.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(t,o,y,i){let{animate:p,animObject:u,stop:v}=t,{deg2rad:x,doc:w,svg:c,SVG_NS:a,win:d}=y,{addEvent:f,attr:m,createElement:l,crisp:h,css:g,defined:b,erase:_,extend:A,fireEvent:P,isArray:j,isFunction:E,isObject:k,isString:M,merge:I,objectEach:S,pick:T,pInt:L,pushUnique:O,replaceNested:V,syncTimeout:H,uniqueKey:F}=i;class W{_defaultGetter(J){let N=T(this[J+"Value"],this[J],this.element?this.element.getAttribute(J):null,0);return/^-?[\d\.]+$/.test(N)&&(N=parseFloat(N)),N}_defaultSetter(J,N,D){D.setAttribute(N,J)}add(J){let N,D=this.renderer,B=this.element;return J&&(this.parentGroup=J),this.textStr!==void 0&&this.element.nodeName==="text"&&D.buildText(this),this.added=!0,(!J||J.handleZ||this.zIndex)&&(N=this.zIndexSetter()),N||(J?J.element:D.box).appendChild(B),this.onAdd&&this.onAdd(),this}addClass(J,N){let D=N?"":this.attr("class")||"";return(J=(J||"").split(/ /g).reduce(function(B,Y){return D.indexOf(Y)===-1&&B.push(Y),B},D?[D]:[]).join(" "))!==D&&this.attr("class",J),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(J,N,D,B=!0){let Y,G,q,X,ne={},$=this.renderer,K=$.alignedObjects,Q=!!J;J?(this.alignOptions=J,this.alignByTranslate=N,this.alignTo=D):(J=this.alignOptions||{},N=this.alignByTranslate,D=this.alignTo);let Z=!D||M(D)?D||"renderer":void 0;Z&&(Q&&O(K,this),D=void 0);let re=T(D,$[Z],$),ie=J.align,he=J.verticalAlign;return Y=(re.x||0)+(J.x||0),G=(re.y||0)+(J.y||0),ie==="right"?q=1:ie==="center"&&(q=2),q&&(Y+=((re.width||0)-(J.width||0))/q),ne[N?"translateX":"x"]=Math.round(Y),he==="bottom"?X=1:he==="middle"&&(X=2),X&&(G+=((re.height||0)-(J.height||0))/X),ne[N?"translateY":"y"]=Math.round(G),B&&(this[this.placed?"animate":"attr"](ne),this.placed=!0),this.alignAttr=ne,this}alignSetter(J){let N={left:"start",center:"middle",right:"end"};N[J]&&(this.alignValue=J,this.element.setAttribute("text-anchor",N[J]))}animate(J,N,D){let B=u(T(N,this.renderer.globalAnimation,!0)),Y=B.defer;return w.hidden&&(B.duration=0),B.duration!==0?(D&&(B.complete=D),H(()=>{this.element&&p(this,J,B)},Y)):(this.attr(J,void 0,D||B.complete),S(J,function(G,q){B.step&&B.step.call(this,G,{prop:q,pos:1,elem:this})},this)),this}applyTextOutline(J){let N=this.element;J.indexOf("contrast")!==-1&&(J=J.replace(/contrast/g,this.renderer.getContrast(N.style.fill)));let D=J.split(" "),B=D[D.length-1],Y=D[0];if(Y&&Y!=="none"&&y.svg){this.fakeTS=!0,Y=Y.replace(/(^[\d\.]+)(.*?)$/g,function($,K,Q){return 2*Number(K)+Q}),this.removeTextOutline();let G=w.createElementNS(a,"tspan");m(G,{class:"highcharts-text-outline",fill:B,stroke:B,"stroke-width":Y,"stroke-linejoin":"round"});let q=N.querySelector("textPath")||N;[].forEach.call(q.childNodes,$=>{let K=$.cloneNode(!0);K.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(Q=>K.removeAttribute(Q)),G.appendChild(K)});let X=0;[].forEach.call(q.querySelectorAll("text tspan"),$=>{X+=Number($.getAttribute("dy"))});let ne=w.createElementNS(a,"tspan");ne.textContent="\u200B",m(ne,{x:Number(N.getAttribute("x")),dy:-X}),G.appendChild(ne),q.insertBefore(G,q.firstChild)}}attr(J,N,D,B){let{element:Y}=this,G=W.symbolCustomAttribs,q,X,ne=this,$;return typeof J=="string"&&N!==void 0&&(q=J,(J={})[q]=N),typeof J=="string"?ne=(this[J+"Getter"]||this._defaultGetter).call(this,J,Y):(S(J,function(K,Q){$=!1,B||v(this,Q),this.symbolName&&G.indexOf(Q)!==-1&&(X||(this.symbolAttr(J),X=!0),$=!0),this.rotation&&(Q==="x"||Q==="y")&&(this.doTransform=!0),$||(this[Q+"Setter"]||this._defaultSetter).call(this,K,Q,Y)},this),this.afterSetters()),D&&D.call(this),ne}clip(J){if(J&&!J.clipPath){let N=F()+"-",D=this.renderer.createElement("clipPath").attr({id:N}).add(this.renderer.defs);A(J,{clipPath:D,id:N,count:0}),J.add(D)}return this.attr("clip-path",J?`url(${this.renderer.url}#${J.id})`:"none")}crisp(J,N){N=Math.round(N||J.strokeWidth||0);let D=J.x||this.x||0,B=J.y||this.y||0,Y=(J.width||this.width||0)+D,G=(J.height||this.height||0)+B,q=h(D,N),X=h(B,N);return A(J,{x:q,y:X,width:h(Y,N)-q,height:h(G,N)-X}),b(J.strokeWidth)&&(J.strokeWidth=N),J}complexColor(J,N,D){let B=this.renderer,Y,G,q,X,ne,$,K,Q,Z,re,ie=[],he;P(this.renderer,"complexColor",{args:arguments},function(){if(J.radialGradient?G="radialGradient":J.linearGradient&&(G="linearGradient"),G){if(q=J[G],ne=B.gradients,$=J.stops,Z=D.radialReference,j(q)&&(J[G]=q={x1:q[0],y1:q[1],x2:q[2],y2:q[3],gradientUnits:"userSpaceOnUse"}),G==="radialGradient"&&Z&&!b(q.gradientUnits)&&(X=q,q=I(q,B.getRadialAttr(Z,X),{gradientUnits:"userSpaceOnUse"})),S(q,function(ue,fe){fe!=="id"&&ie.push(fe,ue)}),S($,function(ue){ie.push(ue)}),ne[ie=ie.join(",")])re=ne[ie].attr("id");else{q.id=re=F();let ue=ne[ie]=B.createElement(G).attr(q).add(B.defs);ue.radAttr=X,ue.stops=[],$.forEach(function(fe){fe[1].indexOf("rgba")===0?(K=(Y=o.parse(fe[1])).get("rgb"),Q=Y.get("a")):(K=fe[1],Q=1);let xe=B.createElement("stop").attr({offset:fe[0],"stop-color":K,"stop-opacity":Q}).add(ue);ue.stops.push(xe)})}he="url("+B.url+"#"+re+")",D.setAttribute(N,he),D.gradient=ie,J.toString=function(){return he}}})}css(J){let N=this.styles,D={},B=this.element,Y,G=!N;if(N&&S(J,function(q,X){N&&N[X]!==q&&(D[X]=q,G=!0)}),G){N&&(J=A(N,D)),J.width===null||J.width==="auto"?delete this.textWidth:B.nodeName.toLowerCase()==="text"&&J.width&&(Y=this.textWidth=L(J.width)),A(this.styles,J),Y&&!c&&this.renderer.forExport&&delete J.width;let q=I(J);B.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(X=>q&&delete q[X]),q.color&&(q.fill=q.color)),g(B,q)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),J.textOutline&&this.applyTextOutline(J.textOutline)),this}dashstyleSetter(J){let N,D=this["stroke-width"];if(D==="inherit"&&(D=1),J=J&&J.toLowerCase()){let B=J.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(N=B.length;N--;)B[N]=""+L(B[N])*T(D,NaN);J=B.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",J)}}destroy(){let J=this,N=J.element||{},D=J.renderer,B=N.ownerSVGElement,Y=N.nodeName==="SPAN"&&J.parentGroup||void 0,G,q;if(N.onclick=N.onmouseout=N.onmouseover=N.onmousemove=N.point=null,v(J),J.clipPath&&B){let X=J.clipPath;[].forEach.call(B.querySelectorAll("[clip-path],[CLIP-PATH]"),function(ne){ne.getAttribute("clip-path").indexOf(X.element.id)>-1&&ne.removeAttribute("clip-path")}),J.clipPath=X.destroy()}if(J.connector=J.connector?.destroy(),J.stops){for(q=0;q<J.stops.length;q++)J.stops[q].destroy();J.stops.length=0,J.stops=void 0}for(J.safeRemoveChild(N);Y&&Y.div&&Y.div.childNodes.length===0;)G=Y.parentGroup,J.safeRemoveChild(Y.div),delete Y.div,Y=G;J.alignOptions&&_(D.alignedObjects,J),S(J,function(X,ne){J[ne]&&J[ne].parentGroup===J&&J[ne].destroy&&J[ne].destroy(),delete J[ne]})}dSetter(J,N,D){j(J)&&(typeof J[0]=="string"&&(J=this.renderer.pathToSegments(J)),this.pathArray=J,J=J.reduce((B,Y,G)=>Y&&Y.join?(G?B+" ":"")+Y.join(" "):(Y||"").toString(),"")),/(NaN| {2}|^$)/.test(J)&&(J="M 0 0"),this[N]!==J&&(D.setAttribute(N,J),this[N]=J)}fillSetter(J,N,D){typeof J=="string"?D.setAttribute(N,J):J&&this.complexColor(J,N,D)}hrefSetter(J,N,D){D.setAttributeNS("http://www.w3.org/1999/xlink",N,J)}getBBox(J,N){let D,B,Y,G,{alignValue:q,element:X,renderer:ne,styles:$,textStr:K}=this,{cache:Q,cacheKeys:Z}=ne,re=X.namespaceURI===this.SVG_NS,ie=T(N,this.rotation,0),he=ne.styledMode?X&&W.prototype.getStyle.call(X,"font-size"):$.fontSize;if(b(K)&&((G=K.toString()).indexOf("<")===-1&&(G=G.replace(/\d/g,"0")),G+=["",ne.rootFontSize,he,ie,this.textWidth,q,$.textOverflow,$.fontWeight].join(",")),G&&!J&&(D=Q[G]),!D||D.polygon){if(re||ne.forExport){try{Y=this.fakeTS&&function(fe){let xe=X.querySelector(".highcharts-text-outline");xe&&g(xe,{display:fe})},E(Y)&&Y("none"),D=X.getBBox?A({},X.getBBox()):{width:X.offsetWidth,height:X.offsetHeight,x:0,y:0},E(Y)&&Y("")}catch{}(!D||D.width<0)&&(D={x:0,y:0,width:0,height:0})}else D=this.htmlGetBBox();B=D.height,re&&(D.height=B={"11px,17":14,"13px,20":16}[`${he||""},${Math.round(B)}`]||B),ie&&(D=this.getRotatedBox(D,ie));let ue={bBox:D};P(this,"afterGetBBox",ue),D=ue.bBox}if(G&&(K===""||D.height>0)){for(;Z.length>250;)delete Q[Z.shift()];Q[G]||Z.push(G),Q[G]=D}return D}getRotatedBox(J,N){let{x:D,y:B,width:Y,height:G}=J,{alignValue:q,translateY:X,rotationOriginX:ne=0,rotationOriginY:$=0}=this,K={right:1,center:.5}[q||0]||0,Q=Number(this.element.getAttribute("y")||0)-(X?0:B),Z=N*x,re=(N-90)*x,ie=Math.cos(Z),he=Math.sin(Z),ue=Y*ie,fe=Y*he,xe=Math.cos(re),Ee=Math.sin(re),[[ce,me],[ye,be]]=[ne,$].map(Be=>[Be-Be*ie,Be*he]),Ce=D+K*(Y-ue)+ce+be+Q*xe,Se=Ce+ue,ge=Se-G*xe,_e=ge-ue,we=B+Q-K*fe-me+ye+Q*Ee,le=we+fe,de=le-G*Ee,se=de-fe,pe=Math.min(Ce,Se,ge,_e),je=Math.min(we,le,de,se),Te=Math.max(Ce,Se,ge,_e)-pe,ke=Math.max(we,le,de,se)-je;return{x:pe,y:je,width:Te,height:ke,polygon:[[Ce,we],[Se,le],[ge,de],[_e,se]]}}getStyle(J){return d.getComputedStyle(this.element||this,"").getPropertyValue(J)}hasClass(J){return(""+this.attr("class")).split(" ").indexOf(J)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(J,N){this.onEvents={},this.opacity=1,this.SVG_NS=a,this.element=N==="span"||N==="body"?l(N):w.createElementNS(this.SVG_NS,N),this.renderer=J,this.styles={},P(this,"afterInit")}on(J,N){let{onEvents:D}=this;return D[J]&&D[J](),D[J]=f(this.element,J,N),this}opacitySetter(J,N,D){let B=Number(Number(J).toFixed(3));this.opacity=B,D.setAttribute(N,B)}reAlign(){this.alignOptions?.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(J){return this.attr("class",(""+this.attr("class")).replace(M(J)?RegExp(`(^| )${J}( |$)`):J," ").replace(/ +/g," ").trim())}removeTextOutline(){let J=this.element.querySelector("tspan.highcharts-text-outline");J&&this.safeRemoveChild(J)}safeRemoveChild(J){let N=J.parentNode;N&&N.removeChild(J)}setRadialReference(J){let N=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=J,N&&N.radAttr&&N.animate(this.renderer.getRadialAttr(J,N.radAttr)),this}shadow(J){let{renderer:N}=this,D=I(this.parentGroup?.rotation===90?{offsetX:-1,offsetY:-1}:{},k(J)?J:{}),B=N.shadowDefinition(D);return this.attr({filter:J?`url(${N.url}#${B})`:"none"})}show(J=!0){return this.attr({visibility:J?"inherit":"visible"})}"stroke-widthSetter"(J,N,D){this[N]=J,D.setAttribute(N,J)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let J=this.getStyle("stroke-width"),N=0,D;return/px$/.test(J)?N=L(J):J!==""&&(m(D=w.createElementNS(a,"rect"),{width:J,"stroke-width":0}),this.element.parentNode.appendChild(D),N=D.getBBox().width,D.parentNode.removeChild(D)),N}symbolAttr(J){let N=this;W.symbolCustomAttribs.forEach(function(D){N[D]=T(J[D],N[D])}),N.attr({d:N.renderer.symbols[N.symbolName](N.x,N.y,N.width,N.height,N)})}textSetter(J){J!==this.textStr&&(delete this.textPxLength,this.textStr=J,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(J){let N=this.element,D=N.getElementsByTagName("title")[0]||w.createElementNS(this.SVG_NS,"title");N.insertBefore?N.insertBefore(D,N.firstChild):N.appendChild(D),D.textContent=V(T(J,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let J=this.element;return J.parentNode.appendChild(J),this}translate(J,N){return this.attr({translateX:J,translateY:N})}updateTransform(J="transform"){let{element:N,matrix:D,rotation:B=0,rotationOriginX:Y,rotationOriginY:G,scaleX:q,scaleY:X,translateX:ne=0,translateY:$=0}=this,K=["translate("+ne+","+$+")"];b(D)&&K.push("matrix("+D.join(",")+")"),B&&(K.push("rotate("+B+" "+T(Y,N.getAttribute("x"),0)+" "+T(G,N.getAttribute("y")||0)+")"),this.text?.element.tagName==="SPAN"&&this.text.attr({rotation:B,rotationOriginX:(Y||0)-this.padding,rotationOriginY:(G||0)-this.padding})),(b(q)||b(X))&&K.push("scale("+T(q,1)+" "+T(X,1)+")"),K.length&&!(this.text||this).textPath&&N.setAttribute(J,K.join(" "))}visibilitySetter(J,N,D){J==="inherit"?D.removeAttribute(N):this[N]!==J&&D.setAttribute(N,J),this[N]=J}xGetter(J){return this.element.nodeName==="circle"&&(J==="x"?J="cx":J==="y"&&(J="cy")),this._defaultGetter(J)}zIndexSetter(J,N){let D=this.renderer,B=this.parentGroup,Y=(B||D).element||D.box,G=this.element,q=Y===D.box,X,ne,$,K=!1,Q,Z=this.added,re;if(b(J)?(G.setAttribute("data-z-index",J),J=+J,this[N]===J&&(Z=!1)):b(this[N])&&G.removeAttribute("data-z-index"),this[N]=J,Z){for((J=this.zIndex)&&B&&(B.handleZ=!0),re=(X=Y.childNodes).length-1;re>=0&&!K;re--)Q=!b($=(ne=X[re]).getAttribute("data-z-index")),ne!==G&&(J<0&&Q&&!q&&!re?(Y.insertBefore(G,X[re]),K=!0):(L($)<=J||Q&&(!b(J)||J>=0))&&(Y.insertBefore(G,X[re+1]),K=!0));K||(Y.insertBefore(G,X[q?3:0]),K=!0)}return K}}return W.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],W.prototype.strokeSetter=W.prototype.fillSetter,W.prototype.yGetter=W.prototype.xGetter,W.prototype.matrixSetter=W.prototype.rotationOriginXSetter=W.prototype.rotationOriginYSetter=W.prototype.rotationSetter=W.prototype.scaleXSetter=W.prototype.scaleYSetter=W.prototype.translateXSetter=W.prototype.translateYSetter=W.prototype.verticalAlignSetter=function(ee,J){this[J]=ee,this.doTransform=!0},W}),s(r,"Core/Renderer/SVG/SVGLabel.js",[r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(t,o){let{defined:y,extend:i,isNumber:p,merge:u,pick:v,removeEvent:x}=o;class w extends t{constructor(a,d,f,m,l,h,g,b,_,A){let P;super(a,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=d,this.x=f,this.y=m,this.anchorX=h,this.anchorY=g,this.baseline=_,this.className=A,this.addClass(A==="button"?"highcharts-no-tooltip":"highcharts-label"),A&&this.addClass("highcharts-"+A),this.text=a.text(void 0,0,0,b).attr({zIndex:1}),typeof l=="string"&&((P=/^url\((.*?)\)$/.test(l))||this.renderer.symbols[l])&&(this.symbolKey=l),this.bBox=w.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=a.styledMode||P,this.deferredAttr={},this.alignFactor=0}alignSetter(a){let d={left:0,center:.5,right:1}[a];d!==this.alignFactor&&(this.alignFactor=d,this.bBox&&p(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(a,d){this.anchorX=a,this.boxAttr(d,Math.round(a)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(a,d){this.anchorY=a,this.boxAttr(d,a-this.ySetting)}boxAttr(a,d){this.box?this.box.attr(a,d):this.deferredAttr[a]=d}css(a){if(a){let d={};a=u(a),w.textProps.forEach(f=>{a[f]!==void 0&&(d[f]=a[f],delete a[f])}),this.text.css(d),"fontSize"in d||"fontWeight"in d?this.updateTextPadding():("width"in d||"textOverflow"in d)&&this.updateBoxSize()}return t.prototype.css.call(this,a)}destroy(){x(this.element,"mouseenter"),x(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),t.prototype.destroy.call(this)}fillSetter(a,d){a&&(this.needsBox=!0),this.fill=a,this.boxAttr(d,a)}getBBox(a,d){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:f,height:m=0,translateX:l=0,translateY:h=0,width:g=0}=this,b=v(this.paddingLeft,f),_=d??(this.rotation||0),A={width:g,height:m,x:l+this.bBox.x-b,y:h+this.bBox.y-f+this.baselineOffset};return _&&(A=this.getRotatedBox(A,_)),A}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(a){this.heightSetting=a,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:v(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&y(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(a,d){p(a)?a!==this[d]&&(this[d]=a,this.updateTextPadding()):this[d]=void 0}rSetter(a,d){this.boxAttr(d,a)}strokeSetter(a,d){this.stroke=a,this.boxAttr(d,a)}"stroke-widthSetter"(a,d){a&&(this.needsBox=!0),this["stroke-width"]=a,this.boxAttr(d,a)}"text-alignSetter"(a){this.textAlign=a}textSetter(a){a!==void 0&&this.text.attr({text:a}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let a,d=this.text,f={},m=this.padding,l=this.bBox=(!p(this.widthSetting)||!p(this.heightSetting)||this.textAlign)&&y(d.textStr)?d.getBBox(void 0,0):w.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||l.height||0)+2*m;let h=this.renderer.fontMetrics(d);if(this.baselineOffset=m+Math.min((this.text.firstLineMetrics||h).b,l.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-h.h)/2),this.needsBox&&!d.textPath){if(!this.box){let g=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();g.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),g.add(this)}a=this.getCrispAdjust(),f.x=a,f.y=(this.baseline?-this.baselineOffset:0)+a,f.width=Math.round(this.width),f.height=Math.round(this.height),this.box.attr(i(f,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let a=this.text;if(!a.textPath){this.updateBoxSize();let d=this.baseline?0:this.baselineOffset,f=v(this.paddingLeft,this.padding);y(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(f+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(f!==a.x||d!==a.y)&&(a.attr("x",f),a.hasBoxWidthChanged&&(this.bBox=a.getBBox(!0)),d!==void 0&&a.attr("y",d)),a.x=f,a.y=d}}widthSetter(a){this.widthSetting=p(a)?a:void 0,this.doUpdate=!0}getPaddedWidth(){let a=this.padding,d=v(this.paddingLeft,a),f=v(this.paddingRight,a);return(this.widthSetting||this.bBox.width||0)+d+f}xSetter(a){this.x=a,this.alignFactor&&(a-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(a),this.attr("translateX",this.xSetting)}ySetter(a){this.ySetting=this.y=Math.round(a),this.attr("translateY",this.ySetting)}}return w.emptyBBox={width:0,height:0,x:0,y:0},w.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],w}),s(r,"Core/Renderer/SVG/Symbols.js",[r["Core/Utilities.js"]],function(t){let{defined:o,isNumber:y,pick:i}=t;function p(x,w,c,a,d){let f=[];if(d){let m=d.start||0,l=i(d.r,c),h=i(d.r,a||c),g=2e-4/Math.max(l,1),b=Math.abs((d.end||0)-m-2*Math.PI)<g,_=(d.end||0)-g,A=d.innerR,P=i(d.open,b),j=Math.cos(m),E=Math.sin(m),k=Math.cos(_),M=Math.sin(_),I=i(d.longArc,_-m-Math.PI<g?0:1),S=["A",l,h,0,I,i(d.clockwise,1),x+l*k,w+h*M];S.params={start:m,end:_,cx:x,cy:w},f.push(["M",x+l*j,w+h*E],S),o(A)&&((S=["A",A,A,0,I,o(d.clockwise)?1-d.clockwise:0,x+A*j,w+A*E]).params={start:_,end:m,cx:x,cy:w},f.push(P?["M",x+A*k,w+A*M]:["L",x+A*k,w+A*M],S)),P||f.push(["Z"])}return f}function u(x,w,c,a,d){return d&&d.r?v(x,w,c,a,d):[["M",x,w],["L",x+c,w],["L",x+c,w+a],["L",x,w+a],["Z"]]}function v(x,w,c,a,d){let f=d?.r||0;return[["M",x+f,w],["L",x+c-f,w],["A",f,f,0,0,1,x+c,w+f],["L",x+c,w+a-f],["A",f,f,0,0,1,x+c-f,w+a],["L",x+f,w+a],["A",f,f,0,0,1,x,w+a-f],["L",x,w+f],["A",f,f,0,0,1,x+f,w],["Z"]]}return{arc:p,callout:function(x,w,c,a,d){let f=Math.min(d&&d.r||0,c,a),m=f+6,l=d&&d.anchorX,h=d&&d.anchorY||0,g=v(x,w,c,a,{r:f});if(!y(l)||l<c&&l>0&&h<a&&h>0)return g;if(x+l>c-m)if(h>w+m&&h<w+a-m)g.splice(3,1,["L",x+c,h-6],["L",x+c+6,h],["L",x+c,h+6],["L",x+c,w+a-f]);else if(l<c){let b=h<w+m,_=b?w:w+a;g.splice(b?2:5,0,["L",l,h],["L",x+c-f,_])}else g.splice(3,1,["L",x+c,a/2],["L",l,h],["L",x+c,a/2],["L",x+c,w+a-f]);else if(x+l<m)if(h>w+m&&h<w+a-m)g.splice(7,1,["L",x,h+6],["L",x-6,h],["L",x,h-6],["L",x,w+f]);else if(l>0){let b=h<w+m,_=b?w:w+a;g.splice(b?1:6,0,["L",l,h],["L",x+f,_])}else g.splice(7,1,["L",x,a/2],["L",l,h],["L",x,a/2],["L",x,w+f]);else h>a&&l<c-m?g.splice(5,1,["L",l+6,w+a],["L",l,w+a+6],["L",l-6,w+a],["L",x+f,w+a]):h<0&&l>m&&g.splice(1,1,["L",l-6,w],["L",l,w-6],["L",l+6,w],["L",c-f,w]);return g},circle:function(x,w,c,a){return p(x+c/2,w+a/2,c/2,a/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(x,w,c,a){return[["M",x+c/2,w],["L",x+c,w+a/2],["L",x+c/2,w+a],["L",x,w+a/2],["Z"]]},rect:u,roundedRect:v,square:u,triangle:function(x,w,c,a){return[["M",x+c/2,w],["L",x+c,w+a],["L",x,w+a],["Z"]]},"triangle-down":function(x,w,c,a){return[["M",x,w],["L",x+c,w],["L",x+c/2,w+a],["Z"]]}}}),s(r,"Core/Renderer/SVG/TextBuilder.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(t,o,y){let{doc:i,SVG_NS:p,win:u}=o,{attr:v,extend:x,fireEvent:w,isString:c,objectEach:a,pick:d}=y;return class{constructor(f){let m=f.styles;this.renderer=f.renderer,this.svgElement=f,this.width=f.textWidth,this.textLineHeight=m&&m.lineHeight,this.textOutline=m&&m.textOutline,this.ellipsis=!!(m&&m.textOverflow==="ellipsis"),this.noWrap=!!(m&&m.whiteSpace==="nowrap")}buildSVG(){let f=this.svgElement,m=f.element,l=f.renderer,h=d(f.textStr,"").toString(),g=h.indexOf("<")!==-1,b=m.childNodes,_=!f.added&&l.box,A=[h,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,f.getStyle("font-size"),this.width].join(",");if(A!==f.textCache){f.textCache=A,delete f.actualWidth;for(let P=b.length;P--;)m.removeChild(b[P]);if(g||this.ellipsis||this.width||f.textPath||h.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(h))){if(h!==""){_&&_.appendChild(m);let P=new t(h);this.modifyTree(P.nodes),P.addToDOM(m),this.modifyDOM(),this.ellipsis&&(m.textContent||"").indexOf("\u2026")!==-1&&f.attr("title",this.unescapeEntities(f.textStr||"",["&lt;","&gt;"])),_&&_.removeChild(m)}}else m.appendChild(i.createTextNode(this.unescapeEntities(h)));c(this.textOutline)&&f.applyTextOutline&&f.applyTextOutline(this.textOutline)}}modifyDOM(){let f,m=this.svgElement,l=v(m.element,"x");for(m.firstLineMetrics=void 0;(f=m.element.firstChild)&&/^[\s\u200B]*$/.test(f.textContent||" ");)m.element.removeChild(f);[].forEach.call(m.element.querySelectorAll("tspan.highcharts-br"),(_,A)=>{_.nextSibling&&_.previousSibling&&(A===0&&_.previousSibling.nodeType===1&&(m.firstLineMetrics=m.renderer.fontMetrics(_.previousSibling)),v(_,{dy:this.getLineHeight(_.nextSibling),x:l}))});let h=this.width||0;if(!h)return;let g=(_,A)=>{let P=_.textContent||"",j=P.replace(/([^\^])-/g,"$1- ").split(" "),E=!this.noWrap&&(j.length>1||m.element.childNodes.length>1),k=this.getLineHeight(A),M=0,I=m.actualWidth;if(this.ellipsis)P&&this.truncate(_,P,void 0,0,Math.max(0,h-.8*k),(S,T)=>S.substring(0,T)+"\u2026");else if(E){let S=[],T=[];for(;A.firstChild&&A.firstChild!==_;)T.push(A.firstChild),A.removeChild(A.firstChild);for(;j.length;)j.length&&!this.noWrap&&M>0&&(S.push(_.textContent||""),_.textContent=j.join(" ").replace(/- /g,"-")),this.truncate(_,void 0,j,M===0&&I||0,h,(L,O)=>j.slice(0,O).join(" ").replace(/- /g,"-")),I=m.actualWidth,M++;T.forEach(L=>{A.insertBefore(L,_)}),S.forEach(L=>{A.insertBefore(i.createTextNode(L),_);let O=i.createElementNS(p,"tspan");O.textContent="\u200B",v(O,{dy:k,x:l}),A.insertBefore(O,_)})}},b=_=>{[].slice.call(_.childNodes).forEach(A=>{A.nodeType===u.Node.TEXT_NODE?g(A,_):(A.className.baseVal.indexOf("highcharts-br")!==-1&&(m.actualWidth=0),b(A))})};b(m.element)}getLineHeight(f){let m=f.nodeType===u.Node.TEXT_NODE?f.parentElement:f;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(m||this.svgElement.element).h}modifyTree(f){let m=(l,h)=>{let{attributes:g={},children:b,style:_={},tagName:A}=l,P=this.renderer.styledMode;if(A==="b"||A==="strong"?P?g.class="highcharts-strong":_.fontWeight="bold":(A==="i"||A==="em")&&(P?g.class="highcharts-emphasized":_.fontStyle="italic"),_&&_.color&&(_.fill=_.color),A==="br"){g.class="highcharts-br",l.textContent="\u200B";let j=f[h+1];j&&j.textContent&&(j.textContent=j.textContent.replace(/^ +/gm,""))}else A==="a"&&b&&b.some(j=>j.tagName==="#text")&&(l.children=[{children:b,tagName:"tspan"}]);A!=="#text"&&A!=="a"&&(l.tagName="tspan"),x(l,{attributes:g,style:_}),b&&b.filter(j=>j.tagName!=="#text").forEach(m)};f.forEach(m),w(this.svgElement,"afterModifyTree",{nodes:f})}truncate(f,m,l,h,g,b){let _,A,P=this.svgElement,{rotation:j}=P,E=[],k=l?1:0,M=(m||l||"").length,I=M,S=function(T,L){let O=L||T,V=f.parentNode;if(V&&E[O]===void 0&&V.getSubStringLength)try{E[O]=h+V.getSubStringLength(0,l?O+1:O)}catch{}return E[O]};if(P.rotation=0,h+(A=S(f.textContent.length))>g){for(;k<=M;)I=Math.ceil((k+M)/2),l&&(_=b(l,I)),A=S(I,_&&_.length-1),k===M?k=M+1:A>g?M=I-1:k=I;M===0?f.textContent="":m&&M===m.length-1||(f.textContent=_||b(m||l,I))}l&&l.splice(0,I),P.actualWidth=A,P.rotation=j}unescapeEntities(f,m){return a(this.renderer.escapes,function(l,h){m&&m.indexOf(l)!==-1||(f=f.toString().replace(RegExp(l,"g"),h))}),f}}}),s(r,"Core/Renderer/SVG/SVGRenderer.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Defaults.js"],r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGLabel.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Renderer/SVG/TextBuilder.js"],r["Core/Utilities.js"]],function(t,o,y,i,p,u,v,x,w,c){let a,{defaultOptions:d}=o,{charts:f,deg2rad:m,doc:l,isFirefox:h,isMS:g,isWebKit:b,noop:_,SVG_NS:A,symbolSizes:P,win:j}=i,{addEvent:E,attr:k,createElement:M,crisp:I,css:S,defined:T,destroyObjectProperties:L,extend:O,isArray:V,isNumber:H,isObject:F,isString:W,merge:ee,pick:J,pInt:N,replaceNested:D,uniqueKey:B}=c;class Y{constructor(q,X,ne,$,K,Q,Z){let re,ie,he=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),ue=he.element;Z||he.css(this.getStyle($||{})),q.appendChild(ue),k(q,"dir","ltr"),q.innerHTML.indexOf("xmlns")===-1&&k(ue,"xmlns",this.SVG_NS),this.box=ue,this.boxWrapper=he,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(l.createTextNode("Created with Highcharts 11.4.6")),this.defs=this.createElement("defs").add(),this.allowHTML=Q,this.forExport=K,this.styledMode=Z,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=he.getStyle("font-size"),this.setSize(X,ne,!1),h&&q.getBoundingClientRect&&((re=function(){S(q,{left:0,top:0}),ie=q.getBoundingClientRect(),S(q,{left:Math.ceil(ie.left)-ie.left+"px",top:Math.ceil(ie.top)-ie.top+"px"})})(),this.unSubPixelFix=E(j,"resize",re))}definition(q){return new t([q]).addToDOM(this.defs.element)}getReferenceURL(){if((h||b)&&l.getElementsByTagName("base").length){if(!T(a)){let q=B(),X=new t([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:q},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${q})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(l.body);S(X,{position:"fixed",top:0,left:0,zIndex:9e5});let ne=l.elementFromPoint(6,6);a=(ne&&ne.id)==="hitme",l.body.removeChild(X)}if(a)return D(j.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(q){return this.style=O({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},q),this.style}setStyle(q){this.boxWrapper.css(this.getStyle(q))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let q=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),L(this.gradients||{}),this.gradients=null,this.defs=q.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(q){return new this.Element(this,q)}getRadialAttr(q,X){return{cx:q[0]-q[2]/2+(X.cx||0)*q[2],cy:q[1]-q[2]/2+(X.cy||0)*q[2],r:(X.r||0)*q[2]}}shadowDefinition(q){let X=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(q).map($=>`${$}-${q[$]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),ne=ee({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},q);return this.defs.element.querySelector(`#${X}`)||this.definition({tagName:"filter",attributes:{id:X,filterUnits:ne.filterUnits},children:this.getShadowFilterContent(ne)}),X}getShadowFilterContent(q){return[{tagName:"feDropShadow",attributes:{dx:q.offsetX,dy:q.offsetY,"flood-color":q.color,"flood-opacity":Math.min(5*q.opacity,1),stdDeviation:q.width/2}}]}buildText(q){new w(q).buildSVG()}getContrast(q){let X=y.parse(q).rgba.map($=>{let K=$/255;return K<=.03928?K/12.92:Math.pow((K+.055)/1.055,2.4)}),ne=.2126*X[0]+.7152*X[1]+.0722*X[2];return 1.05/(ne+.05)>(ne+.05)/.05?"#FFFFFF":"#000000"}button(q,X,ne,$,K={},Q,Z,re,ie,he){let ue=this.label(q,X,ne,ie,void 0,void 0,he,void 0,"button"),fe=this.styledMode,xe=arguments,Ee=0;K=ee(d.global.buttonTheme,K),fe&&(delete K.fill,delete K.stroke,delete K["stroke-width"]);let ce=K.states||{},me=K.style||{};delete K.states,delete K.style;let ye=[t.filterUserAttributes(K)],be=[me];return fe||["hover","select","disabled"].forEach((Ce,Se)=>{ye.push(ee(ye[0],t.filterUserAttributes(xe[Se+5]||ce[Ce]||{}))),be.push(ye[Se+1].style),delete ye[Se+1].style}),E(ue.element,g?"mouseover":"mouseenter",function(){Ee!==3&&ue.setState(1)}),E(ue.element,g?"mouseout":"mouseleave",function(){Ee!==3&&ue.setState(Ee)}),ue.setState=(Ce=0)=>{if(Ce!==1&&(ue.state=Ee=Ce),ue.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][Ce]),!fe){ue.attr(ye[Ce]);let Se=be[Ce];F(Se)&&ue.css(Se)}},ue.attr(ye[0]),!fe&&(ue.css(O({cursor:"default"},me)),he&&ue.text.css({pointerEvents:"none"})),ue.on("touchstart",Ce=>Ce.stopPropagation()).on("click",function(Ce){Ee!==3&&$.call(ue,Ce)})}crispLine(q,X){let[ne,$]=q;return T(ne[1])&&ne[1]===$[1]&&(ne[1]=$[1]=I(ne[1],X)),T(ne[2])&&ne[2]===$[2]&&(ne[2]=$[2]=I(ne[2],X)),q}path(q){let X=this.styledMode?{}:{fill:"none"};return V(q)?X.d=q:F(q)&&O(X,q),this.createElement("path").attr(X)}circle(q,X,ne){let $=F(q)?q:q===void 0?{}:{x:q,y:X,r:ne},K=this.createElement("circle");return K.xSetter=K.ySetter=function(Q,Z,re){re.setAttribute("c"+Z,Q)},K.attr($)}arc(q,X,ne,$,K,Q){let Z;F(q)?(X=(Z=q).y,ne=Z.r,$=Z.innerR,K=Z.start,Q=Z.end,q=Z.x):Z={innerR:$,start:K,end:Q};let re=this.symbol("arc",q,X,ne,ne,Z);return re.r=ne,re}rect(q,X,ne,$,K,Q){let Z=F(q)?q:q===void 0?{}:{x:q,y:X,r:K,width:Math.max(ne||0,0),height:Math.max($||0,0)},re=this.createElement("rect");return this.styledMode||(Q!==void 0&&(Z["stroke-width"]=Q,O(Z,re.crisp(Z))),Z.fill="none"),re.rSetter=function(ie,he,ue){re.r=ie,k(ue,{rx:ie,ry:ie})},re.rGetter=function(){return re.r||0},re.attr(Z)}roundedRect(q){return this.symbol("roundedRect").attr(q)}setSize(q,X,ne){this.width=q,this.height=X,this.boxWrapper.animate({width:q,height:X},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:J(ne,!0)?void 0:0}),this.alignElements()}g(q){let X=this.createElement("g");return q?X.attr({class:"highcharts-"+q}):X}image(q,X,ne,$,K,Q){let Z={preserveAspectRatio:"none"};H(X)&&(Z.x=X),H(ne)&&(Z.y=ne),H($)&&(Z.width=$),H(K)&&(Z.height=K);let re=this.createElement("image").attr(Z),ie=function(he){re.attr({href:q}),Q.call(re,he)};if(Q){re.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let he=new j.Image;E(he,"load",ie),he.src=q,he.complete&&ie({})}else re.attr({href:q});return re}symbol(q,X,ne,$,K,Q){let Z,re,ie,he,ue=this,fe=/^url\((.*?)\)$/,xe=fe.test(q),Ee=!xe&&(this.symbols[q]?q:"circle"),ce=Ee&&this.symbols[Ee];if(ce)typeof X=="number"&&(re=ce.call(this.symbols,X||0,ne||0,$||0,K||0,Q)),Z=this.path(re),ue.styledMode||Z.attr("fill","none"),O(Z,{symbolName:Ee||void 0,x:X,y:ne,width:$,height:K}),Q&&O(Z,Q);else if(xe){ie=q.match(fe)[1];let me=Z=this.image(ie);me.imgwidth=J(Q&&Q.width,P[ie]&&P[ie].width),me.imgheight=J(Q&&Q.height,P[ie]&&P[ie].height),he=ye=>ye.attr({width:ye.width,height:ye.height}),["width","height"].forEach(ye=>{me[`${ye}Setter`]=function(be,Ce){this[Ce]=be;let{alignByTranslate:Se,element:ge,width:_e,height:we,imgwidth:le,imgheight:de}=this,se=Ce==="width"?le:de,pe=1;Q&&Q.backgroundSize==="within"&&_e&&we&&le&&de?(pe=Math.min(_e/le,we/de),k(ge,{width:Math.round(le*pe),height:Math.round(de*pe)})):ge&&se&&ge.setAttribute(Ce,se),!Se&&le&&de&&this.translate(((_e||0)-le*pe)/2,((we||0)-de*pe)/2)}}),T(X)&&me.attr({x:X,y:ne}),me.isImg=!0,T(me.imgwidth)&&T(me.imgheight)?he(me):(me.attr({width:0,height:0}),M("img",{onload:function(){let ye=f[ue.chartIndex];this.width===0&&(S(this,{position:"absolute",top:"-999em"}),l.body.appendChild(this)),P[ie]={width:this.width,height:this.height},me.imgwidth=this.width,me.imgheight=this.height,me.element&&he(me),this.parentNode&&this.parentNode.removeChild(this),ue.imgCount--,ue.imgCount||!ye||ye.hasLoaded||ye.onload()},src:ie}),this.imgCount++)}return Z}clipRect(q,X,ne,$){return this.rect(q,X,ne,$,0)}text(q,X,ne,$){let K={};if($&&(this.allowHTML||!this.forExport))return this.html(q,X,ne);K.x=Math.round(X||0),ne&&(K.y=Math.round(ne)),T(q)&&(K.text=q);let Q=this.createElement("text").attr(K);return $&&(!this.forExport||this.allowHTML)||(Q.xSetter=function(Z,re,ie){let he=ie.getElementsByTagName("tspan"),ue=ie.getAttribute(re);for(let fe=0,xe;fe<he.length;fe++)(xe=he[fe]).getAttribute(re)===ue&&xe.setAttribute(re,Z);ie.setAttribute(re,Z)}),Q}fontMetrics(q){let X=N(u.prototype.getStyle.call(q,"font-size")||0),ne=X<24?X+3:Math.round(1.2*X),$=Math.round(.8*ne);return{h:ne,b:$,f:X}}rotCorr(q,X,ne){let $=q;return X&&ne&&($=Math.max($*Math.cos(X*m),4)),{x:-q/3*Math.sin(X*m),y:$}}pathToSegments(q){let X=[],ne=[],$={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let K=0;K<q.length;K++)W(ne[0])&&H(q[K])&&ne.length===$[ne[0].toUpperCase()]&&q.splice(K,0,ne[0].replace("M","L").replace("m","l")),typeof q[K]=="string"&&(ne.length&&X.push(ne.slice(0)),ne.length=0),ne.push(q[K]);return X.push(ne.slice(0)),X}label(q,X,ne,$,K,Q,Z,re,ie){return new v(this,q,X,ne,$,K,Q,Z,re,ie)}alignElements(){this.alignedObjects.forEach(q=>q.align())}}return O(Y.prototype,{Element:u,SVG_NS:A,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:x,draw:_}),p.registerRendererType("svg",Y,!0),Y}),s(r,"Core/Renderer/HTML/HTMLElement.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Globals.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(t,o,y,i){let{composed:p}=o,{attr:u,css:v,createElement:x,defined:w,extend:c,pInt:a,pushUnique:d}=i;function f(g,b,_){let A=this.div?.style||_.style;y.prototype[`${b}Setter`].call(this,g,b,_),A&&(A[b]=g)}let m=(g,b)=>{if(!g.div){let _=u(g.element,"class"),A=g.css,P=x("div",_?{className:_}:void 0,St(Qe({position:"absolute",left:`${g.translateX||0}px`,top:`${g.translateY||0}px`},g.styles),{display:g.display,opacity:g.opacity,visibility:g.visibility}),g.parentGroup?.div||b);g.classSetter=(j,E,k)=>{k.setAttribute("class",j),P.className=j},g.translateXSetter=g.translateYSetter=(j,E)=>{g[E]=j,P.style[E==="translateX"?"left":"top"]=`${j}px`,g.doTransform=!0},g.opacitySetter=g.visibilitySetter=f,g.css=j=>(A.call(g,j),j.cursor&&(P.style.cursor=j.cursor),j.pointerEvents&&(P.style.pointerEvents=j.pointerEvents),g),g.on=function(){return y.prototype.on.apply({element:P,onEvents:g.onEvents},arguments),g},g.div=P}return g.div};class l extends y{static compose(b){d(p,this.compose)&&(b.prototype.html=function(_,A,P){return new l(this,"span").attr({text:_,x:Math.round(A),y:Math.round(P)})})}constructor(b,_){super(b,_),this.css(Qe({position:"absolute"},b.styledMode?{}:{fontFamily:b.style.fontFamily,fontSize:b.style.fontSize})),this.element.style.whiteSpace="nowrap"}getSpanCorrection(b,_,A){this.xCorr=-b*A,this.yCorr=-_}css(b){let _,{element:A}=this,P=A.tagName==="SPAN"&&b&&"width"in b,j=P&&b.width;return P&&(delete b.width,this.textWidth=a(j)||void 0,_=!0),b?.textOverflow==="ellipsis"&&(b.whiteSpace="nowrap",b.overflow="hidden"),c(this.styles,b),v(A,b),_&&this.updateTransform(),this}htmlGetBBox(){let{element:b}=this;return{x:b.offsetLeft,y:b.offsetTop,width:b.offsetWidth,height:b.offsetHeight}}updateTransform(){if(!this.added){this.alignOnAdd=!0;return}let{element:b,renderer:_,rotation:A,rotationOriginX:P,rotationOriginY:j,styles:E,textAlign:k="left",textWidth:M,translateX:I=0,translateY:S=0,x:T=0,y:L=0}=this,O={left:0,center:.5,right:1}[k],V=E.whiteSpace;if(v(b,{marginLeft:`${I}px`,marginTop:`${S}px`}),b.tagName==="SPAN"){let H=[A,k,b.innerHTML,M,this.textAlign].join(","),F=-(this.parentGroup?.padding*1)||0,W,ee=!1;if(M!==this.oldTextWidth){let Y=this.textPxLength?this.textPxLength:(v(b,{width:"",whiteSpace:V||"nowrap"}),b.offsetWidth),G=M||0;(G>this.oldTextWidth||Y>G)&&(/[ \-]/.test(b.textContent||b.innerText)||b.style.textOverflow==="ellipsis")&&(v(b,{width:Y>G||A?M+"px":"auto",display:"block",whiteSpace:V||"normal"}),this.oldTextWidth=M,ee=!0)}this.hasBoxWidthChanged=ee,H!==this.cTT&&(W=_.fontMetrics(b).b,w(A)&&(A!==(this.oldRotation||0)||k!==this.oldAlign)&&this.setSpanRotation(A,F,F),this.getSpanCorrection(!w(A)&&this.textPxLength||b.offsetWidth,W,O));let{xCorr:J=0,yCorr:N=0}=this,D=(P??T)-J-T-F,B=(j??L)-N-L-F;v(b,{left:`${T+J}px`,top:`${L+N}px`,transformOrigin:`${D}px ${B}px`}),this.cTT=H,this.oldRotation=A,this.oldAlign=k}}setSpanRotation(b,_,A){v(this.element,{transform:`rotate(${b}deg)`,transformOrigin:`${_}% ${A}px`})}add(b){let _,A=this.renderer.box.parentNode,P=[];if(this.parentGroup=b,b&&!(_=b.div)){let j=b;for(;j;)P.push(j),j=j.parentGroup;for(let E of P.reverse())_=m(E,A)}return(_||A).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(b){b!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,t.setElementHTML(this.element,b??""),this.textStr=b,this.doTransform=!0)}alignSetter(b){this.alignValue=this.textAlign=b,this.doTransform=!0}xSetter(b,_){this[_]=b,this.doTransform=!0}}let h=l.prototype;return h.visibilitySetter=h.opacitySetter=f,h.ySetter=h.rotationSetter=h.rotationOriginXSetter=h.rotationOriginYSetter=h.xSetter,l}),s(r,"Core/Axis/AxisDefaults.js",[],function(){var t,o;return(o=t||(t={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},o.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:y}=this.axis.chart;return y(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},t}),s(r,"Core/Foundation.js",[r["Core/Utilities.js"]],function(t){var o;let{addEvent:y,isFunction:i,objectEach:p,removeEvent:u}=t;return(o||(o={})).registerEventOptions=function(v,x){v.eventOptions=v.eventOptions||{},p(x.events,function(w,c){v.eventOptions[c]!==w&&(v.eventOptions[c]&&(u(v,c,v.eventOptions[c]),delete v.eventOptions[c]),i(w)&&(v.eventOptions[c]=w,y(v,c,w,{order:0})))})},o}),s(r,"Core/Axis/Tick.js",[r["Core/Templating.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(t,o,y){let{deg2rad:i}=o,{clamp:p,correctFloat:u,defined:v,destroyObjectProperties:x,extend:w,fireEvent:c,isNumber:a,merge:d,objectEach:f,pick:m}=y;return class{constructor(l,h,g,b,_){this.isNew=!0,this.isNewLabel=!0,this.axis=l,this.pos=h,this.type=g||"",this.parameters=_||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,c(this,"init"),g||b||this.addLabel()}addLabel(){let l=this,h=l.axis,g=h.options,b=h.chart,_=h.categories,A=h.logarithmic,P=h.names,j=l.pos,E=m(l.options&&l.options.labels,g.labels),k=h.tickPositions,M=j===k[0],I=j===k[k.length-1],S=(!E.step||E.step===1)&&h.tickInterval===1,T=k.info,L=l.label,O,V,H,F=this.parameters.category||(_?m(_[j],P[j],j):j);A&&a(F)&&(F=u(A.lin2log(F))),h.dateTime&&(T?O=(V=b.time.resolveDTLFormat(g.dateTimeLabelFormats[!g.grid&&T.higherRanks[j]||T.unitName])).main:a(F)&&(O=h.dateTime.getXDateFormat(F,g.dateTimeLabelFormats||{}))),l.isFirst=M,l.isLast=I;let W={axis:h,chart:b,dateTimeLabelFormat:O,isFirst:M,isLast:I,pos:j,tick:l,tickPositionInfo:T,value:F};c(this,"labelFormat",W);let ee=D=>E.formatter?E.formatter.call(D,D):E.format?(D.text=h.defaultLabelFormatter.call(D),t.format(E.format,D,b)):h.defaultLabelFormatter.call(D),J=ee.call(W,W),N=V&&V.list;N?l.shortenLabel=function(){for(H=0;H<N.length;H++)if(w(W,{dateTimeLabelFormat:N[H]}),L.attr({text:ee.call(W,W)}),L.getBBox().width<h.getSlotWidth(l)-2*(E.padding||0))return;L.attr({text:""})}:l.shortenLabel=void 0,S&&h._addedPlotLB&&l.moveLabel(J,E),v(L)||l.movedLabel?L&&L.textStr!==J&&!S&&(!L.textWidth||E.style.width||L.styles.width||L.css({width:null}),L.attr({text:J}),L.textPxLength=L.getBBox().width):(l.label=L=l.createLabel(J,E),l.rotation=0)}createLabel(l,h,g){let b=this.axis,_=b.chart,A=v(l)&&h.enabled?_.renderer.text(l,g?.x,g?.y,h.useHTML).add(b.labelGroup):void 0;return A&&(_.styledMode||A.css(d(h.style)),A.textPxLength=A.getBBox().width),A}destroy(){x(this,this.axis)}getPosition(l,h,g,b){let _=this.axis,A=_.chart,P=b&&A.oldChartHeight||A.chartHeight,j={x:l?u(_.translate(h+g,void 0,void 0,b)+_.transB):_.left+_.offset+(_.opposite?(b&&A.oldChartWidth||A.chartWidth)-_.right-_.left:0),y:l?P-_.bottom+_.offset-(_.opposite?_.height:0):u(P-_.translate(h+g,void 0,void 0,b)-_.transB)};return j.y=p(j.y,-1e5,1e5),c(this,"afterGetPosition",{pos:j}),j}getLabelPosition(l,h,g,b,_,A,P,j){let E,k,M=this.axis,I=M.transA,S=M.isLinked&&M.linkedParent?M.linkedParent.reversed:M.reversed,T=M.staggerLines,L=M.tickRotCorr||{x:0,y:0},O=b||M.reserveSpaceDefault?0:-M.labelOffset*(M.labelAlign==="center"?.5:1),V=_.distance,H={};return E=M.side===0?g.rotation?-V:-g.getBBox().height:M.side===2?L.y+V:Math.cos(g.rotation*i)*(L.y-g.getBBox(!1,0).height/2),v(_.y)&&(E=M.side===0&&M.horiz?_.y+E:_.y),l=l+m(_.x,[0,1,0,-1][M.side]*V)+O+L.x-(A&&b?A*I*(S?-1:1):0),h=h+E-(A&&!b?A*I*(S?1:-1):0),T&&(k=P/(j||1)%T,M.opposite&&(k=T-k-1),h+=k*(M.labelOffset/T)),H.x=l,H.y=Math.round(h),c(this,"afterGetLabelPosition",{pos:H,tickmarkOffset:A,index:P}),H}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(l,h,g,b,_=!1,A){return A.crispLine([["M",l,h],["L",l+(_?0:-g),h+(_?g:0)]],b)}handleOverflow(l){let h=this.axis,g=h.options.labels,b=l.x,_=h.chart.chartWidth,A=h.chart.spacing,P=m(h.labelLeft,Math.min(h.pos,A[3])),j=m(h.labelRight,Math.max(h.isRadial?0:h.pos+h.len,_-A[1])),E=this.label,k=this.rotation,M={left:0,center:.5,right:1}[h.labelAlign||E.attr("align")],I=E.getBBox().width,S=h.getSlotWidth(this),T={},L=S,O=1,V,H,F;k||g.overflow!=="justify"?k<0&&b-M*I<P?F=Math.round(b/Math.cos(k*i)-P):k>0&&b+M*I>j&&(F=Math.round((_-b)/Math.cos(k*i))):(V=b-M*I,H=b+(1-M)*I,V<P?L=l.x+L*(1-M)-P:H>j&&(L=j-l.x+L*M,O=-1),(L=Math.min(S,L))<S&&h.labelAlign==="center"&&(l.x+=O*(S-L-M*(S-Math.min(I,L)))),(I>L||h.autoRotation&&(E.styles||{}).width)&&(F=L)),F&&(this.shortenLabel?this.shortenLabel():(T.width=Math.floor(F)+"px",(g.style||{}).textOverflow||(T.textOverflow="ellipsis"),E.css(T)))}moveLabel(l,h){let g=this,b=g.label,_=g.axis,A=!1,P;b&&b.textStr===l?(g.movedLabel=b,A=!0,delete g.label):f(_.ticks,function(j){A||j.isNew||j===g||!j.label||j.label.textStr!==l||(g.movedLabel=j.label,A=!0,j.labelPos=g.movedLabel.xy,delete j.label)}),!A&&(g.labelPos||b)&&(P=g.labelPos||b.xy,g.movedLabel=g.createLabel(l,h,P),g.movedLabel&&g.movedLabel.attr({opacity:0}))}render(l,h,g){let b=this.axis,_=b.horiz,A=this.pos,P=m(this.tickmarkOffset,b.tickmarkOffset),j=this.getPosition(_,A,P,h),E=j.x,k=j.y,M=b.pos,I=M+b.len,S=_?E:k;!b.chart.polar&&this.isNew&&(u(S)<M||S>I)&&(g=0);let T=m(g,this.label&&this.label.newOpacity,1);g=m(g,1),this.isActive=!0,this.renderGridLine(h,g),this.renderMark(j,g),this.renderLabel(j,h,T,l),this.isNew=!1,c(this,"afterRender")}renderGridLine(l,h){let g=this.axis,b=g.options,_={},A=this.pos,P=this.type,j=m(this.tickmarkOffset,g.tickmarkOffset),E=g.chart.renderer,k=this.gridLine,M,I=b.gridLineWidth,S=b.gridLineColor,T=b.gridLineDashStyle;this.type==="minor"&&(I=b.minorGridLineWidth,S=b.minorGridLineColor,T=b.minorGridLineDashStyle),k||(g.chart.styledMode||(_.stroke=S,_["stroke-width"]=I||0,_.dashstyle=T),P||(_.zIndex=1),l&&(h=0),this.gridLine=k=E.path().attr(_).addClass("highcharts-"+(P?P+"-":"")+"grid-line").add(g.gridGroup)),k&&(M=g.getPlotLinePath({value:A+j,lineWidth:k.strokeWidth(),force:"pass",old:l,acrossPanes:!1}))&&k[l||this.isNew?"attr":"animate"]({d:M,opacity:h})}renderMark(l,h){let g=this.axis,b=g.options,_=g.chart.renderer,A=this.type,P=g.tickSize(A?A+"Tick":"tick"),j=l.x,E=l.y,k=m(b[A!=="minor"?"tickWidth":"minorTickWidth"],!A&&g.isXAxis?1:0),M=b[A!=="minor"?"tickColor":"minorTickColor"],I=this.mark,S=!I;P&&(g.opposite&&(P[0]=-P[0]),I||(this.mark=I=_.path().addClass("highcharts-"+(A?A+"-":"")+"tick").add(g.axisGroup),g.chart.styledMode||I.attr({stroke:M,"stroke-width":k})),I[S?"attr":"animate"]({d:this.getMarkPath(j,E,P[0],I.strokeWidth(),g.horiz,_),opacity:h}))}renderLabel(l,h,g,b){let _=this.axis,A=_.horiz,P=_.options,j=this.label,E=P.labels,k=E.step,M=m(this.tickmarkOffset,_.tickmarkOffset),I=l.x,S=l.y,T=!0;j&&a(I)&&(j.xy=l=this.getLabelPosition(I,S,j,A,E,M,b,k),(!this.isFirst||this.isLast||P.showFirstLabel)&&(!this.isLast||this.isFirst||P.showLastLabel)?!A||E.step||E.rotation||h||g===0||this.handleOverflow(l):T=!1,k&&b%k&&(T=!1),T&&a(l.y)?(l.opacity=g,j[this.isNewLabel?"attr":"animate"](l).show(!0),this.isNewLabel=!1):(j.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let l=this.label,h=this.axis;l&&!this.isNew&&(l.animate({opacity:0},void 0,l.destroy),delete this.label),h.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),s(r,"Core/Axis/Axis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/AxisDefaults.js"],r["Core/Color/Color.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Axis/Tick.js"],r["Core/Utilities.js"]],function(t,o,y,i,p,u,v,x){let{animObject:w}=t,{xAxis:c,yAxis:a}=o,{defaultOptions:d}=i,{registerEventOptions:f}=p,{deg2rad:m}=u,{arrayMax:l,arrayMin:h,clamp:g,correctFloat:b,defined:_,destroyObjectProperties:A,erase:P,error:j,extend:E,fireEvent:k,getClosestDistance:M,insertItem:I,isArray:S,isNumber:T,isString:L,merge:O,normalizeTickInterval:V,objectEach:H,pick:F,relativeLength:W,removeEvent:ee,splat:J,syncTimeout:N}=x,D=(Y,G)=>V(G,void 0,void 0,F(Y.options.allowDecimals,G<.5||Y.tickAmount!==void 0),!!Y.tickAmount);E(d,{xAxis:c,yAxis:O(c,a)});class B{constructor(G,q,X){this.init(G,q,X)}init(G,q,X=this.coll){let ne=X==="xAxis",$=this.isZAxis||(G.inverted?!ne:ne);this.chart=G,this.horiz=$,this.isXAxis=ne,this.coll=X,k(this,"init",{userOptions:q}),this.opposite=F(q.opposite,this.opposite),this.side=F(q.side,this.side,$?this.opposite?0:2:this.opposite?1:3),this.setOptions(q);let K=this.options,Q=K.labels,Z=K.type;this.userOptions=q,this.minPixelPadding=0,this.reversed=F(K.reversed,this.reversed),this.visible=K.visible,this.zoomEnabled=K.zoomEnabled,this.hasNames=Z==="category"||K.categories===!0,this.categories=S(K.categories)&&K.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=_(K.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=K.minRange||K.maxZoom,this.range=K.range,this.offset=K.offset||0,this.max=void 0,this.min=void 0;let re=F(K.crosshair,J(G.options.tooltip.crosshairs)[ne?0:1]);this.crosshair=re===!0?{}:re,G.axes.indexOf(this)===-1&&(ne?G.axes.splice(G.xAxis.length,0,this):G.axes.push(this),I(this,G[this.coll])),G.orderItems(this.coll),this.series=this.series||[],G.inverted&&!this.isZAxis&&ne&&!_(this.reversed)&&(this.reversed=!0),this.labelRotation=T(Q.rotation)?Q.rotation:void 0,f(this,K),k(this,"afterInit")}setOptions(G){let q=this.horiz?{labels:{autoRotation:[-45],padding:4},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=O(q,d[this.coll],G),k(this,"afterSetOptions",{userOptions:G})}defaultLabelFormatter(){let G=this.axis,{numberFormatter:q}=this.chart,X=T(this.value)?this.value:NaN,ne=G.chart.time,$=G.categories,K=this.dateTimeLabelFormat,Q=d.lang,Z=Q.numericSymbols,re=Q.numericSymbolMagnitude||1e3,ie=G.logarithmic?Math.abs(X):G.tickInterval,he=Z&&Z.length,ue,fe;if($)fe=`${this.value}`;else if(K)fe=ne.dateFormat(K,X);else if(he&&Z&&ie>=1e3)for(;he--&&fe===void 0;)ie>=(ue=Math.pow(re,he+1))&&10*X%ue==0&&Z[he]!==null&&X!==0&&(fe=q(X/ue,-1)+Z[he]);return fe===void 0&&(fe=Math.abs(X)>=1e4?q(X,-1):q(X,-1,void 0,"")),fe}getSeriesExtremes(){let G,q=this;k(this,"getSeriesExtremes",null,function(){q.hasVisibleSeries=!1,q.dataMin=q.dataMax=q.threshold=void 0,q.softThreshold=!q.isXAxis,q.series.forEach(X=>{if(X.reserveSpace()){let ne=X.options,$,K=ne.threshold,Q,Z;if(q.hasVisibleSeries=!0,q.positiveValuesOnly&&0>=(K||0)&&(K=void 0),q.isXAxis)($=X.xData)&&$.length&&($=q.logarithmic?$.filter(re=>re>0):$,Q=(G=X.getXExtremes($)).min,Z=G.max,T(Q)||Q instanceof Date||($=$.filter(T),Q=(G=X.getXExtremes($)).min,Z=G.max),$.length&&(q.dataMin=Math.min(F(q.dataMin,Q),Q),q.dataMax=Math.max(F(q.dataMax,Z),Z)));else{let re=X.applyExtremes();T(re.dataMin)&&(Q=re.dataMin,q.dataMin=Math.min(F(q.dataMin,Q),Q)),T(re.dataMax)&&(Z=re.dataMax,q.dataMax=Math.max(F(q.dataMax,Z),Z)),_(K)&&(q.threshold=K),(!ne.softThreshold||q.positiveValuesOnly)&&(q.softThreshold=!1)}}})}),k(this,"afterGetSeriesExtremes")}translate(G,q,X,ne,$,K){let Q=this.linkedParent||this,Z=ne&&Q.old?Q.old.min:Q.min;if(!T(Z))return NaN;let re=Q.minPixelPadding,ie=(Q.isOrdinal||Q.brokenAxis?.hasBreaks||Q.logarithmic&&$)&&Q.lin2val,he=1,ue=0,fe=ne&&Q.old?Q.old.transA:Q.transA,xe=0;return fe||(fe=Q.transA),X&&(he*=-1,ue=Q.len),Q.reversed&&(he*=-1,ue-=he*(Q.sector||Q.len)),q?(xe=(G=G*he+ue-re)/fe+Z,ie&&(xe=Q.lin2val(xe))):(ie&&(G=Q.val2lin(G)),xe=he*(G-Z)*fe+ue+he*re+(T(K)?fe*K:0),Q.isRadial||(xe=b(xe))),xe}toPixels(G,q){return this.translate(G,!1,!this.horiz,void 0,!0)+(q?0:this.pos)}toValue(G,q){return this.translate(G-(q?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(G){let q=this,X=q.chart,ne=q.left,$=q.top,K=G.old,Q=G.value,Z=G.lineWidth,re=K&&X.oldChartHeight||X.chartHeight,ie=K&&X.oldChartWidth||X.chartWidth,he=q.transB,ue=G.translatedValue,fe=G.force,xe,Ee,ce,me,ye;function be(Se,ge,_e){return fe!=="pass"&&(Se<ge||Se>_e)&&(fe?Se=g(Se,ge,_e):ye=!0),Se}let Ce={value:Q,lineWidth:Z,old:K,force:fe,acrossPanes:G.acrossPanes,translatedValue:ue};return k(this,"getPlotLinePath",Ce,function(Se){xe=ce=(ue=g(ue=F(ue,q.translate(Q,void 0,void 0,K)),-1e5,1e5))+he,Ee=me=re-ue-he,T(ue)?q.horiz?(Ee=$,me=re-q.bottom+(q.options.isInternal?0:X.scrollablePixelsY||0),xe=ce=be(xe,ne,ne+q.width)):(xe=ne,ce=ie-q.right+(X.scrollablePixelsX||0),Ee=me=be(Ee,$,$+q.height)):(ye=!0,fe=!1),Se.path=ye&&!fe?void 0:X.renderer.crispLine([["M",xe,Ee],["L",ce,me]],Z||1)}),Ce.path}getLinearTickPositions(G,q,X){let ne,$,K,Q=b(Math.floor(q/G)*G),Z=b(Math.ceil(X/G)*G),re=[];if(b(Q+G)===Q&&(K=20),this.single)return[q];for(ne=Q;ne<=Z&&(re.push(ne),(ne=b(ne+G,K))!==$);)$=ne;return re}getMinorTickInterval(){let{minorTicks:G,minorTickInterval:q}=this.options;return G===!0?F(q,"auto"):G!==!1?q:void 0}getMinorTickPositions(){let G=this.options,q=this.tickPositions,X=this.minorTickInterval,ne=this.pointRangePadding||0,$=(this.min||0)-ne,K=(this.max||0)+ne,Q=K-$,Z=[],re;if(Q&&Q/X<this.len/3){let ie=this.logarithmic;if(ie)this.paddedTicks.forEach(function(he,ue,fe){ue&&Z.push.apply(Z,ie.getLogTickPositions(X,fe[ue-1],fe[ue],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")Z=Z.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(X),$,K,G.startOfWeek));else for(re=$+(q[0]-$)%X;re<=K&&re!==Z[0];re+=X)Z.push(re)}return Z.length!==0&&this.trimTicks(Z),Z}adjustForMinRange(){let G=this.options,q=this.logarithmic,{max:X,min:ne,minRange:$}=this,K,Q,Z,re;this.isXAxis&&$===void 0&&!q&&($=_(G.min)||_(G.max)||_(G.floor)||_(G.ceiling)?null:Math.min(5*(M(this.series.map(ie=>(ie.xIncrement?ie.xData?.slice(0,2):ie.xData)||[]))||0),this.dataMax-this.dataMin)),T(X)&&T(ne)&&T($)&&X-ne<$&&(Q=this.dataMax-this.dataMin>=$,K=($-X+ne)/2,Z=[ne-K,F(G.min,ne-K)],Q&&(Z[2]=q?q.log2lin(this.dataMin):this.dataMin),re=[(ne=l(Z))+$,F(G.max,ne+$)],Q&&(re[2]=q?q.log2lin(this.dataMax):this.dataMax),(X=h(re))-ne<$&&(Z[0]=X-$,Z[1]=F(G.min,X-$),ne=l(Z))),this.minRange=$,this.min=ne,this.max=X}getClosest(){let G,q;if(this.categories)q=1;else{let X=[];this.series.forEach(function(ne){let $=ne.closestPointRange;ne.xData?.length===1?X.push(ne.xData[0]):!ne.noSharedTooltip&&_($)&&ne.reserveSpace()&&(q=_(q)?Math.min(q,$):$)}),X.length&&(X.sort((ne,$)=>ne-$),G=M([X]))}return G&&q?Math.min(G,q):G||q}nameToX(G){let q=S(this.options.categories),X=q?this.categories:this.names,ne=G.options.x,$;return G.series.requireSorting=!1,_(ne)||(ne=this.options.uniqueNames&&X?q?X.indexOf(G.name):F(X.keys[G.name],-1):G.series.autoIncrement()),ne===-1?!q&&X&&($=X.length):$=ne,$!==void 0?(this.names[$]=G.name,this.names.keys[G.name]=$):G.x&&($=G.x),$}updateNames(){let G=this,q=this.names;q.length>0&&(Object.keys(q.keys).forEach(function(X){delete q.keys[X]}),q.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(X=>{X.xIncrement=null,(!X.points||X.isDirtyData)&&(G.max=Math.max(G.max,X.xData.length-1),X.processData(),X.generatePoints()),X.data.forEach(function(ne,$){let K;ne?.options&&ne.name!==void 0&&(K=G.nameToX(ne))!==void 0&&K!==ne.x&&(ne.x=K,X.xData[$]=K)})}))}setAxisTranslation(){let G=this,q=G.max-G.min,X=G.linkedParent,ne=!!G.categories,$=G.isXAxis,K=G.axisPointRange||0,Q,Z=0,re=0,ie,he=G.transA;($||ne||K)&&(Q=G.getClosest(),X?(Z=X.minPointOffset,re=X.pointRangePadding):G.series.forEach(function(ue){let fe=ne?1:$?F(ue.options.pointRange,Q,0):G.axisPointRange||0,xe=ue.options.pointPlacement;if(K=Math.max(K,fe),!G.single||ne){let Ee=ue.is("xrange")?!$:$;Z=Math.max(Z,Ee&&L(xe)?0:fe/2),re=Math.max(re,Ee&&xe==="on"?0:fe)}}),ie=G.ordinal&&G.ordinal.slope&&Q?G.ordinal.slope/Q:1,G.minPointOffset=Z*=ie,G.pointRangePadding=re*=ie,G.pointRange=Math.min(K,G.single&&ne?1:q),$&&Q&&(G.closestPointRange=Q)),G.translationSlope=G.transA=he=G.staticScale||G.len/(q+re||1),G.transB=G.horiz?G.left:G.bottom,G.minPixelPadding=he*Z,k(this,"afterSetAxisTranslation")}minFromRange(){let{max:G,min:q}=this;return T(G)&&T(q)&&G-q||void 0}setTickInterval(G){let{categories:q,chart:X,dataMax:ne,dataMin:$,dateTime:K,isXAxis:Q,logarithmic:Z,options:re,softThreshold:ie}=this,he=T(this.threshold)?this.threshold:void 0,ue=this.minRange||0,{ceiling:fe,floor:xe,linkedTo:Ee,softMax:ce,softMin:me}=re,ye=T(Ee)&&X[this.coll]?.[Ee],be=re.tickPixelInterval,Ce=re.maxPadding,Se=re.minPadding,ge=0,_e,we=T(re.tickInterval)&&re.tickInterval>=0?re.tickInterval:void 0,le,de,se,pe;if(K||q||ye||this.getTickAmount(),se=F(this.userMin,re.min),pe=F(this.userMax,re.max),ye?(this.linkedParent=ye,_e=ye.getExtremes(),this.min=F(_e.min,_e.dataMin),this.max=F(_e.max,_e.dataMax),re.type!==ye.options.type&&j(11,!0,X)):(ie&&_(he)&&T(ne)&&T($)&&($>=he?(le=he,Se=0):ne<=he&&(de=he,Ce=0)),this.min=F(se,le,$),this.max=F(pe,de,ne)),T(this.max)&&T(this.min)&&(Z&&(this.positiveValuesOnly&&!G&&0>=Math.min(this.min,F($,this.min))&&j(10,!0,X),this.min=b(Z.log2lin(this.min),16),this.max=b(Z.log2lin(this.max),16)),this.range&&T($)&&(this.userMin=this.min=se=Math.max($,this.minFromRange()||0),this.userMax=pe=this.max,this.range=void 0)),k(this,"foundExtremes"),this.adjustForMinRange(),T(this.min)&&T(this.max)){if(!T(this.userMin)&&T(me)&&me<this.min&&(this.min=se=me),!T(this.userMax)&&T(ce)&&ce>this.max&&(this.max=pe=ce),q||this.axisPointRange||this.stacking?.usePercentage||ye||!(ge=this.max-this.min)||(!_(se)&&Se&&(this.min-=ge*Se),_(pe)||!Ce||(this.max+=ge*Ce)),!T(this.userMin)&&T(xe)&&(this.min=Math.max(this.min,xe)),!T(this.userMax)&&T(fe)&&(this.max=Math.min(this.max,fe)),ie&&T($)&&T(ne)){let Te=he||0;!_(se)&&this.min<Te&&$>=Te?this.min=re.minRange?Math.min(Te,this.max-ue):Te:!_(pe)&&this.max>Te&&ne<=Te&&(this.max=re.minRange?Math.max(Te,this.min+ue):Te)}!X.polar&&this.min>this.max&&(_(re.min)?this.max=this.min:_(re.max)&&(this.min=this.max)),ge=this.max-this.min}if(this.min!==this.max&&T(this.min)&&T(this.max)?ye&&!we&&be===ye.options.tickPixelInterval?this.tickInterval=we=ye.tickInterval:this.tickInterval=F(we,this.tickAmount?ge/Math.max(this.tickAmount-1,1):void 0,q?1:ge*be/Math.max(this.len,be)):this.tickInterval=1,Q&&!G){let Te=this.min!==this.old?.min||this.max!==this.old?.max;this.series.forEach(function(ke){ke.forceCrop=ke.forceCropping?.(),ke.processData(Te)}),k(this,"postProcessData",{hasExtremesChanged:Te})}this.setAxisTranslation(),k(this,"initialAxisTranslation"),this.pointRange&&!we&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let je=F(re.minTickInterval,K&&!this.series.some(Te=>Te.noSharedTooltip)?this.closestPointRange:0);!we&&this.tickInterval<je&&(this.tickInterval=je),K||Z||we||(this.tickInterval=D(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){let G=this.options,q=G.tickPositions,X=G.tickPositioner,ne=this.getMinorTickInterval(),$=!this.isPanning,K=$&&G.startOnTick,Q=$&&G.endOnTick,Z=[],re;if(this.tickmarkOffset=this.categories&&G.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.minorTickInterval=ne==="auto"&&this.tickInterval?this.tickInterval/G.minorTicksPerMajor:ne,this.single=this.min===this.max&&_(this.min)&&!this.tickAmount&&(this.min%1==0||G.allowDecimals!==!1),q)Z=q.slice();else if(T(this.min)&&T(this.max)){if(!this.ordinal?.positions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))Z=[this.min,this.max],j(19,!1,this.chart);else if(this.dateTime)Z=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,G.units),this.min,this.max,G.startOfWeek,this.ordinal?.positions,this.closestPointRange,!0);else if(this.logarithmic)Z=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let ie=this.tickInterval,he=ie;for(;he<=2*ie&&(Z=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&Z.length>this.tickAmount);)this.tickInterval=D(this,he*=1.1)}Z.length>this.len&&(Z=[Z[0],Z[Z.length-1]])[0]===Z[1]&&(Z.length=1),X&&(this.tickPositions=Z,(re=X.apply(this,[this.min,this.max]))&&(Z=re))}this.tickPositions=Z,this.paddedTicks=Z.slice(0),this.trimTicks(Z,K,Q),!this.isLinked&&T(this.min)&&T(this.max)&&(this.single&&Z.length<2&&!this.categories&&!this.series.some(ie=>ie.is("heatmap")&&ie.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),q||re||this.adjustTickAmount()),k(this,"afterSetTickPositions")}trimTicks(G,q,X){let ne=G[0],$=G[G.length-1],K=!this.isOrdinal&&this.minPointOffset||0;if(k(this,"trimTicks"),!this.isLinked){if(q&&ne!==-1/0)this.min=ne;else for(;this.min-K>G[0];)G.shift();if(X)this.max=$;else for(;this.max+K<G[G.length-1];)G.pop();G.length===0&&_(ne)&&!this.options.tickPositions&&G.push(($+ne)/2)}}alignToOthers(){let G,q=this,X=q.chart,ne=[this],$=q.options,K=X.options.chart,Q=this.coll==="yAxis"&&K.alignThresholds,Z=[];if(q.thresholdAlignment=void 0,(K.alignTicks!==!1&&$.alignTicks||Q)&&$.startOnTick!==!1&&$.endOnTick!==!1&&!q.logarithmic){let re=he=>{let{horiz:ue,options:fe}=he;return[ue?fe.left:fe.top,fe.width,fe.height,fe.pane].join(",")},ie=re(this);X[this.coll].forEach(function(he){let{series:ue}=he;ue.length&&ue.some(fe=>fe.visible)&&he!==q&&re(he)===ie&&(G=!0,ne.push(he))})}if(G&&Q){ne.forEach(ie=>{let he=ie.getThresholdAlignment(q);T(he)&&Z.push(he)});let re=Z.length>1?Z.reduce((ie,he)=>ie+=he,0)/Z.length:void 0;ne.forEach(ie=>{ie.thresholdAlignment=re})}return G}getThresholdAlignment(G){if((!T(this.dataMin)||this!==G&&this.series.some(q=>q.isDirty||q.isDirtyData))&&this.getSeriesExtremes(),T(this.threshold)){let q=g((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(q=1-q),q}}getTickAmount(){let G=this.options,q=G.tickPixelInterval,X=G.tickAmount;_(G.tickInterval)||X||!(this.len<q)||this.isRadial||this.logarithmic||!G.startOnTick||!G.endOnTick||(X=2),!X&&this.alignToOthers()&&(X=Math.ceil(this.len/q)+1),X<4&&(this.finalTickAmt=X,X=5),this.tickAmount=X}adjustTickAmount(){let G=this,{finalTickAmt:q,max:X,min:ne,options:$,tickPositions:K,tickAmount:Q,thresholdAlignment:Z}=G,re=K?.length,ie=F(G.threshold,G.softThreshold?0:null),he,ue,fe=G.tickInterval,xe,Ee=()=>K.push(b(K[K.length-1]+fe)),ce=()=>K.unshift(b(K[0]-fe));if(T(Z)&&(xe=Z<.5?Math.ceil(Z*(Q-1)):Math.floor(Z*(Q-1)),$.reversed&&(xe=Q-1-xe)),G.hasData()&&T(ne)&&T(X)){let me=()=>{G.transA*=(re-1)/(Q-1),G.min=$.startOnTick?K[0]:Math.min(ne,K[0]),G.max=$.endOnTick?K[K.length-1]:Math.max(X,K[K.length-1])};if(T(xe)&&T(G.threshold)){for(;K[xe]!==ie||K.length!==Q||K[0]>ne||K[K.length-1]<X;){for(K.length=0,K.push(G.threshold);K.length<Q;)K[xe]===void 0||K[xe]>G.threshold?ce():Ee();if(fe>8*G.tickInterval)break;fe*=2}me()}else if(re<Q){for(;K.length<Q;)K.length%2||ne===ie?Ee():ce();me()}if(_(q)){for(ue=he=K.length;ue--;)(q===3&&ue%2==1||q<=2&&ue>0&&ue<he-1)&&K.splice(ue,1);G.finalTickAmt=void 0}}}setScale(){let{coll:G,stacking:q}=this,X=!1,ne=!1;this.series.forEach(K=>{X=X||K.isDirtyData||K.isDirty,ne=ne||K.xAxis&&K.xAxis.isDirty||!1}),this.setAxisSize();let $=this.len!==(this.old&&this.old.len);$||X||ne||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(q&&G==="yAxis"&&q.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),q&&G==="xAxis"&&q.buildStacks(),this.isDirty||(this.isDirty=$||this.min!==this.old?.min||this.max!==this.old?.max)):q&&q.cleanStacks(),X&&delete this.allExtremes,k(this,"afterSetScale")}setExtremes(G,q,X=!0,ne,$){this.series.forEach(K=>{delete K.kdTree}),k(this,"setExtremes",$=E($,{min:G,max:q}),K=>{this.userMin=K.min,this.userMax=K.max,this.eventArgs=K,X&&this.chart.redraw(ne)})}setAxisSize(){let G=this.chart,q=this.options,X=q.offsets||[0,0,0,0],ne=this.horiz,$=this.width=Math.round(W(F(q.width,G.plotWidth-X[3]+X[1]),G.plotWidth)),K=this.height=Math.round(W(F(q.height,G.plotHeight-X[0]+X[2]),G.plotHeight)),Q=this.top=Math.round(W(F(q.top,G.plotTop+X[0]),G.plotHeight,G.plotTop)),Z=this.left=Math.round(W(F(q.left,G.plotLeft+X[3]),G.plotWidth,G.plotLeft));this.bottom=G.chartHeight-K-Q,this.right=G.chartWidth-$-Z,this.len=Math.max(ne?$:K,0),this.pos=ne?Z:Q}getExtremes(){let G=this.logarithmic;return{min:G?b(G.lin2log(this.min)):this.min,max:G?b(G.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(G){let q=this.logarithmic,X=q?q.lin2log(this.min):this.min,ne=q?q.lin2log(this.max):this.max;return G===null||G===-1/0?G=X:G===1/0?G=ne:X>G?G=X:ne<G&&(G=ne),this.translate(G,0,1,0,1)}autoLabelAlign(G){let q=(F(G,0)-90*this.side+720)%360,X={align:"center"};return k(this,"autoLabelAlign",X,function(ne){q>15&&q<165?ne.align="right":q>195&&q<345&&(ne.align="left")}),X.align}tickSize(G){let q=this.options,X=F(q[G==="tick"?"tickWidth":"minorTickWidth"],G==="tick"&&this.isXAxis&&!this.categories?1:0),ne=q[G==="tick"?"tickLength":"minorTickLength"],$;X&&ne&&(q[G+"Position"]==="inside"&&(ne=-ne),$=[ne,X]);let K={tickSize:$};return k(this,"afterTickSize",K),K.tickSize}labelMetrics(){let G=this.chart.renderer,q=this.ticks,X=q[Object.keys(q)[0]]||{};return this.chart.renderer.fontMetrics(X.label||X.movedLabel||G.box)}unsquish(){let G=this.options.labels,q=G.padding||0,X=this.horiz,ne=this.tickInterval,$=this.len/(((this.categories?1:0)+this.max-this.min)/ne),K=G.rotation,Q=b(.8*this.labelMetrics().h),Z=Math.max(this.max-this.min,0),re=function(xe){let Ee=(xe+2*q)/($||1);return(Ee=Ee>1?Math.ceil(Ee):1)*ne>Z&&xe!==1/0&&$!==1/0&&Z&&(Ee=Math.ceil(Z/ne)),b(Ee*ne)},ie=ne,he,ue=Number.MAX_VALUE,fe;if(X){if(!G.staggerLines&&(T(K)?fe=[K]:$<G.autoRotationLimit&&(fe=G.autoRotation)),fe){let xe,Ee;for(let ce of fe)(ce===K||ce&&ce>=-90&&ce<=90)&&(Ee=(xe=re(Math.abs(Q/Math.sin(m*ce))))+Math.abs(ce/360))<ue&&(ue=Ee,he=ce,ie=xe)}}else ie=re(.75*Q);return this.autoRotation=fe,this.labelRotation=F(he,T(K)?K:0),G.step?ne:ie}getSlotWidth(G){let q=this.chart,X=this.horiz,ne=this.options.labels,$=Math.max(this.tickPositions.length-(this.categories?0:1),1),K=q.margin[3];if(G&&T(G.slotWidth))return G.slotWidth;if(X&&ne.step<2)return ne.rotation?0:(this.staggerLines||1)*this.len/$;if(!X){let Q=ne.style.width;if(Q!==void 0)return parseInt(String(Q),10);if(K)return K-q.spacing[3]}return .33*q.chartWidth}renderUnsquish(){let G=this.chart,q=G.renderer,X=this.tickPositions,ne=this.ticks,$=this.options.labels,K=$.style,Q=this.horiz,Z=this.getSlotWidth(),re=Math.max(1,Math.round(Z-(Q?2*($.padding||0):$.distance||0))),ie={},he=this.labelMetrics(),ue=K.textOverflow,fe,xe,Ee=0,ce,me;if(L($.rotation)||(ie.rotation=$.rotation||0),X.forEach(function(ye){let be=ne[ye];be.movedLabel&&be.replaceMovedLabel(),be&&be.label&&be.label.textPxLength>Ee&&(Ee=be.label.textPxLength)}),this.maxLabelLength=Ee,this.autoRotation)Ee>re&&Ee>he.h?ie.rotation=this.labelRotation:this.labelRotation=0;else if(Z&&(fe=re,!ue))for(xe="clip",me=X.length;!Q&&me--;)(ce=ne[X[me]].label)&&(ce.styles.textOverflow==="ellipsis"?ce.css({textOverflow:"clip"}):ce.textPxLength>Z&&ce.css({width:Z+"px"}),ce.getBBox().height>this.len/X.length-(he.h-he.f)&&(ce.specificTextOverflow="ellipsis"));ie.rotation&&(fe=Ee>.5*G.chartHeight?.33*G.chartHeight:Ee,ue||(xe="ellipsis")),this.labelAlign=$.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(ie.align=this.labelAlign),X.forEach(function(ye){let be=ne[ye],Ce=be&&be.label,Se=K.width,ge={};Ce&&(Ce.attr(ie),be.shortenLabel?be.shortenLabel():fe&&!Se&&K.whiteSpace!=="nowrap"&&(fe<Ce.textPxLength||Ce.element.tagName==="SPAN")?(ge.width=fe+"px",ue||(ge.textOverflow=Ce.specificTextOverflow||xe),Ce.css(ge)):!Ce.styles.width||ge.width||Se||Ce.css({width:null}),delete Ce.specificTextOverflow,be.rotation=ie.rotation)},this),this.tickRotCorr=q.rotCorr(he.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(G){return G.hasData()})||this.options.showEmpty&&_(this.min)&&_(this.max)}addTitle(G){let q,X=this.chart.renderer,ne=this.horiz,$=this.opposite,K=this.options.title,Q=this.chart.styledMode;this.axisTitle||((q=K.textAlign)||(q=(ne?{low:"left",middle:"center",high:"right"}:{low:$?"right":"left",middle:"center",high:$?"left":"right"})[K.align]),this.axisTitle=X.text(K.text||"",0,0,K.useHTML).attr({zIndex:7,rotation:K.rotation||0,align:q}).addClass("highcharts-axis-title"),Q||this.axisTitle.css(O(K.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),Q||K.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[G?"show":"hide"](G)}generateTick(G){let q=this.ticks;q[G]?q[G].addLabel():q[G]=new v(this,G)}createGroups(){let{axisParent:G,chart:q,coll:X,options:ne}=this,$=q.renderer,K=(Q,Z,re)=>$.g(Q).attr({zIndex:re}).addClass(`highcharts-${X.toLowerCase()}${Z} `+(this.isRadial?`highcharts-radial-axis${Z} `:"")+(ne.className||"")).add(G);this.axisGroup||(this.gridGroup=K("grid","-grid",ne.gridZIndex),this.axisGroup=K("axis","",ne.zIndex),this.labelGroup=K("axis-labels","-labels",ne.labels.zIndex))}getOffset(){let G=this,{chart:q,horiz:X,options:ne,side:$,ticks:K,tickPositions:Q,coll:Z}=G,re=q.inverted&&!G.isZAxis?[1,0,3,2][$]:$,ie=G.hasData(),he=ne.title,ue=ne.labels,fe=T(ne.crossing),xe=q.axisOffset,Ee=q.clipOffset,ce=[-1,1,1,-1][$],me,ye=0,be,Ce=0,Se=0,ge,_e;if(G.showAxis=me=ie||ne.showEmpty,G.staggerLines=G.horiz&&ue.staggerLines||void 0,G.createGroups(),ie||G.isLinked?(Q.forEach(function(we){G.generateTick(we)}),G.renderUnsquish(),G.reserveSpaceDefault=$===0||$===2||{1:"left",3:"right"}[$]===G.labelAlign,F(ue.reserveSpace,!fe&&null,G.labelAlign==="center"||null,G.reserveSpaceDefault)&&Q.forEach(function(we){Se=Math.max(K[we].getLabelSize(),Se)}),G.staggerLines&&(Se*=G.staggerLines),G.labelOffset=Se*(G.opposite?-1:1)):H(K,function(we,le){we.destroy(),delete K[le]}),he?.text&&he.enabled!==!1&&(G.addTitle(me),me&&!fe&&he.reserveSpace!==!1&&(G.titleOffset=ye=G.axisTitle.getBBox()[X?"height":"width"],Ce=_(be=he.offset)?0:F(he.margin,X?5:10))),G.renderLine(),G.offset=ce*F(ne.offset,xe[$]?xe[$]+(ne.margin||0):0),G.tickRotCorr=G.tickRotCorr||{x:0,y:0},_e=$===0?-G.labelMetrics().h:$===2?G.tickRotCorr.y:0,ge=Math.abs(Se)+Ce,Se&&(ge-=_e,ge+=ce*(X?F(ue.y,G.tickRotCorr.y+ce*ue.distance):F(ue.x,ce*ue.distance))),G.axisTitleMargin=F(be,ge),G.getMaxLabelDimensions&&(G.maxLabelDimensions=G.getMaxLabelDimensions(K,Q)),Z!=="colorAxis"&&Ee){let we=this.tickSize("tick");xe[$]=Math.max(xe[$],(G.axisTitleMargin||0)+ye+ce*G.offset,ge,Q&&Q.length&&we?we[0]+ce*G.offset:0);let le=!G.axisLine||ne.offset?0:G.axisLine.strokeWidth()/2;Ee[re]=Math.max(Ee[re],le)}k(this,"afterGetOffset")}getLinePath(G){let q=this.chart,X=this.opposite,ne=this.offset,$=this.horiz,K=this.left+(X?this.width:0)+ne,Q=q.chartHeight-this.bottom-(X?this.height:0)+ne;return X&&(G*=-1),q.renderer.crispLine([["M",$?this.left:K,$?Q:this.top],["L",$?q.chartWidth-this.right:K,$?Q:q.chartHeight-this.bottom]],G)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(G){let q=this.horiz,X=this.left,ne=this.top,$=this.len,K=this.options.title,Q=q?X:ne,Z=this.opposite,re=this.offset,ie=K.x,he=K.y,ue=this.chart.renderer.fontMetrics(G),fe=G?Math.max(G.getBBox(!1,0).height-ue.h-1,0):0,xe={low:Q+(q?0:$),middle:Q+$/2,high:Q+(q?$:0)}[K.align],Ee=(q?ne+this.height:X)+(q?1:-1)*(Z?-1:1)*(this.axisTitleMargin||0)+[-fe,fe,ue.f,-fe][this.side],ce={x:q?xe+ie:Ee+(Z?this.width:0)+re+ie,y:q?Ee+he-(Z?this.height:0)+re:xe+he};return k(this,"afterGetTitlePosition",{titlePosition:ce}),ce}renderMinorTick(G,q){let X=this.minorTicks;X[G]||(X[G]=new v(this,G,"minor")),q&&X[G].isNew&&X[G].render(null,!0),X[G].render(null,!1,1)}renderTick(G,q,X){let ne=this.isLinked,$=this.ticks;(!ne||G>=this.min&&G<=this.max||this.grid&&this.grid.isColumn)&&($[G]||($[G]=new v(this,G)),X&&$[G].isNew&&$[G].render(q,!0,-1),$[G].render(q))}render(){let G,q,X=this,ne=X.chart,$=X.logarithmic,K=ne.renderer,Q=X.options,Z=X.isLinked,re=X.tickPositions,ie=X.axisTitle,he=X.ticks,ue=X.minorTicks,fe=X.alternateBands,xe=Q.stackLabels,Ee=Q.alternateGridColor,ce=Q.crossing,me=X.tickmarkOffset,ye=X.axisLine,be=X.showAxis,Ce=w(K.globalAnimation);if(X.labelEdge.length=0,X.overlap=!1,[he,ue,fe].forEach(function(Se){H(Se,function(ge){ge.isActive=!1})}),T(ce)){let Se=this.isXAxis?ne.yAxis[0]:ne.xAxis[0],ge=[1,-1,-1,1][this.side];if(Se){let _e=Se.toPixels(ce,!0);X.horiz&&(_e=Se.len-_e),X.offset=ge*_e}}if(X.hasData()||Z){let Se=X.chart.hasRendered&&X.old&&T(X.old.min);X.minorTickInterval&&!X.categories&&X.getMinorTickPositions().forEach(function(ge){X.renderMinorTick(ge,Se)}),re.length&&(re.forEach(function(ge,_e){X.renderTick(ge,_e,Se)}),me&&(X.min===0||X.single)&&(he[-1]||(he[-1]=new v(X,-1,null,!0)),he[-1].render(-1))),Ee&&re.forEach(function(ge,_e){q=re[_e+1]!==void 0?re[_e+1]+me:X.max-me,_e%2==0&&ge<X.max&&q<=X.max+(ne.polar?-me:me)&&(fe[ge]||(fe[ge]=new u.PlotLineOrBand(X,{})),G=ge+me,fe[ge].options={from:$?$.lin2log(G):G,to:$?$.lin2log(q):q,color:Ee,className:"highcharts-alternate-grid"},fe[ge].render(),fe[ge].isActive=!0)}),X._addedPlotLB||(X._addedPlotLB=!0,(Q.plotLines||[]).concat(Q.plotBands||[]).forEach(function(ge){X.addPlotBandOrLine(ge)}))}[he,ue,fe].forEach(function(Se){let ge=[],_e=Ce.duration;H(Se,function(we,le){we.isActive||(we.render(le,!1,0),we.isActive=!1,ge.push(le))}),N(function(){let we=ge.length;for(;we--;)Se[ge[we]]&&!Se[ge[we]].isActive&&(Se[ge[we]].destroy(),delete Se[ge[we]])},Se!==fe&&ne.hasRendered&&_e?_e:0)}),ye&&(ye[ye.isPlaced?"animate":"attr"]({d:this.getLinePath(ye.strokeWidth())}),ye.isPlaced=!0,ye[be?"show":"hide"](be)),ie&&be&&(ie[ie.isNew?"attr":"animate"](X.getTitlePosition(ie)),ie.isNew=!1),xe&&xe.enabled&&X.stacking&&X.stacking.renderStackTotals(),X.old={len:X.len,max:X.max,min:X.min,transA:X.transA,userMax:X.userMax,userMin:X.userMin},X.isDirty=!1,k(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(G){G.render()})),this.series.forEach(function(G){G.isDirty=!0})}getKeepProps(){return this.keepProps||B.keepProps}destroy(G){let q=this,X=q.plotLinesAndBands,ne=this.eventOptions;if(k(this,"destroy",{keepEvents:G}),G||ee(q),[q.ticks,q.minorTicks,q.alternateBands].forEach(function($){A($)}),X){let $=X.length;for(;$--;)X[$].destroy()}for(let $ in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(K){q[K]&&(q[K]=q[K].destroy())}),q.plotLinesAndBandsGroups)q.plotLinesAndBandsGroups[$]=q.plotLinesAndBandsGroups[$].destroy();H(q,function($,K){q.getKeepProps().indexOf(K)===-1&&delete q[K]}),this.eventOptions=ne}drawCrosshair(G,q){let X=this.crosshair,ne=F(X&&X.snap,!0),$=this.chart,K,Q,Z,re=this.cross,ie;if(k(this,"drawCrosshair",{e:G,point:q}),G||(G=this.cross&&this.cross.e),X&&(_(q)||!ne)!==!1){if(ne?_(q)&&(Q=F(this.coll!=="colorAxis"?q.crosshairPos:null,this.isXAxis?q.plotX:this.len-q.plotY)):Q=G&&(this.horiz?G.chartX-this.pos:this.len-G.chartY+this.pos),_(Q)&&(ie={value:q&&(this.isXAxis?q.x:F(q.stackY,q.y)),translatedValue:Q},$.polar&&E(ie,{isCrosshair:!0,chartX:G&&G.chartX,chartY:G&&G.chartY,point:q}),K=this.getPlotLinePath(ie)||null),!_(K)){this.hideCrosshair();return}Z=this.categories&&!this.isRadial,re||(this.cross=re=$.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(Z?"category ":"thin ")+(X.className||"")).attr({zIndex:F(X.zIndex,2)}).add(),!$.styledMode&&(re.attr({stroke:X.color||(Z?y.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":F(X.width,1)}).css({"pointer-events":"none"}),X.dashStyle&&re.attr({dashstyle:X.dashStyle}))),re.show().attr({d:K}),Z&&!X.width&&re.attr({"stroke-width":this.transA}),this.cross.e=G}else this.hideCrosshair();k(this,"afterDrawCrosshair",{e:G,point:q})}hideCrosshair(){this.cross&&this.cross.hide(),k(this,"afterHideCrosshair")}update(G,q){let X=this.chart;G=O(this.userOptions,G),this.destroy(!0),this.init(X,G),X.isDirtyBox=!0,F(q,!0)&&X.redraw()}remove(G){let q=this.chart,X=this.coll,ne=this.series,$=ne.length;for(;$--;)ne[$]&&ne[$].remove(!1);P(q.axes,this),P(q[X]||[],this),q.orderItems(X),this.destroy(),q.isDirtyBox=!0,F(G,!0)&&q.redraw()}setTitle(G,q){this.update({title:G},q)}setCategories(G,q){this.update({categories:G},q)}}return B.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],B}),s(r,"Core/Axis/DateTimeAxis.js",[r["Core/Utilities.js"]],function(t){var o;let{addEvent:y,getMagnitude:i,normalizeTickInterval:p,timeUnits:u}=t;return function(v){function x(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function w(){if(this.options.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new c(this))}v.compose=function(a){return a.keepProps.includes("dateTime")||(a.keepProps.push("dateTime"),a.prototype.getTimeTicks=x,y(a,"afterSetOptions",w)),a};class c{constructor(d){this.axis=d}normalizeTimeTickInterval(d,f){let m=f||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],l=m[m.length-1],h=u[l[0]],g=l[1],b;for(b=0;b<m.length&&(h=u[(l=m[b])[0]],g=l[1],!m[b+1]||!(d<=(h*g[g.length-1]+u[m[b+1][0]])/2));b++);h===u.year&&d<5*h&&(g=[1,2,5]);let _=p(d/h,g,l[0]==="year"?Math.max(i(d/h),1):1);return{unitRange:h,count:_,unitName:l[0]}}getXDateFormat(d,f){let{axis:m}=this,l=m.chart.time;return m.closestPointRange?l.getDateFormat(m.closestPointRange,d,m.options.startOfWeek,f)||l.resolveDTLFormat(f.year).main:l.resolveDTLFormat(f.day).main}}v.Additions=c}(o||(o={})),o}),s(r,"Core/Axis/LogarithmicAxis.js",[r["Core/Utilities.js"]],function(t){var o;let{addEvent:y,normalizeTickInterval:i,pick:p}=t;return function(u){function v(c){let a=c.userOptions,d=this.logarithmic;a.type!=="logarithmic"?this.logarithmic=void 0:d||(d=this.logarithmic=new w(this))}function x(){let c=this.logarithmic;c&&(this.lin2val=function(a){return c.lin2log(a)},this.val2lin=function(a){return c.log2lin(a)})}u.compose=function(c){return c.keepProps.includes("logarithmic")||(c.keepProps.push("logarithmic"),y(c,"init",v),y(c,"afterInit",x)),c};class w{constructor(a){this.axis=a}getLogTickPositions(a,d,f,m){let l=this.axis,h=l.len,g=l.options,b=[];if(m||(this.minorAutoInterval=void 0),a>=.5)a=Math.round(a),b=l.getLinearTickPositions(a,d,f);else if(a>=.08){let _,A,P,j,E,k,M,I=Math.floor(d);for(_=a>.3?[1,2,4]:a>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],A=I;A<f+1&&!M;A++)for(P=0,j=_.length;P<j&&!M;P++)(E=this.log2lin(this.lin2log(A)*_[P]))>d&&(!m||k<=f)&&k!==void 0&&b.push(k),k>f&&(M=!0),k=E}else{let _=this.lin2log(d),A=this.lin2log(f),P=m?l.getMinorTickInterval():g.tickInterval,j=g.tickPixelInterval/(m?5:1),E=m?h/l.tickPositions.length:h;a=i(a=p(P==="auto"?null:P,this.minorAutoInterval,(A-_)*j/(E||1))),b=l.getLinearTickPositions(a,_,A).map(this.log2lin),m||(this.minorAutoInterval=a/5)}return m||(l.tickInterval=a),b}lin2log(a){return Math.pow(10,a)}log2lin(a){return Math.log(a)/Math.LN10}}u.Additions=w}(o||(o={})),o}),s(r,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[r["Core/Utilities.js"]],function(t){var o;let{erase:y,extend:i,isNumber:p}=t;return function(u){let v;function x(l){return this.addPlotBandOrLine(l,"plotBands")}function w(l,h){let g=this.userOptions,b=new v(this,l);if(this.visible&&(b=b.render()),b){if(this._addedPlotLB||(this._addedPlotLB=!0,(g.plotLines||[]).concat(g.plotBands||[]).forEach(_=>{this.addPlotBandOrLine(_)})),h){let _=g[h]||[];_.push(l),g[h]=_}this.plotLinesAndBands.push(b)}return b}function c(l){return this.addPlotBandOrLine(l,"plotLines")}function a(l,h,g){g=g||this.options;let b=this.getPlotLinePath({value:h,force:!0,acrossPanes:g.acrossPanes}),_=[],A=this.horiz,P=!p(this.min)||!p(this.max)||l<this.min&&h<this.min||l>this.max&&h>this.max,j=this.getPlotLinePath({value:l,force:!0,acrossPanes:g.acrossPanes}),E,k=1,M;if(j&&b)for(P&&(M=j.toString()===b.toString(),k=0),E=0;E<j.length;E+=2){let I=j[E],S=j[E+1],T=b[E],L=b[E+1];(I[0]==="M"||I[0]==="L")&&(S[0]==="M"||S[0]==="L")&&(T[0]==="M"||T[0]==="L")&&(L[0]==="M"||L[0]==="L")&&(A&&T[1]===I[1]?(T[1]+=k,L[1]+=k):A||T[2]!==I[2]||(T[2]+=k,L[2]+=k),_.push(["M",I[1],I[2]],["L",S[1],S[2]],["L",L[1],L[2]],["L",T[1],T[2]],["Z"])),_.isFlat=M}return _}function d(l){this.removePlotBandOrLine(l)}function f(l){let h=this.plotLinesAndBands,g=this.options,b=this.userOptions;if(h){let _=h.length;for(;_--;)h[_].id===l&&h[_].destroy();[g.plotLines||[],b.plotLines||[],g.plotBands||[],b.plotBands||[]].forEach(function(A){for(_=A.length;_--;)(A[_]||{}).id===l&&y(A,A[_])})}}function m(l){this.removePlotBandOrLine(l)}u.compose=function(l,h){let g=h.prototype;return g.addPlotBand||(v=l,i(g,{addPlotBand:x,addPlotLine:c,addPlotBandOrLine:w,getPlotBandPath:a,removePlotBand:d,removePlotLine:m,removePlotBandOrLine:f})),h}}(o||(o={})),o}),s(r,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[r["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],r["Core/Utilities.js"]],function(t,o){let{arrayMax:y,arrayMin:i,defined:p,destroyObjectProperties:u,erase:v,fireEvent:x,merge:w,objectEach:c,pick:a}=o;class d{static compose(m){return t.compose(d,m)}constructor(m,l){this.axis=m,this.options=l,this.id=l.id}render(){x(this,"render");let{axis:m,options:l}=this,{horiz:h,logarithmic:g}=m,{color:b,events:_,zIndex:A=0}=l,P={},j=m.chart.renderer,E=l.to,k=l.from,M=l.value,I=l.borderWidth,S=l.label,{label:T,svgElem:L}=this,O=[],V,H=p(k)&&p(E),F=p(M),W=!L,ee={class:"highcharts-plot-"+(H?"band ":"line ")+(l.className||"")},J=H?"bands":"lines";if(!m.chart.styledMode&&(F?(ee.stroke=b||"#999999",ee["stroke-width"]=a(l.width,1),l.dashStyle&&(ee.dashstyle=l.dashStyle)):H&&(ee.fill=b||"#e6e9ff",I&&(ee.stroke=l.borderColor,ee["stroke-width"]=I))),P.zIndex=A,J+="-"+A,(V=m.plotLinesAndBandsGroups[J])||(m.plotLinesAndBandsGroups[J]=V=j.g("plot-"+J).attr(P).add()),L||(this.svgElem=L=j.path().attr(ee).add(V)),p(M))O=m.getPlotLinePath({value:g?.log2lin(M)??M,lineWidth:L.strokeWidth(),acrossPanes:l.acrossPanes});else{if(!(p(k)&&p(E)))return;O=m.getPlotBandPath(g?.log2lin(k)??k,g?.log2lin(E)??E,l)}return!this.eventsAdded&&_&&(c(_,(N,D)=>{L?.on(D,B=>{_[D].apply(this,[B])})}),this.eventsAdded=!0),(W||!L.d)&&O?.length?L.attr({d:O}):L&&(O?(L.show(),L.animate({d:O})):L.d&&(L.hide(),T&&(this.label=T=T.destroy()))),S&&(p(S.text)||p(S.formatter))&&O?.length&&m.width>0&&m.height>0&&!O.isFlat?(S=w({align:h&&H?"center":void 0,x:h?!H&&4:10,verticalAlign:!h&&H?"middle":void 0,y:h?H?16:10:H?6:-4,rotation:h&&!H?90:0},S),this.renderLabel(S,O,H,A)):T&&T.hide(),this}renderLabel(m,l,h,g){let b=this.axis,_=b.chart.renderer,A=this.label;A||(this.label=A=_.text(this.getLabelText(m),0,0,m.useHTML).attr({align:m.textAlign||m.align,rotation:m.rotation,class:"highcharts-plot-"+(h?"band":"line")+"-label "+(m.className||""),zIndex:g}),b.chart.styledMode||A.css(w({fontSize:"0.8em",textOverflow:"ellipsis"},m.style)),A.add());let P=l.xBounds||[l[0][1],l[1][1],h?l[2][1]:l[0][1]],j=l.yBounds||[l[0][2],l[1][2],h?l[2][2]:l[0][2]],E=i(P),k=i(j);if(A.align(m,!1,{x:E,y:k,width:y(P)-E,height:y(j)-k}),!A.alignValue||A.alignValue==="left"){let M=m.clip?b.width:b.chart.chartWidth;A.css({width:(A.rotation===90?b.height-(A.alignAttr.y-b.top):M-(A.alignAttr.x-b.left))+"px"})}A.show(!0)}getLabelText(m){return p(m.formatter)?m.formatter.call(this):m.text}destroy(){v(this.axis.plotLinesAndBands,this),delete this.axis,u(this)}}return d}),s(r,"Core/Tooltip.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Templating.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(t,o,y,i,p,u){var v;let{animObject:x}=t,{format:w}=o,{composed:c,doc:a,isSafari:d}=y,{distribute:f}=i,{addEvent:m,clamp:l,css:h,discardElement:g,extend:b,fireEvent:_,isArray:A,isNumber:P,isString:j,merge:E,pick:k,pushUnique:M,splat:I,syncTimeout:S}=u;class T{constructor(O,V,H){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=O,this.init(O,V),this.pointer=H}bodyFormatter(O){return O.map(function(V){let H=V.series.tooltipOptions;return(H[(V.point.formatPrefix||"point")+"Formatter"]||V.point.tooltipFormatter).call(V.point,H[(V.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(O){this.chart.series.forEach(function(V){let H=V&&V.tt;H&&(!H.isActive||O?V.tt=H.destroy():H.isActive=!1)})}defaultFormatter(O){let V,H=this.points||I(this);return(V=(V=[O.tooltipFooterHeaderFormatter(H[0])]).concat(O.bodyFormatter(H))).push(O.tooltipFooterHeaderFormatter(H[0],!0)),V}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),g(this.container)),u.clearTimeout(this.hideTimer)}getAnchor(O,V){let H,{chart:F,pointer:W}=this,ee=F.inverted,J=F.plotTop,N=F.plotLeft;if((O=I(O))[0].series&&O[0].series.yAxis&&!O[0].series.yAxis.options.reversedStacks&&(O=O.slice().reverse()),this.followPointer&&V)V.chartX===void 0&&(V=W.normalize(V)),H=[V.chartX-N,V.chartY-J];else if(O[0].tooltipPos)H=O[0].tooltipPos;else{let D=0,B=0;O.forEach(function(Y){let G=Y.pos(!0);G&&(D+=G[0],B+=G[1])}),D/=O.length,B/=O.length,this.shared&&O.length>1&&V&&(ee?D=V.chartX:B=V.chartY),H=[D-N,B-J]}return H.map(Math.round)}getClassName(O,V,H){let F=this.options,W=O.series,ee=W.options;return[F.className,"highcharts-label",H&&"highcharts-tooltip-header",V?"highcharts-tooltip-box":"highcharts-tooltip",!H&&"highcharts-color-"+k(O.colorIndex,W.colorIndex),ee&&ee.className].filter(j).join(" ")}getLabel(){let O=this,V=this.chart.styledMode,H=this.options,F=this.split&&this.allowShared,W=this.container,ee=this.chart.renderer;if(this.label){let J=!this.label.hasClass("highcharts-label");(!F&&J||F&&!J)&&this.destroy()}if(!this.label){if(this.outside){let J=this.chart.options.chart.style,N=p.getRendererType();this.container=W=y.doc.createElement("div"),W.className="highcharts-tooltip-container",h(W,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(J&&J.zIndex||0)+3)}),this.renderer=ee=new N(W,0,0,J,void 0,void 0,ee.styledMode)}if(F?this.label=ee.g("tooltip"):(this.label=ee.label("",0,0,H.shape,void 0,void 0,H.useHTML,void 0,"tooltip").attr({padding:H.padding,r:H.borderRadius}),V||this.label.attr({fill:H.backgroundColor,"stroke-width":H.borderWidth||0}).css(H.style).css({pointerEvents:H.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),O.outside){let J=this.label;[J.xSetter,J.ySetter].forEach((N,D)=>{J[D?"ySetter":"xSetter"]=B=>{N.call(J,O.distance),J[D?"y":"x"]=B,W&&(W.style[D?"top":"left"]=`${B}px`)}})}this.label.attr({zIndex:8}).shadow(H.shadow).add()}return W&&!W.parentElement&&y.doc.body.appendChild(W),this.label}getPlayingField(){let{body:O,documentElement:V}=a,{chart:H,distance:F,outside:W}=this;return{width:W?Math.max(O.scrollWidth,V.scrollWidth,O.offsetWidth,V.offsetWidth,V.clientWidth)-2*F:H.chartWidth,height:W?Math.max(O.scrollHeight,V.scrollHeight,O.offsetHeight,V.offsetHeight,V.clientHeight):H.chartHeight}}getPosition(O,V,H){let{distance:F,chart:W,outside:ee,pointer:J}=this,{inverted:N,plotLeft:D,plotTop:B,polar:Y}=W,{plotX:G=0,plotY:q=0}=H,X={},ne=N&&H.h||0,{height:$,width:K}=this.getPlayingField(),Q=J.getChartPosition(),Z=Ce=>Ce*Q.scaleX,re=Ce=>Ce*Q.scaleY,ie=Ce=>{let Se=Ce==="x";return[Ce,Se?K:$,Se?O:V].concat(ee?[Se?Z(O):re(V),Se?Q.left-F+Z(G+D):Q.top-F+re(q+B),0,Se?K:$]:[Se?O:V,Se?G+D:q+B,Se?D:B,Se?D+W.plotWidth:B+W.plotHeight])},he=ie("y"),ue=ie("x"),fe,xe=!!H.negative;!Y&&W.hoverSeries?.yAxis?.reversed&&(xe=!xe);let Ee=!this.followPointer&&k(H.ttBelow,!Y&&!N===xe),ce=function(Ce,Se,ge,_e,we,le,de){let se=ee?Ce==="y"?re(F):Z(F):F,pe=(ge-_e)/2,je=_e<we-F,Te=we+F+_e<Se,ke=we-se-ge+pe,Be=we+se-pe;if(Ee&&Te)X[Ce]=Be;else if(!Ee&&je)X[Ce]=ke;else if(je)X[Ce]=Math.min(de-_e,ke-ne<0?ke:ke-ne);else{if(!Te)return!1;X[Ce]=Math.max(le,Be+ne+ge>Se?Be:Be+ne)}},me=function(Ce,Se,ge,_e,we){if(we<F||we>Se-F)return!1;we<ge/2?X[Ce]=1:we>Se-_e/2?X[Ce]=Se-_e-2:X[Ce]=we-ge/2},ye=function(Ce){[he,ue]=[ue,he],fe=Ce},be=()=>{ce.apply(0,he)!==!1?me.apply(0,ue)!==!1||fe||(ye(!0),be()):fe?X.x=X.y=0:(ye(!0),be())};return(N&&!Y||this.len>1)&&ye(),be(),X}hide(O){let V=this;u.clearTimeout(this.hideTimer),O=k(O,this.options.hideDelay),this.isHidden||(this.hideTimer=S(function(){let H=V.getLabel();V.getLabel().animate({opacity:0},{duration:O&&150,complete:()=>{H.hide(),V.container&&V.container.remove()}}),V.isHidden=!0},O))}init(O,V){this.chart=O,this.options=V,this.crosshairs=[],this.isHidden=!0,this.split=V.split&&!O.inverted&&!O.polar,this.shared=V.shared||this.split,this.outside=k(V.outside,!!(O.scrollablePixelsX||O.scrollablePixelsY))}shouldStickOnContact(O){return!!(!this.followPointer&&this.options.stickOnContact&&(!O||this.pointer.inClass(O.target,"highcharts-tooltip")))}move(O,V,H,F){let W=this,ee=x(!W.isHidden&&W.options.animation),J=W.followPointer||(W.len||0)>1,N={x:O,y:V};J||(N.anchorX=H,N.anchorY=F),ee.step=()=>W.drawTracker(),W.getLabel().animate(N,ee)}refresh(O,V){let{chart:H,options:F,pointer:W,shared:ee}=this,J=I(O),N=J[0],D=[],B=F.format,Y=F.formatter||this.defaultFormatter,G=H.styledMode,q={};if(!F.enabled||!N.series)return;u.clearTimeout(this.hideTimer),this.allowShared=!(!A(O)&&O.series&&O.series.noSharedTooltip),this.followPointer=!this.split&&N.series.tooltipOptions.followPointer;let X=this.getAnchor(O,V),ne=X[0],$=X[1];ee&&this.allowShared?(W.applyInactiveState(J),J.forEach(function(Z){Z.setState("hover"),D.push(Z.getLabelConfig())}),(q=N.getLabelConfig()).points=D):q=N.getLabelConfig(),this.len=D.length;let K=j(B)?w(B,q,H):Y.call(q,this),Q=N.series;if(this.distance=k(Q.tooltipOptions.distance,16),K===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(K,J);else{let Z=ne,re=$;if(V&&W.isDirectTouch&&(Z=V.chartX-H.plotLeft,re=V.chartY-H.plotTop),H.polar||Q.options.clip===!1||J.some(ie=>W.isDirectTouch||ie.series.shouldShowTooltip(Z,re))){let ie=this.getLabel();(!F.style.width||G)&&ie.css({width:(this.outside?this.getPlayingField():H.spacingBox).width+"px"}),ie.attr({class:this.getClassName(N),text:K&&K.join?K.join(""):K}),G||ie.attr({stroke:F.borderColor||N.color||Q.color||"#666666"}),this.updatePosition({plotX:ne,plotY:$,negative:N.negative,ttBelow:N.ttBelow,h:X[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}_(this,"refresh")}renderSplit(O,V){let H=this,{chart:F,chart:{chartWidth:W,chartHeight:ee,plotHeight:J,plotLeft:N,plotTop:D,scrollablePixelsY:B=0,scrollablePixelsX:Y,styledMode:G},distance:q,options:X,options:{positioner:ne},pointer:$}=H,{scrollLeft:K=0,scrollTop:Q=0}=F.scrollablePlotArea?.scrollingContainer||{},Z=H.outside&&typeof Y!="number"?a.documentElement.getBoundingClientRect():{left:K,right:K+W,top:Q,bottom:Q+ee},re=H.getLabel(),ie=this.renderer||F.renderer,he=!!(F.xAxis[0]&&F.xAxis[0].opposite),{left:ue,top:fe}=$.getChartPosition(),xe=D+Q,Ee=0,ce=J-B;function me(_e,we,le,de,se=!0){let pe,je;return le?(pe=he?0:ce,je=l(_e-de/2,Z.left,Z.right-de-(H.outside?ue:0))):(pe=we-xe,je=l(je=se?_e-de-q:_e+q,se?je:Z.left,Z.right)),{x:je,y:pe}}j(O)&&(O=[!1,O]);let ye=O.slice(0,V.length+1).reduce(function(_e,we,le){if(we!==!1&&we!==""){let de=V[le-1]||{isHeader:!0,plotX:V[0].plotX,plotY:J,series:{}},se=de.isHeader,pe=se?H:de.series,je=pe.tt=function(ze,qe,rt){let et=ze,{isHeader:Ye,series:at}=qe;if(!et){let tt={padding:X.padding,r:X.borderRadius};G||(tt.fill=X.backgroundColor,tt["stroke-width"]=X.borderWidth??1),et=ie.label("",0,0,X[Ye?"headerShape":"shape"],void 0,void 0,X.useHTML).addClass(H.getClassName(qe,!0,Ye)).attr(tt).add(re)}return et.isActive=!0,et.attr({text:rt}),G||et.css(X.style).attr({stroke:X.borderColor||qe.color||at.color||"#333333"}),et}(pe.tt,de,we.toString()),Te=je.getBBox(),ke=Te.width+je.strokeWidth();se&&(Ee=Te.height,ce+=Ee,he&&(xe-=Ee));let{anchorX:Be,anchorY:Ve}=function(ze){let qe,rt,{isHeader:et,plotX:Ye=0,plotY:at=0,series:tt}=ze;if(et)qe=Math.max(N+Ye,N),rt=D+J/2;else{let{xAxis:Ot,yAxis:It}=tt;qe=Ot.pos+l(Ye,-q,Ot.len+q),tt.shouldShowTooltip(0,It.pos-D+at,{ignoreX:!0})&&(rt=It.pos+at)}return{anchorX:qe=l(qe,Z.left-q,Z.right+q),anchorY:rt}}(de);if(typeof Ve=="number"){let ze=Te.height+1,qe=ne?ne.call(H,ke,ze,de):me(Be,Ve,se,ke);_e.push({align:ne?0:void 0,anchorX:Be,anchorY:Ve,boxWidth:ke,point:de,rank:k(qe.rank,se?1:0),size:ze,target:qe.y,tt:je,x:qe.x})}else je.isActive=!1}return _e},[]);!ne&&ye.some(_e=>{let{outside:we}=H,le=(we?ue:0)+_e.anchorX;return le<Z.left&&le+_e.boxWidth<Z.right||le<ue-Z.left+_e.boxWidth&&Z.right-le>le})&&(ye=ye.map(_e=>{let{x:we,y:le}=me(_e.anchorX,_e.anchorY,_e.point.isHeader,_e.boxWidth,!1);return b(_e,{target:le,x:we})})),H.cleanSplit(),f(ye,ce);let be={left:ue,right:ue};ye.forEach(function(_e){let{x:we,boxWidth:le,isHeader:de}=_e;!de&&(H.outside&&ue+we<be.left&&(be.left=ue+we),!de&&H.outside&&be.left+le>be.right&&(be.right=ue+we))}),ye.forEach(function(_e){let{x:we,anchorX:le,anchorY:de,pos:se,point:{isHeader:pe}}=_e,je={visibility:se===void 0?"hidden":"inherit",x:we,y:(se||0)+xe,anchorX:le,anchorY:de};if(H.outside&&we<le){let Te=ue-be.left;Te>0&&(pe||(je.x=we+Te,je.anchorX=le+Te),pe&&(je.x=(be.right-be.left)/2,je.anchorX=le+Te))}_e.tt.attr(je)});let{container:Ce,outside:Se,renderer:ge}=H;if(Se&&Ce&&ge){let{width:_e,height:we,x:le,y:de}=re.getBBox();ge.setSize(_e+le,we+de,!1),Ce.style.left=be.left+"px",Ce.style.top=fe+"px"}d&&re.attr({opacity:re.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let O=this.chart,V=this.label,H=this.shared?O.hoverPoints:O.hoverPoint;if(!V||!H)return;let F={x:0,y:0,width:0,height:0},W=this.getAnchor(H),ee=V.getBBox();W[0]+=O.plotLeft-(V.translateX||0),W[1]+=O.plotTop-(V.translateY||0),F.x=Math.min(0,W[0]),F.y=Math.min(0,W[1]),F.width=W[0]<0?Math.max(Math.abs(W[0]),ee.width-W[0]):Math.max(Math.abs(W[0]),ee.width),F.height=W[1]<0?Math.max(Math.abs(W[1]),ee.height-Math.abs(W[1])):Math.max(Math.abs(W[1]),ee.height),this.tracker?this.tracker.attr(F):(this.tracker=V.renderer.rect(F).addClass("highcharts-tracker").add(V),O.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(O){return O.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(O,V){let H=O.series,F=H.tooltipOptions,W=H.xAxis,ee=W&&W.dateTime,J={isFooter:V,labelConfig:O},N=F.xDateFormat,D=F[V?"footerFormat":"headerFormat"];return _(this,"headerFormatter",J,function(B){ee&&!N&&P(O.key)&&(N=ee.getXDateFormat(O.key,F.dateTimeLabelFormats)),ee&&N&&(O.point&&O.point.tooltipDateKeys||["key"]).forEach(function(Y){D=D.replace("{point."+Y+"}","{point."+Y+":"+N+"}")}),H.chart.styledMode&&(D=this.styledModeFormat(D)),B.text=w(D,{point:O,series:H},this.chart)}),J.text}update(O){this.destroy(),this.init(this.chart,E(!0,this.options,O))}updatePosition(O){let{chart:V,container:H,distance:F,options:W,pointer:ee,renderer:J}=this,{height:N=0,width:D=0}=this.getLabel(),{left:B,top:Y,scaleX:G,scaleY:q}=ee.getChartPosition(),X=(W.positioner||this.getPosition).call(this,D,N,O),ne=(O.plotX||0)+V.plotLeft,$=(O.plotY||0)+V.plotTop,K;J&&H&&(W.positioner&&(X.x+=B-F,X.y+=Y-F),K=(W.borderWidth||0)+2*F+2,J.setSize(D+K,N+K,!1),(G!==1||q!==1)&&(h(H,{transform:`scale(${G}, ${q})`}),ne*=G,$*=q),ne+=B-X.x,$+=Y-X.y),this.move(Math.round(X.x),Math.round(X.y||0),ne,$)}}return(v=T||(T={})).compose=function(L){M(c,"Core.Tooltip")&&m(L,"afterInit",function(){let O=this.chart;O.options.tooltip&&(O.tooltip=new v(O,O.options.tooltip,this))})},T}),s(r,"Core/Series/Point.js",[r["Core/Renderer/HTML/AST.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/Templating.js"],r["Core/Utilities.js"]],function(t,o,y,i,p){let{animObject:u}=o,{defaultOptions:v}=y,{format:x}=i,{addEvent:w,crisp:c,erase:a,extend:d,fireEvent:f,getNestedProperty:m,isArray:l,isFunction:h,isNumber:g,isObject:b,merge:_,pick:A,syncTimeout:P,removeEvent:j,uniqueKey:E}=p;class k{animateBeforeDestroy(){let I=this,S={x:I.startXPos,opacity:0},T=I.getGraphicalProps();T.singular.forEach(function(L){I[L]=I[L].animate(L==="dataLabel"?{x:I[L].startXPos,y:I[L].startYPos,opacity:0}:S)}),T.plural.forEach(function(L){I[L].forEach(function(O){O.element&&O.animate(d({x:I.startXPos},O.startYPos?{x:O.startXPos,y:O.startYPos}:{}))})})}applyOptions(I,S){let T=this.series,L=T.options.pointValKey||T.pointValKey;return d(this,I=k.prototype.optionsToObject.call(this,I)),this.options=this.options?d(this.options,I):I,I.group&&delete this.group,I.dataLabels&&delete this.dataLabels,L&&(this.y=k.prototype.getNestedProperty.call(this,L)),this.selected&&(this.state="select"),"name"in this&&S===void 0&&T.xAxis&&T.xAxis.hasNames&&(this.x=T.xAxis.nameToX(this)),this.x===void 0&&T?this.x=S??T.autoIncrement():g(I.x)&&T.options.relativeXValue&&(this.x=T.autoIncrement(I.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let I=this,S=I.series,T=S.chart,L=S.options.dataSorting,O=T.hoverPoints,V=u(I.series.chart.renderer.globalAnimation),H=()=>{for(let F in(I.graphic||I.graphics||I.dataLabel||I.dataLabels)&&(j(I),I.destroyElements()),I)delete I[F]};I.legendItem&&T.legend.destroyItem(I),O&&(I.setState(),a(O,I),O.length||(T.hoverPoints=null)),I===T.hoverPoint&&I.onMouseOut(),L&&L.enabled?(this.animateBeforeDestroy(),P(H,V.duration)):H(),T.pointCount--}this.destroyed=!0}destroyElements(I){let S=this,T=S.getGraphicalProps(I);T.singular.forEach(function(L){S[L]=S[L].destroy()}),T.plural.forEach(function(L){S[L].forEach(function(O){O&&O.element&&O.destroy()}),delete S[L]})}firePointEvent(I,S,T){let L=this,O=this.series.options;L.manageEvent(I),I==="click"&&O.allowPointSelect&&(T=function(V){!L.destroyed&&L.select&&L.select(null,V.ctrlKey||V.metaKey||V.shiftKey)}),f(L,I,S,T)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(I){let S,T,L=this,O=[],V={singular:[],plural:[]};for((I=I||{graphic:1,dataLabel:1}).graphic&&O.push("graphic","connector"),I.dataLabel&&O.push("dataLabel","dataLabelPath","dataLabelUpper"),T=O.length;T--;)L[S=O[T]]&&V.singular.push(S);return["graphic","dataLabel"].forEach(function(H){let F=H+"s";I[H]&&L[F]&&V.plural.push(F)}),V}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(I){return I?I.indexOf("custom.")===0?m(I,this.options):this[I]:void 0}getZone(){let I=this.series,S=I.zones,T=I.zoneAxis||"y",L,O=0;for(L=S[0];this[T]>=L.value;)L=S[++O];return this.nonZonedColor||(this.nonZonedColor=this.color),L&&L.color&&!this.options.color?this.color=L.color:this.color=this.nonZonedColor,L}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(I,S,T){this.formatPrefix="point",this.visible=!0,this.series=I,this.applyOptions(S,T),this.id??(this.id=E()),this.resolveColor(),I.chart.pointCount++,f(this,"afterInit")}isValid(){return(g(this.x)||this.x instanceof Date)&&g(this.y)}optionsToObject(I){let S=this.series,T=S.options.keys,L=T||S.pointArrayMap||["y"],O=L.length,V={},H,F=0,W=0;if(g(I)||I===null)V[L[0]]=I;else if(l(I))for(!T&&I.length>O&&((H=typeof I[0])=="string"?V.name=I[0]:H==="number"&&(V.x=I[0]),F++);W<O;)T&&I[F]===void 0||(L[W].indexOf(".")>0?k.prototype.setNestedProperty(V,I[F],L[W]):V[L[W]]=I[F]),F++,W++;else typeof I=="object"&&(V=I,I.dataLabels&&(S.hasDataLabels=()=>!0),I.marker&&(S._hasPointMarkers=!0));return V}pos(I,S=this.plotY){if(!this.destroyed){let{plotX:T,series:L}=this,{chart:O,xAxis:V,yAxis:H}=L,F=0,W=0;if(g(T)&&g(S))return I&&(F=V?V.pos:O.plotLeft,W=H?H.pos:O.plotTop),O.inverted&&V&&H?[H.len-S+W,V.len-T+F]:[T+F,S+W]}}resolveColor(){let I=this.series,S=I.chart.options.chart,T=I.chart.styledMode,L,O,V=S.colorCount,H;delete this.nonZonedColor,I.options.colorByPoint?(T||(L=(O=I.options.colors||I.chart.options.colors)[I.colorCounter],V=O.length),H=I.colorCounter,I.colorCounter++,I.colorCounter===V&&(I.colorCounter=0)):(T||(L=I.color),H=I.colorIndex),this.colorIndex=A(this.options.colorIndex,H),this.color=A(this.options.color,L)}setNestedProperty(I,S,T){return T.split(".").reduce(function(L,O,V,H){let F=H.length-1===V;return L[O]=F?S:b(L[O],!0)?L[O]:{},L[O]},I),I}shouldDraw(){return!this.isNull}tooltipFormatter(I){let S=this.series,T=S.tooltipOptions,L=A(T.valueDecimals,""),O=T.valuePrefix||"",V=T.valueSuffix||"";return S.chart.styledMode&&(I=S.chart.tooltip.styledModeFormat(I)),(S.pointArrayMap||["y"]).forEach(function(H){H="{point."+H,(O||V)&&(I=I.replace(RegExp(H+"}","g"),O+H+"}"+V)),I=I.replace(RegExp(H+"}","g"),H+":,."+L+"f}")}),x(I,{point:this,series:this.series},S.chart)}update(I,S,T,L){let O,V=this,H=V.series,F=V.graphic,W=H.chart,ee=H.options;function J(){V.applyOptions(I);let N=F&&V.hasMockGraphic,D=V.y===null?!N:N;F&&D&&(V.graphic=F.destroy(),delete V.hasMockGraphic),b(I,!0)&&(F&&F.element&&I&&I.marker&&I.marker.symbol!==void 0&&(V.graphic=F.destroy()),I?.dataLabels&&V.dataLabel&&(V.dataLabel=V.dataLabel.destroy())),O=V.index,H.updateParallelArrays(V,O),ee.data[O]=b(ee.data[O],!0)||b(I,!0)?V.options:A(I,ee.data[O]),H.isDirty=H.isDirtyData=!0,!H.fixedBox&&H.hasCartesianSeries&&(W.isDirtyBox=!0),ee.legendType==="point"&&(W.isDirtyLegend=!0),S&&W.redraw(T)}S=A(S,!0),L===!1?J():V.firePointEvent("update",{options:I},J)}remove(I,S){this.series.removePoint(this.series.data.indexOf(this),I,S)}select(I,S){let T=this,L=T.series,O=L.chart;I=A(I,!T.selected),this.selectedStaging=I,T.firePointEvent(I?"select":"unselect",{accumulate:S},function(){T.selected=T.options.selected=I,L.options.data[L.data.indexOf(T)]=T.options,T.setState(I&&"select"),S||O.getSelectedPoints().forEach(function(V){let H=V.series;V.selected&&V!==T&&(V.selected=V.options.selected=!1,H.options.data[H.data.indexOf(V)]=V.options,V.setState(O.hoverPoints&&H.options.inactiveOtherPoints?"inactive":""),V.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(I){let{inverted:S,pointer:T}=this.series.chart;T&&(I=I?T.normalize(I):T.getChartCoordinatesFromPoint(this,S),T.runPointActions(I,this))}onMouseOut(){let I=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(I.hoverPoints||[]).forEach(function(S){S.setState()}),I.hoverPoints=I.hoverPoint=null}manageEvent(I){let S=_(this.series.options.point,this.options),T=S.events?.[I];h(T)&&(!this.hcEvents?.[I]||this.hcEvents?.[I]?.map(L=>L.fn).indexOf(T)===-1)?(this.importedUserEvent?.(),this.importedUserEvent=w(this,I,T)):this.importedUserEvent&&!T&&this.hcEvents?.[I]&&(j(this,I),delete this.hcEvents[I],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(I,S){let T=this.series,L=this.state,O=T.options.states[I||"normal"]||{},V=v.plotOptions[T.type].marker&&T.options.marker,H=V&&V.enabled===!1,F=V&&V.states&&V.states[I||"normal"]||{},W=F.enabled===!1,ee=this.marker||{},J=T.chart,N=V&&T.markerAttribs,D=T.halo,B,Y,G,q=T.stateMarkerGraphic,X;if((I=I||"")===this.state&&!S||this.selected&&I!=="select"||O.enabled===!1||I&&(W||H&&F.enabled===!1)||I&&ee.states&&ee.states[I]&&ee.states[I].enabled===!1)return;if(this.state=I,N&&(B=T.markerAttribs(this,I)),this.graphic&&!this.hasMockGraphic){if(L&&this.graphic.removeClass("highcharts-point-"+L),I&&this.graphic.addClass("highcharts-point-"+I),!J.styledMode){Y=T.pointAttribs(this,I),G=A(J.options.chart.animation,O.animation);let Q=Y.opacity;T.options.inactiveOtherPoints&&g(Q)&&(this.dataLabels||[]).forEach(function(Z){Z&&!Z.hasClass("highcharts-data-label-hidden")&&(Z.animate({opacity:Q},G),Z.connector&&Z.connector.animate({opacity:Q},G))}),this.graphic.animate(Y,G)}B&&this.graphic.animate(B,A(J.options.chart.animation,F.animation,V.animation)),q&&q.hide()}else I&&F&&(X=ee.symbol||T.symbol,q&&q.currentSymbol!==X&&(q=q.destroy()),B&&(q?q[S?"animate":"attr"]({x:B.x,y:B.y}):X&&(T.stateMarkerGraphic=q=J.renderer.symbol(X,B.x,B.y,B.width,B.height).add(T.markerGroup),q.currentSymbol=X)),!J.styledMode&&q&&this.state!=="inactive"&&q.attr(T.pointAttribs(this,I))),q&&(q[I&&this.isInside?"show":"hide"](),q.element.point=this,q.addClass(this.getClassName(),!0));let ne=O.halo,$=this.graphic||q,K=$&&$.visibility||"inherit";ne&&ne.size&&$&&K!=="hidden"&&!this.isCluster?(D||(T.halo=D=J.renderer.path().add($.parentGroup)),D.show()[S?"animate":"attr"]({d:this.haloPath(ne.size)}),D.attr({class:"highcharts-halo highcharts-color-"+A(this.colorIndex,T.colorIndex)+(this.className?" "+this.className:""),visibility:K,zIndex:-1}),D.point=this,J.styledMode||D.attr(d({fill:this.color||T.color,"fill-opacity":ne.opacity},t.filterUserAttributes(ne.attributes||{})))):D?.point?.haloPath&&!D.point.destroyed&&D.animate({d:D.point.haloPath(0)},null,D.hide),f(this,"afterSetState",{state:I})}haloPath(I){let S=this.pos();return S?this.series.chart.renderer.symbols.circle(c(S[0],1)-I,S[1]-I,2*I,2*I):[]}}return k}),s(r,"Core/Pointer.js",[r["Core/Color/Color.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(t,o,y){var i;let{parse:p}=t,{charts:u,composed:v,isTouchDevice:x}=o,{addEvent:w,attr:c,css:a,extend:d,find:f,fireEvent:m,isNumber:l,isObject:h,objectEach:g,offset:b,pick:_,pushUnique:A,splat:P}=y;class j{applyInactiveState(k){let M=[],I;(k||[]).forEach(function(S){I=S.series,M.push(I),I.linkedParent&&M.push(I.linkedParent),I.linkedSeries&&(M=M.concat(I.linkedSeries)),I.navigatorSeries&&M.push(I.navigatorSeries)}),this.chart.series.forEach(function(S){M.indexOf(S)===-1?S.setState("inactive",!0):S.options.inactiveOtherPoints&&S.setAllPointsToState("inactive")})}destroy(){let k=this;this.eventsToUnbind.forEach(M=>M()),this.eventsToUnbind=[],!o.chartCount&&(j.unbindDocumentMouseUp&&(j.unbindDocumentMouseUp=j.unbindDocumentMouseUp()),j.unbindDocumentTouchEnd&&(j.unbindDocumentTouchEnd=j.unbindDocumentTouchEnd())),clearInterval(k.tooltipTimeout),g(k,function(M,I){k[I]=void 0})}getSelectionMarkerAttrs(k,M){let I={args:{chartX:k,chartY:M},attrs:{},shapeType:"rect"};return m(this,"getSelectionMarkerAttrs",I,S=>{let T,{chart:L,zoomHor:O,zoomVert:V}=this,{mouseDownX:H=0,mouseDownY:F=0}=L,W=S.attrs;W.x=L.plotLeft,W.y=L.plotTop,W.width=O?1:L.plotWidth,W.height=V?1:L.plotHeight,O&&(T=k-H,W.width=Math.max(1,Math.abs(T)),W.x=(T>0?0:T)+H),V&&(T=M-F,W.height=Math.max(1,Math.abs(T)),W.y=(T>0?0:T)+F)}),I}drag(k){let{chart:M}=this,{mouseDownX:I=0,mouseDownY:S=0}=M,{panning:T,panKey:L,selectionMarkerFill:O}=M.options.chart,V=M.plotLeft,H=M.plotTop,F=M.plotWidth,W=M.plotHeight,ee=h(T)?T.enabled:T,J=L&&k[`${L}Key`],N=k.chartX,D=k.chartY,B,Y=this.selectionMarker;if((!Y||!Y.touch)&&(N<V?N=V:N>V+F&&(N=V+F),D<H?D=H:D>H+W&&(D=H+W),this.hasDragged=Math.sqrt(Math.pow(I-N,2)+Math.pow(S-D,2)),this.hasDragged>10)){B=M.isInsidePlot(I-V,S-H,{visiblePlotOnly:!0});let{shapeType:G,attrs:q}=this.getSelectionMarkerAttrs(N,D);(M.hasCartesianSeries||M.mapView)&&this.hasZoom&&B&&!J&&!Y&&(this.selectionMarker=Y=M.renderer[G](),Y.attr({class:"highcharts-selection-marker",zIndex:7}).add(),M.styledMode||Y.attr({fill:O||p("#334eff").setOpacity(.25).get()})),Y&&Y.attr(q),B&&!Y&&ee&&M.pan(k,T)}}dragStart(k){let M=this.chart;M.mouseIsDown=k.type,M.cancelClick=!1,M.mouseDownX=k.chartX,M.mouseDownY=k.chartY}getSelectionBox(k){let M={args:{marker:k},result:k.getBBox()};return m(this,"getSelectionBox",M),M.result}drop(k){let M,{chart:I,selectionMarker:S}=this;for(let T of I.axes)T.isPanning&&(T.isPanning=!1,(T.options.startOnTick||T.options.endOnTick||T.series.some(L=>L.boosted))&&(T.forceRedraw=!0,T.setExtremes(T.userMin,T.userMax,!1),M=!0));if(M&&I.redraw(),S&&k){if(this.hasDragged){let T=this.getSelectionBox(S);I.transform({axes:I.axes.filter(L=>L.zoomEnabled&&(L.coll==="xAxis"&&this.zoomX||L.coll==="yAxis"&&this.zoomY)),selection:Qe({originalEvent:k,xAxis:[],yAxis:[]},T),from:T})}l(I.index)&&(this.selectionMarker=S.destroy())}I&&l(I.index)&&(a(I.container,{cursor:I._cursor}),I.cancelClick=this.hasDragged>10,I.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(k,M,I){let S;return k.forEach(function(T){let L=!(T.noSharedTooltip&&M)&&0>T.options.findNearestPointBy.indexOf("y"),O=T.searchPoint(I,L);h(O,!0)&&O.series&&(!h(S,!0)||function(V,H){let F=V.distX-H.distX,W=V.dist-H.dist,ee=H.series.group?.zIndex-V.series.group?.zIndex;return F!==0&&M?F:W!==0?W:ee!==0?ee:V.series.index>H.series.index?-1:1}(S,O)>0)&&(S=O)}),S}getChartCoordinatesFromPoint(k,M){let{xAxis:I,yAxis:S}=k.series,T=k.shapeArgs;if(I&&S){let L=k.clientX??k.plotX??0,O=k.plotY||0;return k.isNode&&T&&l(T.x)&&l(T.y)&&(L=T.x,O=T.y),M?{chartX:S.len+S.pos-O,chartY:I.len+I.pos-L}:{chartX:L+I.pos,chartY:O+S.pos}}if(T&&T.x&&T.y)return{chartX:T.x,chartY:T.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:k}=this.chart,M=b(k);this.chartPosition={left:M.left,top:M.top,scaleX:1,scaleY:1};let{offsetHeight:I,offsetWidth:S}=k;return S>2&&I>2&&(this.chartPosition.scaleX=M.width/S,this.chartPosition.scaleY=M.height/I),this.chartPosition}getCoordinates(k){let M={xAxis:[],yAxis:[]};for(let I of this.chart.axes)M[I.isXAxis?"xAxis":"yAxis"].push({axis:I,value:I.toValue(k[I.horiz?"chartX":"chartY"])});return M}getHoverData(k,M,I,S,T,L){let O=[],V=function(J){return J.visible&&!(!T&&J.directTouch)&&_(J.options.enableMouseTracking,!0)},H=M,F,W={chartX:L?L.chartX:void 0,chartY:L?L.chartY:void 0,shared:T};m(this,"beforeGetHoverData",W),F=H&&!H.stickyTracking?[H]:I.filter(J=>J.stickyTracking&&(W.filter||V)(J));let ee=S&&k||!L?k:this.findNearestKDPoint(F,T,L);return H=ee&&ee.series,ee&&(T&&!H.noSharedTooltip?(F=I.filter(function(J){return W.filter?W.filter(J):V(J)&&!J.noSharedTooltip})).forEach(function(J){let N=f(J.points,function(D){return D.x===ee.x&&!D.isNull});h(N)&&(J.boosted&&J.boost&&(N=J.boost.getPoint(N)),O.push(N))}):O.push(ee)),m(this,"afterGetHoverData",W={hoverPoint:ee}),{hoverPoint:W.hoverPoint,hoverSeries:H,hoverPoints:O}}getPointFromEvent(k){let M=k.target,I;for(;M&&!I;)I=M.point,M=M.parentNode;return I}onTrackerMouseOut(k){let M=this.chart,I=k.relatedTarget,S=M.hoverSeries;this.isDirectTouch=!1,!S||!I||S.stickyTracking||this.inClass(I,"highcharts-tooltip")||this.inClass(I,"highcharts-series-"+S.index)&&this.inClass(I,"highcharts-tracker")||S.onMouseOut()}inClass(k,M){let I=k,S;for(;I;){if(S=c(I,"class")){if(S.indexOf(M)!==-1)return!0;if(S.indexOf("highcharts-container")!==-1)return!1}I=I.parentElement}}constructor(k,M){this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=M,this.chart=k,this.runChartClick=!!M.chart.events?.click,this.pinchDown=[],this.setDOMEvents(),m(this,"afterInit")}normalize(k,M){let I=k.touches,S=I?I.length?I.item(0):_(I.changedTouches,k.changedTouches)[0]:k;M||(M=this.getChartPosition());let T=S.pageX-M.left,L=S.pageY-M.top;return d(k,{chartX:Math.round(T/=M.scaleX),chartY:Math.round(L/=M.scaleY)})}onContainerClick(k){let M=this.chart,I=M.hoverPoint,S=this.normalize(k),T=M.plotLeft,L=M.plotTop;!M.cancelClick&&(I&&this.inClass(S.target,"highcharts-tracker")?(m(I.series,"click",d(S,{point:I})),M.hoverPoint&&I.firePointEvent("click",S)):(d(S,this.getCoordinates(S)),M.isInsidePlot(S.chartX-T,S.chartY-L,{visiblePlotOnly:!0})&&m(M,"click",S)))}onContainerMouseDown(k){let M=(1&(k.buttons||k.button))==1;k=this.normalize(k),o.isFirefox&&k.button!==0&&this.onContainerMouseMove(k),(k.button===void 0||M)&&(this.zoomOption(k),M&&k.preventDefault?.(),this.dragStart(k))}onContainerMouseLeave(k){let{pointer:M}=u[_(j.hoverChartIndex,-1)]||{};k=this.normalize(k),this.onContainerMouseMove(k),M&&!this.inClass(k.relatedTarget,"highcharts-tooltip")&&(M.reset(),M.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(k){let M=this.chart,I=M.tooltip,S=this.normalize(k);this.setHoverChartIndex(k),(M.mouseIsDown==="mousedown"||this.touchSelect(S))&&this.drag(S),!M.openMenu&&(this.inClass(S.target,"highcharts-tracker")||M.isInsidePlot(S.chartX-M.plotLeft,S.chartY-M.plotTop,{visiblePlotOnly:!0}))&&!(I&&I.shouldStickOnContact(S))&&(this.inClass(S.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(S))}onDocumentTouchEnd(k){this.onDocumentMouseUp(k)}onContainerTouchMove(k){this.touchSelect(k)?this.onContainerMouseMove(k):this.touch(k)}onContainerTouchStart(k){this.touchSelect(k)?this.onContainerMouseDown(k):(this.zoomOption(k),this.touch(k,!0))}onDocumentMouseMove(k){let M=this.chart,I=M.tooltip,S=this.chartPosition,T=this.normalize(k,S);!S||M.isInsidePlot(T.chartX-M.plotLeft,T.chartY-M.plotTop,{visiblePlotOnly:!0})||I&&I.shouldStickOnContact(T)||T.target!==M.container.ownerDocument&&this.inClass(T.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(k){u[_(j.hoverChartIndex,-1)]?.pointer?.drop(k)}pinch(k){let M=this,{chart:I,hasZoom:S,lastTouches:T}=M,L=[].map.call(k.touches||[],W=>M.normalize(W)),O=L.length,V=O===1&&(M.inClass(k.target,"highcharts-tracker")&&I.runTrackerClick||M.runChartClick),H=I.tooltip,F=O===1&&_(H?.options.followTouchMove,!0);O>1?M.initiated=!0:F&&(M.initiated=!1),S&&M.initiated&&!V&&k.cancelable!==!1&&k.preventDefault(),k.type==="touchstart"?(M.pinchDown=L,M.res=!0,I.mouseDownX=k.chartX):F?this.runPointActions(M.normalize(k)):T&&(m(I,"touchpan",{originalEvent:k,touches:L},()=>{let W=ee=>{let J=ee[0],N=ee[1]||J;return{x:J.chartX,y:J.chartY,width:N.chartX-J.chartX,height:N.chartY-J.chartY}};I.transform({axes:I.axes.filter(ee=>ee.zoomEnabled&&(this.zoomHor&&ee.horiz||this.zoomVert&&!ee.horiz)),to:W(L),from:W(T),trigger:k.type})}),M.res&&(M.res=!1,this.reset(!1,0))),M.lastTouches=L}reset(k,M){let I=this.chart,S=I.hoverSeries,T=I.hoverPoint,L=I.hoverPoints,O=I.tooltip,V=O&&O.shared?L:T;k&&V&&P(V).forEach(function(H){H.series.isCartesian&&H.plotX===void 0&&(k=!1)}),k?O&&V&&P(V).length&&(O.refresh(V),O.shared&&L?L.forEach(function(H){H.setState(H.state,!0),H.series.isCartesian&&(H.series.xAxis.crosshair&&H.series.xAxis.drawCrosshair(null,H),H.series.yAxis.crosshair&&H.series.yAxis.drawCrosshair(null,H))}):T&&(T.setState(T.state,!0),I.axes.forEach(function(H){H.crosshair&&T.series[H.coll]===H&&H.drawCrosshair(null,T)}))):(T&&T.onMouseOut(),L&&L.forEach(function(H){H.setState()}),S&&S.onMouseOut(),O&&O.hide(M),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),I.axes.forEach(function(H){H.hideCrosshair()}),I.hoverPoints=I.hoverPoint=void 0)}runPointActions(k,M,I){let S=this.chart,T=S.series,L=S.tooltip&&S.tooltip.options.enabled?S.tooltip:void 0,O=!!L&&L.shared,V=M||S.hoverPoint,H=V&&V.series||S.hoverSeries,F=(!k||k.type!=="touchmove")&&(!!M||H&&H.directTouch&&this.isDirectTouch),W=this.getHoverData(V,H,T,F,O,k);V=W.hoverPoint,H=W.hoverSeries;let ee=W.hoverPoints,J=H&&H.tooltipOptions.followPointer&&!H.tooltipOptions.split,N=O&&H&&!H.noSharedTooltip;if(V&&(I||V!==S.hoverPoint||L&&L.isHidden)){if((S.hoverPoints||[]).forEach(function(D){ee.indexOf(D)===-1&&D.setState()}),S.hoverSeries!==H&&H.onMouseOver(),this.applyInactiveState(ee),(ee||[]).forEach(function(D){D.setState("hover")}),S.hoverPoint&&S.hoverPoint.firePointEvent("mouseOut"),!V.series)return;S.hoverPoints=ee,S.hoverPoint=V,V.firePointEvent("mouseOver",void 0,()=>{L&&V&&L.refresh(N?ee:V,k)})}else if(J&&L&&!L.isHidden){let D=L.getAnchor([{}],k);S.isInsidePlot(D[0],D[1],{visiblePlotOnly:!0})&&L.updatePosition({plotX:D[0],plotY:D[1]})}this.unDocMouseMove||(this.unDocMouseMove=w(S.container.ownerDocument,"mousemove",D=>u[j.hoverChartIndex??-1]?.pointer?.onDocumentMouseMove(D)),this.eventsToUnbind.push(this.unDocMouseMove)),S.axes.forEach(function(D){let B,Y=_((D.crosshair||{}).snap,!0);!Y||(B=S.hoverPoint)&&B.series[D.coll]===D||(B=f(ee,G=>G.series&&G.series[D.coll]===D)),B||!Y?D.drawCrosshair(k,B):D.hideCrosshair()})}setDOMEvents(){let k=this.chart.container,M=k.ownerDocument;k.onmousedown=this.onContainerMouseDown.bind(this),k.onmousemove=this.onContainerMouseMove.bind(this),k.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(w(k,"mouseenter",this.onContainerMouseEnter.bind(this)),w(k,"mouseleave",this.onContainerMouseLeave.bind(this))),j.unbindDocumentMouseUp||(j.unbindDocumentMouseUp=w(M,"mouseup",this.onDocumentMouseUp.bind(this)));let I=this.chart.renderTo.parentElement;for(;I&&I.tagName!=="BODY";)this.eventsToUnbind.push(w(I,"scroll",()=>{delete this.chartPosition})),I=I.parentElement;this.eventsToUnbind.push(w(k,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),w(k,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),j.unbindDocumentTouchEnd||(j.unbindDocumentTouchEnd=w(M,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),w(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){if(!x)return;let k=this.pointerCaptureEventsToUnbind,M=this.chart,I=M.container,S=_(M.options.tooltip?.followTouchMove,!0)&&M.series.some(T=>T.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&S?(k.push(w(I,"pointerdown",T=>{T.target?.hasPointerCapture(T.pointerId)&&T.target?.releasePointerCapture(T.pointerId)}),w(I,"pointermove",T=>{M.pointer?.getPointFromEvent(T)?.onMouseOver(T)})),M.styledMode||a(I,{"touch-action":"none"}),I.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!S&&(k.forEach(T=>T()),k.length=0,M.styledMode||a(I,{"touch-action":_(M.options.chart.style?.["touch-action"],"manipulation")}),I.className=I.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(k){let M=this.chart,I=o.charts[_(j.hoverChartIndex,-1)];if(I&&I!==M){let S={relatedTarget:M.container};k&&!k?.relatedTarget&&(k=Qe(Qe({},S),k)),I.pointer?.onContainerMouseLeave(k||S)}I&&I.mouseIsDown||(j.hoverChartIndex=M.index)}touch(k,M){let I,{chart:S,pinchDown:T=[]}=this;this.setHoverChartIndex(),(k=this.normalize(k)).touches.length===1?S.isInsidePlot(k.chartX-S.plotLeft,k.chartY-S.plotTop,{visiblePlotOnly:!0})&&!S.openMenu?(M&&this.runPointActions(k),k.type==="touchmove"&&(I=!!T[0]&&Math.pow(T[0].chartX-k.chartX,2)+Math.pow(T[0].chartY-k.chartY,2)>=16),_(I,!0)&&this.pinch(k)):M&&this.reset():k.touches.length===2&&this.pinch(k)}touchSelect(k){return!!(this.chart.zooming.singleTouch&&k.touches&&k.touches.length===1)}zoomOption(k){let M=this.chart,I=M.inverted,S=M.zooming.type||"",T,L;/touch/.test(k.type)&&(S=_(M.zooming.pinchType,S)),this.zoomX=T=/x/.test(S),this.zoomY=L=/y/.test(S),this.zoomHor=T&&!I||L&&I,this.zoomVert=L&&!I||T&&I,this.hasZoom=T||L}}return(i=j||(j={})).compose=function(E){A(v,"Core.Pointer")&&w(E,"beforeRender",function(){this.pointer=new i(this,this.options)})},j}),s(r,"Core/Legend/LegendSymbol.js",[r["Core/Utilities.js"]],function(t){var o;let{extend:y,merge:i,pick:p}=t;return function(u){function v(x,w,c){let a=this.legendItem=this.legendItem||{},{chart:d,options:f}=this,{baseline:m=0,symbolWidth:l,symbolHeight:h}=x,g=this.symbol||"circle",b=h/2,_=d.renderer,A=a.group,P=m-Math.round(h*(c?.4:.3)),j={},E,k=f.marker,M=0;if(d.styledMode||(j["stroke-width"]=Math.min(f.lineWidth||0,24),f.dashStyle?j.dashstyle=f.dashStyle:f.linecap==="square"||(j["stroke-linecap"]="round")),a.line=_.path().addClass("highcharts-graph").attr(j).add(A),c&&(a.area=_.path().addClass("highcharts-area").add(A)),j["stroke-linecap"]&&(M=Math.min(a.line.strokeWidth(),l)/2),l){let I=[["M",M,P],["L",l-M,P]];a.line.attr({d:I}),a.area?.attr({d:[...I,["L",l-M,m],["L",M,m]]})}if(k&&k.enabled!==!1&&l){let I=Math.min(p(k.radius,b),b);g.indexOf("url")===0&&(k=i(k,{width:h,height:h}),I=0),a.symbol=E=_.symbol(g,l/2-I,P-I,2*I,2*I,y({context:"legend"},k)).addClass("highcharts-point").add(A),E.isMarker=!0}}u.areaMarker=function(x,w){v.call(this,x,w,!0)},u.lineMarker=v,u.rectangle=function(x,w){let c=w.legendItem||{},a=x.options,d=x.symbolHeight,f=a.squareSymbol,m=f?d:x.symbolWidth;c.symbol=this.chart.renderer.rect(f?(x.symbolWidth-d)/2:0,x.baseline-d+1,m,d,p(x.options.symbolRadius,d/2)).addClass("highcharts-point").attr({zIndex:3}).add(c.group)}}(o||(o={})),o}),s(r,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:t}=this.series.chart;return typeof this.y!="number"?"":t(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),s(r,"Core/Series/SeriesRegistry.js",[r["Core/Globals.js"],r["Core/Defaults.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(t,o,y,i){var p;let{defaultOptions:u}=o,{extend:v,extendClass:x,merge:w}=i;return function(c){function a(d,f){let m=u.plotOptions||{},l=f.defaultOptions,h=f.prototype;return h.type=d,h.pointClass||(h.pointClass=y),!c.seriesTypes[d]&&(l&&(m[d]=l),c.seriesTypes[d]=f,!0)}c.seriesTypes=t.seriesTypes,c.registerSeriesType=a,c.seriesType=function(d,f,m,l,h){let g=u.plotOptions||{};if(f=f||"",g[d]=w(g[f],m),delete c.seriesTypes[d],a(d,x(c.seriesTypes[f]||function(){},l)),c.seriesTypes[d].prototype.type=d,h){class b extends y{}v(b.prototype,h),c.seriesTypes[d].prototype.pointClass=b}return c.seriesTypes[d]}}(p||(p={})),p}),s(r,"Core/Series/Series.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Defaults.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Series/Point.js"],r["Core/Series/SeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Utilities.js"]],function(t,o,y,i,p,u,v,x,w,c){let{animObject:a,setAnimation:d}=t,{defaultOptions:f}=o,{registerEventOptions:m}=y,{svg:l,win:h}=i,{seriesTypes:g}=x,{arrayMax:b,arrayMin:_,clamp:A,correctFloat:P,crisp:j,defined:E,destroyObjectProperties:k,diffObjects:M,erase:I,error:S,extend:T,find:L,fireEvent:O,getClosestDistance:V,getNestedProperty:H,insertItem:F,isArray:W,isNumber:ee,isString:J,merge:N,objectEach:D,pick:B,removeEvent:Y,splat:G,syncTimeout:q}=c;class X{constructor(){this.zoneAxis="y"}init($,K){let Q;O(this,"init",{options:K});let Z=this,re=$.series;this.eventsToUnbind=[],Z.chart=$,Z.options=Z.setOptions(K);let ie=Z.options,he=ie.visible!==!1;Z.linkedSeries=[],Z.bindAxes(),T(Z,{name:ie.name,state:"",visible:he,selected:ie.selected===!0}),m(this,ie);let ue=ie.events;(ue&&ue.click||ie.point&&ie.point.events&&ie.point.events.click||ie.allowPointSelect)&&($.runTrackerClick=!0),Z.getColor(),Z.getSymbol(),Z.parallelArrays.forEach(function(fe){Z[fe+"Data"]||(Z[fe+"Data"]=[])}),Z.isCartesian&&($.hasCartesianSeries=!0),re.length&&(Q=re[re.length-1]),Z._i=B(Q&&Q._i,-1)+1,Z.opacity=Z.options.opacity,$.orderItems("series",F(this,re)),ie.dataSorting&&ie.dataSorting.enabled?Z.setDataSortingOptions():Z.points||Z.data||Z.setData(ie.data,!1),O(this,"afterInit")}is($){return g[$]&&this instanceof g[$]}bindAxes(){let $,K=this,Q=K.options,Z=K.chart;O(this,"bindAxes",null,function(){(K.axisTypes||[]).forEach(function(re){(Z[re]||[]).forEach(function(ie){$=ie.options,(B(Q[re],0)===ie.index||Q[re]!==void 0&&Q[re]===$.id)&&(F(K,ie.series),K[re]=ie,ie.isDirty=!0)}),K[re]||K.optionalAxis===re||S(18,!0,Z)})}),O(this,"afterBindAxes")}updateParallelArrays($,K,Q){let Z=$.series,re=ee(K)?function(ie){let he=ie==="y"&&Z.toYData?Z.toYData($):$[ie];Z[ie+"Data"][K]=he}:function(ie){Array.prototype[K].apply(Z[ie+"Data"],Q)};Z.parallelArrays.forEach(re)}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged($,K){let Q=$.marker,Z=K.marker||{};return Q&&(Z.enabled&&!Q.enabled||Z.symbol!==Q.symbol||Z.height!==Q.height||Z.width!==Q.width)}autoIncrement($){let K=this.options,Q=K.pointIntervalUnit,Z=K.relativeXValue,re=this.chart.time,ie=this.xIncrement,he,ue;return ie=B(ie,K.pointStart,0),this.pointInterval=ue=B(this.pointInterval,K.pointInterval,1),Z&&ee($)&&(ue*=$),Q&&(he=new re.Date(ie),Q==="day"?re.set("Date",he,re.get("Date",he)+ue):Q==="month"?re.set("Month",he,re.get("Month",he)+ue):Q==="year"&&re.set("FullYear",he,re.get("FullYear",he)+ue),ue=he.getTime()-ie),Z&&ee($)?ie+ue:(this.xIncrement=ie+ue,ie)}setDataSortingOptions(){let $=this.options;T(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),E($.pointRange)||($.pointRange=1)}setOptions($){let K,Q=this.chart,Z=Q.options.plotOptions,re=Q.userOptions||{},ie=N($),he=Q.styledMode,ue={plotOptions:Z,userOptions:ie};O(this,"setOptions",ue);let fe=ue.plotOptions[this.type],xe=re.plotOptions||{},Ee=xe.series||{},ce=f.plotOptions[this.type]||{},me=xe[this.type]||{};this.userOptions=ue.userOptions;let ye=N(fe,Z.series,me,ie);this.tooltipOptions=N(f.tooltip,f.plotOptions.series?.tooltip,ce?.tooltip,Q.userOptions.tooltip,xe.series?.tooltip,me.tooltip,ie.tooltip),this.stickyTracking=B(ie.stickyTracking,me.stickyTracking,Ee.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||ye.stickyTracking),fe.marker===null&&delete ye.marker,this.zoneAxis=ye.zoneAxis||"y";let be=this.zones=(ye.zones||[]).map(Ce=>Qe({},Ce));return(ye.negativeColor||ye.negativeFillColor)&&!ye.zones&&(K={value:ye[this.zoneAxis+"Threshold"]||ye.threshold||0,className:"highcharts-negative"},he||(K.color=ye.negativeColor,K.fillColor=ye.negativeFillColor),be.push(K)),be.length&&E(be[be.length-1].value)&&be.push(he?{}:{color:this.color,fillColor:this.fillColor}),O(this,"afterSetOptions",{options:ye}),ye}getName(){return B(this.options.name,"Series "+(this.index+1))}getCyclic($,K,Q){let Z,re,ie=this.chart,he=`${$}Index`,ue=`${$}Counter`,fe=Q?.length||ie.options.chart.colorCount;!K&&(E(re=B($==="color"?this.options.colorIndex:void 0,this[he]))?Z=re:(ie.series.length||(ie[ue]=0),Z=ie[ue]%fe,ie[ue]+=1),Q&&(K=Q[Z])),Z!==void 0&&(this[he]=Z),this[$]=K}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||f.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let $=this.options.marker;this.getCyclic("symbol",$.symbol,this.chart.options.symbols)}findPointIndex($,K){let Q,Z,re,ie=$.id,he=$.x,ue=this.points,fe=this.options.dataSorting;if(ie){let xe=this.chart.get(ie);xe instanceof u&&(Q=xe)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let xe=Ee=>!Ee.touched&&Ee.index===$.index;if(fe&&fe.matchByName?xe=Ee=>!Ee.touched&&Ee.name===$.name:this.options.relativeXValue&&(xe=Ee=>!Ee.touched&&Ee.options.x===$.x),!(Q=L(ue,xe)))return}return Q&&(re=Q&&Q.index)!==void 0&&(Z=!0),re===void 0&&ee(he)&&(re=this.xData.indexOf(he,K)),re!==-1&&re!==void 0&&this.cropped&&(re=re>=this.cropStart?re-this.cropStart:re),!Z&&ee(re)&&ue[re]&&ue[re].touched&&(re=void 0),re}updateData($,K){let Q=this.options,Z=Q.dataSorting,re=this.points,ie=[],he=this.requireSorting,ue=$.length===re.length,fe,xe,Ee,ce,me=!0;if(this.xIncrement=null,$.forEach(function(ye,be){let Ce,Se=E(ye)&&this.pointClass.prototype.optionsToObject.call({series:this},ye)||{},ge=Se.x;Se.id||ee(ge)?((Ce=this.findPointIndex(Se,ce))===-1||Ce===void 0?ie.push(ye):re[Ce]&&ye!==Q.data[Ce]?(re[Ce].update(ye,!1,null,!1),re[Ce].touched=!0,he&&(ce=Ce+1)):re[Ce]&&(re[Ce].touched=!0),(!ue||be!==Ce||Z&&Z.enabled||this.hasDerivedData)&&(fe=!0)):ie.push(ye)},this),fe)for(xe=re.length;xe--;)(Ee=re[xe])&&!Ee.touched&&Ee.remove&&Ee.remove(!1,K);else!ue||Z&&Z.enabled?me=!1:($.forEach(function(ye,be){ye===re[be].y||re[be].destroyed||re[be].update(ye,!1,null,!1)}),ie.length=0);return re.forEach(function(ye){ye&&(ye.touched=!1)}),!!me&&(ie.forEach(function(ye){this.addPoint(ye,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=b(this.xData),this.autoIncrement()),!0)}setData($,K=!0,Q,Z){let re=this,ie=re.points,he=ie&&ie.length||0,ue=re.options,fe=re.chart,xe=ue.dataSorting,Ee=re.xAxis,ce=ue.turboThreshold,me=this.xData,ye=this.yData,be=re.pointArrayMap,Ce=be&&be.length,Se=ue.keys,ge,_e,we,le=0,de=1,se;fe.options.chart.allowMutatingData||(ue.data&&delete re.options.data,re.userOptions.data&&delete re.userOptions.data,se=N(!0,$));let pe=($=se||$||[]).length;if(xe&&xe.enabled&&($=this.sortData($)),fe.options.chart.allowMutatingData&&Z!==!1&&pe&&he&&!re.cropped&&!re.hasGroupedData&&re.visible&&!re.boosted&&(we=this.updateData($,Q)),!we){re.xIncrement=null,re.colorCounter=0,this.parallelArrays.forEach(function(Te){re[Te+"Data"].length=0});let je=ce&&pe>ce;if(je){let Te=re.getFirstValidPoint($),ke=re.getFirstValidPoint($,pe-1,-1),Be=Ve=>!!(W(Ve)&&(Se||ee(Ve[0])));if(ee(Te)&&ee(ke))for(ge=0;ge<pe;ge++)me[ge]=this.autoIncrement(),ye[ge]=$[ge];else if(Be(Te)&&Be(ke))if(Ce)if(Te.length===Ce)for(ge=0;ge<pe;ge++)me[ge]=this.autoIncrement(),ye[ge]=$[ge];else for(ge=0;ge<pe;ge++)_e=$[ge],me[ge]=_e[0],ye[ge]=_e.slice(1,Ce+1);else if(Se&&(le=Se.indexOf("x"),de=Se.indexOf("y"),le=le>=0?le:0,de=de>=0?de:1),Te.length===1&&(de=0),le===de)for(ge=0;ge<pe;ge++)me[ge]=this.autoIncrement(),ye[ge]=$[ge][de];else for(ge=0;ge<pe;ge++)_e=$[ge],me[ge]=_e[le],ye[ge]=_e[de];else je=!1}if(!je)for(ge=0;ge<pe;ge++)_e={series:re},re.pointClass.prototype.applyOptions.apply(_e,[$[ge]]),re.updateParallelArrays(_e,ge);for(ye&&J(ye[0])&&S(14,!0,fe),re.data=[],re.options.data=re.userOptions.data=$,ge=he;ge--;)ie[ge]?.destroy();Ee&&(Ee.minRange=Ee.userMinRange),re.isDirty=fe.isDirtyBox=!0,re.isDirtyData=!!ie,Q=!1}ue.legendType==="point"&&(this.processData(),this.generatePoints()),K&&fe.redraw(Q)}sortData($){let K=this,Q=K.options.dataSorting.sortKey||"y",Z=function(re,ie){return E(ie)&&re.pointClass.prototype.optionsToObject.call({series:re},ie)||{}};return $.forEach(function(re,ie){$[ie]=Z(K,re),$[ie].index=ie},this),$.concat().sort((re,ie)=>{let he=H(Q,re),ue=H(Q,ie);return ue<he?-1:ue>he?1:0}).forEach(function(re,ie){re.x=ie},this),K.linkedSeries&&K.linkedSeries.forEach(function(re){let ie=re.options,he=ie.data;ie.dataSorting&&ie.dataSorting.enabled||!he||(he.forEach(function(ue,fe){he[fe]=Z(re,ue),$[fe]&&(he[fe].x=$[fe].x,he[fe].index=fe)}),re.setData(he,!1))}),$}getProcessedData($){let K=this,Q=K.xAxis,Z=K.options.cropThreshold,re=Q?.logarithmic,ie=K.isCartesian,he,ue,fe=0,xe,Ee,ce,me=K.xData,ye=K.yData,be=!1,Ce=me.length;Q&&(Ee=(xe=Q.getExtremes()).min,ce=xe.max,be=!!(Q.categories&&!Q.names.length)),ie&&K.sorted&&!$&&(!Z||Ce>Z||K.forceCrop)&&(me[Ce-1]<Ee||me[0]>ce?(me=[],ye=[]):K.yData&&(me[0]<Ee||me[Ce-1]>ce)&&(me=(he=this.cropData(K.xData,K.yData,Ee,ce)).xData,ye=he.yData,fe=he.start,ue=!0));let Se=V([re?me.map(re.log2lin):me],()=>K.requireSorting&&!be&&S(15,!1,K.chart));return{xData:me,yData:ye,cropped:ue,cropStart:fe,closestPointRange:Se}}processData($){let K=this.xAxis;if(this.isCartesian&&!this.isDirty&&!K.isDirty&&!this.yAxis.isDirty&&!$)return!1;let Q=this.getProcessedData();this.cropped=Q.cropped,this.cropStart=Q.cropStart,this.processedXData=Q.xData,this.processedYData=Q.yData,this.closestPointRange=this.basePointRange=Q.closestPointRange,O(this,"afterProcessData")}cropData($,K,Q,Z){let re=$.length,ie,he,ue=0,fe=re;for(ie=0;ie<re;ie++)if($[ie]>=Q){ue=Math.max(0,ie-1);break}for(he=ie;he<re;he++)if($[he]>Z){fe=he+1;break}return{xData:$.slice(ue,fe),yData:K.slice(ue,fe),start:ue,end:fe}}generatePoints(){let $=this.options,K=this.processedData||$.data,Q=this.processedXData,Z=this.processedYData,re=this.pointClass,ie=Q.length,he=this.cropStart||0,ue=this.hasGroupedData,fe=$.keys,xe=[],Ee=$.dataGrouping&&$.dataGrouping.groupAll?he:0,ce,me,ye,be,Ce=this.data;if(!Ce&&!ue){let Se=[];Se.length=K.length,Ce=this.data=Se}for(fe&&ue&&(this.options.keys=!1),be=0;be<ie;be++)me=he+be,ue?((ye=new re(this,[Q[be]].concat(G(Z[be])))).dataGroup=this.groupMap[Ee+be],ye.dataGroup.options&&(ye.options=ye.dataGroup.options,T(ye,ye.dataGroup.options),delete ye.dataLabels)):(ye=Ce[me])||K[me]===void 0||(Ce[me]=ye=new re(this,K[me],Q[be])),ye&&(ye.index=ue?Ee+be:me,xe[be]=ye);if(this.options.keys=fe,Ce&&(ie!==(ce=Ce.length)||ue))for(be=0;be<ce;be++)be!==he||ue||(be+=ie),Ce[be]&&(Ce[be].destroyElements(),Ce[be].plotX=void 0);this.data=Ce,this.points=xe,O(this,"afterGeneratePoints")}getXExtremes($){return{min:_($),max:b($)}}getExtremes($,K){let Q=this.xAxis,Z=this.yAxis,re=[],ie=this.requireSorting&&!this.is("column")?1:0,he=!!Z&&Z.positiveValuesOnly,ue=K||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:fe,processedYData:xe}=this,Ee,ce,me,ye,be,Ce,Se,ge=0,_e=0,we=0;if(this.cropped&&ue){let pe=this.getProcessedData(!0);fe=pe.xData,xe=pe.yData}let le=($=$||this.stackedYData||xe||[]).length,de=fe||this.xData;for(Q&&(ge=(Ee=Q.getExtremes()).min,_e=Ee.max),Ce=0;Ce<le;Ce++)if(ye=de[Ce],ce=(ee(be=$[Ce])||W(be))&&((ee(be)?be>0:be.length)||!he),me=K||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!Q||(de[Ce+ie]||ye)>=ge&&(de[Ce-ie]||ye)<=_e,ce&&me)if(Se=be.length)for(;Se--;)ee(be[Se])&&(re[we++]=be[Se]);else re[we++]=be;let se={activeYData:re,dataMin:_(re),dataMax:b(re)};return O(this,"afterGetExtremes",{dataExtremes:se}),se}applyExtremes(){let $=this.getExtremes();return this.dataMin=$.dataMin,this.dataMax=$.dataMax,$}getFirstValidPoint($,K=0,Q=1){let Z=$.length,re=K;for(;re>=0&&re<Z;){if(E($[re]))return $[re];re+=Q}}translate(){this.processedXData||this.processData(),this.generatePoints();let $=this.options,K=$.stacking,Q=this.xAxis,Z=Q.categories,re=this.enabledDataSorting,ie=this.yAxis,he=this.points,ue=he.length,fe=this.pointPlacementToXValue(),xe=!!fe,Ee=$.threshold,ce=$.startFromThreshold?Ee:0,me,ye,be,Ce,Se=Number.MAX_VALUE;function ge(_e){return A(_e,-1e5,1e5)}for(me=0;me<ue;me++){let _e,we=he[me],le=we.x,de,se,pe=we.y,je=we.low,Te=K&&ie.stacking?.stacks[(this.negStacks&&pe<(ce?0:Ee)?"-":"")+this.stackKey];ye=Q.translate(le,!1,!1,!1,!0,fe),we.plotX=ee(ye)?P(ge(ye)):void 0,K&&this.visible&&Te&&Te[le]&&(Ce=this.getStackIndicator(Ce,le,this.index),!we.isNull&&Ce.key&&(se=(de=Te[le]).points[Ce.key]),de&&W(se)&&(je=se[0],pe=se[1],je===ce&&Ce.key===Te[le].base&&(je=B(ee(Ee)?Ee:ie.min)),ie.positiveValuesOnly&&E(je)&&je<=0&&(je=void 0),we.total=we.stackTotal=B(de.total),we.percentage=E(we.y)&&de.total?we.y/de.total*100:void 0,we.stackY=pe,this.irregularWidths||de.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),we.yBottom=E(je)?ge(ie.translate(je,!1,!0,!1,!0)):void 0,this.dataModify&&(pe=this.dataModify.modifyValue(pe,me)),ee(pe)&&we.plotX!==void 0&&(_e=ee(_e=ie.translate(pe,!1,!0,!1,!0))?ge(_e):void 0),we.plotY=_e,we.isInside=this.isPointInside(we),we.clientX=xe?P(Q.translate(le,!1,!1,!1,!0,fe)):ye,we.negative=(we.y||0)<(Ee||0),we.category=B(Z&&Z[we.x],we.x),we.isNull||we.visible===!1||(be!==void 0&&(Se=Math.min(Se,Math.abs(ye-be))),be=ye),we.zone=this.zones.length?we.getZone():void 0,!we.graphic&&this.group&&re&&(we.isNew=!0)}this.closestPointRangePx=Se,O(this,"afterTranslate")}getValidPoints($,K,Q){let Z=this.chart;return($||this.points||[]).filter(function(re){let{plotX:ie,plotY:he}=re;return!!((Q||!re.isNull&&ee(he))&&(!K||Z.isInsidePlot(ie,he,{inverted:Z.inverted})))&&re.visible!==!1})}getClipBox(){let{chart:$,xAxis:K,yAxis:Q}=this,{x:Z,y:re,width:ie,height:he}=N($.clipBox);return K&&K.len!==$.plotSizeX&&(ie=K.len),Q&&Q.len!==$.plotSizeY&&(he=Q.len),$.inverted&&!this.invertible&&([ie,he]=[he,ie]),{x:Z,y:re,width:ie,height:he}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:$,group:K,markerGroup:Q}=this,Z=$.sharedClips,re=$.renderer,ie=this.getClipBox(),he=this.getSharedClipKey(),ue=Z[he];ue?ue.animate(ie):Z[he]=ue=re.clipRect(ie),K&&K.clip(this.options.clip===!1?void 0:ue),Q&&Q.clip()}animate($){let{chart:K,group:Q,markerGroup:Z}=this,re=K.inverted,ie=a(this.options.animation),he=[this.getSharedClipKey(),ie.duration,ie.easing,ie.defer].join(","),ue=K.sharedClips[he],fe=K.sharedClips[he+"m"];if($&&Q){let xe=this.getClipBox();if(ue)ue.attr("height",xe.height);else{xe.width=0,re&&(xe.x=K.plotHeight),ue=K.renderer.clipRect(xe),K.sharedClips[he]=ue;let Ee={x:-99,y:-99,width:re?K.plotWidth+199:99,height:re?99:K.plotHeight+199};fe=K.renderer.clipRect(Ee),K.sharedClips[he+"m"]=fe}Q.clip(ue),Z?.clip(fe)}else if(ue&&!ue.hasClass("highcharts-animating")){let xe=this.getClipBox(),Ee=ie.step;(Z?.element.childNodes.length||K.series.length>1)&&(ie.step=function(ce,me){Ee&&Ee.apply(me,arguments),me.prop==="width"&&fe?.element&&fe.attr(re?"height":"width",ce+99)}),ue.addClass("highcharts-animating").animate(xe,ie)}}afterAnimate(){this.setClip(),D(this.chart.sharedClips,($,K,Q)=>{$&&!this.chart.container.querySelector(`[clip-path="url(#${$.id})"]`)&&($.destroy(),delete Q[K])}),this.finishedAnimating=!0,O(this,"afterAnimate")}drawPoints($=this.points){let K,Q,Z,re,ie,he,ue,fe=this.chart,xe=fe.styledMode,{colorAxis:Ee,options:ce}=this,me=ce.marker,ye=this[this.specialGroup||"markerGroup"],be=this.xAxis,Ce=B(me.enabled,!be||!!be.isRadial||null,this.closestPointRangePx>=me.enabledThreshold*me.radius);if(me.enabled!==!1||this._hasPointMarkers)for(K=0;K<$.length;K++)if(re=(Z=(Q=$[K]).graphic)?"animate":"attr",ie=Q.marker||{},he=!!Q.marker,(Ce&&ie.enabled===void 0||ie.enabled)&&!Q.isNull&&Q.visible!==!1){let Se=B(ie.symbol,this.symbol,"rect");ue=this.markerAttribs(Q,Q.selected&&"select"),this.enabledDataSorting&&(Q.startXPos=be.reversed?-(ue.width||0):be.width);let ge=Q.isInside!==!1;if(!Z&&ge&&((ue.width||0)>0||Q.hasImage)&&(Q.graphic=Z=fe.renderer.symbol(Se,ue.x,ue.y,ue.width,ue.height,he?ie:me).add(ye),this.enabledDataSorting&&fe.hasRendered&&(Z.attr({x:Q.startXPos}),re="animate")),Z&&re==="animate"&&Z[ge?"show":"hide"](ge).animate(ue),Z){let _e=this.pointAttribs(Q,xe||!Q.selected?void 0:"select");xe?Ee&&Z.css({fill:_e.fill}):Z[re](_e)}Z&&Z.addClass(Q.getClassName(),!0)}else Z&&(Q.graphic=Z.destroy())}markerAttribs($,K){let Q=this.options,Z=Q.marker,re=$.marker||{},ie=re.symbol||Z.symbol,he={},ue,fe,xe=B(re.radius,Z&&Z.radius);K&&(ue=Z.states[K],xe=B((fe=re.states&&re.states[K])&&fe.radius,ue&&ue.radius,xe&&xe+(ue&&ue.radiusPlus||0))),$.hasImage=ie&&ie.indexOf("url")===0,$.hasImage&&(xe=0);let Ee=$.pos();return ee(xe)&&Ee&&(Q.crisp&&(Ee[0]=j(Ee[0],$.hasImage?0:ie==="rect"?Z?.lineWidth||0:1)),he.x=Ee[0]-xe,he.y=Ee[1]-xe),xe&&(he.width=he.height=2*xe),he}pointAttribs($,K){let Q=this.options.marker,Z=$&&$.options,re=Z&&Z.marker||{},ie=Z&&Z.color,he=$&&$.color,ue=$&&$.zone&&$.zone.color,fe,xe,Ee=this.color,ce,me,ye=B(re.lineWidth,Q.lineWidth),be=1;return Ee=ie||ue||he||Ee,ce=re.fillColor||Q.fillColor||Ee,me=re.lineColor||Q.lineColor||Ee,K=K||"normal",fe=Q.states[K]||{},ye=B((xe=re.states&&re.states[K]||{}).lineWidth,fe.lineWidth,ye+B(xe.lineWidthPlus,fe.lineWidthPlus,0)),ce=xe.fillColor||fe.fillColor||ce,{stroke:me=xe.lineColor||fe.lineColor||me,"stroke-width":ye,fill:ce,opacity:be=B(xe.opacity,fe.opacity,be)}}destroy($){let K,Q,Z,re=this,ie=re.chart,he=/AppleWebKit\/533/.test(h.navigator.userAgent),ue=re.data||[];for(O(re,"destroy",{keepEventsForUpdate:$}),this.removeEvents($),(re.axisTypes||[]).forEach(function(fe){(Z=re[fe])&&Z.series&&(I(Z.series,re),Z.isDirty=Z.forceRedraw=!0)}),re.legendItem&&re.chart.legend.destroyItem(re),K=ue.length;K--;)(Q=ue[K])&&Q.destroy&&Q.destroy();for(let fe of re.zones)k(fe,void 0,!0);c.clearTimeout(re.animationTimeout),D(re,function(fe,xe){fe instanceof w&&!fe.survive&&fe[he&&xe==="group"?"hide":"destroy"]()}),ie.hoverSeries===re&&(ie.hoverSeries=void 0),I(ie.series,re),ie.orderItems("series"),D(re,function(fe,xe){$&&xe==="hcEvents"||delete re[xe]})}applyZones(){let{area:$,chart:K,graph:Q,zones:Z,points:re,xAxis:ie,yAxis:he,zoneAxis:ue}=this,{inverted:fe,renderer:xe}=K,Ee=this[`${ue}Axis`],{isXAxis:ce,len:me=0}=Ee||{},ye=(Q?.strokeWidth()||0)/2+1,be=(Ce,Se=0,ge=0)=>{fe&&(ge=me-ge);let{translated:_e=0,lineClip:we}=Ce,le=ge-_e;we?.push(["L",Se,Math.abs(le)<ye?ge-ye*(le<=0?-1:1):_e])};if(Z.length&&(Q||$)&&Ee&&ee(Ee.min)){let Ce=Ee.getExtremes().max,Se=we=>{we.forEach((le,de)=>{(le[0]==="M"||le[0]==="L")&&(we[de]=[le[0],ce?me-le[1]:le[1],ce?le[2]:me-le[2]])})};if(Z.forEach(we=>{we.lineClip=[],we.translated=A(Ee.toPixels(B(we.value,Ce),!0)||0,0,me)}),Q&&!this.showLine&&Q.hide(),$&&$.hide(),ue==="y"&&re.length<ie.len)for(let we of re){let{plotX:le,plotY:de,zone:se}=we,pe=se&&Z[Z.indexOf(se)-1];se&&be(se,le,de),pe&&be(pe,le,de)}let ge=[],_e=Ee.toPixels(Ee.getExtremes().min,!0);Z.forEach(we=>{let le=we.lineClip||[],de=Math.round(we.translated||0);ie.reversed&&le.reverse();let{clip:se,simpleClip:pe}=we,je=0,Te=0,ke=ie.len,Be=he.len;ce?(je=de,ke=_e):(Te=de,Be=_e);let Ve=[["M",je,Te],["L",ke,Te],["L",ke,Be],["L",je,Be],["Z"]],ze=[Ve[0],...le,Ve[1],Ve[2],...ge,Ve[3],Ve[4]];ge=le.reverse(),_e=de,fe&&(Se(ze),$&&Se(Ve)),se?(se.animate({d:ze}),pe?.animate({d:Ve})):(se=we.clip=xe.path(ze),$&&(pe=we.simpleClip=xe.path(Ve))),Q&&we.graph?.clip(se),$&&we.area?.clip(pe)})}else this.visible&&(Q&&Q.show(),$&&$.show())}plotGroup($,K,Q,Z,re){let ie=this[$],he=!ie,ue={visibility:Q,zIndex:Z||.1};return E(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(ue.opacity=this.opacity),ie||(this[$]=ie=this.chart.renderer.g().add(re)),ie.addClass("highcharts-"+K+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(E(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(ie.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),ie.attr(ue)[he?"attr":"animate"](this.getPlotBox(K)),ie}getPlotBox($){let K=this.xAxis,Q=this.yAxis,Z=this.chart,re=Z.inverted&&!Z.polar&&K&&this.invertible&&$==="series";return Z.inverted&&(K=Q,Q=this.xAxis),{translateX:K?K.left:Z.plotLeft,translateY:Q?Q.top:Z.plotTop,rotation:re?90:0,rotationOriginX:re?(K.len-Q.len)/2:0,rotationOriginY:re?(K.len+Q.len)/2:0,scaleX:re?-1:1,scaleY:1}}removeEvents($){let{eventsToUnbind:K}=this;$||Y(this),K.length&&(K.forEach(Q=>{Q()}),K.length=0)}render(){let $=this,{chart:K,options:Q,hasRendered:Z}=$,re=a(Q.animation),ie=$.visible?"inherit":"hidden",he=Q.zIndex,ue=K.seriesGroup,fe=$.finishedAnimating?0:re.duration;O(this,"render"),$.plotGroup("group","series",ie,he,ue),$.markerGroup=$.plotGroup("markerGroup","markers",ie,he,ue),Q.clip!==!1&&$.setClip(),fe&&$.animate?.(!0),$.drawGraph&&($.drawGraph(),$.applyZones()),$.visible&&$.drawPoints(),$.drawDataLabels?.(),$.redrawPoints?.(),Q.enableMouseTracking&&$.drawTracker?.(),fe&&$.animate?.(),Z||(fe&&re.defer&&(fe+=re.defer),$.animationTimeout=q(()=>{$.afterAnimate()},fe||0)),$.isDirty=!1,$.hasRendered=!0,O($,"afterRender")}redraw(){let $=this.isDirty||this.isDirtyData;this.translate(),this.render(),$&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint($,K){let{xAxis:Q,yAxis:Z}=this,re=this.chart.inverted;return this.searchKDTree({clientX:re?Q.len-$.chartY+Q.pos:$.chartX-Q.pos,plotY:re?Z.len-$.chartX+Z.pos:$.chartY-Z.pos},K,$)}buildKDTree($){this.buildingKdTree=!0;let K=this,Q=K.options.findNearestPointBy.indexOf("y")>-1?2:1;delete K.kdTree,q(function(){K.kdTree=function Z(re,ie,he){let ue,fe,xe=re?.length;if(xe)return ue=K.kdAxisArray[ie%he],re.sort((Ee,ce)=>(Ee[ue]||0)-(ce[ue]||0)),{point:re[fe=Math.floor(xe/2)],left:Z(re.slice(0,fe),ie+1,he),right:Z(re.slice(fe+1),ie+1,he)}}(K.getValidPoints(void 0,!K.directTouch),Q,Q),K.buildingKdTree=!1},K.options.kdNow||$?.type==="touchstart"?0:1)}searchKDTree($,K,Q){let Z=this,[re,ie]=this.kdAxisArray,he=K?"distX":"dist",ue=(Z.options.findNearestPointBy||"").indexOf("y")>-1?2:1,fe=!!Z.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(Q),this.kdTree)return function xe(Ee,ce,me,ye){let be=ce.point,Ce=Z.kdAxisArray[me%ye],Se,ge,_e=be;(function(se,pe){let je=se[re],Te=pe[re],ke=E(je)&&E(Te)?je-Te:null,Be=se[ie],Ve=pe[ie],ze=E(Be)&&E(Ve)?Be-Ve:0,qe=fe&&pe.marker?.radius||0;pe.dist=Math.sqrt((ke&&ke*ke||0)+ze*ze)-qe,pe.distX=E(ke)?Math.abs(ke)-qe:Number.MAX_VALUE})(Ee,be);let we=(Ee[Ce]||0)-(be[Ce]||0)+(fe&&be.marker?.radius||0),le=we<0?"left":"right",de=we<0?"right":"left";return ce[le]&&(_e=(Se=xe(Ee,ce[le],me+1,ye))[he]<_e[he]?Se:be),ce[de]&&Math.sqrt(we*we)<_e[he]&&(_e=(ge=xe(Ee,ce[de],me+1,ye))[he]<_e[he]?ge:_e),_e}($,this.kdTree,ue,ue)}pointPlacementToXValue(){let{options:$,xAxis:K}=this,Q=$.pointPlacement;return Q==="between"&&(Q=K.reversed?-.5:.5),ee(Q)?Q*($.pointRange||K.pointRange):0}isPointInside($){let{chart:K,xAxis:Q,yAxis:Z}=this,{plotX:re=-1,plotY:ie=-1}=$;return ie>=0&&ie<=(Z?Z.len:K.plotHeight)&&re>=0&&re<=(Q?Q.len:K.plotWidth)}drawTracker(){let $=this,K=$.options,Q=K.trackByArea,Z=[].concat((Q?$.areaPath:$.graphPath)||[]),re=$.chart,ie=re.pointer,he=re.renderer,ue=re.options.tooltip?.snap||0,fe=()=>{K.enableMouseTracking&&re.hoverSeries!==$&&$.onMouseOver()},xe="rgba(192,192,192,"+(l?1e-4:.002)+")",Ee=$.tracker;Ee?Ee.attr({d:Z}):$.graph&&($.tracker=Ee=he.path(Z).attr({visibility:$.visible?"inherit":"hidden",zIndex:2}).addClass(Q?"highcharts-tracker-area":"highcharts-tracker-line").add($.group),re.styledMode||Ee.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:xe,fill:Q?xe:"none","stroke-width":$.graph.strokeWidth()+(Q?0:2*ue)}),[$.tracker,$.markerGroup,$.dataLabelsGroup].forEach(ce=>{ce&&(ce.addClass("highcharts-tracker").on("mouseover",fe).on("mouseout",me=>{ie?.onTrackerMouseOut(me)}),K.cursor&&!re.styledMode&&ce.css({cursor:K.cursor}),ce.on("touchstart",fe))})),O(this,"afterDrawTracker")}addPoint($,K,Q,Z,re){let ie,he,ue=this.options,fe=this.data,xe=this.chart,Ee=this.xAxis,ce=Ee&&Ee.hasNames&&Ee.names,me=ue.data,ye=this.xData;K=B(K,!0);let be={series:this};this.pointClass.prototype.applyOptions.apply(be,[$]);let Ce=be.x;if(he=ye.length,this.requireSorting&&Ce<ye[he-1])for(ie=!0;he&&ye[he-1]>Ce;)he--;this.updateParallelArrays(be,"splice",[he,0,0]),this.updateParallelArrays(be,he),ce&&be.name&&(ce[Ce]=be.name),me.splice(he,0,$),(ie||this.processedData)&&(this.data.splice(he,0,null),this.processData()),ue.legendType==="point"&&this.generatePoints(),Q&&(fe[0]&&fe[0].remove?fe[0].remove(!1):(fe.shift(),this.updateParallelArrays(be,"shift"),me.shift())),re!==!1&&O(this,"addPoint",{point:be}),this.isDirty=!0,this.isDirtyData=!0,K&&xe.redraw(Z)}removePoint($,K,Q){let Z=this,re=Z.data,ie=re[$],he=Z.points,ue=Z.chart,fe=function(){he&&he.length===re.length&&he.splice($,1),re.splice($,1),Z.options.data.splice($,1),Z.updateParallelArrays(ie||{series:Z},"splice",[$,1]),ie&&ie.destroy(),Z.isDirty=!0,Z.isDirtyData=!0,K&&ue.redraw()};d(Q,ue),K=B(K,!0),ie?ie.firePointEvent("remove",null,fe):fe()}remove($,K,Q,Z){let re=this,ie=re.chart;function he(){re.destroy(Z),ie.isDirtyLegend=ie.isDirtyBox=!0,ie.linkSeries(Z),B($,!0)&&ie.redraw(K)}Q!==!1?O(re,"remove",null,he):he()}update($,K){O(this,"update",{options:$=M($,this.userOptions)});let Q=this,Z=Q.chart,re=Q.userOptions,ie=Q.initialType||Q.type,he=Z.options.plotOptions,ue=g[ie].prototype,fe=Q.finishedAnimating&&{animation:!1},xe={},Ee,ce,me=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],ye=$.type||re.type||Z.options.chart.type,be=!(this.hasDerivedData||ye&&ye!==this.type||$.pointStart!==void 0||$.pointInterval!==void 0||$.relativeXValue!==void 0||$.joinBy||$.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(Se=>Q.hasOptionChanged(Se)));ye=ye||ie,be&&(me.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),$.visible!==!1&&me.push("area","graph"),Q.parallelArrays.forEach(function(Se){me.push(Se+"Data")}),$.data&&($.dataSorting&&T(Q.options.dataSorting,$.dataSorting),this.setData($.data,!1))),$=N(re,{index:re.index===void 0?Q.index:re.index,pointStart:he?.series?.pointStart??re.pointStart??Q.xData?.[0]},!be&&{data:Q.options.data},$,fe),be&&$.data&&($.data=Q.options.data),(me=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(me)).forEach(function(Se){me[Se]=Q[Se],delete Q[Se]});let Ce=!1;if(g[ye]){if(Ce=ye!==Q.type,Q.remove(!1,!1,!1,!0),Ce)if(Z.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(Q,g[ye].prototype);else{let Se=Object.hasOwnProperty.call(Q,"hcEvents")&&Q.hcEvents;for(ce in ue)Q[ce]=void 0;T(Q,g[ye].prototype),Se?Q.hcEvents=Se:delete Q.hcEvents}}else S(17,!0,Z,{missingModuleFor:ye});if(me.forEach(function(Se){Q[Se]=me[Se]}),Q.init(Z,$),be&&this.points)for(let Se of((Ee=Q.options).visible===!1?(xe.graphic=1,xe.dataLabel=1):(this.hasMarkerChanged(Ee,re)&&(xe.graphic=1),Q.hasDataLabels?.()||(xe.dataLabel=1)),this.points))Se&&Se.series&&(Se.resolveColor(),Object.keys(xe).length&&Se.destroyElements(xe),Ee.showInLegend===!1&&Se.legendItem&&Z.legend.destroyItem(Se));Q.initialType=ie,Z.linkSeries(),Z.setSortedData(),Ce&&Q.linkedSeries.length&&(Q.isDirtyData=!0),O(this,"afterUpdate"),B(K,!0)&&Z.redraw(!!be&&void 0)}setName($){this.name=this.options.name=this.userOptions.name=$,this.chart.isDirtyLegend=!0}hasOptionChanged($){let K=this.chart,Q=this.options[$],Z=K.options.plotOptions,re=this.userOptions[$],ie=B(Z?.[this.type]?.[$],Z?.series?.[$]);return re&&!E(ie)?Q!==re:Q!==B(ie,Q)}onMouseOver(){let $=this.chart,K=$.hoverSeries;$.pointer?.setHoverChartIndex(),K&&K!==this&&K.onMouseOut(),this.options.events.mouseOver&&O(this,"mouseOver"),this.setState("hover"),$.hoverSeries=this}onMouseOut(){let $=this.options,K=this.chart,Q=K.tooltip,Z=K.hoverPoint;K.hoverSeries=null,Z&&Z.onMouseOut(),this&&$.events.mouseOut&&O(this,"mouseOut"),Q&&!this.stickyTracking&&(!Q.shared||this.noSharedTooltip)&&Q.hide(),K.series.forEach(function(re){re.setState("",!0)})}setState($,K){let Q=this,Z=Q.options,re=Q.graph,ie=Z.inactiveOtherPoints,he=Z.states,ue=B(he[$||"normal"]&&he[$||"normal"].animation,Q.chart.options.chart.animation),fe=Z.lineWidth,xe=Z.opacity;if($=$||"",Q.state!==$&&([Q.group,Q.markerGroup,Q.dataLabelsGroup].forEach(function(Ee){Ee&&(Q.state&&Ee.removeClass("highcharts-series-"+Q.state),$&&Ee.addClass("highcharts-series-"+$))}),Q.state=$,!Q.chart.styledMode)){if(he[$]&&he[$].enabled===!1)return;if($&&(fe=he[$].lineWidth||fe+(he[$].lineWidthPlus||0),xe=B(he[$].opacity,xe)),re&&!re.dashstyle&&ee(fe))for(let Ee of[re,...this.zones.map(ce=>ce.graph)])Ee?.animate({"stroke-width":fe},ue);ie||[Q.group,Q.markerGroup,Q.dataLabelsGroup,Q.labelBySeries].forEach(function(Ee){Ee&&Ee.animate({opacity:xe},ue)})}K&&ie&&Q.points&&Q.setAllPointsToState($||void 0)}setAllPointsToState($){this.points.forEach(function(K){K.setState&&K.setState($)})}setVisible($,K){let Q=this,Z=Q.chart,re=Z.options.chart.ignoreHiddenSeries,ie=Q.visible;Q.visible=$=Q.options.visible=Q.userOptions.visible=$===void 0?!ie:$;let he=$?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(ue=>{Q[ue]?.[he]()}),(Z.hoverSeries===Q||Z.hoverPoint?.series===Q)&&Q.onMouseOut(),Q.legendItem&&Z.legend.colorizeItem(Q,$),Q.isDirty=!0,Q.options.stacking&&Z.series.forEach(ue=>{ue.options.stacking&&ue.visible&&(ue.isDirty=!0)}),Q.linkedSeries.forEach(ue=>{ue.setVisible($,!1)}),re&&(Z.isDirtyBox=!0),O(Q,he),K!==!1&&Z.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select($){this.selected=$=this.options.selected=$===void 0?!this.selected:$,this.checkbox&&(this.checkbox.checked=$),O(this,$?"select":"unselect")}shouldShowTooltip($,K,Q={}){return Q.series=this,Q.visiblePlotOnly=!0,this.chart.isInsidePlot($,K,Q)}drawLegendSymbol($,K){p[this.options.legendSymbol||"rectangle"]?.call(this,$,K)}}return X.defaultOptions=v,X.types=x.seriesTypes,X.registerType=x.registerSeriesType,T(X.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:u,requireSorting:!0,sorted:!0}),x.series=X,X}),s(r,"Core/Legend/Legend.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Series/Point.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Templating.js"],r["Core/Utilities.js"]],function(t,o,y,i,p,u,v,x){var w;let{animObject:c,setAnimation:a}=t,{registerEventOptions:d}=o,{composed:f,marginNames:m}=y,{distribute:l}=u,{format:h}=v,{addEvent:g,createElement:b,css:_,defined:A,discardElement:P,find:j,fireEvent:E,isNumber:k,merge:M,pick:I,pushUnique:S,relativeLength:T,stableSort:L,syncTimeout:O}=x;class V{constructor(F,W){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=F,this.setOptions(W),W.enabled&&(this.render(),d(this,W),g(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),g(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(F){let W=I(F.padding,8);this.options=F,this.chart.styledMode||(this.itemStyle=F.itemStyle,this.itemHiddenStyle=M(this.itemStyle,F.itemHiddenStyle)),this.itemMarginTop=F.itemMarginTop,this.itemMarginBottom=F.itemMarginBottom,this.padding=W,this.initialItemY=W-5,this.symbolWidth=I(F.symbolWidth,16),this.pages=[],this.proximate=F.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(F,W){let ee=this.chart;this.setOptions(M(!0,this.options,F)),"events"in this.options&&d(this,this.options),this.destroy(),ee.isDirtyLegend=ee.isDirtyBox=!0,I(W,!0)&&ee.redraw(),E(this,"afterUpdate",{redraw:W})}colorizeItem(F,W){let{area:ee,group:J,label:N,line:D,symbol:B}=F.legendItem||{};if(J?.[W?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:Y={}}=this,G=Y.color,{fillColor:q,fillOpacity:X,lineColor:ne,marker:$}=F.options,K=Q=>(!W&&(Q.fill&&(Q.fill=G),Q.stroke&&(Q.stroke=G)),Q);N?.css(M(W?this.itemStyle:Y)),D?.attr(K({stroke:ne||F.color})),B&&B.attr(K($&&B.isMarker?F.pointAttribs():{fill:F.color})),ee?.attr(K({fill:q||F.color,"fill-opacity":q?1:X??.75}))}E(this,"afterColorizeItem",{item:F,visible:W})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(F){let{group:W,x:ee=0,y:J=0}=F.legendItem||{},N=this.options,D=N.symbolPadding,B=!N.rtl,Y=F.checkbox;if(W&&W.element){let G={translateX:B?ee:this.legendWidth-ee-2*D-4,translateY:J};W[A(W.translateY)?"animate":"attr"](G,void 0,()=>{E(this,"afterPositionItem",{item:F})})}Y&&(Y.x=ee,Y.y=J)}destroyItem(F){let W=F.checkbox,ee=F.legendItem||{};for(let J of["group","label","line","symbol"])ee[J]&&(ee[J]=ee[J].destroy());W&&P(W),F.legendItem=void 0}destroy(){for(let F of this.getAllItems())this.destroyItem(F);for(let F of["clipRect","up","down","pager","nav","box","title","group"])this[F]&&(this[F]=this[F].destroy());this.display=null}positionCheckboxes(){let F,W=this.group&&this.group.alignAttr,ee=this.clipHeight||this.legendHeight,J=this.titleHeight;W&&(F=W.translateY,this.allItems.forEach(function(N){let D,B=N.checkbox;B&&(D=F+J+B.y+(this.scrollOffset||0)+3,_(B,{left:W.translateX+N.checkboxOffset+B.x-20+"px",top:D+"px",display:this.proximate||D>F-6&&D<F+ee-6?"":"none"}))},this))}renderTitle(){let F=this.options,W=this.padding,ee=F.title,J,N=0;ee.text&&(this.title||(this.title=this.chart.renderer.label(ee.text,W-3,W-4,void 0,void 0,void 0,F.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(ee.style),this.title.add(this.group)),ee.width||this.title.css({width:this.maxLegendWidth+"px"}),N=(J=this.title.getBBox()).height,this.offsetWidth=J.width,this.contentGroup.attr({translateY:N})),this.titleHeight=N}setText(F){let W=this.options;F.legendItem.label.attr({text:W.labelFormat?h(W.labelFormat,F,this.chart):W.labelFormatter.call(F)})}renderItem(F){let W=F.legendItem=F.legendItem||{},ee=this.chart,J=ee.renderer,N=this.options,D=N.layout==="horizontal",B=this.symbolWidth,Y=N.symbolPadding||0,G=this.itemStyle,q=this.itemHiddenStyle,X=D?I(N.itemDistance,20):0,ne=!N.rtl,$=!F.series,K=!$&&F.series.drawLegendSymbol?F.series:F,Q=K.options,Z=!!this.createCheckboxForItem&&Q&&Q.showCheckbox,re=N.useHTML,ie=F.options.className,he=W.label,ue=B+Y+X+(Z?20:0);!he&&(W.group=J.g("legend-item").addClass("highcharts-"+K.type+"-series highcharts-color-"+F.colorIndex+(ie?" "+ie:"")+($?" highcharts-series-"+F.index:"")).attr({zIndex:1}).add(this.scrollGroup),W.label=he=J.text("",ne?B+Y:-Y,this.baseline||0,re),ee.styledMode||he.css(M(F.visible?G:q)),he.attr({align:ne?"left":"right",zIndex:2}).add(W.group),!this.baseline&&(this.fontMetrics=J.fontMetrics(he),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,he.attr("y",this.baseline),this.symbolHeight=I(N.symbolHeight,this.fontMetrics.f),N.squareSymbol&&(this.symbolWidth=I(N.symbolWidth,Math.max(this.symbolHeight,16)),ue=this.symbolWidth+Y+X+(Z?20:0),ne&&he.attr("x",this.symbolWidth+Y))),K.drawLegendSymbol(this,F),this.setItemEvents&&this.setItemEvents(F,he,re)),Z&&!F.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(F),this.colorizeItem(F,F.visible),(ee.styledMode||!G.width)&&he.css({width:(N.itemWidth||this.widthOption||ee.spacingBox.width)-ue+"px"}),this.setText(F);let fe=he.getBBox(),xe=this.fontMetrics&&this.fontMetrics.h||0;F.itemWidth=F.checkboxOffset=N.itemWidth||W.labelWidth||fe.width+ue,this.maxItemWidth=Math.max(this.maxItemWidth,F.itemWidth),this.totalItemWidth+=F.itemWidth,this.itemHeight=F.itemHeight=Math.round(W.labelHeight||(fe.height>1.5*xe?fe.height:xe))}layoutItem(F){let W=this.options,ee=this.padding,J=W.layout==="horizontal",N=F.itemHeight,D=this.itemMarginBottom,B=this.itemMarginTop,Y=J?I(W.itemDistance,20):0,G=this.maxLegendWidth,q=W.alignColumns&&this.totalItemWidth>G?this.maxItemWidth:F.itemWidth,X=F.legendItem||{};J&&this.itemX-ee+q>G&&(this.itemX=ee,this.lastLineHeight&&(this.itemY+=B+this.lastLineHeight+D),this.lastLineHeight=0),this.lastItemY=B+this.itemY+D,this.lastLineHeight=Math.max(N,this.lastLineHeight),X.x=this.itemX,X.y=this.itemY,J?this.itemX+=q:(this.itemY+=B+N+D,this.lastLineHeight=N),this.offsetWidth=this.widthOption||Math.max((J?this.itemX-ee-(F.checkbox?0:Y):q)+ee,this.offsetWidth)}getAllItems(){let F=[];return this.chart.series.forEach(function(W){let ee=W&&W.options;W&&I(ee.showInLegend,!A(ee.linkedTo)&&void 0,!0)&&(F=F.concat((W.legendItem||{}).labels||(ee.legendType==="point"?W.data:W)))}),E(this,"afterGetAllItems",{allItems:F}),F}getAlignment(){let F=this.options;return this.proximate?F.align.charAt(0)+"tv":F.floating?"":F.align.charAt(0)+F.verticalAlign.charAt(0)+F.layout.charAt(0)}adjustMargins(F,W){let ee=this.chart,J=this.options,N=this.getAlignment();N&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(D,B){D.test(N)&&!A(F[B])&&(ee[m[B]]=Math.max(ee[m[B]],ee.legend[(B+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][B]*J[B%2?"x":"y"]+I(J.margin,12)+W[B]+(ee.titleOffset[B]||0)))})}proximatePositions(){let F,W=this.chart,ee=[],J=this.options.align==="left";for(let N of(this.allItems.forEach(function(D){let B,Y,G=J,q,X;D.yAxis&&(D.xAxis.options.reversed&&(G=!G),D.points&&(B=j(G?D.points:D.points.slice(0).reverse(),function(ne){return k(ne.plotY)})),Y=this.itemMarginTop+D.legendItem.label.getBBox().height+this.itemMarginBottom,X=D.yAxis.top-W.plotTop,q=D.visible?(B?B.plotY:D.yAxis.height)+(X-.3*Y):X+D.yAxis.height,ee.push({target:q,size:Y,item:D}))},this),l(ee,W.plotHeight)))F=N.item.legendItem||{},k(N.pos)&&(F.y=W.plotTop-W.spacing[0]+N.pos)}render(){let F=this.chart,W=F.renderer,ee=this.options,J=this.padding,N=this.getAllItems(),D,B,Y,G=this.group,q,X=this.box;this.itemX=J,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=T(ee.width,F.spacingBox.width-J),q=F.spacingBox.width-2*J-ee.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(q/=2),this.maxLegendWidth=this.widthOption||q,G||(this.group=G=W.g("legend").addClass(ee.className||"").attr({zIndex:7}).add(),this.contentGroup=W.g().attr({zIndex:1}).add(G),this.scrollGroup=W.g().add(this.contentGroup)),this.renderTitle(),L(N,(ne,$)=>(ne.options&&ne.options.legendIndex||0)-($.options&&$.options.legendIndex||0)),ee.reversed&&N.reverse(),this.allItems=N,this.display=D=!!N.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,N.forEach(this.renderItem,this),N.forEach(this.layoutItem,this),B=(this.widthOption||this.offsetWidth)+J,Y=this.lastItemY+this.lastLineHeight+this.titleHeight,Y=this.handleOverflow(Y)+J,X||(this.box=X=W.rect().addClass("highcharts-legend-box").attr({r:ee.borderRadius}).add(G)),F.styledMode||X.attr({stroke:ee.borderColor,"stroke-width":ee.borderWidth||0,fill:ee.backgroundColor||"none"}).shadow(ee.shadow),B>0&&Y>0&&X[X.placed?"animate":"attr"](X.crisp.call({},{x:0,y:0,width:B,height:Y},X.strokeWidth())),G[D?"show":"hide"](),F.styledMode&&G.getStyle("display")==="none"&&(B=Y=0),this.legendWidth=B,this.legendHeight=Y,D&&this.align(),this.proximate||this.positionItems(),E(this,"afterRender")}align(F=this.chart.spacingBox){let W=this.chart,ee=this.options,J=F.y;/(lth|ct|rth)/.test(this.getAlignment())&&W.titleOffset[0]>0?J+=W.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&W.titleOffset[2]>0&&(J-=W.titleOffset[2]),J!==F.y&&(F=M(F,{y:J})),W.hasRendered||(this.group.placed=!1),this.group.align(M(ee,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":ee.verticalAlign}),!0,F)}handleOverflow(F){let W=this,ee=this.chart,J=ee.renderer,N=this.options,D=N.y,B=N.verticalAlign==="top",Y=this.padding,G=N.maxHeight,q=N.navigation,X=I(q.animation,!0),ne=q.arrowSize||12,$=this.pages,K=this.allItems,Q=function(Ee){typeof Ee=="number"?xe.attr({height:Ee}):xe&&(W.clipRect=xe.destroy(),W.contentGroup.clip()),W.contentGroup.div&&(W.contentGroup.div.style.clip=Ee?"rect("+Y+"px,9999px,"+(Y+Ee)+"px,0)":"auto")},Z=function(Ee){return W[Ee]=J.circle(0,0,1.3*ne).translate(ne/2,ne/2).add(fe),ee.styledMode||W[Ee].attr("fill","rgba(0,0,0,0.0001)"),W[Ee]},re,ie,he,ue=ee.spacingBox.height+(B?-D:D)-Y,fe=this.nav,xe=this.clipRect;return N.layout!=="horizontal"||N.verticalAlign==="middle"||N.floating||(ue/=2),G&&(ue=Math.min(ue,G)),$.length=0,F&&ue>0&&F>ue&&q.enabled!==!1?(this.clipHeight=re=Math.max(ue-20-this.titleHeight-Y,0),this.currentPage=I(this.currentPage,1),this.fullHeight=F,K.forEach((Ee,ce)=>{let me=(he=Ee.legendItem||{}).y||0,ye=Math.round(he.label.getBBox().height),be=$.length;(!be||me-$[be-1]>re&&(ie||me)!==$[be-1])&&($.push(ie||me),be++),he.pageIx=be-1,ie&&((K[ce-1].legendItem||{}).pageIx=be-1),ce===K.length-1&&me+ye-$[be-1]>re&&me>$[be-1]&&($.push(me),he.pageIx=be),me!==ie&&(ie=me)}),xe||(xe=W.clipRect=J.clipRect(0,Y-2,9999,0),W.contentGroup.clip(xe)),Q(re),fe||(this.nav=fe=J.g().attr({zIndex:1}).add(this.group),this.up=J.symbol("triangle",0,0,ne,ne).add(fe),Z("upTracker").on("click",function(){W.scroll(-1,X)}),this.pager=J.text("",15,10).addClass("highcharts-legend-navigation"),!ee.styledMode&&q.style&&this.pager.css(q.style),this.pager.add(fe),this.down=J.symbol("triangle-down",0,0,ne,ne).add(fe),Z("downTracker").on("click",function(){W.scroll(1,X)})),W.scroll(0),F=ue):fe&&(Q(),this.nav=fe.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),F}scroll(F,W){let ee=this.chart,J=this.pages,N=J.length,D=this.clipHeight,B=this.options.navigation,Y=this.pager,G=this.padding,q=this.currentPage+F;q>N&&(q=N),q>0&&(W!==void 0&&a(W,ee),this.nav.attr({translateX:G,translateY:D+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(X){X.attr({class:q===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),Y.attr({text:q+"/"+N}),[this.down,this.downTracker].forEach(function(X){X.attr({x:18+this.pager.getBBox().width,class:q===N?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),ee.styledMode||(this.up.attr({fill:q===1?B.inactiveColor:B.activeColor}),this.upTracker.css({cursor:q===1?"default":"pointer"}),this.down.attr({fill:q===N?B.inactiveColor:B.activeColor}),this.downTracker.css({cursor:q===N?"default":"pointer"})),this.scrollOffset=-J[q-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=q,this.positionCheckboxes(),O(()=>{E(this,"afterScroll",{currentPage:q})},c(I(W,ee.renderer.globalAnimation,!0)).duration))}setItemEvents(F,W,ee){let J=this,N=F.legendItem||{},D=J.chart.renderer.boxWrapper,B=F instanceof p,Y=F instanceof i,G="highcharts-legend-"+(B?"point":"series")+"-active",q=J.chart.styledMode,X=ee?[W,N.symbol]:[N.group],ne=$=>{J.allItems.forEach(K=>{F!==K&&[K].concat(K.linkedSeries||[]).forEach(Q=>{Q.setState($,!B)})})};for(let $ of X)$&&$.on("mouseover",function(){F.visible&&ne("inactive"),F.setState("hover"),F.visible&&D.addClass(G),q||W.css(J.options.itemHoverStyle)}).on("mouseout",function(){J.chart.styledMode||W.css(M(F.visible?J.itemStyle:J.itemHiddenStyle)),ne(""),D.removeClass(G),F.setState()}).on("click",function(K){let Q=function(){F.setVisible&&F.setVisible(),ne(F.visible?"inactive":"")};D.removeClass(G),E(J,"itemClick",{browserEvent:K,legendItem:F},Q),B?F.firePointEvent("legendItemClick",{browserEvent:K}):Y&&E(F,"legendItemClick",{browserEvent:K})})}createCheckboxForItem(F){F.checkbox=b("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:F.selected,defaultChecked:F.selected},this.options.itemCheckboxStyle,this.chart.container),g(F.checkbox,"click",function(W){let ee=W.target;E(F.series||F,"checkboxClick",{checked:ee.checked,item:F},function(){F.select()})})}}return(w=V||(V={})).compose=function(H){S(f,"Core.Legend")&&g(H,"beforeMargins",function(){this.legend=new w(this,this.options.legend)})},V}),s(r,"Core/Chart/Chart.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Defaults.js"],r["Core/Templating.js"],r["Core/Foundation.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Time.js"],r["Core/Utilities.js"],r["Core/Renderer/HTML/AST.js"],r["Core/Axis/Tick.js"]],function(t,o,y,i,p,u,v,x,w,c,a,d,f,m){let{animate:l,animObject:h,setAnimation:g}=t,{defaultOptions:b,defaultTime:_}=y,{numberFormat:A}=i,{registerEventOptions:P}=p,{charts:j,doc:E,marginNames:k,svg:M,win:I}=u,{seriesTypes:S}=w,{addEvent:T,attr:L,createElement:O,css:V,defined:H,diffObjects:F,discardElement:W,erase:ee,error:J,extend:N,find:D,fireEvent:B,getStyle:Y,isArray:G,isNumber:q,isObject:X,isString:ne,merge:$,objectEach:K,pick:Q,pInt:Z,relativeLength:re,removeEvent:ie,splat:he,syncTimeout:ue,uniqueKey:fe}=d;class xe{static chart(ce,me,ye){return new xe(ce,me,ye)}constructor(ce,me,ye){this.sharedClips={};let be=[...arguments];(ne(ce)||ce.nodeName)&&(this.renderTo=be.shift()),this.init(be[0],be[1])}setZoomOptions(){let ce=this.options.chart,me=ce.zooming;this.zooming=St(Qe({},me),{type:Q(ce.zoomType,me.type),key:Q(ce.zoomKey,me.key),pinchType:Q(ce.pinchType,me.pinchType),singleTouch:Q(ce.zoomBySingleTouch,me.singleTouch,!1),resetButton:$(me.resetButton,ce.resetZoomButton)})}init(ce,me){B(this,"init",{args:arguments},function(){let ye=$(b,ce),be=ye.chart;this.userOptions=N({},ce),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=me,this.isResizing=0,this.options=ye,this.axes=[],this.series=[],this.time=ce.time&&Object.keys(ce.time).length?new a(ce.time):u.time,this.numberFormatter=be.numberFormatter||A,this.styledMode=be.styledMode,this.hasCartesianSeries=be.showAxes,this.index=j.length,j.push(this),u.chartCount++,P(this,be),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),B(this,"afterInit"),this.firstRender()})}initSeries(ce){let me=this.options.chart,ye=ce.type||me.type,be=S[ye];be||J(17,!0,this,{missingModuleFor:ye});let Ce=new be;return typeof Ce.init=="function"&&Ce.init(this,ce),Ce}setSortedData(){this.getSeriesOrderByLinks().forEach(function(ce){ce.points||ce.data||!ce.enabledDataSorting||ce.setData(ce.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(ce,me){return ce.linkedSeries.length||me.linkedSeries.length?me.linkedSeries.length-ce.linkedSeries.length:0})}orderItems(ce,me=0){let ye=this[ce],be=this.options[ce]=he(this.options[ce]).slice(),Ce=this.userOptions[ce]=this.userOptions[ce]?he(this.userOptions[ce]).slice():[];if(this.hasRendered&&(be.splice(me),Ce.splice(me)),ye)for(let Se=me,ge=ye.length;Se<ge;++Se){let _e=ye[Se];_e&&(_e.index=Se,_e instanceof x&&(_e.name=_e.getName()),_e.options.isInternal||(be[Se]=_e.options,Ce[Se]=_e.userOptions))}}isInsidePlot(ce,me,ye={}){let{inverted:be,plotBox:Ce,plotLeft:Se,plotTop:ge,scrollablePlotBox:_e}=this,{scrollLeft:we=0,scrollTop:le=0}=ye.visiblePlotOnly&&this.scrollablePlotArea?.scrollingContainer||{},de=ye.series,se=ye.visiblePlotOnly&&_e||Ce,pe=ye.inverted?me:ce,je=ye.inverted?ce:me,Te={x:pe,y:je,isInsidePlot:!0,options:ye};if(!ye.ignoreX){let ke=de&&(be&&!this.polar?de.yAxis:de.xAxis)||{pos:Se,len:1/0},Be=ye.paneCoordinates?ke.pos+pe:Se+pe;Be>=Math.max(we+Se,ke.pos)&&Be<=Math.min(we+Se+se.width,ke.pos+ke.len)||(Te.isInsidePlot=!1)}if(!ye.ignoreY&&Te.isInsidePlot){let ke=!be&&ye.axis&&!ye.axis.isXAxis&&ye.axis||de&&(be?de.xAxis:de.yAxis)||{pos:ge,len:1/0},Be=ye.paneCoordinates?ke.pos+je:ge+je;Be>=Math.max(le+ge,ke.pos)&&Be<=Math.min(le+ge+se.height,ke.pos+ke.len)||(Te.isInsidePlot=!1)}return B(this,"afterIsInsidePlot",Te),Te.isInsidePlot}redraw(ce){B(this,"beforeRedraw");let me=this.hasCartesianSeries?this.axes:this.colorAxis||[],ye=this.series,be=this.pointer,Ce=this.legend,Se=this.userOptions.legend,ge=this.renderer,_e=ge.isHidden(),we=[],le,de,se,pe=this.isDirtyBox,je=this.isDirtyLegend,Te;for(ge.rootFontSize=ge.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),g(!!this.hasRendered&&ce,this),_e&&this.temporaryDisplay(),this.layOutTitles(!1),se=ye.length;se--;)if(((Te=ye[se]).options.stacking||Te.options.centerInCategory)&&(de=!0,Te.isDirty)){le=!0;break}if(le)for(se=ye.length;se--;)(Te=ye[se]).options.stacking&&(Te.isDirty=!0);ye.forEach(function(ke){ke.isDirty&&(ke.options.legendType==="point"?(typeof ke.updateTotals=="function"&&ke.updateTotals(),je=!0):Se&&(Se.labelFormatter||Se.labelFormat)&&(je=!0)),ke.isDirtyData&&B(ke,"updatedData")}),je&&Ce&&Ce.options.enabled&&(Ce.render(),this.isDirtyLegend=!1),de&&this.getStacks(),me.forEach(function(ke){ke.updateNames(),ke.setScale()}),this.getMargins(),me.forEach(function(ke){ke.isDirty&&(pe=!0)}),me.forEach(function(ke){let Be=ke.min+","+ke.max;ke.extKey!==Be&&(ke.extKey=Be,we.push(function(){B(ke,"afterSetExtremes",N(ke.eventArgs,ke.getExtremes())),delete ke.eventArgs})),(pe||de)&&ke.redraw()}),pe&&this.drawChartBox(),B(this,"predraw"),ye.forEach(function(ke){(pe||ke.isDirty)&&ke.visible&&ke.redraw(),ke.isDirtyData=!1}),be&&be.reset(!0),ge.draw(),B(this,"redraw"),B(this,"render"),_e&&this.temporaryDisplay(!0),we.forEach(function(ke){ke.call()})}get(ce){let me=this.series;function ye(Ce){return Ce.id===ce||Ce.options&&Ce.options.id===ce}let be=D(this.axes,ye)||D(this.series,ye);for(let Ce=0;!be&&Ce<me.length;Ce++)be=D(me[Ce].points||[],ye);return be}getAxes(){let ce=this.userOptions;for(let me of(B(this,"getAxes"),["xAxis","yAxis"]))for(let ye of ce[me]=he(ce[me]||{}))new o(this,ye,me);B(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((ce,me)=>(me.getPointsCollection().forEach(ye=>{Q(ye.selectedStaging,ye.selected)&&ce.push(ye)}),ce),[])}getSelectedSeries(){return this.series.filter(function(ce){return ce.selected})}setTitle(ce,me,ye){this.applyDescription("title",ce),this.applyDescription("subtitle",me),this.applyDescription("caption",void 0),this.layOutTitles(ye)}applyDescription(ce,me){let ye=this,be=this.options[ce]=$(this.options[ce],me),Ce=this[ce];Ce&&me&&(this[ce]=Ce=Ce.destroy()),be&&!Ce&&((Ce=this.renderer.text(be.text,0,0,be.useHTML).attr({align:be.align,class:"highcharts-"+ce,zIndex:be.zIndex||4}).add()).update=function(Se,ge){ye.applyDescription(ce,Se),ye.layOutTitles(ge)},this.styledMode||Ce.css(N(ce==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},be.style)),this[ce]=Ce)}layOutTitles(ce=!0){let me=[0,0,0],ye=this.renderer,be=this.spacingBox;["title","subtitle","caption"].forEach(function(Se){let ge=this[Se],_e=this.options[Se],we=_e.verticalAlign||"top",le=Se==="title"?we==="top"?-3:0:we==="top"?me[0]+2:0;if(ge){ge.css({width:(_e.width||be.width+(_e.widthAdjust||0))+"px"});let de=ye.fontMetrics(ge).b,se=Math.round(ge.getBBox(_e.useHTML).height);ge.align(N({y:we==="bottom"?de:le+de,height:se},_e),!1,"spacingBox"),_e.floating||(we==="top"?me[0]=Math.ceil(me[0]+se):we==="bottom"&&(me[2]=Math.ceil(me[2]+se)))}},this),me[0]&&(this.options.title.verticalAlign||"top")==="top"&&(me[0]+=this.options.title.margin),me[2]&&this.options.caption.verticalAlign==="bottom"&&(me[2]+=this.options.caption.margin);let Ce=!this.titleOffset||this.titleOffset.join(",")!==me.join(",");this.titleOffset=me,B(this,"afterLayOutTitles"),!this.isDirtyBox&&Ce&&(this.isDirtyBox=this.isDirtyLegend=Ce,this.hasRendered&&ce&&this.isDirtyBox&&this.redraw())}getContainerBox(){return{width:Y(this.renderTo,"width",!0)||0,height:Y(this.renderTo,"height",!0)||0}}getChartSize(){let ce=this.options.chart,me=ce.width,ye=ce.height,be=this.getContainerBox();this.chartWidth=Math.max(0,me||be.width||600),this.chartHeight=Math.max(0,re(ye,this.chartWidth)||(be.height>1?be.height:400)),this.containerBox=be}temporaryDisplay(ce){let me=this.renderTo,ye;if(ce)for(;me&&me.style;)me.hcOrigStyle&&(V(me,me.hcOrigStyle),delete me.hcOrigStyle),me.hcOrigDetached&&(E.body.removeChild(me),me.hcOrigDetached=!1),me=me.parentNode;else for(;me&&me.style&&(E.body.contains(me)||me.parentNode||(me.hcOrigDetached=!0,E.body.appendChild(me)),(Y(me,"display",!1)==="none"||me.hcOricDetached)&&(me.hcOrigStyle={display:me.style.display,height:me.style.height,overflow:me.style.overflow},ye={display:"block",overflow:"hidden"},me!==this.renderTo&&(ye.height=0),V(me,ye),me.offsetWidth||me.style.setProperty("display","block","important")),(me=me.parentNode)!==E.body););}setClassName(ce){this.container.className="highcharts-container "+(ce||"")}getContainer(){let ce=this.options,me=ce.chart,ye="data-highcharts-chart",be=fe(),Ce,Se=this.renderTo;Se||(this.renderTo=Se=me.renderTo),ne(Se)&&(this.renderTo=Se=E.getElementById(Se)),Se||J(13,!0,this);let ge=Z(L(Se,ye));q(ge)&&j[ge]&&j[ge].hasRendered&&j[ge].destroy(),L(Se,ye,this.index),Se.innerHTML=f.emptyHTML,me.skipClone||Se.offsetWidth||this.temporaryDisplay(),this.getChartSize();let _e=this.chartHeight,we=this.chartWidth;V(Se,{overflow:"hidden",pointerEvents:u.isChrome?"fill":"auto"}),this.styledMode||(Ce=N({position:"relative",overflow:"hidden",width:we+"px",height:_e+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},me.style||{}));let le=O("div",{id:be},Ce,Se);this.container=le,this.getChartSize(),we===this.chartWidth||(we=this.chartWidth,this.styledMode||V(le,{width:Q(me.style?.width,we+"px")})),this.containerBox=this.getContainerBox(),this._cursor=le.style.cursor;let de=me.renderer||!M?v.getRendererType(me.renderer):c;if(this.renderer=new de(le,we,_e,void 0,me.forExport,ce.exporting&&ce.exporting.allowHTML,this.styledMode),g(void 0,this),this.setClassName(me.className),this.styledMode)for(let se in ce.defs)this.renderer.definition(ce.defs[se]);else this.renderer.setStyle(me.style);this.renderer.chartIndex=this.index,B(this,"afterGetContainer")}getMargins(ce){let{spacing:me,margin:ye,titleOffset:be}=this;this.resetMargins(),be[0]&&!H(ye[0])&&(this.plotTop=Math.max(this.plotTop,be[0]+me[0])),be[2]&&!H(ye[2])&&(this.marginBottom=Math.max(this.marginBottom,be[2]+me[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ye,me),B(this,"getMargins"),ce||this.getAxisMargins()}getAxisMargins(){let ce=this,me=ce.axisOffset=[0,0,0,0],ye=ce.colorAxis,be=ce.margin,Ce=function(Se){Se.forEach(function(ge){ge.visible&&ge.getOffset()})};ce.hasCartesianSeries?Ce(ce.axes):ye&&ye.length&&Ce(ye),k.forEach(function(Se,ge){H(be[ge])||(ce[Se]+=me[ge])}),ce.setChartSize()}getOptions(){return F(this.userOptions,b)}reflow(ce){let me=this,ye=me.containerBox,be=me.getContainerBox();delete me.pointer?.chartPosition,!me.isPrinting&&!me.isResizing&&ye&&be.width&&((be.width!==ye.width||be.height!==ye.height)&&(d.clearTimeout(me.reflowTimeout),me.reflowTimeout=ue(function(){me.container&&me.setSize(void 0,void 0,!1)},ce?100:0)),me.containerBox=be)}setReflow(){let ce=this,me=ye=>{ce.options?.chart.reflow&&ce.hasLoaded&&ce.reflow(ye)};if(typeof ResizeObserver=="function")new ResizeObserver(me).observe(ce.renderTo);else{let ye=T(I,"resize",me);T(this,"destroy",ye)}}setSize(ce,me,ye){let be=this,Ce=be.renderer;be.isResizing+=1,g(ye,be);let Se=Ce.globalAnimation;be.oldChartHeight=be.chartHeight,be.oldChartWidth=be.chartWidth,ce!==void 0&&(be.options.chart.width=ce),me!==void 0&&(be.options.chart.height=me),be.getChartSize();let{chartWidth:ge,chartHeight:_e,scrollablePixelsX:we=0,scrollablePixelsY:le=0}=be;(be.isDirtyBox||ge!==be.oldChartWidth||_e!==be.oldChartHeight)&&(be.styledMode||(Se?l:V)(be.container,{width:`${ge+we}px`,height:`${_e+le}px`},Se),be.setChartSize(!0),Ce.setSize(ge,_e,Se),be.axes.forEach(function(de){de.isDirty=!0,de.setScale()}),be.isDirtyLegend=!0,be.isDirtyBox=!0,be.layOutTitles(),be.getMargins(),be.redraw(Se),be.oldChartHeight=void 0,B(be,"resize"),setTimeout(()=>{be&&B(be,"endResize")},h(Se).duration)),be.isResizing-=1}setChartSize(ce){let me,ye,be,Ce,{chartHeight:Se,chartWidth:ge,inverted:_e,spacing:we,renderer:le}=this,de=this.clipOffset,se=Math[_e?"floor":"round"];this.plotLeft=me=Math.round(this.plotLeft),this.plotTop=ye=Math.round(this.plotTop),this.plotWidth=be=Math.max(0,Math.round(ge-me-this.marginRight)),this.plotHeight=Ce=Math.max(0,Math.round(Se-ye-this.marginBottom)),this.plotSizeX=_e?Ce:be,this.plotSizeY=_e?be:Ce,this.spacingBox=le.spacingBox={x:we[3],y:we[0],width:ge-we[3]-we[1],height:Se-we[0]-we[2]},this.plotBox=le.plotBox={x:me,y:ye,width:be,height:Ce},de&&(this.clipBox={x:se(de[3]),y:se(de[0]),width:se(this.plotSizeX-de[1]-de[3]),height:se(this.plotSizeY-de[0]-de[2])}),ce||(this.axes.forEach(function(pe){pe.setAxisSize(),pe.setAxisTranslation()}),le.alignElements()),B(this,"afterSetChartSize",{skipAxes:ce})}resetMargins(){B(this,"resetMargins");let ce=this,me=ce.options.chart,ye=me.plotBorderWidth||0,be=ye/2;["margin","spacing"].forEach(function(Ce){let Se=me[Ce],ge=X(Se)?Se:[Se,Se,Se,Se];["Top","Right","Bottom","Left"].forEach(function(_e,we){ce[Ce][we]=Q(me[Ce+_e],ge[we])})}),k.forEach(function(Ce,Se){ce[Ce]=Q(ce.margin[Se],ce.spacing[Se])}),ce.axisOffset=[0,0,0,0],ce.clipOffset=[be,be,be,be],ce.plotBorderWidth=ye}drawChartBox(){let ce=this.options.chart,me=this.renderer,ye=this.chartWidth,be=this.chartHeight,Ce=this.styledMode,Se=this.plotBGImage,ge=ce.backgroundColor,_e=ce.plotBackgroundColor,we=ce.plotBackgroundImage,le=this.plotLeft,de=this.plotTop,se=this.plotWidth,pe=this.plotHeight,je=this.plotBox,Te=this.clipRect,ke=this.clipBox,Be=this.chartBackground,Ve=this.plotBackground,ze=this.plotBorder,qe,rt,et,Ye="animate";Be||(this.chartBackground=Be=me.rect().addClass("highcharts-background").add(),Ye="attr"),Ce?qe=rt=Be.strokeWidth():(rt=(qe=ce.borderWidth||0)+(ce.shadow?8:0),et={fill:ge||"none"},(qe||Be["stroke-width"])&&(et.stroke=ce.borderColor,et["stroke-width"]=qe),Be.attr(et).shadow(ce.shadow)),Be[Ye]({x:rt/2,y:rt/2,width:ye-rt-qe%2,height:be-rt-qe%2,r:ce.borderRadius}),Ye="animate",Ve||(Ye="attr",this.plotBackground=Ve=me.rect().addClass("highcharts-plot-background").add()),Ve[Ye](je),!Ce&&(Ve.attr({fill:_e||"none"}).shadow(ce.plotShadow),we&&(Se?(we!==Se.attr("href")&&Se.attr("href",we),Se.animate(je)):this.plotBGImage=me.image(we,le,de,se,pe).add())),Te?Te.animate({width:ke.width,height:ke.height}):this.clipRect=me.clipRect(ke),Ye="animate",ze||(Ye="attr",this.plotBorder=ze=me.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),Ce||ze.attr({stroke:ce.plotBorderColor,"stroke-width":ce.plotBorderWidth||0,fill:"none"}),ze[Ye](ze.crisp({x:le,y:de,width:se,height:pe},-ze.strokeWidth())),this.isDirtyBox=!1,B(this,"afterDrawChartBox")}propFromSeries(){let ce,me,ye,be=this,Ce=be.options.chart,Se=be.options.series;["inverted","angular","polar"].forEach(function(ge){for(me=S[Ce.type],ye=Ce[ge]||me&&me.prototype[ge],ce=Se&&Se.length;!ye&&ce--;)(me=S[Se[ce].type])&&me.prototype[ge]&&(ye=!0);be[ge]=ye})}linkSeries(ce){let me=this,ye=me.series;ye.forEach(function(be){be.linkedSeries.length=0}),ye.forEach(function(be){let{linkedTo:Ce}=be.options;if(ne(Ce)){let Se;(Se=Ce===":previous"?me.series[be.index-1]:me.get(Ce))&&Se.linkedParent!==be&&(Se.linkedSeries.push(be),be.linkedParent=Se,Se.enabledDataSorting&&be.setDataSortingOptions(),be.visible=Q(be.options.visible,Se.options.visible,be.visible))}}),B(this,"afterLinkSeries",{isUpdating:ce})}renderSeries(){this.series.forEach(function(ce){ce.translate(),ce.render()})}render(){let ce=this.axes,me=this.colorAxis,ye=this.renderer,be=this.options.chart.axisLayoutRuns||2,Ce=le=>{le.forEach(de=>{de.visible&&de.render()})},Se=0,ge=!0,_e,we=0;for(let le of(this.setTitle(),B(this,"beforeMargins"),this.getStacks?.(),this.getMargins(!0),this.setChartSize(),ce)){let{options:de}=le,{labels:se}=de;if(this.hasCartesianSeries&&le.horiz&&le.visible&&se.enabled&&le.series.length&&le.coll!=="colorAxis"&&!this.polar){Se=de.tickLength,le.createGroups();let pe=new m(le,0,"",!0),je=pe.createLabel("x",se);if(pe.destroy(),je&&Q(se.reserveSpace,!q(de.crossing))&&(Se=je.getBBox().height+se.distance+Math.max(de.offset||0,0)),Se){je?.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-Se,0);(ge||_e||be>1)&&we<be;){let le=this.plotWidth,de=this.plotHeight;for(let se of ce)we===0?se.setScale():(se.horiz&&ge||!se.horiz&&_e)&&se.setTickInterval(!0);we===0?this.getAxisMargins():this.getMargins(),ge=le/this.plotWidth>(we?1:1.1),_e=de/this.plotHeight>(we?1:1.05),we++}this.drawChartBox(),this.hasCartesianSeries?Ce(ce):me&&me.length&&Ce(me),this.seriesGroup||(this.seriesGroup=ye.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(ce){let me=this,ye=$(!0,this.options.credits,ce);ye.enabled&&!this.credits&&(this.credits=this.renderer.text(ye.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ye.href&&(I.location.href=ye.href)}).attr({align:ye.position.align,zIndex:8}),me.styledMode||this.credits.css(ye.style),this.credits.add().align(ye.position),this.credits.update=function(be){me.credits=me.credits.destroy(),me.addCredits(be)})}destroy(){let ce,me=this,ye=me.axes,be=me.series,Ce=me.container,Se=Ce&&Ce.parentNode;for(B(me,"destroy"),me.renderer.forExport?ee(j,me):j[me.index]=void 0,u.chartCount--,me.renderTo.removeAttribute("data-highcharts-chart"),ie(me),ce=ye.length;ce--;)ye[ce]=ye[ce].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ce=be.length;ce--;)be[ce]=be[ce].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(ge){let _e=me[ge];_e&&_e.destroy&&(me[ge]=_e.destroy())}),Ce&&(Ce.innerHTML=f.emptyHTML,ie(Ce),Se&&W(Ce)),K(me,function(ge,_e){delete me[_e]})}firstRender(){let ce=this,me=ce.options;ce.getContainer(),ce.resetMargins(),ce.setChartSize(),ce.propFromSeries(),ce.getAxes();let ye=G(me.series)?me.series:[];me.series=[],ye.forEach(function(be){ce.initSeries(be)}),ce.linkSeries(),ce.setSortedData(),B(ce,"beforeRender"),ce.render(),ce.pointer?.getChartPosition(),ce.renderer.imgCount||ce.hasLoaded||ce.onload(),ce.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(ce){ce&&this.index!==void 0&&ce.apply(this,[this])},this),B(this,"load"),B(this,"render"),H(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:ce,title:me}=this;!ce||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(me&&me.element.textContent||"").replace(/</g,"&lt;")}),ce.accessibility&&ce.accessibility.enabled===!1||J('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(ce,me,ye){let be,Ce=this;return ce&&(me=Q(me,!0),B(Ce,"addSeries",{options:ce},function(){be=Ce.initSeries(ce),Ce.isDirtyLegend=!0,Ce.linkSeries(),be.enabledDataSorting&&be.setData(ce.data,!1),B(Ce,"afterAddSeries",{series:be}),me&&Ce.redraw(ye)})),be}addAxis(ce,me,ye,be){return this.createAxis(me?"xAxis":"yAxis",{axis:ce,redraw:ye,animation:be})}addColorAxis(ce,me,ye){return this.createAxis("colorAxis",{axis:ce,redraw:me,animation:ye})}createAxis(ce,me){let ye=new o(this,me.axis,ce);return Q(me.redraw,!0)&&this.redraw(me.animation),ye}showLoading(ce){let me=this,ye=me.options,be=ye.loading,Ce=function(){Se&&V(Se,{left:me.plotLeft+"px",top:me.plotTop+"px",width:me.plotWidth+"px",height:me.plotHeight+"px"})},Se=me.loadingDiv,ge=me.loadingSpan;Se||(me.loadingDiv=Se=O("div",{className:"highcharts-loading highcharts-loading-hidden"},null,me.container)),ge||(me.loadingSpan=ge=O("span",{className:"highcharts-loading-inner"},null,Se),T(me,"redraw",Ce)),Se.className="highcharts-loading",f.setElementHTML(ge,Q(ce,ye.lang.loading,"")),me.styledMode||(V(Se,N(be.style,{zIndex:10})),V(ge,be.labelStyle),me.loadingShown||(V(Se,{opacity:0,display:""}),l(Se,{opacity:be.style.opacity||.5},{duration:be.showDuration||0}))),me.loadingShown=!0,Ce()}hideLoading(){let ce=this.options,me=this.loadingDiv;me&&(me.className="highcharts-loading highcharts-loading-hidden",this.styledMode||l(me,{opacity:0},{duration:ce.loading.hideDuration||100,complete:function(){V(me,{display:"none"})}})),this.loadingShown=!1}update(ce,me,ye,be){let Ce,Se,ge,_e=this,we={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},le=ce.isResponsiveOptions,de=[];B(_e,"update",{options:ce}),le||_e.setResponsive(!1,!0),ce=F(ce,_e.options),_e.userOptions=$(_e.userOptions,ce);let se=ce.chart;se&&($(!0,_e.options.chart,se),this.setZoomOptions(),"className"in se&&_e.setClassName(se.className),("inverted"in se||"polar"in se||"type"in se)&&(_e.propFromSeries(),Ce=!0),"alignTicks"in se&&(Ce=!0),"events"in se&&P(this,se),K(se,function(Te,ke){_e.propsRequireUpdateSeries.indexOf("chart."+ke)!==-1&&(Se=!0),_e.propsRequireDirtyBox.indexOf(ke)!==-1&&(_e.isDirtyBox=!0),_e.propsRequireReflow.indexOf(ke)===-1||(_e.isDirtyBox=!0,le||(ge=!0))}),!_e.styledMode&&se.style&&_e.renderer.setStyle(_e.options.chart.style||{})),!_e.styledMode&&ce.colors&&(this.options.colors=ce.colors),ce.time&&(this.time===_&&(this.time=new a(ce.time)),$(!0,_e.options.time,ce.time)),K(ce,function(Te,ke){_e[ke]&&typeof _e[ke].update=="function"?_e[ke].update(Te,!1):typeof _e[we[ke]]=="function"?_e[we[ke]](Te):ke!=="colors"&&_e.collectionsWithUpdate.indexOf(ke)===-1&&$(!0,_e.options[ke],ce[ke]),ke!=="chart"&&_e.propsRequireUpdateSeries.indexOf(ke)!==-1&&(Se=!0)}),this.collectionsWithUpdate.forEach(function(Te){ce[Te]&&(he(ce[Te]).forEach(function(ke,Be){let Ve,ze=H(ke.id);ze&&(Ve=_e.get(ke.id)),!Ve&&_e[Te]&&(Ve=_e[Te][Q(ke.index,Be)])&&(ze&&H(Ve.options.id)||Ve.options.isInternal)&&(Ve=void 0),Ve&&Ve.coll===Te&&(Ve.update(ke,!1),ye&&(Ve.touched=!0)),!Ve&&ye&&_e.collectionsWithInit[Te]&&(_e.collectionsWithInit[Te][0].apply(_e,[ke].concat(_e.collectionsWithInit[Te][1]||[]).concat([!1])).touched=!0)}),ye&&_e[Te].forEach(function(ke){ke.touched||ke.options.isInternal?delete ke.touched:de.push(ke)}))}),de.forEach(function(Te){Te.chart&&Te.remove&&Te.remove(!1)}),Ce&&_e.axes.forEach(function(Te){Te.update({},!1)}),Se&&_e.getSeriesOrderByLinks().forEach(function(Te){Te.chart&&Te.update({},!1)},this);let pe=se&&se.width,je=se&&(ne(se.height)?re(se.height,pe||_e.chartWidth):se.height);ge||q(pe)&&pe!==_e.chartWidth||q(je)&&je!==_e.chartHeight?_e.setSize(pe,je,be):Q(me,!0)&&_e.redraw(be),B(_e,"afterUpdate",{options:ce,redraw:me,animation:be})}setSubtitle(ce,me){this.applyDescription("subtitle",ce),this.layOutTitles(me)}setCaption(ce,me){this.applyDescription("caption",ce),this.layOutTitles(me)}showResetZoom(){let ce=this,me=b.lang,ye=ce.zooming.resetButton,be=ye.theme,Ce=ye.relativeTo==="chart"||ye.relativeTo==="spacingBox"?null:"plotBox";function Se(){ce.zoomOut()}B(this,"beforeShowResetZoom",null,function(){ce.resetZoomButton=ce.renderer.button(me.resetZoom,null,null,Se,be).attr({align:ye.position.align,title:me.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ye.position,!1,Ce)}),B(this,"afterShowResetZoom")}zoomOut(){B(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(ce,me){let ye=this,be=typeof me=="object"?me:{enabled:me,type:"x"},Ce=be.type,Se=Ce&&ye[{x:"xAxis",xy:"axes",y:"yAxis"}[Ce]].filter(_e=>_e.options.panningEnabled&&!_e.options.isInternal),ge=ye.options.chart;ge?.panning&&(ge.panning=be),B(this,"pan",{originalEvent:ce},()=>{ye.transform({axes:Se,event:ce,to:{x:ce.chartX-(ye.mouseDownX||0),y:ce.chartY-(ye.mouseDownY||0)},trigger:"pan"}),V(ye.container,{cursor:"move"})})}transform(ce){let{axes:me=this.axes,event:ye,from:be={},reset:Ce,selection:Se,to:ge={},trigger:_e}=ce,{inverted:we}=this,le=!1,de,se;for(let pe of(this.hoverPoints?.forEach(je=>je.setState()),me)){let{horiz:je,len:Te,minPointOffset:ke=0,options:Be,reversed:Ve}=pe,ze=je?"width":"height",qe=je?"x":"y",rt=Q(ge[ze],pe.len),et=Q(be[ze],pe.len),Ye=10>Math.abs(rt)?1:rt/et,at=(be[qe]||0)+et/2-pe.pos,tt=at-((ge[qe]??pe.pos)+rt/2-pe.pos)/Ye,Ot=Ve&&!we||!Ve&&we?-1:1;if(!Ce&&(at<0||at>pe.len))continue;let It=pe.toValue(tt,!0)+(Se?0:ke*Ot),jt=pe.toValue(tt+Te/Ye,!0)-(Se?0:ke*Ot||0),vt=pe.allExtremes;if(It>jt&&([It,jt]=[jt,It]),Ye===1&&!Ce&&pe.coll==="yAxis"&&!vt){for(let $e of pe.series){let Xe=$e.getExtremes($e.getProcessedData(!0).yData,!0);vt??(vt={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),q(Xe.dataMin)&&q(Xe.dataMax)&&(vt.dataMin=Math.min(Xe.dataMin,vt.dataMin),vt.dataMax=Math.max(Xe.dataMax,vt.dataMax))}pe.allExtremes=vt}let{dataMin:Ut,dataMax:Dt,min:ir,max:er}=N(pe.getExtremes(),vt||{}),Rt=Ut??Be.min,or=Dt??Be.max,wn=jt-It,Gn=pe.categories?0:Math.min(wn,or-Rt),_n=Rt-Gn*(H(Be.min)?0:Be.minPadding),Hn=or+Gn*(H(Be.max)?0:Be.maxPadding),zn=pe.allowZoomOutside||Ye===1||_e!=="zoom"&&Ye>1,an=Math.min(Be.min??_n,_n,zn?ir:_n),Ie=Math.max(Be.max??Hn,Hn,zn?er:Hn);(!pe.isOrdinal||Ye!==1||Ce)&&(It<an&&(It=an,Ye>=1&&(jt=It+wn)),jt>Ie&&(jt=Ie,Ye>=1&&(It=jt-wn)),(Ce||pe.series.length&&(It!==ir||jt!==er)&&It>=an&&jt<=Ie)&&(Se?Se[pe.coll].push({axis:pe,min:It,max:jt}):(pe.isPanning=_e!=="zoom",pe.isPanning&&(se=!0),pe.setExtremes(Ce?void 0:It,Ce?void 0:jt,!1,!1,{move:tt,trigger:_e,scale:Ye}),!Ce&&(It>an||jt<Ie)&&_e!=="mousewheel"&&(de=!0)),le=!0),ye&&(this[je?"mouseDownX":"mouseDownY"]=ye[je?"chartX":"chartY"]))}return le&&(Se?B(this,"selection",Se,()=>{delete ce.selection,ce.trigger="zoom",this.transform(ce)}):(!de||se||this.resetZoomButton?!de&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(_e==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),le}}return N(xe.prototype,{callbacks:[],collectionsWithInit:{xAxis:[xe.prototype.addAxis,[!0]],yAxis:[xe.prototype.addAxis,[!1]],series:[xe.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),xe}),s(r,"Extensions/ScrollablePlotArea.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Globals.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Utilities.js"]],function(t,o,y,i){let{stop:p}=t,{composed:u}=o,{addEvent:v,createElement:x,css:w,defined:c,merge:a,pushUnique:d}=i;function f(){let h=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!h&&(this.scrollablePlotArea=h=new l(this)),h?.applyFixed()}function m(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class l{static compose(g,b,_){d(u,this.compose)&&(v(g,"afterInit",m),v(b,"afterSetChartSize",A=>this.afterSetSize(A.target,A)),v(b,"render",f),v(_,"show",m))}static afterSetSize(g,b){let _,A,P,{minWidth:j,minHeight:E}=g.options.chart.scrollablePlotArea||{},{clipBox:k,plotBox:M,inverted:I,renderer:S}=g;if(!S.forExport&&(j?(g.scrollablePixelsX=_=Math.max(0,j-g.chartWidth),_&&(g.scrollablePlotBox=a(g.plotBox),M.width=g.plotWidth+=_,k[I?"height":"width"]+=_,P=!0)):E&&(g.scrollablePixelsY=A=Math.max(0,E-g.chartHeight),c(A)&&(g.scrollablePlotBox=a(g.plotBox),M.height=g.plotHeight+=A,k[I?"width":"height"]+=A,P=!1)),c(P)&&!b.skipAxes))for(let T of g.axes)T.horiz===P&&(T.setAxisSize(),T.setAxisTranslation())}constructor(g){let b,_=g.options.chart,A=y.getRendererType(),P=_.scrollablePlotArea||{},j=this.moveFixedElements.bind(this),E={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};g.scrollablePixelsX&&(E.overflowX="auto"),g.scrollablePixelsY&&(E.overflowY="auto"),this.chart=g;let k=this.parentDiv=x("div",{className:"highcharts-scrolling-parent"},{position:"relative"},g.renderTo),M=this.scrollingContainer=x("div",{className:"highcharts-scrolling"},E,k),I=this.innerContainer=x("div",{className:"highcharts-inner-container"},void 0,M),S=this.fixedDiv=x("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(_.style?.zIndex||0)+2,top:0},void 0,!0),T=this.fixedRenderer=new A(S,g.chartWidth,g.chartHeight,_.style);this.mask=T.path().attr({fill:_.backgroundColor||"#fff","fill-opacity":P.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),M.parentNode.insertBefore(S,M),w(g.renderTo,{overflow:"visible"}),v(g,"afterShowResetZoom",j),v(g,"afterApplyDrilldown",j),v(g,"afterLayOutTitles",j),v(M,"scroll",()=>{let{pointer:L,hoverPoint:O}=g;L&&(delete L.chartPosition,O&&(b=O),L.runPointActions(void 0,b,!0))}),I.appendChild(g.container)}applyFixed(){let{chart:g,fixedRenderer:b,isDirty:_,scrollingContainer:A}=this,{axisOffset:P,chartWidth:j,chartHeight:E,container:k,plotHeight:M,plotLeft:I,plotTop:S,plotWidth:T,scrollablePixelsX:L=0,scrollablePixelsY:O=0}=g,{scrollPositionX:V=0,scrollPositionY:H=0}=g.options.chart.scrollablePlotArea||{},F=j+L,W=E+O;b.setSize(j,E),(_??!0)&&(this.isDirty=!1,this.moveFixedElements()),p(g.container),w(k,{width:`${F}px`,height:`${W}px`}),g.renderer.boxWrapper.attr({width:F,height:W,viewBox:[0,0,F,W].join(" ")}),g.chartBackground?.attr({width:F,height:W}),w(A,{width:`${j}px`,height:`${E}px`}),c(_)||(A.scrollLeft=L*V,A.scrollTop=O*H);let ee=S-P[0]-1,J=I-P[3]-1,N=S+M+P[2]+1,D=I+T+P[1]+1,B=I+T-L,Y=S+M-O,G=[["M",0,0]];L?G=[["M",0,ee],["L",I-1,ee],["L",I-1,N],["L",0,N],["Z"],["M",B,ee],["L",j,ee],["L",j,N],["L",B,N],["Z"]]:O&&(G=[["M",J,0],["L",J,S-1],["L",D,S-1],["L",D,0],["Z"],["M",J,Y],["L",J,E],["L",D,E],["L",D,Y],["Z"]]),g.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:G})}moveFixedElements(){let g,{container:b,inverted:_,scrollablePixelsX:A,scrollablePixelsY:P}=this.chart,j=this.fixedRenderer,E=l.fixedSelectors;for(let k of(A&&!_?g=".highcharts-yaxis":A&&_||P&&!_?g=".highcharts-xaxis":P&&_&&(g=".highcharts-yaxis"),g&&E.push(`${g}:not(.highcharts-radial-axis)`,`${g}-labels:not(.highcharts-radial-axis-labels)`),E))[].forEach.call(b.querySelectorAll(k),M=>{(M.namespaceURI===j.SVG_NS?j.box:j.box.parentNode).appendChild(M),M.style.pointerEvents="auto"})}}return l.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],l}),s(r,"Core/Axis/Stacking/StackItem.js",[r["Core/Templating.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(t,o,y){let{format:i}=t,{series:p}=o,{destroyObjectProperties:u,fireEvent:v,isNumber:x,pick:w}=y;return class{constructor(c,a,d,f,m){let l=c.chart.inverted,h=c.reversed;this.axis=c;let g=this.isNegative=!!d!=!!h;this.options=a=a||{},this.x=f,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=m,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:a.align||(l?g?"left":"right":"center"),verticalAlign:a.verticalAlign||(l?"middle":g?"bottom":"top"),y:a.y,x:a.x},this.textAlign=a.textAlign||(l?g?"right":"left":"center")}destroy(){u(this,this.axis)}render(c){let a=this.axis.chart,d=this.options,f=d.format,m=f?i(f,this,a):d.formatter.call(this);if(this.label)this.label.attr({text:m,visibility:"hidden"});else{this.label=a.renderer.label(m,null,void 0,d.shape,void 0,void 0,d.useHTML,!1,"stack-labels");let l={r:d.borderRadius||0,text:m,padding:w(d.padding,5),visibility:"hidden"};a.styledMode||(l.fill=d.backgroundColor,l.stroke=d.borderColor,l["stroke-width"]=d.borderWidth,this.label.css(d.style||{})),this.label.attr(l),this.label.added||this.label.add(c)}this.label.labelrank=a.plotSizeY,v(this,"afterRender")}setOffset(c,a,d,f,m,l){let{alignOptions:h,axis:g,label:b,options:_,textAlign:A}=this,P=g.chart,j=this.getStackBox({xOffset:c,width:a,boxBottom:d,boxTop:f,defaultX:m,xAxis:l}),{verticalAlign:E}=h;if(b&&j){let k=b.getBBox(void 0,0),M=b.padding,I=w(_.overflow,"justify")==="justify",S;h.x=_.x||0,h.y=_.y||0;let{x:T,y:L}=this.adjustStackPosition({labelBox:k,verticalAlign:E,textAlign:A});j.x-=T,j.y-=L,b.align(h,!1,j),(S=P.isInsidePlot(b.alignAttr.x+h.x+T,b.alignAttr.y+h.y+L))||(I=!1),I&&p.prototype.justifyDataLabel.call(g,b,h,b.alignAttr,k,j),b.attr({x:b.alignAttr.x,y:b.alignAttr.y,rotation:_.rotation,rotationOriginX:k.width*{left:0,center:.5,right:1}[_.textAlign||"center"],rotationOriginY:k.height/2}),w(!I&&_.crop,!0)&&(S=x(b.x)&&x(b.y)&&P.isInsidePlot(b.x-M+(b.width||0),b.y)&&P.isInsidePlot(b.x+M,b.y)),b[S?"show":"hide"]()}v(this,"afterSetOffset",{xOffset:c,width:a})}adjustStackPosition({labelBox:c,verticalAlign:a,textAlign:d}){let f={bottom:0,middle:1,top:2,right:1,center:0,left:-1},m=f[a],l=f[d];return{x:c.width/2+c.width/2*l,y:c.height/2*m}}getStackBox(c){let a=this.axis,d=a.chart,{boxTop:f,defaultX:m,xOffset:l,width:h,boxBottom:g}=c,b=a.stacking.usePercentage?100:w(f,this.total,0),_=a.toPixels(b),A=c.xAxis||d.xAxis[0],P=w(m,A.translate(this.x))+l,j=Math.abs(_-a.toPixels(g||x(a.min)&&a.logarithmic&&a.logarithmic.lin2log(a.min)||0)),E=d.inverted,k=this.isNegative;return E?{x:(k?_:_-j)-d.plotLeft,y:A.height-P-h+A.top-d.plotTop,width:j,height:h}:{x:P+A.transB-d.plotLeft,y:(k?_-j:_)-d.plotTop,width:h,height:j}}}}),s(r,"Core/Axis/Stacking/StackingAxis.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Axis/Axis.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Utilities.js"]],function(t,o,y,i,p){var u;let{getDeferredAnimation:v}=t,{series:{prototype:x}}=y,{addEvent:w,correctFloat:c,defined:a,destroyObjectProperties:d,fireEvent:f,isArray:m,isNumber:l,objectEach:h,pick:g}=p;function b(){let S=this.inverted;this.axes.forEach(T=>{T.stacking&&T.stacking.stacks&&T.hasVisibleSeries&&(T.stacking.oldStacks=T.stacking.stacks)}),this.series.forEach(T=>{let L=T.xAxis&&T.xAxis.options||{};T.options.stacking&&T.reserveSpace()&&(T.stackKey=[T.type,g(T.options.stack,""),S?L.top:L.left,S?L.height:L.width].join(","))})}function _(){let S=this.stacking;if(S){let T=S.stacks;h(T,(L,O)=>{d(L),delete T[O]}),S.stackTotalGroup?.destroy()}}function A(){this.stacking||(this.stacking=new I(this))}function P(S,T,L,O){return!a(S)||S.x!==T||O&&S.stackKey!==O?S={x:T,index:0,key:O,stackKey:O}:S.index++,S.key=[L,T,S.index].join(","),S}function j(){let S,T=this,L=T.yAxis,O=T.stackKey||"",V=L.stacking.stacks,H=T.processedXData,F=T.options.stacking,W=T[F+"Stacker"];W&&[O,"-"+O].forEach(ee=>{let J=H.length,N,D,B;for(;J--;)N=H[J],S=T.getStackIndicator(S,N,T.index,ee),D=V[ee]?.[N],(B=D?.points[S.key||""])&&W.call(T,B,D,J)})}function E(S,T,L){let O=T.total?100/T.total:0;S[0]=c(S[0]*O),S[1]=c(S[1]*O),this.stackedYData[L]=S[1]}function k(S){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?x.setStackedPoints.call(this,S,"group"):S.stacking.resetStacks())}function M(S,T){let L,O,V,H,F,W,ee,J,N,D=T||this.options.stacking;if(!D||!this.reserveSpace()||({group:"xAxis"}[D]||"yAxis")!==S.coll)return;let B=this.processedXData,Y=this.processedYData,G=[],q=Y.length,X=this.options,ne=X.threshold||0,$=X.startFromThreshold?ne:0,K=X.stack,Q=T?`${this.type},${D}`:this.stackKey||"",Z="-"+Q,re=this.negStacks,ie=S.stacking,he=ie.stacks,ue=ie.oldStacks;for(ie.stacksTouched+=1,ee=0;ee<q;ee++){J=B[ee],N=Y[ee],W=(L=this.getStackIndicator(L,J,this.index)).key||"",he[F=(O=re&&N<($?0:ne))?Z:Q]||(he[F]={}),he[F][J]||(ue[F]?.[J]?(he[F][J]=ue[F][J],he[F][J].total=null):he[F][J]=new i(S,S.options.stackLabels,!!O,J,K)),V=he[F][J],N!==null?(V.points[W]=V.points[this.index]=[g(V.cumulative,$)],a(V.cumulative)||(V.base=W),V.touched=ie.stacksTouched,L.index>0&&this.singleStacks===!1&&(V.points[W][0]=V.points[this.index+","+J+",0"][0])):(delete V.points[W],delete V.points[this.index]);let fe=V.total||0;D==="percent"?(H=O?Q:Z,fe=re&&he[H]?.[J]?(H=he[H][J]).total=Math.max(H.total||0,fe)+Math.abs(N)||0:c(fe+(Math.abs(N)||0))):D==="group"?(m(N)&&(N=N[0]),N!==null&&fe++):fe=c(fe+(N||0)),D==="group"?V.cumulative=(fe||1)-1:V.cumulative=c(g(V.cumulative,$)+(N||0)),V.total=fe,N!==null&&(V.points[W].push(V.cumulative),G[ee]=V.cumulative,V.hasValidPoints=!0)}D==="percent"&&(ie.usePercentage=!0),D!=="group"&&(this.stackedYData=G),ie.oldStacks={}}class I{constructor(T){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=T}buildStacks(){let T,L,O=this.axis,V=O.series,H=O.coll==="xAxis",F=O.options.reversedStacks,W=V.length;for(this.resetStacks(),this.usePercentage=!1,L=W;L--;)T=V[F?L:W-L-1],H&&T.setGroupedPoints(O),T.setStackedPoints(O);if(!H)for(L=0;L<W;L++)V[L].modifyStacks();f(O,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,h(this.stacks,T=>{h(T,L=>{L.cumulative=L.total})}))}resetStacks(){h(this.stacks,T=>{h(T,(L,O)=>{l(L.touched)&&L.touched<this.stacksTouched?(L.destroy(),delete T[O]):(L.total=null,L.cumulative=null)})})}renderStackTotals(){let T=this.axis,L=T.chart,O=L.renderer,V=this.stacks,H=v(L,T.options.stackLabels?.animation||!1),F=this.stackTotalGroup=this.stackTotalGroup||O.g("stack-labels").attr({zIndex:6,opacity:0}).add();F.translate(L.plotLeft,L.plotTop),h(V,W=>{h(W,ee=>{ee.render(F)})}),F.animate({opacity:1},H)}}return(u||(u={})).compose=function(S,T,L){let O=T.prototype,V=L.prototype;O.getStacks||(w(S,"init",A),w(S,"destroy",_),O.getStacks=b,V.getStackIndicator=P,V.modifyStacks=j,V.percentStacker=E,V.setGroupedPoints=k,V.setStackedPoints=M)},u}),s(r,"Series/Line/LineSeries.js",[r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(t,o,y){let{defined:i,merge:p,isObject:u}=y;class v extends t{drawGraph(){let w=this.options,c=(this.gappedPath||this.getGraphPath).call(this),a=this.chart.styledMode;[this,...this.zones].forEach((d,f)=>{let m,l=d.graph,h=l?"animate":"attr",g=d.dashStyle||w.dashStyle;l?(l.endX=this.preventGraphAnimation?null:c.xMap,l.animate({d:c})):c.length&&(d.graph=l=this.chart.renderer.path(c).addClass("highcharts-graph"+(f?` highcharts-zone-graph-${f-1} `:" ")+(f&&d.className||"")).attr({zIndex:1}).add(this.group)),l&&!a&&(m={stroke:!f&&w.lineColor||d.color||this.color||"#cccccc","stroke-width":w.lineWidth||0,fill:this.fillGraph&&this.color||"none"},g?m.dashstyle=g:w.linecap!=="square"&&(m["stroke-linecap"]=m["stroke-linejoin"]="round"),l[h](m).shadow(f<2&&w.shadow&&p({filterUnits:"userSpaceOnUse"},u(w.shadow)?w.shadow:{}))),l&&(l.startX=c.xMap,l.isArea=c.isArea)})}getGraphPath(w,c,a){let d=this,f=d.options,m=[],l=[],h,g=f.step,b=(w=w||d.points).reversed;return b&&w.reverse(),(g={right:1,center:2}[g]||g&&3)&&b&&(g=4-g),(w=this.getValidPoints(w,!1,!(f.connectNulls&&!c&&!a))).forEach(function(_,A){let P,j=_.plotX,E=_.plotY,k=w[A-1],M=_.isNull||typeof E!="number";(_.leftCliff||k&&k.rightCliff)&&!a&&(h=!0),M&&!i(c)&&A>0?h=!f.connectNulls:M&&!c?h=!0:(A===0||h?P=[["M",_.plotX,_.plotY]]:d.getPointSpline?P=[d.getPointSpline(w,_,A)]:g?(P=g===1?[["L",k.plotX,E]]:g===2?[["L",(k.plotX+j)/2,k.plotY],["L",(k.plotX+j)/2,E]]:[["L",j,k.plotY]]).push(["L",j,E]):P=[["L",j,E]],l.push(_.x),g&&(l.push(_.x),g===2&&l.push(_.x)),m.push.apply(m,P),h=!1)}),m.xMap=l,d.graphPath=m,m}}return v.defaultOptions=p(t.defaultOptions,{legendSymbol:"lineMarker"}),o.registerSeriesType("line",v),v}),s(r,"Series/Area/AreaSeriesDefaults.js",[],function(){return{threshold:0,legendSymbol:"areaMarker"}}),s(r,"Series/Area/AreaSeries.js",[r["Series/Area/AreaSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(t,o,y){let{seriesTypes:{line:i}}=o,{extend:p,merge:u,objectEach:v,pick:x}=y;class w extends i{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:a,options:d}=this;[this,...this.zones].forEach((f,m)=>{let l={},h=f.fillColor||d.fillColor,g=f.area,b=g?"animate":"attr";g?(g.endX=this.preventGraphAnimation?null:a.xMap,g.animate({d:a})):(l.zIndex=0,(g=f.area=this.chart.renderer.path(a).addClass("highcharts-area"+(m?` highcharts-zone-area-${m-1} `:" ")+(m&&f.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(l.fill=h||f.color||this.color,l["fill-opacity"]=h?1:d.fillOpacity??.75,g.css({pointerEvents:this.stickyTracking?"none":"auto"})),g[b](l),g.startX=a.xMap,g.shiftUnit=d.step?2:1})}getGraphPath(a){let d,f,m,l=i.prototype.getGraphPath,h=this.options,g=h.stacking,b=this.yAxis,_=[],A=[],P=this.index,j=b.stacking.stacks[this.stackKey],E=h.threshold,k=Math.round(b.getThreshold(h.threshold)),M=x(h.connectNulls,g==="percent"),I=function(H,F,W){let ee=a[H],J=g&&j[ee.x].points[P],N=ee[W+"Null"]||0,D=ee[W+"Cliff"]||0,B,Y,G=!0;D||N?(B=(N?J[0]:J[1])+D,Y=J[0]+D,G=!!N):!g&&a[F]&&a[F].isNull&&(B=Y=E),B!==void 0&&(A.push({plotX:d,plotY:B===null?k:b.getThreshold(B),isNull:G,isCliff:!0}),_.push({plotX:d,plotY:Y===null?k:b.getThreshold(Y),doCurve:!1}))};a=a||this.points,g&&(a=this.getStackPoints(a));for(let H=0,F=a.length;H<F;++H)g||(a[H].leftCliff=a[H].rightCliff=a[H].leftNull=a[H].rightNull=void 0),f=a[H].isNull,d=x(a[H].rectPlotX,a[H].plotX),m=g?x(a[H].yBottom,k):k,f&&!M||(M||I(H,H-1,"left"),f&&!g&&M||(A.push(a[H]),_.push({x:H,plotX:d,plotY:m})),M||I(H,H+1,"right"));let S=l.call(this,A,!0,!0);_.reversed=!0;let T=l.call(this,_,!0,!0),L=T[0];L&&L[0]==="M"&&(T[0]=["L",L[1],L[2]]);let O=S.concat(T);O.length&&O.push(["Z"]);let V=l.call(this,A,!1,M);return this.chart.series.length>1&&g&&A.some(H=>H.isCliff)&&(O.hasStackedCliffs=V.hasStackedCliffs=!0),O.xMap=S.xMap,this.areaPath=O,V}getStackPoints(a){let d=this,f=[],m=[],l=this.xAxis,h=this.yAxis,g=h.stacking.stacks[this.stackKey],b={},_=h.series,A=_.length,P=h.options.reversedStacks?1:-1,j=_.indexOf(d);if(a=a||this.points,this.options.stacking){for(let k=0;k<a.length;k++)a[k].leftNull=a[k].rightNull=void 0,b[a[k].x]=a[k];v(g,function(k,M){k.total!==null&&m.push(M)}),m.sort(function(k,M){return k-M});let E=_.map(k=>k.visible);m.forEach(function(k,M){let I=0,S,T;if(b[k]&&!b[k].isNull)f.push(b[k]),[-1,1].forEach(function(L){let O=L===1?"rightNull":"leftNull",V=g[m[M+L]],H=0;if(V){let F=j;for(;F>=0&&F<A;){let W=_[F].index;!(S=V.points[W])&&(W===d.index?b[k][O]=!0:E[F]&&(T=g[k].points[W])&&(H-=T[1]-T[0])),F+=P}}b[k][L===1?"rightCliff":"leftCliff"]=H});else{let L=j;for(;L>=0&&L<A;){let O=_[L].index;if(S=g[k].points[O]){I=S[1];break}L+=P}I=x(I,0),I=h.translate(I,0,1,0,1),f.push({isNull:!0,plotX:l.translate(k,0,0,0,1),x:k,plotY:I,yBottom:I})}})}return f}}return w.defaultOptions=u(i.defaultOptions,t),p(w.prototype,{singleStacks:!1}),o.registerSeriesType("area",w),w}),s(r,"Series/Spline/SplineSeries.js",[r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(t,o){let{line:y}=t.seriesTypes,{merge:i,pick:p}=o;class u extends y{getPointSpline(x,w,c){let a,d,f,m,l=w.plotX||0,h=w.plotY||0,g=x[c-1],b=x[c+1];function _(P){return P&&!P.isNull&&P.doCurve!==!1&&!w.isCliff}if(_(g)&&_(b)){let P=g.plotX||0,j=g.plotY||0,E=b.plotX||0,k=b.plotY||0,M=0;a=(1.5*l+P)/2.5,d=(1.5*h+j)/2.5,f=(1.5*l+E)/2.5,m=(1.5*h+k)/2.5,f!==a&&(M=(m-d)*(f-l)/(f-a)+h-m),d+=M,m+=M,d>j&&d>h?(d=Math.max(j,h),m=2*h-d):d<j&&d<h&&(d=Math.min(j,h),m=2*h-d),m>k&&m>h?(m=Math.max(k,h),d=2*h-m):m<k&&m<h&&(m=Math.min(k,h),d=2*h-m),w.rightContX=f,w.rightContY=m,w.controlPoints={low:[a,d],high:[f,m]}}let A=["C",p(g.rightContX,g.plotX,0),p(g.rightContY,g.plotY,0),p(a,l,0),p(d,h,0),l,h];return g.rightContX=g.rightContY=void 0,A}}return u.defaultOptions=i(y.defaultOptions),t.registerSeriesType("spline",u),u}),s(r,"Series/AreaSpline/AreaSplineSeries.js",[r["Series/Spline/SplineSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(t,o,y){let{area:i,area:{prototype:p}}=o.seriesTypes,{extend:u,merge:v}=y;class x extends t{}return x.defaultOptions=v(t.defaultOptions,i.defaultOptions),u(x.prototype,{getGraphPath:p.getGraphPath,getStackPoints:p.getStackPoints,drawGraph:p.drawGraph}),o.registerSeriesType("areaspline",x),x}),s(r,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),s(r,"Series/Column/ColumnSeries.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Color/Color.js"],r["Series/Column/ColumnSeriesDefaults.js"],r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(t,o,y,i,p,u,v){let{animObject:x}=t,{parse:w}=o,{noop:c}=i,{clamp:a,crisp:d,defined:f,extend:m,fireEvent:l,isArray:h,isNumber:g,merge:b,pick:_,objectEach:A}=v;class P extends p{animate(E){let k,M,I=this,S=this.yAxis,T=S.pos,L=S.reversed,O=I.options,{clipOffset:V,inverted:H}=this.chart,F={},W=H?"translateX":"translateY";E&&V?(F.scaleY=.001,M=a(S.toPixels(O.threshold),T,T+S.len),H?(M+=L?-Math.floor(V[0]):Math.ceil(V[2]),F.translateX=M-S.len):(M+=L?Math.ceil(V[0]):-Math.floor(V[2]),F.translateY=M),I.clipBox&&I.setClip(),I.group.attr(F)):(k=Number(I.group.attr(W)),I.group.animate({scaleY:1},m(x(I.options.animation),{step:function(ee,J){I.group&&(F[W]=k+J.pos*(T-k),I.group.attr(F))}})))}init(E,k){super.init.apply(this,arguments);let M=this;(E=M.chart).hasRendered&&E.series.forEach(function(I){I.type===M.type&&(I.isDirty=!0)})}getColumnMetrics(){let E=this,k=E.options,M=E.xAxis,I=E.yAxis,S=M.options.reversedStacks,T=M.reversed&&!S||!M.reversed&&S,L={},O,V=0;k.grouping===!1?V=1:E.chart.series.forEach(function(N){let D,B=N.yAxis,Y=N.options;N.type===E.type&&N.reserveSpace()&&I.len===B.len&&I.pos===B.pos&&(Y.stacking&&Y.stacking!=="group"?(L[O=N.stackKey]===void 0&&(L[O]=V++),D=L[O]):Y.grouping!==!1&&(D=V++),N.columnIndex=D)});let H=Math.min(Math.abs(M.transA)*(!M.brokenAxis?.hasBreaks&&M.ordinal?.slope||k.pointRange||M.closestPointRange||M.tickInterval||1),M.len),F=H*k.groupPadding,W=(H-2*F)/(V||1),ee=Math.min(k.maxPointWidth||M.len,_(k.pointWidth,W*(1-2*k.pointPadding))),J=(E.columnIndex||0)+(T?1:0);return E.columnMetrics={width:ee,offset:(W-ee)/2+(F+J*W-H/2)*(T?-1:1),paddedWidth:W,columnCount:V},E.columnMetrics}crispCol(E,k,M,I){let S=this.borderWidth,T=this.chart.inverted;return I=d(k+I,S,T)-(k=d(k,S,T)),this.options.crisp&&(M=d(E+M,S)-(E=d(E,S))),{x:E,y:k,width:M,height:I}}adjustForMissingColumns(E,k,M,I){if(!M.isNull&&I.columnCount>1){let S=this.xAxis.series.filter(V=>V.visible).map(V=>V.index),T=0,L=0;A(this.xAxis.stacking?.stacks,V=>{if(typeof M.x=="number"){let H=V[M.x.toString()];if(H&&h(H.points[this.index])){let F=Object.keys(H.points).filter(W=>!W.match(",")&&H.points[W]&&H.points[W].length>1).map(parseFloat).filter(W=>S.indexOf(W)!==-1).sort((W,ee)=>ee-W);T=F.indexOf(this.index),L=F.length}}}),T=this.xAxis.reversed?L-1-T:T;let O=(L-1)*I.paddedWidth+k;E=(M.plotX||0)+O/2-k-T*I.paddedWidth}return E}translate(){let E=this,k=E.chart,M=E.options,I=E.dense=E.closestPointRange*E.xAxis.transA<2,S=E.borderWidth=_(M.borderWidth,I?0:1),T=E.xAxis,L=E.yAxis,O=M.threshold,V=_(M.minPointLength,5),H=E.getColumnMetrics(),F=H.width,W=E.pointXOffset=H.offset,ee=E.dataMin,J=E.dataMax,N=E.translatedThreshold=L.getThreshold(O),D=E.barW=Math.max(F,1+2*S);M.pointPadding&&(D=Math.ceil(D)),p.prototype.translate.apply(E),E.points.forEach(function(B){let Y=_(B.yBottom,N),G=999+Math.abs(Y),q=B.plotX||0,X=a(B.plotY,-G,L.len+G),ne,$=Math.min(X,Y),K=Math.max(X,Y)-$,Q=F,Z=q+W,re=D;V&&Math.abs(K)<V&&(K=V,ne=!L.reversed&&!B.negative||L.reversed&&B.negative,g(O)&&g(J)&&B.y===O&&J<=O&&(L.min||0)<O&&(ee!==J||(L.max||0)<=O)&&(ne=!ne,B.negative=!B.negative),$=Math.abs($-N)>V?Y-V:N-(ne?V:0)),f(B.options.pointWidth)&&(Z-=Math.round(((Q=re=Math.ceil(B.options.pointWidth))-F)/2)),M.centerInCategory&&!M.stacking&&(Z=E.adjustForMissingColumns(Z,Q,B,H)),B.barX=Z,B.pointWidth=Q,B.tooltipPos=k.inverted?[a(L.len+L.pos-k.plotLeft-X,L.pos-k.plotLeft,L.len+L.pos-k.plotLeft),T.len+T.pos-k.plotTop-Z-re/2,K]:[T.left-k.plotLeft+Z+re/2,a(X+L.pos-k.plotTop,L.pos-k.plotTop,L.len+L.pos-k.plotTop),K],B.shapeType=E.pointClass.prototype.shapeType||"roundedRect",B.shapeArgs=E.crispCol(Z,B.isNull?N:$,re,B.isNull?0:K)}),l(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(E,k){let M=this.options,I=this.pointAttrToOptions||{},S=I.stroke||"borderColor",T=I["stroke-width"]||"borderWidth",L,O,V,H=E&&E.color||this.color,F=E&&E[S]||M[S]||H,W=E&&E.options.dashStyle||M.dashStyle,ee=E&&E[T]||M[T]||this[T]||0,J=_(E&&E.opacity,M.opacity,1);E&&this.zones.length&&(O=E.getZone(),H=E.options.color||O&&(O.color||E.nonZonedColor)||this.color,O&&(F=O.borderColor||F,W=O.dashStyle||W,ee=O.borderWidth||ee)),k&&E&&(V=(L=b(M.states[k],E.options.states&&E.options.states[k]||{})).brightness,H=L.color||V!==void 0&&w(H).brighten(L.brightness).get()||H,F=L[S]||F,ee=L[T]||ee,W=L.dashStyle||W,J=_(L.opacity,J));let N={fill:H,stroke:F,"stroke-width":ee,opacity:J};return W&&(N.dashstyle=W),N}drawPoints(E=this.points){let k,M=this,I=this.chart,S=M.options,T=I.renderer,L=S.animationLimit||250;E.forEach(function(O){let V=O.plotY,H=O.graphic,F=!!H,W=H&&I.pointCount<L?"animate":"attr";g(V)&&O.y!==null?(k=O.shapeArgs,H&&O.hasNewShapeType()&&(H=H.destroy()),M.enabledDataSorting&&(O.startXPos=M.xAxis.reversed?-(k&&k.width||0):M.xAxis.width),!H&&(O.graphic=H=T[O.shapeType](k).add(O.group||M.group),H&&M.enabledDataSorting&&I.hasRendered&&I.pointCount<L&&(H.attr({x:O.startXPos}),F=!0,W="animate")),H&&F&&H[W](b(k)),I.styledMode||H[W](M.pointAttribs(O,O.selected&&"select")).shadow(O.allowShadow!==!1&&S.shadow),H&&(H.addClass(O.getClassName(),!0),H.attr({visibility:O.visible?"inherit":"hidden"}))):H&&(O.graphic=H.destroy())})}drawTracker(E=this.points){let k,M=this,I=M.chart,S=I.pointer,T=function(L){let O=S?.getPointFromEvent(L);S&&O&&M.options.enableMouseTracking&&(S.isDirectTouch=!0,O.onMouseOver(L))};E.forEach(function(L){k=h(L.dataLabels)?L.dataLabels:L.dataLabel?[L.dataLabel]:[],L.graphic&&(L.graphic.element.point=L),k.forEach(function(O){(O.div||O.element).point=L})}),M._hasTracking||(M.trackerGroups.forEach(function(L){M[L]&&(M[L].addClass("highcharts-tracker").on("mouseover",T).on("mouseout",function(O){S?.onTrackerMouseOut(O)}).on("touchstart",T),!I.styledMode&&M.options.cursor&&M[L].css({cursor:M.options.cursor}))}),M._hasTracking=!0),l(this,"afterDrawTracker")}remove(){let E=this,k=E.chart;k.hasRendered&&k.series.forEach(function(M){M.type===E.type&&(M.isDirty=!0)}),p.prototype.remove.apply(E,arguments)}}return P.defaultOptions=b(p.defaultOptions,y),m(P.prototype,{directTouch:!0,getSymbol:c,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),u.registerSeriesType("column",P),P}),s(r,"Core/Series/DataLabel.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Templating.js"],r["Core/Utilities.js"]],function(t,o,y){var i;let{getDeferredAnimation:p}=t,{format:u}=o,{defined:v,extend:x,fireEvent:w,isArray:c,isString:a,merge:d,objectEach:f,pick:m,pInt:l,splat:h}=y;return function(g){function b(){return M(this).some(S=>S?.enabled)}function _(S,T,L,O,V){let{chart:H,enabledDataSorting:F}=this,W=this.isCartesian&&H.inverted,ee=S.plotX,J=S.plotY,N=L.rotation||0,D=v(ee)&&v(J)&&H.isInsidePlot(ee,Math.round(J),{inverted:W,paneCoordinates:!0,series:this}),B=N===0&&m(L.overflow,F?"none":"justify")==="justify",Y=this.visible&&S.visible!==!1&&v(ee)&&(S.series.forceDL||F&&!B||D||m(L.inside,!!this.options.stacking)&&O&&H.isInsidePlot(ee,W?O.x+1:O.y+O.height-1,{inverted:W,paneCoordinates:!0,series:this})),G=S.pos();if(Y&&G){var q;let X=T.getBBox(),ne=T.getBBox(void 0,0),$={right:1,center:.5}[L.align||0]||0,K={bottom:1,middle:.5}[L.verticalAlign||0]||0;if(O=x({x:G[0],y:Math.round(G[1]),width:0,height:0},O||{}),L.alignTo==="plotEdges"&&this.isCartesian&&(O[W?"x":"y"]=0,O[W?"width":"height"]=this.yAxis?.len||0),x(L,{width:X.width,height:X.height}),q=O,F&&this.xAxis&&!B&&this.setDataLabelStartPos(S,T,V,D,q),T.align(d(L,{width:ne.width,height:ne.height}),!1,O,!1),T.alignAttr.x+=$*(ne.width-X.width),T.alignAttr.y+=K*(ne.height-X.height),T[T.placed?"animate":"attr"]({x:T.alignAttr.x+(X.width-ne.width)/2,y:T.alignAttr.y+(X.height-ne.height)/2,rotationOriginX:(T.width||0)/2,rotationOriginY:(T.height||0)/2}),B&&O.height>=0)this.justifyDataLabel(T,L,T.alignAttr,X,O,V);else if(m(L.crop,!0)){let{x:Q,y:Z}=T.alignAttr;Y=H.isInsidePlot(Q,Z,{paneCoordinates:!0,series:this})&&H.isInsidePlot(Q+X.width-1,Z+X.height-1,{paneCoordinates:!0,series:this})}L.shape&&!N&&T[V?"attr":"animate"]({anchorX:G[0],anchorY:G[1]})}V&&F&&(T.placed=!1),Y||F&&!B?(T.show(),T.placed=!0):(T.hide(),T.placed=!1)}function A(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function P(S){let T=this.hasRendered||0,L=this.initDataLabelsGroup().attr({opacity:+T});return!T&&L&&(this.visible&&L.show(),this.options.animation?L.animate({opacity:1},S):L.attr({opacity:1})),L}function j(S){let T;S=S||this.points;let L=this,O=L.chart,V=L.options,H=O.renderer,{backgroundColor:F,plotBackgroundColor:W}=O.options.chart,ee=H.getContrast(a(W)&&W||a(F)&&F||"#000000"),J=M(L),{animation:N,defer:D}=J[0],B=D?p(O,N,L):{defer:0,duration:0};w(this,"drawDataLabels"),L.hasDataLabels?.()&&(T=this.initDataLabels(B),S.forEach(Y=>{let G=Y.dataLabels||[];h(k(J,Y.dlOptions||Y.options?.dataLabels)).forEach((X,ne)=>{let $=X.enabled&&(Y.visible||Y.dataLabelOnHidden)&&(!Y.isNull||Y.dataLabelOnNull)&&function(ye,be){let Ce=be.filter;if(Ce){let Se=Ce.operator,ge=ye[Ce.property],_e=Ce.value;return Se===">"&&ge>_e||Se==="<"&&ge<_e||Se===">="&&ge>=_e||Se==="<="&&ge<=_e||Se==="=="&&ge==_e||Se==="==="&&ge===_e||Se==="!="&&ge!=_e||Se==="!=="&&ge!==_e}return!0}(Y,X),{backgroundColor:K,borderColor:Q,distance:Z,style:re={}}=X,ie,he,ue,fe,xe={},Ee=G[ne],ce=!Ee,me;$&&(he=m(X[Y.formatPrefix+"Format"],X.format),ie=Y.getLabelConfig(),ue=v(he)?u(he,ie,O):(X[Y.formatPrefix+"Formatter"]||X.formatter).call(ie,X),fe=X.rotation,!O.styledMode&&(re.color=m(X.color,re.color,a(L.color)?L.color:void 0,"#000000"),re.color==="contrast"?(K!=="none"&&(me=K),Y.contrastColor=H.getContrast(me!=="auto"&&me||Y.color||L.color),re.color=me||!v(Z)&&X.inside||0>l(Z||0)||V.stacking?Y.contrastColor:ee):delete Y.contrastColor,V.cursor&&(re.cursor=V.cursor)),xe={r:X.borderRadius||0,rotation:fe,padding:X.padding,zIndex:1},O.styledMode||(xe.fill=K==="auto"?Y.color:K,xe.stroke=Q==="auto"?Y.color:Q,xe["stroke-width"]=X.borderWidth),f(xe,(ye,be)=>{ye===void 0&&delete xe[be]})),!Ee||$&&v(ue)&&!!Ee.div==!!X.useHTML&&(Ee.rotation&&X.rotation||Ee.rotation===X.rotation)||(Ee=void 0,ce=!0),$&&v(ue)&&(Ee?xe.text=ue:(Ee=H.label(ue,0,0,X.shape,void 0,void 0,X.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+Y.colorIndex+" "+(X.className||"")+(X.useHTML?" highcharts-tracker":"")),Ee&&(Ee.options=X,Ee.attr(xe),O.styledMode||Ee.css(re).shadow(X.shadow),w(Ee,"beforeAddingDataLabel",{labelOptions:X,point:Y}),Ee.added||Ee.add(T),L.alignDataLabel(Y,Ee,X,void 0,ce),Ee.isActive=!0,G[ne]&&G[ne]!==Ee&&G[ne].destroy(),G[ne]=Ee))});let q=G.length;for(;q--;)G[q]&&G[q].isActive?G[q].isActive=!1:(G[q]?.destroy(),G.splice(q,1));Y.dataLabel=G[0],Y.dataLabels=G})),w(this,"afterDrawDataLabels")}function E(S,T,L,O,V,H){let F=this.chart,W=T.align,ee=T.verticalAlign,J=S.box?0:S.padding||0,N=F.inverted?this.yAxis:this.xAxis,D=N?N.left-F.plotLeft:0,B=F.inverted?this.xAxis:this.yAxis,Y=B?B.top-F.plotTop:0,{x:G=0,y:q=0}=T,X,ne;return(X=(L.x||0)+J+D)<0&&(W==="right"&&G>=0?(T.align="left",T.inside=!0):G-=X,ne=!0),(X=(L.x||0)+O.width-J+D)>F.plotWidth&&(W==="left"&&G<=0?(T.align="right",T.inside=!0):G+=F.plotWidth-X,ne=!0),(X=L.y+J+Y)<0&&(ee==="bottom"&&q>=0?(T.verticalAlign="top",T.inside=!0):q-=X,ne=!0),(X=(L.y||0)+O.height-J+Y)>F.plotHeight&&(ee==="top"&&q<=0?(T.verticalAlign="bottom",T.inside=!0):q+=F.plotHeight-X,ne=!0),ne&&(T.x=G,T.y=q,S.placed=!H,S.align(T,void 0,V)),ne}function k(S,T){let L=[],O;if(c(S)&&!c(T))L=S.map(function(V){return d(V,T)});else if(c(T)&&!c(S))L=T.map(function(V){return d(S,V)});else if(c(S)||c(T)){if(c(S)&&c(T))for(O=Math.max(S.length,T.length);O--;)L[O]=d(S[O],T[O])}else L=d(S,T);return L}function M(S){let T=S.chart.options.plotOptions;return h(k(k(T?.series?.dataLabels,T?.[S.type]?.dataLabels),S.options.dataLabels))}function I(S,T,L,O,V){let H=this.chart,F=H.inverted,W=this.xAxis,ee=W.reversed,J=((F?T.height:T.width)||0)/2,N=S.pointWidth,D=N?N/2:0;T.startXPos=F?V.x:ee?-J-D:W.width-J+D,T.startYPos=F?ee?this.yAxis.height-J+D:-J-D:V.y,O?T.visibility==="hidden"&&(T.show(),T.attr({opacity:0}).animate({opacity:1})):T.attr({opacity:1}).animate({opacity:0},void 0,T.hide),H.hasRendered&&(L&&T.attr({x:T.startXPos,y:T.startYPos}),T.placed=!0)}g.compose=function(S){let T=S.prototype;T.initDataLabels||(T.initDataLabels=P,T.initDataLabelsGroup=A,T.alignDataLabel=_,T.drawDataLabels=j,T.justifyDataLabel=E,T.setDataLabelStartPos=I,T.hasDataLabels=b)}}(i||(i={})),i}),s(r,"Series/Column/ColumnDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Globals.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(t,o,y,i){var p;let{composed:u}=o,{series:v}=y,{merge:x,pick:w,pushUnique:c}=i;return function(a){function d(f,m,l,h,g){let b=this.chart.inverted,_=f.series,A=(_.xAxis?_.xAxis.len:this.chart.plotSizeX)||0,P=(_.yAxis?_.yAxis.len:this.chart.plotSizeY)||0,j=f.dlBox||f.shapeArgs,E=w(f.below,f.plotY>w(this.translatedThreshold,P)),k=w(l.inside,!!this.options.stacking);if(j){if(h=x(j),!(l.overflow==="allow"&&l.crop===!1)){h.y<0&&(h.height+=h.y,h.y=0);let M=h.y+h.height-P;M>0&&M<h.height-1&&(h.height-=M)}b&&(h={x:P-h.y-h.height,y:A-h.x-h.width,width:h.height,height:h.width}),k||(b?(h.x+=E?0:h.width,h.width=0):(h.y+=E?h.height:0,h.height=0))}l.align=w(l.align,!b||k?"center":E?"right":"left"),l.verticalAlign=w(l.verticalAlign,b||k?"middle":E?"top":"bottom"),v.prototype.alignDataLabel.call(this,f,m,l,h,g),l.inside&&f.contrastColor&&m.css({color:f.contrastColor})}a.compose=function(f){t.compose(v),c(u,"ColumnDataLabel")&&(f.prototype.alignDataLabel=d)}}(p||(p={})),p}),s(r,"Series/Bar/BarSeries.js",[r["Series/Column/ColumnSeries.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(t,o,y){let{extend:i,merge:p}=y;class u extends t{}return u.defaultOptions=p(t.defaultOptions,{}),i(u.prototype,{inverted:!0}),o.registerSeriesType("bar",u),u}),s(r,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25CF</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),s(r,"Series/Scatter/ScatterSeries.js",[r["Series/Scatter/ScatterSeriesDefaults.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(t,o,y){let{column:i,line:p}=o.seriesTypes,{addEvent:u,extend:v,merge:x}=y;class w extends p{applyJitter(){let a=this,d=this.options.jitter,f=this.points.length;d&&this.points.forEach(function(m,l){["x","y"].forEach(function(h,g){if(d[h]&&!m.isNull){let b=`plot${h.toUpperCase()}`,_=a[`${h}Axis`],A=d[h]*_.transA;if(_&&!_.logarithmic){let P=Math.max(0,(m[b]||0)-A),j=Math.min(_.len,(m[b]||0)+A);m[b]=P+(j-P)*function(E){let k=1e4*Math.sin(E);return k-Math.floor(k)}(l+g*f),h==="x"&&(m.clientX=m.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return w.defaultOptions=x(p.defaultOptions,t),v(w.prototype,{drawTracker:i.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),u(w,"afterTranslate",function(){this.applyJitter()}),o.registerSeriesType("scatter",w),w}),s(r,"Series/CenteredUtilities.js",[r["Core/Globals.js"],r["Core/Series/Series.js"],r["Core/Utilities.js"]],function(t,o,y){var i,p;let{deg2rad:u}=t,{fireEvent:v,isNumber:x,pick:w,relativeLength:c}=y;return(p=i||(i={})).getCenter=function(){let a=this.options,d=this.chart,f=2*(a.slicedOffset||0),m=d.plotWidth-2*f,l=d.plotHeight-2*f,h=a.center,g=Math.min(m,l),b=a.thickness,_,A=a.size,P=a.innerSize||0,j,E;typeof A=="string"&&(A=parseFloat(A)),typeof P=="string"&&(P=parseFloat(P));let k=[w(h[0],"50%"),w(h[1],"50%"),w(A&&A<0?void 0:a.size,"100%"),w(P&&P<0?void 0:a.innerSize||0,"0%")];for(!d.angular||this instanceof o||(k[3]=0),j=0;j<4;++j)E=k[j],_=j<2||j===2&&/%$/.test(E),k[j]=c(E,[m,l,g,k[2]][j])+(_?f:0);return k[3]>k[2]&&(k[3]=k[2]),x(b)&&2*b<k[2]&&b>0&&(k[3]=k[2]-2*b),v(this,"afterGetCenter",{positions:k}),k},p.getStartAndEndRadians=function(a,d){let f=x(a)?a:0,m=x(d)&&d>f&&d-f<360?d:f+360;return{start:u*(f+-90),end:u*(m+-90)}},i}),s(r,"Series/Pie/PiePoint.js",[r["Core/Animation/AnimationUtilities.js"],r["Core/Series/Point.js"],r["Core/Utilities.js"]],function(t,o,y){let{setAnimation:i}=t,{addEvent:p,defined:u,extend:v,isNumber:x,pick:w,relativeLength:c}=y;class a extends o{getConnectorPath(f){let m=f.dataLabelPosition,l=f.options||{},h=l.connectorShape,g=this.connectorShapes[h]||h;return m&&g.call(this,St(Qe({},m.computed),{alignment:m.alignment}),m.connectorPosition,l)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(f){let m=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(m.x,m.y,m.r+f,m.r+f,{innerR:m.r-1,start:m.start,end:m.end,borderRadius:m.borderRadius})}constructor(f,m,l){super(f,m,l),this.half=0,this.name??(this.name="Slice");let h=g=>{this.slice(g.type==="select")};p(this,"select",h),p(this,"unselect",h)}isValid(){return x(this.y)&&this.y>=0}setVisible(f,m=!0){f!==this.visible&&this.update({visible:f??!this.visible},m,void 0,!1)}slice(f,m,l){let h=this.series;i(l,h.chart),m=w(m,!0),this.sliced=this.options.sliced=f=u(f)?f:!this.sliced,h.options.data[h.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return v(a.prototype,{connectorShapes:{fixedOffset:function(d,f,m){let l=f.breakAt,h=f.touchingSliceAt,g=m.softConnector?["C",d.x+(d.alignment==="left"?-5:5),d.y,2*l.x-h.x,2*l.y-h.y,l.x,l.y]:["L",l.x,l.y];return[["M",d.x,d.y],g,["L",h.x,h.y]]},straight:function(d,f){let m=f.touchingSliceAt;return[["M",d.x,d.y],["L",m.x,m.y]]},crookedLine:function(d,f,m){let{breakAt:l,touchingSliceAt:h}=f,{series:g}=this,[b,_,A]=g.center,P=A/2,{plotLeft:j,plotWidth:E}=g.chart,k=d.alignment==="left",{x:M,y:I}=d,S=l.x;if(m.crookDistance){let L=c(m.crookDistance,1);S=k?b+P+(E+j-b-P)*(1-L):j+(b-P)*L}else S=b+(_-I)*Math.tan((this.angle||0)-Math.PI/2);let T=[["M",M,I]];return(k?S<=M&&S>=l.x:S>=M&&S<=l.x)&&T.push(["L",S,I]),T.push(["L",l.x,l.y],["L",h.x,h.y]),T}}}),a}),s(r,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),s(r,"Series/Pie/PieSeries.js",[r["Series/CenteredUtilities.js"],r["Series/Column/ColumnSeries.js"],r["Core/Globals.js"],r["Series/Pie/PiePoint.js"],r["Series/Pie/PieSeriesDefaults.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Renderer/SVG/Symbols.js"],r["Core/Utilities.js"]],function(t,o,y,i,p,u,v,x,w){let{getStartAndEndRadians:c}=t,{noop:a}=y,{clamp:d,extend:f,fireEvent:m,merge:l,pick:h}=w;class g extends u{animate(_){let A=this,P=A.points,j=A.startAngleRad;_||P.forEach(function(E){let k=E.graphic,M=E.shapeArgs;k&&M&&(k.attr({r:h(E.startR,A.center&&A.center[3]/2),start:j,end:j}),k.animate({r:M.r,start:M.start,end:M.end},A.options.animation))})}drawEmpty(){let _,A,P=this.startAngleRad,j=this.endAngleRad,E=this.options;this.total===0&&this.center?(_=this.center[0],A=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(_,A,this.center[1]/2,0,P,j).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:x.arc(_,A,this.center[2]/2,0,{start:P,end:j,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":E.borderWidth,fill:E.fillColor||"none",stroke:E.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let _=this.chart.renderer;this.points.forEach(function(A){A.graphic&&A.hasNewShapeType()&&(A.graphic=A.graphic.destroy()),A.graphic||(A.graphic=_[A.shapeType](A.shapeArgs).add(A.series.group),A.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(_,A,P,j){let E=this.center,k=this.radii?this.radii[P.index]||0:E[2]/2,M=j.dataLabelPosition,I=M?.distance||0,S=Math.asin(d((_-E[1])/(k+I),-1,1));return E[0]+Math.cos(S)*(k+I)*(A?-1:1)+(I>0?(A?-1:1)*(j.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let _,A,P,j,E=this,k=E.chart;this.drawEmpty(),E.group&&!k.styledMode&&E.group.shadow(E.options.shadow),E.points.forEach(function(M){let I={};A=M.graphic,!M.isNull&&A?(j=M.shapeArgs,_=M.getTranslate(),k.styledMode||(P=E.pointAttribs(M,M.selected&&"select")),M.delayedRendering?(A.setRadialReference(E.center).attr(j).attr(_),k.styledMode||A.attr(P).attr({"stroke-linejoin":"round"}),M.delayedRendering=!1):(A.setRadialReference(E.center),k.styledMode||l(!0,I,P),l(!0,I,j,_),A.animate(I)),A.attr({visibility:M.visible?"inherit":"hidden"}),A.addClass(M.getClassName(),!0)):A&&(M.graphic=A.destroy())})}sortByAngle(_,A){_.sort(function(P,j){return P.angle!==void 0&&(j.angle-P.angle)*A})}translate(_){m(this,"translate"),this.generatePoints();let A=this.options,P=A.slicedOffset,j=c(A.startAngle,A.endAngle),E=this.startAngleRad=j.start,k=(this.endAngleRad=j.end)-E,M=this.points,I=A.ignoreHiddenPoint,S=M.length,T,L,O,V,H,F,W,ee=0;for(_||(this.center=_=this.getCenter()),F=0;F<S;F++){W=M[F],T=E+ee*k,W.isValid()&&(!I||W.visible)&&(ee+=W.percentage/100),L=E+ee*k;let J={x:_[0],y:_[1],r:_[2]/2,innerR:_[3]/2,start:Math.round(1e3*T)/1e3,end:Math.round(1e3*L)/1e3};W.shapeType="arc",W.shapeArgs=J,(O=(L+T)/2)>1.5*Math.PI?O-=2*Math.PI:O<-Math.PI/2&&(O+=2*Math.PI),W.slicedTranslation={translateX:Math.round(Math.cos(O)*P),translateY:Math.round(Math.sin(O)*P)},V=Math.cos(O)*_[2]/2,H=Math.sin(O)*_[2]/2,W.tooltipPos=[_[0]+.7*V,_[1]+.7*H],W.half=O<-Math.PI/2||O>Math.PI/2?1:0,W.angle=O}m(this,"afterTranslate")}updateTotals(){let _=this.points,A=_.length,P=this.options.ignoreHiddenPoint,j,E,k=0;for(j=0;j<A;j++)(E=_[j]).isValid()&&(!P||E.visible)&&(k+=E.y);for(j=0,this.total=k;j<A;j++)(E=_[j]).percentage=k>0&&(E.visible||!P)?E.y/k*100:0,E.total=k}}return g.defaultOptions=l(u.defaultOptions,p),f(g.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:o.prototype.drawTracker,getCenter:t.getCenter,getSymbol:a,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:o.prototype.pointAttribs,pointClass:i,requireSorting:!1,searchPoint:a,trackerGroups:["group","dataLabelsGroup"]}),v.registerSeriesType("pie",g),g}),s(r,"Series/Pie/PieDataLabel.js",[r["Core/Series/DataLabel.js"],r["Core/Globals.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Series/SeriesRegistry.js"],r["Core/Utilities.js"]],function(t,o,y,i,p){var u;let{composed:v,noop:x}=o,{distribute:w}=y,{series:c}=i,{arrayMax:a,clamp:d,defined:f,pick:m,pushUnique:l,relativeLength:h}=p;return function(g){let b={radialDistributionY:function(E,k){return(k.dataLabelPosition?.top||0)+E.distributeBox.pos},radialDistributionX:function(E,k,M,I,S){let T=S.dataLabelPosition;return E.getX(M<(T?.top||0)+2||M>(T?.bottom||0)-2?I:M,k.half,k,S)},justify:function(E,k,M,I){return I[0]+(E.half?-1:1)*(M+(k.dataLabelPosition?.distance||0))},alignToPlotEdges:function(E,k,M,I){let S=E.getBBox().width;return k?S+I:M-S-I},alignToConnectors:function(E,k,M,I){let S=0,T;return E.forEach(function(L){(T=L.dataLabel.getBBox().width)>S&&(S=T)}),k?S+I:M-S-I}};function _(E,k){let{center:M,options:I}=this,S=M[2]/2,T=E.angle||0,L=Math.cos(T),O=Math.sin(T),V=M[0]+L*S,H=M[1]+O*S,F=Math.min((I.slicedOffset||0)+(I.borderWidth||0),k/5);return{natural:{x:V+L*k,y:H+O*k},computed:{},alignment:k<0?"center":E.half?"right":"left",connectorPosition:{breakAt:{x:V+L*F,y:H+O*F},touchingSliceAt:{x:V,y:H}},distance:k}}function A(){let E=this,k=E.points,M=E.chart,I=M.plotWidth,S=M.plotHeight,T=M.plotLeft,L=Math.round(M.chartWidth/3),O=E.center,V=O[2]/2,H=O[1],F=[[],[]],W=[0,0,0,0],ee=E.dataLabelPositioners,J,N,D,B=0;E.visible&&E.hasDataLabels?.()&&(k.forEach(Y=>{(Y.dataLabels||[]).forEach(G=>{G.shortened&&(G.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),G.shortened=!1)})}),c.prototype.drawDataLabels.apply(E),k.forEach(Y=>{(Y.dataLabels||[]).forEach((G,q)=>{let X=O[2]/2,ne=G.options,$=h(ne?.distance||0,X);q===0&&F[Y.half].push(Y),!f(ne?.style?.width)&&G.getBBox().width>L&&(G.css({width:Math.round(.7*L)+"px"}),G.shortened=!0),G.dataLabelPosition=this.getDataLabelPosition(Y,$),B=Math.max(B,$)})}),F.forEach((Y,G)=>{let q=Y.length,X=[],ne,$,K=0,Q;q&&(E.sortByAngle(Y,G-.5),B>0&&(ne=Math.max(0,H-V-B),$=Math.min(H+V+B,M.plotHeight),Y.forEach(Z=>{(Z.dataLabels||[]).forEach(re=>{let ie=re.dataLabelPosition;ie&&ie.distance>0&&(ie.top=Math.max(0,H-V-ie.distance),ie.bottom=Math.min(H+V+ie.distance,M.plotHeight),K=re.getBBox().height||21,re.lineHeight=M.renderer.fontMetrics(re.text||re).h+2*re.padding,Z.distributeBox={target:(re.dataLabelPosition?.natural.y||0)-ie.top+re.lineHeight/2,size:K,rank:Z.y},X.push(Z.distributeBox))})}),w(X,Q=$+K-ne,Q/5)),Y.forEach(Z=>{(Z.dataLabels||[]).forEach(re=>{let ie=re.options||{},he=Z.distributeBox,ue=re.dataLabelPosition,fe=ue?.natural.y||0,xe=ie.connectorPadding||0,Ee=re.lineHeight||21,ce=(Ee-re.getBBox().height)/2,me=0,ye=fe,be="inherit";if(ue){if(X&&f(he)&&ue.distance>0&&(he.pos===void 0?be="hidden":(D=he.size,ye=ee.radialDistributionY(Z,re))),ie.justify)me=ee.justify(Z,re,V,O);else switch(ie.alignTo){case"connectors":me=ee.alignToConnectors(Y,G,I,T);break;case"plotEdges":me=ee.alignToPlotEdges(re,G,I,T);break;default:me=ee.radialDistributionX(E,Z,ye-ce,fe,re)}if(ue.attribs={visibility:be,align:ue.alignment},ue.posAttribs={x:me+(ie.x||0)+({left:xe,right:-xe}[ue.alignment]||0),y:ye+(ie.y||0)-Ee/2},ue.computed.x=me,ue.computed.y=ye-ce,m(ie.crop,!0)){let Ce;me-(N=re.getBBox().width)<xe&&G===1?(Ce=Math.round(N-me+xe),W[3]=Math.max(Ce,W[3])):me+N>I-xe&&G===0&&(Ce=Math.round(me+N-I+xe),W[1]=Math.max(Ce,W[1])),ye-D/2<0?W[0]=Math.max(Math.round(-ye+D/2),W[0]):ye+D/2>S&&(W[2]=Math.max(Math.round(ye+D/2-S),W[2])),ue.sideOverflow=Ce}}})}))}),(a(W)===0||this.verifyDataLabelOverflow(W))&&(this.placeDataLabels(),this.points.forEach(Y=>{(Y.dataLabels||[]).forEach(G=>{let{connectorColor:q,connectorWidth:X=1}=G.options||{},ne=G.dataLabelPosition;if(X){let $;J=G.connector,ne&&ne.distance>0?($=!J,J||(G.connector=J=M.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+Y.colorIndex+(Y.className?" "+Y.className:"")).add(E.dataLabelsGroup)),M.styledMode||J.attr({"stroke-width":X,stroke:q||Y.color||"#666666"}),J[$?"attr":"animate"]({d:Y.getConnectorPath(G)}),J.attr({visibility:ne.attribs?.visibility})):J&&(G.connector=J.destroy())}})})))}function P(){this.points.forEach(E=>{(E.dataLabels||[]).forEach(k=>{let M=k.dataLabelPosition;M?(M.sideOverflow&&(k.css({width:Math.max(k.getBBox().width-M.sideOverflow,0)+"px",textOverflow:(k.options?.style||{}).textOverflow||"ellipsis"}),k.shortened=!0),k.attr(M.attribs),k[k.moved?"animate":"attr"](M.posAttribs),k.moved=!0):k&&k.attr({y:-9999})}),delete E.distributeBox},this)}function j(E){let k=this.center,M=this.options,I=M.center,S=M.minSize||80,T=S,L=M.size!==null;return!L&&(I[0]!==null?T=Math.max(k[2]-Math.max(E[1],E[3]),S):(T=Math.max(k[2]-E[1]-E[3],S),k[0]+=(E[3]-E[1])/2),I[1]!==null?T=d(T,S,k[2]-Math.max(E[0],E[2])):(T=d(T,S,k[2]-E[0]-E[2]),k[1]+=(E[0]-E[2])/2),T<k[2]?(k[2]=T,k[3]=Math.min(M.thickness?Math.max(0,T-2*M.thickness):Math.max(0,h(M.innerSize||0,T)),T),this.translate(k),this.drawDataLabels&&this.drawDataLabels()):L=!0),L}g.compose=function(E){if(t.compose(c),l(v,"PieDataLabel")){let k=E.prototype;k.dataLabelPositioners=b,k.alignDataLabel=x,k.drawDataLabels=A,k.getDataLabelPosition=_,k.placeDataLabels=P,k.verifyDataLabelOverflow=j}}}(u||(u={})),u}),s(r,"Core/Geometry/GeometryUtilities.js",[],function(){var t,o;return(o=t||(t={})).getCenterOfPoints=function(y){let i=y.reduce((p,u)=>(p.x+=u.x,p.y+=u.y,p),{x:0,y:0});return{x:i.x/y.length,y:i.y/y.length}},o.getDistanceBetweenPoints=function(y,i){return Math.sqrt(Math.pow(i.x-y.x,2)+Math.pow(i.y-y.y,2))},o.getAngleBetweenPoints=function(y,i){return Math.atan2(i.x-y.x,i.y-y.y)},o.pointInPolygon=function({x:y,y:i},p){let u=p.length,v,x,w=!1;for(v=0,x=u-1;v<u;x=v++){let[c,a]=p[v],[d,f]=p[x];a>i!=f>i&&y<(d-c)*(i-a)/(f-a)+c&&(w=!w)}return w},t}),s(r,"Extensions/OverlappingDataLabels.js",[r["Core/Geometry/GeometryUtilities.js"],r["Core/Utilities.js"]],function(t,o){let{pointInPolygon:y}=t,{addEvent:i,fireEvent:p,objectEach:u,pick:v}=o;function x(a){let d=a.length,f=(P,j)=>!(j.x>=P.x+P.width||j.x+j.width<=P.x||j.y>=P.y+P.height||j.y+j.height<=P.y),m=(P,j)=>{for(let E of P)if(y({x:E[0],y:E[1]},j))return!0;return!1},l,h,g,b,_,A=!1;for(let P=0;P<d;P++)(l=a[P])&&(l.oldOpacity=l.opacity,l.newOpacity=1,l.absoluteBox=function(j){if(j&&(!j.alignAttr||j.placed)){let E=j.box?0:j.padding||0,k=j.alignAttr||{x:j.attr("x"),y:j.attr("y")},M=j.getBBox();return j.width=M.width,j.height=M.height,{x:k.x+(j.parentGroup?.translateX||0)+E,y:k.y+(j.parentGroup?.translateY||0)+E,width:(j.width||0)-2*E,height:(j.height||0)-2*E,polygon:M?.polygon}}}(l));a.sort((P,j)=>(j.labelrank||0)-(P.labelrank||0));for(let P=0;P<d;++P){b=(h=a[P])&&h.absoluteBox;let j=b?.polygon;for(let E=P+1;E<d;++E){_=(g=a[E])&&g.absoluteBox;let k=!1;if(b&&_&&h!==g&&h.newOpacity!==0&&g.newOpacity!==0&&h.visibility!=="hidden"&&g.visibility!=="hidden"){let M=_.polygon;if(j&&M&&j!==M?m(j,M)&&(k=!0):f(b,_)&&(k=!0),k){let I=h.labelrank<g.labelrank?h:g,S=I.text;I.newOpacity=0,S?.element.querySelector("textPath")&&S.hide()}}}}for(let P of a)w(P,this)&&(A=!0);A&&p(this,"afterHideAllOverlappingLabels")}function w(a,d){let f,m,l=!1;return a&&(m=a.newOpacity,a.oldOpacity!==m&&(a.hasClass("highcharts-data-label")?(a[m?"removeClass":"addClass"]("highcharts-data-label-hidden"),f=function(){d.styledMode||a.css({pointerEvents:m?"auto":"none"})},l=!0,a[a.isOld?"animate":"attr"]({opacity:m},void 0,f),p(d,"afterHideOverlappingLabel")):a.attr({opacity:m})),a.isOld=!0),l}function c(){let a=this,d=[];for(let f of a.labelCollectors||[])d=d.concat(f());for(let f of a.yAxis||[])f.stacking&&f.options.stackLabels&&!f.options.stackLabels.allowOverlap&&u(f.stacking.stacks,m=>{u(m,l=>{l.label&&d.push(l.label)})});for(let f of a.series||[])if(f.visible&&f.hasDataLabels?.()){let m=l=>{for(let h of l)h.visible&&(h.dataLabels||[]).forEach(g=>{let b=g.options||{};g.labelrank=v(b.labelrank,h.labelrank,h.shapeArgs?.height),b.allowOverlap??Number(b.distance)>0?(g.oldOpacity=g.opacity,g.newOpacity=1,w(g,a)):d.push(g)})};m(f.nodes||[]),m(f.points)}this.hideOverlappingLabels(d)}return{compose:function(a){let d=a.prototype;d.hideOverlappingLabels||(d.hideOverlappingLabels=x,i(a,"render",c))}}}),s(r,"Extensions/BorderRadius.js",[r["Core/Defaults.js"],r["Core/Globals.js"],r["Core/Utilities.js"]],function(t,o,y){let{defaultOptions:i}=t,{noop:p}=o,{addEvent:u,extend:v,isObject:x,merge:w,relativeLength:c}=y,a={radius:0,scope:"stack",where:void 0},d=p,f=p;function m(_,A,P,j,E={}){let k=d(_,A,P,j,E),{innerR:M=0,r:I=P,start:S=0,end:T=0}=E;if(E.open||!E.borderRadius)return k;let L=T-S,O=Math.sin(L/2),V=Math.max(Math.min(c(E.borderRadius||0,I-M),(I-M)/2,I*O/(1+O)),0),H=Math.min(V,L/Math.PI*2*M),F=k.length-1;for(;F--;)(function(W,ee,J){let N,D,B,Y=W[ee],G=W[ee+1];if(G[0]==="Z"&&(G=W[0]),(Y[0]==="M"||Y[0]==="L")&&G[0]==="A"?(N=Y,D=G,B=!0):Y[0]==="A"&&(G[0]==="M"||G[0]==="L")&&(N=G,D=Y),N&&D&&D.params){let q=D[1],X=D[5],ne=D.params,{start:$,end:K,cx:Q,cy:Z}=ne,re=X?q-J:q+J,ie=re?Math.asin(J/re):0,he=X?ie:-ie,ue=Math.cos(ie)*re;B?(ne.start=$+he,N[1]=Q+ue*Math.cos($),N[2]=Z+ue*Math.sin($),W.splice(ee+1,0,["A",J,J,0,0,1,Q+q*Math.cos(ne.start),Z+q*Math.sin(ne.start)])):(ne.end=K-he,D[6]=Q+q*Math.cos(ne.end),D[7]=Z+q*Math.sin(ne.end),W.splice(ee+1,0,["A",J,J,0,0,1,Q+ue*Math.cos(K),Z+ue*Math.sin(K)])),D[4]=Math.abs(ne.end-ne.start)<Math.PI?0:1}})(k,F,F>1?H:V);return k}function l(){if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:_,yAxis:A}=this,P=_.stacking==="percent",j=i.plotOptions?.[this.type]?.borderRadius,E=h(_.borderRadius,x(j)?j:{}),k=A.options.reversed;for(let M of this.points){let{shapeArgs:I}=M;if(M.shapeType==="roundedRect"&&I){let{width:S=0,height:T=0,y:L=0}=I,O=L,V=T;if(E.scope==="stack"&&M.stackTotal){let ee=A.translate(P?100:M.stackTotal,!1,!0,!1,!0),J=A.translate(_.threshold||0,!1,!0,!1,!0),N=this.crispCol(0,Math.min(ee,J),0,Math.abs(ee-J));O=N.y,V=N.height}let H=(M.negative?-1:1)*(k?-1:1)==-1,F=E.where;!F&&this.is("waterfall")&&Math.abs((M.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(F="all"),F||(F="end");let W=Math.min(c(E.radius,S),S/2,F==="all"?T/2:1/0)||0;F==="end"&&(H&&(O-=W),V+=W),v(I,{brBoxHeight:V,brBoxY:O,r:W})}}}}function h(_,A){return x(_)||(_={radius:_||0}),w(a,A,_)}function g(){let _=h(this.options.borderRadius);for(let A of this.points){let P=A.shapeArgs;P&&(P.borderRadius=c(_.radius,(P.r||0)-(P.innerR||0)))}}function b(_,A,P,j,E={}){let k=f(_,A,P,j,E),{r:M=0,brBoxHeight:I=j,brBoxY:S=A}=E,T=A-S,L=S+I-(A+j),O=T-M>-.1?0:M,V=L-M>-.1?0:M,H=Math.max(O&&T,0),F=Math.max(V&&L,0),W=[_+O,A],ee=[_+P-O,A],J=[_+P,A+O],N=[_+P,A+j-V],D=[_+P-V,A+j],B=[_+V,A+j],Y=[_,A+j-V],G=[_,A+O],q=(X,ne)=>Math.sqrt(Math.pow(X,2)-Math.pow(ne,2));if(H){let X=q(O,O-H);W[0]-=X,ee[0]+=X,J[1]=G[1]=A+O-H}if(j<O-H){let X=q(O,O-H-j);J[0]=N[0]=_+P-O+X,D[0]=Math.min(J[0],D[0]),B[0]=Math.max(N[0],B[0]),Y[0]=G[0]=_+O-X,J[1]=G[1]=A+j}if(F){let X=q(V,V-F);D[0]+=X,B[0]-=X,N[1]=Y[1]=A+j-V+F}if(j<V-F){let X=q(V,V-F-j);J[0]=N[0]=_+P-V+X,ee[0]=Math.min(J[0],ee[0]),W[0]=Math.max(N[0],W[0]),Y[0]=G[0]=_+V-X,N[1]=Y[1]=A}return k.length=0,k.push(["M",...W],["L",...ee],["A",O,O,0,0,1,...J],["L",...N],["A",V,V,0,0,1,...D],["L",...B],["A",V,V,0,0,1,...Y],["L",...G],["A",O,O,0,0,1,...W],["Z"]),k}return{compose:function(_,A,P){let j=_.types.pie;if(!A.symbolCustomAttribs.includes("borderRadius")){let E=P.prototype.symbols;u(_,"afterColumnTranslate",l,{order:9}),u(j,"afterTranslate",g),A.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),d=E.arc,f=E.roundedRect,E.arc=m,E.roundedRect=b}},optionsToObject:h}}),s(r,"Core/Responsive.js",[r["Core/Utilities.js"]],function(t){var o;let{diffObjects:y,extend:i,find:p,merge:u,pick:v,uniqueKey:x}=t;return function(w){function c(d,f){let m=d.condition;(m.callback||function(){return this.chartWidth<=v(m.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=v(m.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=v(m.minWidth,0)&&this.chartHeight>=v(m.minHeight,0)}).call(this)&&f.push(d._id)}function a(d,f){let m=this.options.responsive,l=this.currentResponsive,h=[],g;!f&&m&&m.rules&&m.rules.forEach(A=>{A._id===void 0&&(A._id=x()),this.matchResponsiveRule(A,h)},this);let b=u(...h.map(A=>p((m||{}).rules||[],P=>P._id===A)).map(A=>A&&A.chartOptions));b.isResponsiveOptions=!0,h=h.toString()||void 0;let _=l&&l.ruleIds;h===_||(l&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(l.undoOptions,d,!0),this.updatingResponsive=!1),h?((g=y(b,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:h,mergedOptions:b,undoOptions:g},this.updatingResponsive||this.update(b,d,!0)):this.currentResponsive=void 0)}w.compose=function(d){let f=d.prototype;return f.matchResponsiveRule||i(f,{matchResponsiveRule:c,setResponsive:a}),d}}(o||(o={})),o}),s(r,"masters/highcharts.src.js",[r["Core/Globals.js"],r["Core/Utilities.js"],r["Core/Defaults.js"],r["Core/Animation/Fx.js"],r["Core/Animation/AnimationUtilities.js"],r["Core/Renderer/HTML/AST.js"],r["Core/Templating.js"],r["Core/Renderer/RendererRegistry.js"],r["Core/Renderer/RendererUtilities.js"],r["Core/Renderer/SVG/SVGElement.js"],r["Core/Renderer/SVG/SVGRenderer.js"],r["Core/Renderer/HTML/HTMLElement.js"],r["Core/Axis/Axis.js"],r["Core/Axis/DateTimeAxis.js"],r["Core/Axis/LogarithmicAxis.js"],r["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],r["Core/Axis/Tick.js"],r["Core/Tooltip.js"],r["Core/Series/Point.js"],r["Core/Pointer.js"],r["Core/Legend/Legend.js"],r["Core/Legend/LegendSymbol.js"],r["Core/Chart/Chart.js"],r["Extensions/ScrollablePlotArea.js"],r["Core/Axis/Stacking/StackingAxis.js"],r["Core/Axis/Stacking/StackItem.js"],r["Core/Series/Series.js"],r["Core/Series/SeriesRegistry.js"],r["Series/Column/ColumnDataLabel.js"],r["Series/Pie/PieDataLabel.js"],r["Core/Series/DataLabel.js"],r["Extensions/OverlappingDataLabels.js"],r["Extensions/BorderRadius.js"],r["Core/Responsive.js"],r["Core/Color/Color.js"],r["Core/Time.js"]],function(t,o,y,i,p,u,v,x,w,c,a,d,f,m,l,h,g,b,_,A,P,j,E,k,M,I,S,T,L,O,V,H,F,W,ee,J){return t.AST=u,t.Axis=f,t.Chart=E,t.Color=ee,t.DataLabel=V,t.Fx=i,t.HTMLElement=d,t.Legend=P,t.LegendSymbol=j,t.OverlappingDataLabels=t.OverlappingDataLabels||H,t.PlotLineOrBand=h,t.Point=_,t.Pointer=A,t.RendererRegistry=x,t.Series=S,t.SeriesRegistry=T,t.StackItem=I,t.SVGElement=c,t.SVGRenderer=a,t.Templating=v,t.Tick=g,t.Time=J,t.Tooltip=b,t.animate=p.animate,t.animObject=p.animObject,t.chart=E.chart,t.color=ee.parse,t.dateFormat=v.dateFormat,t.defaultOptions=y.defaultOptions,t.distribute=w.distribute,t.format=v.format,t.getDeferredAnimation=p.getDeferredAnimation,t.getOptions=y.getOptions,t.numberFormat=v.numberFormat,t.seriesType=T.seriesType,t.setAnimation=p.setAnimation,t.setOptions=y.setOptions,t.stop=p.stop,t.time=y.defaultTime,t.timers=i.timers,F.compose(t.Series,t.SVGElement,t.SVGRenderer),L.compose(t.Series.types.column),V.compose(t.Series),m.compose(t.Axis),d.compose(t.SVGRenderer),P.compose(t.Chart),l.compose(t.Axis),H.compose(t.Chart),O.compose(t.Series.types.pie),h.compose(t.Axis),A.compose(t.Chart),W.compose(t.Chart),k.compose(t.Axis,t.Chart,t.Series),M.compose(t.Axis,t.Chart,t.Series),b.compose(t.Pointer),o.extend(t,o),t}),r["masters/highcharts.src.js"]._modules=r,r["masters/highcharts.src.js"]})});function Tf(n,r){return Object.is(n,r)}var cr=null,Zs=!1,Qs=1,En=Symbol("SIGNAL");function kt(n){let r=cr;return cr=n,r}function If(){return cr}var Wo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yu(n){if(Zs)throw new Error("");if(cr===null)return;cr.consumerOnSignalRead(n);let r=cr.nextProducerIndex++;if(ta(cr),r<cr.producerNode.length&&cr.producerNode[r]!==n&&zo(cr)){let s=cr.producerNode[r];ea(s,cr.producerIndexOfThis[r])}cr.producerNode[r]!==n&&(cr.producerNode[r]=n,cr.producerIndexOfThis[r]=zo(cr)?Pf(n,cr,r):0),cr.producerLastReadVersion[r]=n.version}function b0(){Qs++}function Af(n){if(!(zo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Qs)){if(!n.producerMustRecompute(n)&&!bu(n)){n.dirty=!1,n.lastCleanEpoch=Qs;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Qs}}function kf(n){if(n.liveConsumerNode===void 0)return;let r=Zs;Zs=!0;try{for(let s of n.liveConsumerNode)s.dirty||x0(s)}finally{Zs=r}}function Of(){return cr?.consumerAllowSignalWrites!==!1}function x0(n){n.dirty=!0,kf(n),n.consumerMarkedDirty?.(n)}function Js(n){return n&&(n.nextProducerIndex=0),kt(n)}function vu(n,r){if(kt(r),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(zo(n))for(let s=n.nextProducerIndex;s<n.producerNode.length;s++)ea(n.producerNode[s],n.producerIndexOfThis[s]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function bu(n){ta(n);for(let r=0;r<n.producerNode.length;r++){let s=n.producerNode[r],t=n.producerLastReadVersion[r];if(t!==s.version||(Af(s),t!==s.version))return!0}return!1}function xu(n){if(ta(n),zo(n))for(let r=0;r<n.producerNode.length;r++)ea(n.producerNode[r],n.producerIndexOfThis[r]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Pf(n,r,s){if(Rf(n),n.liveConsumerNode.length===0&&Lf(n))for(let t=0;t<n.producerNode.length;t++)n.producerIndexOfThis[t]=Pf(n.producerNode[t],n,t);return n.liveConsumerIndexOfThis.push(s),n.liveConsumerNode.push(r)-1}function ea(n,r){if(Rf(n),n.liveConsumerNode.length===1&&Lf(n))for(let t=0;t<n.producerNode.length;t++)ea(n.producerNode[t],n.producerIndexOfThis[t]);let s=n.liveConsumerNode.length-1;if(n.liveConsumerNode[r]=n.liveConsumerNode[s],n.liveConsumerIndexOfThis[r]=n.liveConsumerIndexOfThis[s],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,r<n.liveConsumerNode.length){let t=n.liveConsumerIndexOfThis[r],o=n.liveConsumerNode[r];ta(o),o.producerIndexOfThis[t]=r}}function zo(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ta(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Rf(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Lf(n){return n.producerNode!==void 0}function Nf(n){let r=Object.create(w0);r.computation=n;let s=()=>{if(Af(r),yu(r),r.value===Ks)throw r.error;return r.value};return s[En]=r,s}var mu=Symbol("UNSET"),gu=Symbol("COMPUTING"),Ks=Symbol("ERRORED"),w0=St(Qe({},Wo),{value:mu,dirty:!0,error:null,equal:Tf,producerMustRecompute(n){return n.value===mu||n.value===gu},producerRecomputeValue(n){if(n.value===gu)throw new Error("Detected cycle in computations.");let r=n.value;n.value=gu;let s=Js(n),t;try{t=n.computation()}catch(o){t=Ks,n.error=o}finally{vu(n,s)}if(r!==mu&&r!==Ks&&t!==Ks&&n.equal(r,t)){n.value=r;return}n.value=t,n.version++}});function _0(){throw new Error}var Ff=_0;function Bf(){Ff()}function Uf(n){Ff=n}var S0=null;function Vf(n){let r=Object.create(Hf);r.value=n;let s=()=>(yu(r),r.value);return s[En]=r,s}function wu(n,r){Of()||Bf(),n.equal(n.value,r)||(n.value=r,C0(n))}function Gf(n,r){Of()||Bf(),wu(n,r(n.value))}var Hf=St(Qe({},Wo),{equal:Tf,value:void 0});function C0(n){n.version++,b0(),kf(n),S0?.()}function lt(n){return typeof n=="function"}function Hi(n){let s=n(t=>{Error.call(t),t.stack=new Error().stack});return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}var ra=Hi(n=>function(s){n(this),this.message=s?`${s.length} errors occurred during unsubscription:
${s.map((t,o)=>`${o+1}) ${t.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=s});function $o(n,r){if(n){let s=n.indexOf(r);0<=s&&n.splice(s,1)}}var lr=class n{constructor(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let r;if(!this.closed){this.closed=!0;let{_parentage:s}=this;if(s)if(this._parentage=null,Array.isArray(s))for(let y of s)y.remove(this);else s.remove(this);let{initialTeardown:t}=this;if(lt(t))try{t()}catch(y){r=y instanceof ra?y.errors:[y]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let y of o)try{zf(y)}catch(i){r=r??[],i instanceof ra?r=[...r,...i.errors]:r.push(i)}}if(r)throw new ra(r)}}add(r){var s;if(r&&r!==this)if(this.closed)zf(r);else{if(r instanceof n){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(s=this._finalizers)!==null&&s!==void 0?s:[]).push(r)}}_hasParent(r){let{_parentage:s}=this;return s===r||Array.isArray(s)&&s.includes(r)}_addParent(r){let{_parentage:s}=this;this._parentage=Array.isArray(s)?(s.push(r),s):s?[s,r]:r}_removeParent(r){let{_parentage:s}=this;s===r?this._parentage=null:Array.isArray(s)&&$o(s,r)}remove(r){let{_finalizers:s}=this;s&&$o(s,r),r instanceof n&&r._removeParent(this)}};lr.EMPTY=(()=>{let n=new lr;return n.closed=!0,n})();var _u=lr.EMPTY;function na(n){return n instanceof lr||n&&"closed"in n&&lt(n.remove)&&lt(n.add)&&lt(n.unsubscribe)}function zf(n){lt(n)?n():n.unsubscribe()}var Xr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zi={setTimeout(n,r,...s){let{delegate:t}=zi;return t?.setTimeout?t.setTimeout(n,r,...s):setTimeout(n,r,...s)},clearTimeout(n){let{delegate:r}=zi;return(r?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ia(n){zi.setTimeout(()=>{let{onUnhandledError:r}=Xr;if(r)r(n);else throw n})}function qo(){}var Wf=Su("C",void 0,void 0);function $f(n){return Su("E",void 0,n)}function qf(n){return Su("N",n,void 0)}function Su(n,r,s){return{kind:n,value:r,error:s}}var pi=null;function Wi(n){if(Xr.useDeprecatedSynchronousErrorHandling){let r=!pi;if(r&&(pi={errorThrown:!1,error:null}),n(),r){let{errorThrown:s,error:t}=pi;if(pi=null,s)throw t}}else n()}function Yf(n){Xr.useDeprecatedSynchronousErrorHandling&&pi&&(pi.errorThrown=!0,pi.error=n)}var mi=class extends lr{constructor(r){super(),this.isStopped=!1,r?(this.destination=r,na(r)&&r.add(this)):this.destination=M0}static create(r,s,t){return new $i(r,s,t)}next(r){this.isStopped?Eu(qf(r),this):this._next(r)}error(r){this.isStopped?Eu($f(r),this):(this.isStopped=!0,this._error(r))}complete(){this.isStopped?Eu(Wf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(r){this.destination.next(r)}_error(r){try{this.destination.error(r)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},E0=Function.prototype.bind;function Cu(n,r){return E0.call(n,r)}var Du=class{constructor(r){this.partialObserver=r}next(r){let{partialObserver:s}=this;if(s.next)try{s.next(r)}catch(t){oa(t)}}error(r){let{partialObserver:s}=this;if(s.error)try{s.error(r)}catch(t){oa(t)}else oa(r)}complete(){let{partialObserver:r}=this;if(r.complete)try{r.complete()}catch(s){oa(s)}}},$i=class extends mi{constructor(r,s,t){super();let o;if(lt(r)||!r)o={next:r??void 0,error:s??void 0,complete:t??void 0};else{let y;this&&Xr.useDeprecatedNextContext?(y=Object.create(r),y.unsubscribe=()=>this.unsubscribe(),o={next:r.next&&Cu(r.next,y),error:r.error&&Cu(r.error,y),complete:r.complete&&Cu(r.complete,y)}):o=r}this.destination=new Du(o)}};function oa(n){Xr.useDeprecatedSynchronousErrorHandling?Yf(n):ia(n)}function D0(n){throw n}function Eu(n,r){let{onStoppedNotification:s}=Xr;s&&zi.setTimeout(()=>s(n,r))}var M0={closed:!0,next:qo,error:D0,complete:qo};var qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pr(n){return n}function Mu(...n){return ju(n)}function ju(n){return n.length===0?Pr:n.length===1?n[0]:function(s){return n.reduce((t,o)=>o(t),s)}}var Pt=(()=>{class n{constructor(s){s&&(this._subscribe=s)}lift(s){let t=new n;return t.source=this,t.operator=s,t}subscribe(s,t,o){let y=T0(s)?s:new $i(s,t,o);return Wi(()=>{let{operator:i,source:p}=this;y.add(i?i.call(y,p):p?this._subscribe(y):this._trySubscribe(y))}),y}_trySubscribe(s){try{return this._subscribe(s)}catch(t){s.error(t)}}forEach(s,t){return t=Xf(t),new t((o,y)=>{let i=new $i({next:p=>{try{s(p)}catch(u){y(u),i.unsubscribe()}},error:y,complete:o});this.subscribe(i)})}_subscribe(s){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(s)}[qi](){return this}pipe(...s){return ju(s)(this)}toPromise(s){return s=Xf(s),new s((t,o)=>{let y;this.subscribe(i=>y=i,i=>o(i),()=>t(y))})}}return n.create=r=>new n(r),n})();function Xf(n){var r;return(r=n??Xr.Promise)!==null&&r!==void 0?r:Promise}function j0(n){return n&&lt(n.next)&&lt(n.error)&&lt(n.complete)}function T0(n){return n&&n instanceof mi||j0(n)&&na(n)}function Tu(n){return lt(n?.lift)}function Tt(n){return r=>{if(Tu(r))return r.lift(function(s){try{return n(s,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(n,r,s,t,o){return new Iu(n,r,s,t,o)}var Iu=class extends mi{constructor(r,s,t,o,y,i){super(r),this.onFinalize=y,this.shouldUnsubscribe=i,this._next=s?function(p){try{s(p)}catch(u){r.error(u)}}:super._next,this._error=o?function(p){try{o(p)}catch(u){r.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=t?function(){try{t()}catch(p){r.error(p)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:s}=this;super.unsubscribe(),!s&&((r=this.onFinalize)===null||r===void 0||r.call(this))}}};function Yi(){return Tt((n,r)=>{let s=null;n._refCount++;let t=Ct(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){s=null;return}let o=n._connection,y=s;s=null,o&&(!y||o===y)&&o.unsubscribe(),r.unsubscribe()});n.subscribe(t),t.closed||(s=n.connect())})}var Xi=class extends Pt{constructor(r,s){super(),this.source=r,this.subjectFactory=s,this._subject=null,this._refCount=0,this._connection=null,Tu(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){let r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:r}=this;this._subject=this._connection=null,r?.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new lr;let s=this.getSubject();r.add(this.source.subscribe(Ct(s,void 0,()=>{this._teardown(),s.complete()},t=>{this._teardown(),s.error(t)},()=>this._teardown()))),r.closed&&(this._connection=null,r=lr.EMPTY)}return r}refCount(){return Yi()(this)}};var Zf=Hi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var vr=(()=>{class n extends Pt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(s){let t=new sa(this,this);return t.operator=s,t}_throwIfClosed(){if(this.closed)throw new Zf}next(s){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let t of this.currentObservers)t.next(s)}})}error(s){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=s;let{observers:t}=this;for(;t.length;)t.shift().error(s)}})}complete(){Wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:s}=this;for(;s.length;)s.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var s;return((s=this.observers)===null||s===void 0?void 0:s.length)>0}_trySubscribe(s){return this._throwIfClosed(),super._trySubscribe(s)}_subscribe(s){return this._throwIfClosed(),this._checkFinalizedStatuses(s),this._innerSubscribe(s)}_innerSubscribe(s){let{hasError:t,isStopped:o,observers:y}=this;return t||o?_u:(this.currentObservers=null,y.push(s),new lr(()=>{this.currentObservers=null,$o(y,s)}))}_checkFinalizedStatuses(s){let{hasError:t,thrownError:o,isStopped:y}=this;t?s.error(o):y&&s.complete()}asObservable(){let s=new Pt;return s.source=this,s}}return n.create=(r,s)=>new sa(r,s),n})(),sa=class extends vr{constructor(r,s){super(),this.destination=r,this.source=s}next(r){var s,t;(t=(s=this.destination)===null||s===void 0?void 0:s.next)===null||t===void 0||t.call(s,r)}error(r){var s,t;(t=(s=this.destination)===null||s===void 0?void 0:s.error)===null||t===void 0||t.call(s,r)}complete(){var r,s;(s=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||s===void 0||s.call(r)}_subscribe(r){var s,t;return(t=(s=this.source)===null||s===void 0?void 0:s.subscribe(r))!==null&&t!==void 0?t:_u}};var dr=class extends vr{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){let s=super._subscribe(r);return!s.closed&&r.next(this._value),s}getValue(){let{hasError:r,thrownError:s,_value:t}=this;if(r)throw s;return this._throwIfClosed(),t}next(r){super.next(this._value=r)}};var Rr=new Pt(n=>n.complete());function Qf(n){return n&&lt(n.schedule)}function Kf(n){return n[n.length-1]}function aa(n){return lt(Kf(n))?n.pop():void 0}function Yn(n){return Qf(Kf(n))?n.pop():void 0}function ep(n,r,s,t){function o(y){return y instanceof s?y:new s(function(i){i(y)})}return new(s||(s=Promise))(function(y,i){function p(x){try{v(t.next(x))}catch(w){i(w)}}function u(x){try{v(t.throw(x))}catch(w){i(w)}}function v(x){x.done?y(x.value):o(x.value).then(p,u)}v((t=t.apply(n,r||[])).next())})}function Jf(n){var r=typeof Symbol=="function"&&Symbol.iterator,s=r&&n[r],t=0;if(s)return s.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function gi(n){return this instanceof gi?(this.v=n,this):new gi(n)}function tp(n,r,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=s.apply(n,r||[]),o,y=[];return o={},p("next"),p("throw"),p("return",i),o[Symbol.asyncIterator]=function(){return this},o;function i(a){return function(d){return Promise.resolve(d).then(a,w)}}function p(a,d){t[a]&&(o[a]=function(f){return new Promise(function(m,l){y.push([a,f,m,l])>1||u(a,f)})},d&&(o[a]=d(o[a])))}function u(a,d){try{v(t[a](d))}catch(f){c(y[0][3],f)}}function v(a){a.value instanceof gi?Promise.resolve(a.value.v).then(x,w):c(y[0][2],a)}function x(a){u("next",a)}function w(a){u("throw",a)}function c(a,d){a(d),y.shift(),y.length&&u(y[0][0],y[0][1])}}function rp(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n[Symbol.asyncIterator],s;return r?r.call(n):(n=typeof Jf=="function"?Jf(n):n[Symbol.iterator](),s={},t("next"),t("throw"),t("return"),s[Symbol.asyncIterator]=function(){return this},s);function t(y){s[y]=n[y]&&function(i){return new Promise(function(p,u){i=n[y](i),o(p,u,i.done,i.value)})}}function o(y,i,p,u){Promise.resolve(u).then(function(v){y({value:v,done:p})},i)}}var Zi=n=>n&&typeof n.length=="number"&&typeof n!="function";function la(n){return lt(n?.then)}function ua(n){return lt(n[qi])}function ca(n){return Symbol.asyncIterator&&lt(n?.[Symbol.asyncIterator])}function da(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function I0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ha=I0();function fa(n){return lt(n?.[ha])}function pa(n){return tp(this,arguments,function*(){let s=n.getReader();try{for(;;){let{value:t,done:o}=yield gi(s.read());if(o)return yield gi(void 0);yield yield gi(t)}}finally{s.releaseLock()}})}function ma(n){return lt(n?.getReader)}function Kt(n){if(n instanceof Pt)return n;if(n!=null){if(ua(n))return A0(n);if(Zi(n))return k0(n);if(la(n))return O0(n);if(ca(n))return np(n);if(fa(n))return P0(n);if(ma(n))return R0(n)}throw da(n)}function A0(n){return new Pt(r=>{let s=n[qi]();if(lt(s.subscribe))return s.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function k0(n){return new Pt(r=>{for(let s=0;s<n.length&&!r.closed;s++)r.next(n[s]);r.complete()})}function O0(n){return new Pt(r=>{n.then(s=>{r.closed||(r.next(s),r.complete())},s=>r.error(s)).then(null,ia)})}function P0(n){return new Pt(r=>{for(let s of n)if(r.next(s),r.closed)return;r.complete()})}function np(n){return new Pt(r=>{L0(n,r).catch(s=>r.error(s))})}function R0(n){return np(pa(n))}function L0(n,r){var s,t,o,y;return ep(this,void 0,void 0,function*(){try{for(s=rp(n);t=yield s.next(),!t.done;){let i=t.value;if(r.next(i),r.closed)return}}catch(i){o={error:i}}finally{try{t&&!t.done&&(y=s.return)&&(yield y.call(s))}finally{if(o)throw o.error}}r.complete()})}function Tr(n,r,s,t=0,o=!1){let y=r.schedule(function(){s(),o?n.add(this.schedule(null,t)):this.unsubscribe()},t);if(n.add(y),!o)return y}function ga(n,r=0){return Tt((s,t)=>{s.subscribe(Ct(t,o=>Tr(t,n,()=>t.next(o),r),()=>Tr(t,n,()=>t.complete(),r),o=>Tr(t,n,()=>t.error(o),r)))})}function ya(n,r=0){return Tt((s,t)=>{t.add(n.schedule(()=>s.subscribe(t),r))})}function ip(n,r){return Kt(n).pipe(ya(r),ga(r))}function op(n,r){return Kt(n).pipe(ya(r),ga(r))}function sp(n,r){return new Pt(s=>{let t=0;return r.schedule(function(){t===n.length?s.complete():(s.next(n[t++]),s.closed||this.schedule())})})}function ap(n,r){return new Pt(s=>{let t;return Tr(s,r,()=>{t=n[ha](),Tr(s,r,()=>{let o,y;try{({value:o,done:y}=t.next())}catch(i){s.error(i);return}y?s.complete():s.next(o)},0,!0)}),()=>lt(t?.return)&&t.return()})}function va(n,r){if(!n)throw new Error("Iterable cannot be null");return new Pt(s=>{Tr(s,r,()=>{let t=n[Symbol.asyncIterator]();Tr(s,r,()=>{t.next().then(o=>{o.done?s.complete():s.next(o.value)})},0,!0)})})}function lp(n,r){return va(pa(n),r)}function up(n,r){if(n!=null){if(ua(n))return ip(n,r);if(Zi(n))return sp(n,r);if(la(n))return op(n,r);if(ca(n))return va(n,r);if(fa(n))return ap(n,r);if(ma(n))return lp(n,r)}throw da(n)}function rr(n,r){return r?up(n,r):Kt(n)}function mt(...n){let r=Yn(n);return rr(n,r)}function Qi(n,r){let s=lt(n)?n:()=>n,t=o=>o.error(s());return new Pt(r?o=>r.schedule(t,0,o):t)}function Au(n){return!!n&&(n instanceof Pt||lt(n.lift)&&lt(n.subscribe))}var Dn=Hi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pt(n,r){return Tt((s,t)=>{let o=0;s.subscribe(Ct(t,y=>{t.next(n.call(r,y,o++))}))})}var{isArray:N0}=Array;function F0(n,r){return N0(r)?n(...r):n(r)}function Ki(n){return pt(r=>F0(n,r))}var{isArray:B0}=Array,{getPrototypeOf:U0,prototype:V0,keys:G0}=Object;function ba(n){if(n.length===1){let r=n[0];if(B0(r))return{args:r,keys:null};if(H0(r)){let s=G0(r);return{args:s.map(t=>r[t]),keys:s}}}return{args:n,keys:null}}function H0(n){return n&&typeof n=="object"&&U0(n)===V0}function xa(n,r){return n.reduce((s,t,o)=>(s[t]=r[o],s),{})}function Ji(...n){let r=Yn(n),s=aa(n),{args:t,keys:o}=ba(n);if(t.length===0)return rr([],r);let y=new Pt(z0(t,r,o?i=>xa(o,i):Pr));return s?y.pipe(Ki(s)):y}function z0(n,r,s=Pr){return t=>{cp(r,()=>{let{length:o}=n,y=new Array(o),i=o,p=o;for(let u=0;u<o;u++)cp(r,()=>{let v=rr(n[u],r),x=!1;v.subscribe(Ct(t,w=>{y[u]=w,x||(x=!0,p--),p||t.next(s(y.slice()))},()=>{--i||t.complete()}))},t)},t)}}function cp(n,r,s){n?Tr(s,n,r):r()}function dp(n,r,s,t,o,y,i,p){let u=[],v=0,x=0,w=!1,c=()=>{w&&!u.length&&!v&&r.complete()},a=f=>v<t?d(f):u.push(f),d=f=>{y&&r.next(f),v++;let m=!1;Kt(s(f,x++)).subscribe(Ct(r,l=>{o?.(l),y?a(l):r.next(l)},()=>{m=!0},void 0,()=>{if(m)try{for(v--;u.length&&v<t;){let l=u.shift();i?Tr(r,i,()=>d(l)):d(l)}c()}catch(l){r.error(l)}}))};return n.subscribe(Ct(r,a,()=>{w=!0,c()})),()=>{p?.()}}function nr(n,r,s=1/0){return lt(r)?nr((t,o)=>pt((y,i)=>r(t,y,o,i))(Kt(n(t,o))),s):(typeof r=="number"&&(s=r),Tt((t,o)=>dp(t,o,n,s)))}function ku(n=1/0){return nr(Pr,n)}function hp(){return ku(1)}function eo(...n){return hp()(rr(n,Yn(n)))}function wa(n){return new Pt(r=>{Kt(n()).subscribe(r)})}function Ou(...n){let r=aa(n),{args:s,keys:t}=ba(n),o=new Pt(y=>{let{length:i}=s;if(!i){y.complete();return}let p=new Array(i),u=i,v=i;for(let x=0;x<i;x++){let w=!1;Kt(s[x]).subscribe(Ct(y,c=>{w||(w=!0,v--),p[x]=c},()=>u--,void 0,()=>{(!u||!w)&&(v||y.next(t?xa(t,p):p),y.complete())}))}});return r?o.pipe(Ki(r)):o}var W0=["addListener","removeListener"],$0=["addEventListener","removeEventListener"],q0=["on","off"];function Yo(n,r,s,t){if(lt(s)&&(t=s,s=void 0),t)return Yo(n,r,s).pipe(Ki(t));let[o,y]=Z0(n)?$0.map(i=>p=>n[i](r,p,s)):Y0(n)?W0.map(fp(n,r)):X0(n)?q0.map(fp(n,r)):[];if(!o&&Zi(n))return nr(i=>Yo(i,r,s))(Kt(n));if(!o)throw new TypeError("Invalid event target");return new Pt(i=>{let p=(...u)=>i.next(1<u.length?u:u[0]);return o(p),()=>y(p)})}function fp(n,r){return s=>t=>n[s](r,t)}function Y0(n){return lt(n.addListener)&&lt(n.removeListener)}function X0(n){return lt(n.on)&&lt(n.off)}function Z0(n){return lt(n.addEventListener)&&lt(n.removeEventListener)}function Zr(n,r){return Tt((s,t)=>{let o=0;s.subscribe(Ct(t,y=>n.call(r,y,o++)&&t.next(y)))})}function Xn(n){return Tt((r,s)=>{let t=null,o=!1,y;t=r.subscribe(Ct(s,void 0,void 0,i=>{y=Kt(n(i,Xn(n)(r))),t?(t.unsubscribe(),t=null,y.subscribe(s)):o=!0})),o&&(t.unsubscribe(),t=null,y.subscribe(s))})}function pp(n,r,s,t,o){return(y,i)=>{let p=s,u=r,v=0;y.subscribe(Ct(i,x=>{let w=v++;u=p?n(u,x,w):(p=!0,x),t&&i.next(u)},o&&(()=>{p&&i.next(u),i.complete()})))}}function to(n,r){return lt(r)?nr(n,r,1):nr(n,1)}function Zn(n){return Tt((r,s)=>{let t=!1;r.subscribe(Ct(s,o=>{t=!0,s.next(o)},()=>{t||s.next(n),s.complete()}))})}function Mn(n){return n<=0?()=>Rr:Tt((r,s)=>{let t=0;r.subscribe(Ct(s,o=>{++t<=n&&(s.next(o),n<=t&&s.complete())}))})}function Pu(n){return pt(()=>n)}function _a(n=Q0){return Tt((r,s)=>{let t=!1;r.subscribe(Ct(s,o=>{t=!0,s.next(o)},()=>t?s.complete():s.error(n())))})}function Q0(){return new Dn}function Xo(n){return Tt((r,s)=>{try{r.subscribe(s)}finally{s.add(n)}})}function hn(n,r){let s=arguments.length>=2;return t=>t.pipe(n?Zr((o,y)=>n(o,y,t)):Pr,Mn(1),s?Zn(r):_a(()=>new Dn))}function ro(n){return n<=0?()=>Rr:Tt((r,s)=>{let t=[];r.subscribe(Ct(s,o=>{t.push(o),n<t.length&&t.shift()},()=>{for(let o of t)s.next(o);s.complete()},void 0,()=>{t=null}))})}function Ru(n,r){let s=arguments.length>=2;return t=>t.pipe(n?Zr((o,y)=>n(o,y,t)):Pr,ro(1),s?Zn(r):_a(()=>new Dn))}function Lu(n,r){return Tt(pp(n,r,arguments.length>=2,!0))}function yi(...n){let r=Yn(n);return Tt((s,t)=>{(r?eo(n,s,r):eo(n,s)).subscribe(t)})}function Qr(n,r){return Tt((s,t)=>{let o=null,y=0,i=!1,p=()=>i&&!o&&t.complete();s.subscribe(Ct(t,u=>{o?.unsubscribe();let v=0,x=y++;Kt(n(u,x)).subscribe(o=Ct(t,w=>t.next(r?r(u,w,x,v++):w),()=>{o=null,p()}))},()=>{i=!0,p()}))})}function Nu(n){return Tt((r,s)=>{Kt(n).subscribe(Ct(s,()=>s.complete(),qo)),!s.closed&&r.subscribe(s)})}function br(n,r,s){let t=lt(n)||r||s?{next:n,error:r,complete:s}:n;return t?Tt((o,y)=>{var i;(i=t.subscribe)===null||i===void 0||i.call(t);let p=!0;o.subscribe(Ct(y,u=>{var v;(v=t.next)===null||v===void 0||v.call(t,u),y.next(u)},()=>{var u;p=!1,(u=t.complete)===null||u===void 0||u.call(t),y.complete()},u=>{var v;p=!1,(v=t.error)===null||v===void 0||v.call(t,u),y.error(u)},()=>{var u,v;p&&((u=t.unsubscribe)===null||u===void 0||u.call(t)),(v=t.finalize)===null||v===void 0||v.call(t)}))}):Pr}var K0="https://g.co/ng/security#xss",ut=class extends Error{constructor(r,s){super(Vc(r,s)),this.code=r}};function Vc(n,r){return`${`NG0${Math.abs(n)}`}${r?": "+r:""}`}function Qa(n){return{toString:n}.toString()}var Ku=globalThis;function Ht(n){for(let r in n)if(n[r]===Ht)return r;throw Error("Could not find renamed property on target object.")}function J0(n,r){for(let s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Mr(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Mr).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let r=n.toString();if(r==null)return""+r;let s=r.indexOf(`
`);return s===-1?r:r.substring(0,s)}function mp(n,r){return n==null||n===""?r===null?"":r:r==null||r===""?n:n+" "+r}var eb=Ht({__forward_ref__:Ht});function oi(n){return n.__forward_ref__=oi,n.toString=function(){return Mr(this())},n}function Dr(n){return Qp(n)?n():n}function Qp(n){return typeof n=="function"&&n.hasOwnProperty(eb)&&n.__forward_ref__===oi}function ft(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function si(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ka(n){return gp(n,Jp)||gp(n,em)}function Kp(n){return Ka(n)!==null}function gp(n,r){return n.hasOwnProperty(r)?n[r]:null}function tb(n){let r=n&&(n[Jp]||n[em]);return r||null}function yp(n){return n&&(n.hasOwnProperty(vp)||n.hasOwnProperty(rb))?n[vp]:null}var Jp=Ht({\u0275prov:Ht}),vp=Ht({\u0275inj:Ht}),em=Ht({ngInjectableDef:Ht}),rb=Ht({ngInjectorDef:Ht}),ct=class{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof s=="number"?this.__NG_ELEMENT_ID__=s:s!==void 0&&(this.\u0275prov=ft({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function tm(n){return n&&!!n.\u0275providers}var nb=Ht({\u0275cmp:Ht}),ib=Ht({\u0275dir:Ht}),ob=Ht({\u0275pipe:Ht}),sb=Ht({\u0275mod:Ht}),Aa=Ht({\u0275fac:Ht}),Zo=Ht({__NG_ELEMENT_ID__:Ht}),bp=Ht({__NG_ENV_ID__:Ht});function ab(n){return typeof n=="string"?n:n==null?"":String(n)}function lb(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():ab(n)}function ub(n,r){let s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ut(-200,n)}function Gc(n,r){throw new ut(-201,!1)}var xt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(xt||{}),Ju;function rm(){return Ju}function Ir(n){let r=Ju;return Ju=n,r}function nm(n,r,s){let t=Ka(n);if(t&&t.providedIn=="root")return t.value===void 0?t.value=t.factory():t.value;if(s&xt.Optional)return null;if(r!==void 0)return r;Gc(n,"Injector")}var cb={},Qo=cb,db="__NG_DI_FLAG__",ka="ngTempTokenPath",hb="ngTokenPath",fb=/\n/gm,pb="\u0275",xp="__source",so;function mb(){return so}function Qn(n){let r=so;return so=n,r}function gb(n,r=xt.Default){if(so===void 0)throw new ut(-203,!1);return so===null?nm(n,void 0,r):so.get(n,r&xt.Optional?null:void 0,r)}function Et(n,r=xt.Default){return(rm()||gb)(Dr(n),r)}function Je(n,r=xt.Default){return Et(n,Ja(r))}function Ja(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ec(n){let r=[];for(let s=0;s<n.length;s++){let t=Dr(n[s]);if(Array.isArray(t)){if(t.length===0)throw new ut(900,!1);let o,y=xt.Default;for(let i=0;i<t.length;i++){let p=t[i],u=yb(p);typeof u=="number"?u===-1?o=p.token:y|=u:o=p}r.push(Et(o,y))}else r.push(Et(t))}return r}function yb(n){return n[db]}function vb(n,r,s,t){let o=n[ka];throw r[xp]&&o.unshift(r[xp]),n.message=bb(`
`+n.message,o,s,t),n[hb]=o,n[ka]=null,n}function bb(n,r,s,t=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==pb?n.slice(2):n;let o=Mr(r);if(Array.isArray(r))o=r.map(Mr).join(" -> ");else if(typeof r=="object"){let y=[];for(let i in r)if(r.hasOwnProperty(i)){let p=r[i];y.push(i+":"+(typeof p=="string"?JSON.stringify(p):Mr(p)))}o=`{${y.join(", ")}}`}return`${s}${t?"("+t+")":""}[${o}]: ${n.replace(fb,`
  `)}`}function xi(n,r){let s=n.hasOwnProperty(Aa);return s?n[Aa]:null}function xb(n,r,s){if(n.length!==r.length)return!1;for(let t=0;t<n.length;t++){let o=n[t],y=r[t];if(s&&(o=s(o),y=s(y)),y!==o)return!1}return!0}function wb(n){return n.flat(Number.POSITIVE_INFINITY)}function Hc(n,r){n.forEach(s=>Array.isArray(s)?Hc(s,r):r(s))}function im(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Oa(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function _b(n,r,s,t){let o=n.length;if(o==r)n.push(s,t);else if(o===1)n.push(t,n[0]),n[0]=s;else{for(o--,n.push(n[o-1],n[o]);o>r;){let y=o-2;n[o]=n[y],o--}n[r]=s,n[r+1]=t}}function Sb(n,r,s){let t=ss(n,r);return t>=0?n[t|1]=s:(t=~t,_b(n,t,r,s)),t}function Fu(n,r){let s=ss(n,r);if(s>=0)return n[s|1]}function ss(n,r){return Cb(n,r,1)}function Cb(n,r,s){let t=0,o=n.length>>s;for(;o!==t;){let y=t+(o-t>>1),i=n[y<<s];if(r===i)return y<<s;i>r?o=y:t=y+1}return~(o<<s)}var lo={},Vr=[],uo=new ct(""),om=new ct("",-1),sm=new ct(""),Pa=class{get(r,s=Qo){if(s===Qo){let t=new Error(`NullInjectorError: No provider for ${Mr(r)}!`);throw t.name="NullInjectorError",t}return s}},am=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(am||{}),mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(mn||{}),ei=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ei||{});function Eb(n,r,s){let t=n.length;for(;;){let o=n.indexOf(r,s);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let y=r.length;if(o+y===t||n.charCodeAt(o+y)<=32)return o}s=o+1}}function tc(n,r,s){let t=0;for(;t<s.length;){let o=s[t];if(typeof o=="number"){if(o!==0)break;t++;let y=s[t++],i=s[t++],p=s[t++];n.setAttribute(r,i,p,y)}else{let y=o,i=s[++t];Mb(y)?n.setProperty(r,y,i):n.setAttribute(r,y,i),t++}}return t}function Db(n){return n===3||n===4||n===6}function Mb(n){return n.charCodeAt(0)===64}function Ko(n,r){if(!(r===null||r.length===0))if(n===null||n.length===0)n=r.slice();else{let s=-1;for(let t=0;t<r.length;t++){let o=r[t];typeof o=="number"?s=o:s===0||(s===-1||s===2?wp(n,s,o,null,r[++t]):wp(n,s,o,null,null))}}return n}function wp(n,r,s,t,o){let y=0,i=n.length;if(r===-1)i=-1;else for(;y<n.length;){let p=n[y++];if(typeof p=="number"){if(p===r){i=-1;break}else if(p>r){i=y-1;break}}}for(;y<n.length;){let p=n[y];if(typeof p=="number")break;if(p===s){if(t===null){o!==null&&(n[y+1]=o);return}else if(t===n[y+1]){n[y+2]=o;return}}y++,t!==null&&y++,o!==null&&y++}i!==-1&&(n.splice(i,0,r),y=i+1),n.splice(y++,0,s),t!==null&&n.splice(y++,0,t),o!==null&&n.splice(y++,0,o)}var lm="ng-template";function jb(n,r,s,t){let o=0;if(t){for(;o<r.length&&typeof r[o]=="string";o+=2)if(r[o]==="class"&&Eb(r[o+1].toLowerCase(),s,0)!==-1)return!0}else if(zc(n))return!1;if(o=r.indexOf(1,o),o>-1){let y;for(;++o<r.length&&typeof(y=r[o])=="string";)if(y.toLowerCase()===s)return!0}return!1}function zc(n){return n.type===4&&n.value!==lm}function Tb(n,r,s){let t=n.type===4&&!s?lm:n.value;return r===t}function Ib(n,r,s){let t=4,o=n.attrs,y=o!==null?Ob(o):0,i=!1;for(let p=0;p<r.length;p++){let u=r[p];if(typeof u=="number"){if(!i&&!Kr(t)&&!Kr(u))return!1;if(i&&Kr(u))continue;i=!1,t=u|t&1;continue}if(!i)if(t&4){if(t=2|t&1,u!==""&&!Tb(n,u,s)||u===""&&r.length===1){if(Kr(t))return!1;i=!0}}else if(t&8){if(o===null||!jb(n,o,u,s)){if(Kr(t))return!1;i=!0}}else{let v=r[++p],x=Ab(u,o,zc(n),s);if(x===-1){if(Kr(t))return!1;i=!0;continue}if(v!==""){let w;if(x>y?w="":w=o[x+1].toLowerCase(),t&2&&v!==w){if(Kr(t))return!1;i=!0}}}}return Kr(t)||i}function Kr(n){return(n&1)===0}function Ab(n,r,s,t){if(r===null)return-1;let o=0;if(t||!s){let y=!1;for(;o<r.length;){let i=r[o];if(i===n)return o;if(i===3||i===6)y=!0;else if(i===1||i===2){let p=r[++o];for(;typeof p=="string";)p=r[++o];continue}else{if(i===4)break;if(i===0){o+=4;continue}}o+=y?1:2}return-1}else return Pb(r,n)}function kb(n,r,s=!1){for(let t=0;t<r.length;t++)if(Ib(n,r[t],s))return!0;return!1}function Ob(n){for(let r=0;r<n.length;r++){let s=n[r];if(Db(s))return r}return n.length}function Pb(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){let t=n[s];if(typeof t=="number")return-1;if(t===r)return s;s++}return-1}function _p(n,r){return n?":not("+r.trim()+")":r}function Rb(n){let r=n[0],s=1,t=2,o="",y=!1;for(;s<n.length;){let i=n[s];if(typeof i=="string")if(t&2){let p=n[++s];o+="["+i+(p.length>0?'="'+p+'"':"")+"]"}else t&8?o+="."+i:t&4&&(o+=" "+i);else o!==""&&!Kr(i)&&(r+=_p(y,o),o=""),t=i,y=y||!Kr(t);s++}return o!==""&&(r+=_p(y,o)),r}function Lb(n){return n.map(Rb).join(",")}function Nb(n){let r=[],s=[],t=1,o=2;for(;t<n.length;){let y=n[t];if(typeof y=="string")o===2?y!==""&&r.push(y,n[++t]):o===8&&s.push(y);else{if(!Kr(o))break;o=y}t++}return{attrs:r,classes:s}}function vn(n){return Qa(()=>{let r=pm(n),s=St(Qe({},r),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===am.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||mn.Emulated,styles:n.styles||Vr,_:null,schemas:n.schemas||null,tView:null,id:""});mm(s);let t=n.dependencies;return s.directiveDefs=Cp(t,!1),s.pipeDefs=Cp(t,!0),s.id=Ub(s),s})}function Fb(n){return wi(n)||cm(n)}function Bb(n){return n!==null}function ai(n){return Qa(()=>({type:n.type,bootstrap:n.bootstrap||Vr,declarations:n.declarations||Vr,imports:n.imports||Vr,exports:n.exports||Vr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Sp(n,r){if(n==null)return lo;let s={};for(let t in n)if(n.hasOwnProperty(t)){let o=n[t],y,i,p=ei.None;Array.isArray(o)?(p=o[0],y=o[1],i=o[2]??y):(y=o,i=o),r?(s[y]=p!==ei.None?[t,p]:t,r[y]=i):s[y]=t}return s}function Ar(n){return Qa(()=>{let r=pm(n);return mm(r),r})}function um(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function wi(n){return n[nb]||null}function cm(n){return n[ib]||null}function dm(n){return n[ob]||null}function hm(n){let r=wi(n)||cm(n)||dm(n);return r!==null?r.standalone:!1}function fm(n,r){let s=n[sb]||null;if(!s&&r===!0)throw new Error(`Type ${Mr(n)} does not have '\u0275mod' property.`);return s}function pm(n){let r={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:n.inputs||lo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Vr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sp(n.inputs,r),outputs:Sp(n.outputs),debugInfo:null}}function mm(n){n.features?.forEach(r=>r(n))}function Cp(n,r){if(!n)return null;let s=r?dm:Fb;return()=>(typeof n=="function"?n():n).map(t=>s(t)).filter(Bb)}function Ub(n){let r=0,s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let o of s)r=Math.imul(31,r)+o.charCodeAt(0)<<0;return r+=2147483648,"c"+r}function el(n){return{\u0275providers:n}}function Vb(...n){return{\u0275providers:gm(!0,n),\u0275fromNgModule:!0}}function gm(n,...r){let s=[],t=new Set,o,y=i=>{s.push(i)};return Hc(r,i=>{let p=i;rc(p,y,[],t)&&(o||=[],o.push(p))}),o!==void 0&&ym(o,y),s}function ym(n,r){for(let s=0;s<n.length;s++){let{ngModule:t,providers:o}=n[s];Wc(o,y=>{r(y,t)})}}function rc(n,r,s,t){if(n=Dr(n),!n)return!1;let o=null,y=yp(n),i=!y&&wi(n);if(!y&&!i){let u=n.ngModule;if(y=yp(u),y)o=u;else return!1}else{if(i&&!i.standalone)return!1;o=n}let p=t.has(o);if(i){if(p)return!1;if(t.add(o),i.dependencies){let u=typeof i.dependencies=="function"?i.dependencies():i.dependencies;for(let v of u)rc(v,r,s,t)}}else if(y){if(y.imports!=null&&!p){t.add(o);let v;try{Hc(y.imports,x=>{rc(x,r,s,t)&&(v||=[],v.push(x))})}finally{}v!==void 0&&ym(v,r)}if(!p){let v=xi(o)||(()=>new o);r({provide:o,useFactory:v,deps:Vr},o),r({provide:sm,useValue:o,multi:!0},o),r({provide:uo,useValue:()=>Et(o),multi:!0},o)}let u=y.providers;if(u!=null&&!p){let v=n;Wc(u,x=>{r(x,v)})}}else return!1;return o!==n&&n.providers!==void 0}function Wc(n,r){for(let s of n)tm(s)&&(s=s.\u0275providers),Array.isArray(s)?Wc(s,r):r(s)}var Gb=Ht({provide:String,useValue:Ht});function vm(n){return n!==null&&typeof n=="object"&&Gb in n}function Hb(n){return!!(n&&n.useExisting)}function zb(n){return!!(n&&n.useFactory)}function co(n){return typeof n=="function"}function Wb(n){return!!n.useClass}var tl=new ct(""),Ea={},$b={},Bu;function $c(){return Bu===void 0&&(Bu=new Pa),Bu}var Hr=class{},Jo=class extends Hr{get destroyed(){return this._destroyed}constructor(r,s,t,o){super(),this.parent=s,this.source=t,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ic(r,i=>this.processProvider(i)),this.records.set(om,no(void 0,this)),o.has("environment")&&this.records.set(Hr,no(void 0,this));let y=this.records.get(tl);y!=null&&typeof y.value=="string"&&this.scopes.add(y.value),this.injectorDefTypes=new Set(this.get(sm,Vr,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let r=kt(null);try{for(let t of this._ngOnDestroyHooks)t.ngOnDestroy();let s=this._onDestroyHooks;this._onDestroyHooks=[];for(let t of s)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),kt(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();let s=Qn(this),t=Ir(void 0),o;try{return r()}finally{Qn(s),Ir(t)}}get(r,s=Qo,t=xt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(bp))return r[bp](this);t=Ja(t);let o,y=Qn(this),i=Ir(void 0);try{if(!(t&xt.SkipSelf)){let u=this.records.get(r);if(u===void 0){let v=Qb(r)&&Ka(r);v&&this.injectableDefInScope(v)?u=no(nc(r),Ea):u=null,this.records.set(r,u)}if(u!=null)return this.hydrate(r,u)}let p=t&xt.Self?$c():this.parent;return s=t&xt.Optional&&s===Qo?null:s,p.get(r,s)}catch(p){if(p.name==="NullInjectorError"){if((p[ka]=p[ka]||[]).unshift(Mr(r)),y)throw p;return vb(p,r,"R3InjectorError",this.source)}else throw p}finally{Ir(i),Qn(y)}}resolveInjectorInitializers(){let r=kt(null),s=Qn(this),t=Ir(void 0),o;try{let y=this.get(uo,Vr,xt.Self);for(let i of y)i()}finally{Qn(s),Ir(t),kt(r)}}toString(){let r=[],s=this.records;for(let t of s.keys())r.push(Mr(t));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ut(205,!1)}processProvider(r){r=Dr(r);let s=co(r)?r:Dr(r&&r.provide),t=Yb(r);if(!co(r)&&r.multi===!0){let o=this.records.get(s);o||(o=no(void 0,Ea,!0),o.factory=()=>ec(o.multi),this.records.set(s,o)),s=r,o.multi.push(r)}this.records.set(s,t)}hydrate(r,s){let t=kt(null);try{return s.value===Ea&&(s.value=$b,s.value=s.factory()),typeof s.value=="object"&&s.value&&Zb(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{kt(t)}}injectableDefInScope(r){if(!r.providedIn)return!1;let s=Dr(r.providedIn);return typeof s=="string"?s==="any"||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(r){let s=this._onDestroyHooks.indexOf(r);s!==-1&&this._onDestroyHooks.splice(s,1)}};function nc(n){let r=Ka(n),s=r!==null?r.factory:xi(n);if(s!==null)return s;if(n instanceof ct)throw new ut(204,!1);if(n instanceof Function)return qb(n);throw new ut(204,!1)}function qb(n){if(n.length>0)throw new ut(204,!1);let s=tb(n);return s!==null?()=>s.factory(n):()=>new n}function Yb(n){if(vm(n))return no(void 0,n.useValue);{let r=bm(n);return no(r,Ea)}}function bm(n,r,s){let t;if(co(n)){let o=Dr(n);return xi(o)||nc(o)}else if(vm(n))t=()=>Dr(n.useValue);else if(zb(n))t=()=>n.useFactory(...ec(n.deps||[]));else if(Hb(n))t=()=>Et(Dr(n.useExisting));else{let o=Dr(n&&(n.useClass||n.provide));if(Xb(n))t=()=>new o(...ec(n.deps));else return xi(o)||nc(o)}return t}function no(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Xb(n){return!!n.deps}function Zb(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Qb(n){return typeof n=="function"||typeof n=="object"&&n instanceof ct}function ic(n,r){for(let s of n)Array.isArray(s)?ic(s,r):s&&tm(s)?ic(s.\u0275providers,r):r(s)}function kn(n,r){n instanceof Jo&&n.assertNotDestroyed();let s,t=Qn(n),o=Ir(void 0);try{return r()}finally{Qn(t),Ir(o)}}function Kb(){return rm()!==void 0||mb()!=null}function Jb(n){return typeof n=="function"}var On=0,gt=1,ht=2,Er=3,Jr=4,rn=5,Ra=6,La=7,en=8,ho=9,jn=10,mr=11,es=12,Ep=13,bo=14,gn=15,_i=16,io=17,Tn=18,rl=19,xm=20,Kn=21,Uu=22,Gr=23,tn=25,wm=1;var Si=7,Na=8,fo=9,Lr=10,Fa=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Fa||{});function Jn(n){return Array.isArray(n)&&typeof n[wm]=="object"}function Pn(n){return Array.isArray(n)&&n[wm]===!0}function qc(n){return(n.flags&4)!==0}function nl(n){return n.componentOffset>-1}function il(n){return(n.flags&1)===1}function ti(n){return!!n.template}function oc(n){return(n[ht]&512)!==0}var sc=class{constructor(r,s,t){this.previousValue=r,this.currentValue=s,this.firstChange=t}isFirstChange(){return this.firstChange}};function _m(n,r,s,t){r!==null?r.applyValueToInputSignal(r,t):n[s]=t}function Rn(){return Sm}function Sm(n){return n.type.prototype.ngOnChanges&&(n.setInput=t1),e1}Rn.ngInherit=!0;function e1(){let n=Em(this),r=n?.current;if(r){let s=n.previous;if(s===lo)n.previous=r;else for(let t in r)s[t]=r[t];n.current=null,this.ngOnChanges(r)}}function t1(n,r,s,t,o){let y=this.declaredInputs[t],i=Em(n)||r1(n,{previous:lo,current:null}),p=i.current||(i.current={}),u=i.previous,v=u[y];p[y]=new sc(v&&v.currentValue,s,u===lo),_m(n,r,o,s)}var Cm="__ngSimpleChanges__";function Em(n){return n[Cm]||null}function r1(n,r){return n[Cm]=r}var Dp=null;var fn=function(n,r,s){Dp?.(n,r,s)},n1="svg",i1="math";function yn(n){for(;Array.isArray(n);)n=n[On];return n}function o1(n,r){return yn(r[n])}function nn(n,r){return yn(r[n.index])}function Dm(n,r){return n.data[r]}function s1(n,r){return n[r]}function li(n,r){let s=r[n];return Jn(s)?s:s[On]}function a1(n){return(n[ht]&4)===4}function Yc(n){return(n[ht]&128)===128}function l1(n){return Pn(n[Er])}function po(n,r){return r==null?null:n[r]}function Mm(n){n[io]=0}function jm(n){n[ht]&1024||(n[ht]|=1024,Yc(n)&&ol(n))}function u1(n,r){for(;n>0;)r=r[bo],n--;return r}function ts(n){return!!(n[ht]&9216||n[Gr]?.dirty)}function ac(n){n[jn].changeDetectionScheduler?.notify(7),n[ht]&64&&(n[ht]|=1024),ts(n)&&ol(n)}function ol(n){n[jn].changeDetectionScheduler?.notify(0);let r=Ci(n);for(;r!==null&&!(r[ht]&8192||(r[ht]|=8192,!Yc(r)));)r=Ci(r)}function Tm(n,r){if((n[ht]&256)===256)throw new ut(911,!1);n[Kn]===null&&(n[Kn]=[]),n[Kn].push(r)}function c1(n,r){if(n[Kn]===null)return;let s=n[Kn].indexOf(r);s!==-1&&n[Kn].splice(s,1)}function Ci(n){let r=n[Er];return Pn(r)?r[Er]:r}var wt={lFrame:Bm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Im=!1;function d1(){return wt.lFrame.elementDepthCount}function h1(){wt.lFrame.elementDepthCount++}function f1(){wt.lFrame.elementDepthCount--}function Am(){return wt.bindingsEnabled}function p1(){return wt.skipHydrationRootTNode!==null}function m1(n){return wt.skipHydrationRootTNode===n}function g1(){wt.skipHydrationRootTNode=null}function Ft(){return wt.lFrame.lView}function xr(){return wt.lFrame.tView}function Xc(n){return wt.lFrame.contextLView=n,n[en]}function Zc(n){return wt.lFrame.contextLView=null,n}function jr(){let n=km();for(;n!==null&&n.type===64;)n=n.parent;return n}function km(){return wt.lFrame.currentTNode}function y1(){let n=wt.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}function Ii(n,r){let s=wt.lFrame;s.currentTNode=n,s.isParent=r}function Qc(){return wt.lFrame.isParent}function Om(){wt.lFrame.isParent=!1}function Pm(){return Im}function Mp(n){Im=n}function v1(){let n=wt.lFrame,r=n.bindingRootIndex;return r===-1&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function b1(n){return wt.lFrame.bindingIndex=n}function Rm(){return wt.lFrame.bindingIndex++}function x1(n){let r=wt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function w1(){return wt.lFrame.inI18n}function _1(n,r){let s=wt.lFrame;s.bindingIndex=s.bindingRootIndex=n,lc(r)}function S1(){return wt.lFrame.currentDirectiveIndex}function lc(n){wt.lFrame.currentDirectiveIndex=n}function C1(n){let r=wt.lFrame.currentDirectiveIndex;return r===-1?null:n[r]}function Lm(){return wt.lFrame.currentQueryIndex}function Kc(n){wt.lFrame.currentQueryIndex=n}function E1(n){let r=n[gt];return r.type===2?r.declTNode:r.type===1?n[rn]:null}function Nm(n,r,s){if(s&xt.SkipSelf){let o=r,y=n;for(;o=o.parent,o===null&&!(s&xt.Host);)if(o=E1(y),o===null||(y=y[bo],o.type&10))break;if(o===null)return!1;r=o,n=y}let t=wt.lFrame=Fm();return t.currentTNode=r,t.lView=n,!0}function Jc(n){let r=Fm(),s=n[gt];wt.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Fm(){let n=wt.lFrame,r=n===null?null:n.child;return r===null?Bm(n):r}function Bm(n){let r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=r),r}function Um(){let n=wt.lFrame;return wt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Vm=Um;function ed(){let n=Um();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function D1(n){return(wt.lFrame.contextLView=u1(n,wt.lFrame.contextLView))[en]}function as(){return wt.lFrame.selectedIndex}function Ei(n){wt.lFrame.selectedIndex=n}function Gm(){let n=wt.lFrame;return Dm(n.tView,n.selectedIndex)}function M1(){return wt.lFrame.currentNamespace}var Hm=!0;function sl(){return Hm}function al(n){Hm=n}function j1(n,r,s){let{ngOnChanges:t,ngOnInit:o,ngDoCheck:y}=r.type.prototype;if(t){let i=Sm(r);(s.preOrderHooks??=[]).push(n,i),(s.preOrderCheckHooks??=[]).push(n,i)}o&&(s.preOrderHooks??=[]).push(0-n,o),y&&((s.preOrderHooks??=[]).push(n,y),(s.preOrderCheckHooks??=[]).push(n,y))}function ll(n,r){for(let s=r.directiveStart,t=r.directiveEnd;s<t;s++){let y=n.data[s].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:p,ngAfterViewInit:u,ngAfterViewChecked:v,ngOnDestroy:x}=y;i&&(n.contentHooks??=[]).push(-s,i),p&&((n.contentHooks??=[]).push(s,p),(n.contentCheckHooks??=[]).push(s,p)),u&&(n.viewHooks??=[]).push(-s,u),v&&((n.viewHooks??=[]).push(s,v),(n.viewCheckHooks??=[]).push(s,v)),x!=null&&(n.destroyHooks??=[]).push(s,x)}}function Da(n,r,s){zm(n,r,3,s)}function Ma(n,r,s,t){(n[ht]&3)===s&&zm(n,r,s,t)}function Vu(n,r){let s=n[ht];(s&3)===r&&(s&=16383,s+=1,n[ht]=s)}function zm(n,r,s,t){let o=t!==void 0?n[io]&65535:0,y=t??-1,i=r.length-1,p=0;for(let u=o;u<i;u++)if(typeof r[u+1]=="number"){if(p=r[u],t!=null&&p>=t)break}else r[u]<0&&(n[io]+=65536),(p<y||y==-1)&&(T1(n,s,r,u),n[io]=(n[io]&4294901760)+u+2),u++}function jp(n,r){fn(4,n,r);let s=kt(null);try{r.call(n)}finally{kt(s),fn(5,n,r)}}function T1(n,r,s,t){let o=s[t]<0,y=s[t+1],i=o?-s[t]:s[t],p=n[i];o?n[ht]>>14<n[io]>>16&&(n[ht]&3)===r&&(n[ht]+=16384,jp(p,y)):jp(p,y)}var ao=-1,Di=class{constructor(r,s,t){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=t}};function I1(n){return n instanceof Di}function A1(n){return(n.flags&8)!==0}function k1(n){return(n.flags&16)!==0}var Gu={},uc=class{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,t){t=Ja(t);let o=this.injector.get(r,Gu,t);return o!==Gu||s===Gu?o:this.parentInjector.get(r,s,t)}};function Wm(n){return n!==ao}function Ba(n){return n&32767}function O1(n){return n>>16}function Ua(n,r){let s=O1(n),t=r;for(;s>0;)t=t[bo],s--;return t}var cc=!0;function Va(n){let r=cc;return cc=n,r}var P1=256,$m=P1-1,qm=5,R1=0,pn={};function L1(n,r,s){let t;typeof s=="string"?t=s.charCodeAt(0)||0:s.hasOwnProperty(Zo)&&(t=s[Zo]),t==null&&(t=s[Zo]=R1++);let o=t&$m,y=1<<o;r.data[n+(o>>qm)]|=y}function Ga(n,r){let s=Ym(n,r);if(s!==-1)return s;let t=r[gt];t.firstCreatePass&&(n.injectorIndex=r.length,Hu(t.data,n),Hu(r,null),Hu(t.blueprint,null));let o=td(n,r),y=n.injectorIndex;if(Wm(o)){let i=Ba(o),p=Ua(o,r),u=p[gt].data;for(let v=0;v<8;v++)r[y+v]=p[i+v]|u[i+v]}return r[y+8]=o,y}function Hu(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Ym(n,r){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||r[n.injectorIndex+8]===null?-1:n.injectorIndex}function td(n,r){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let s=0,t=null,o=r;for(;o!==null;){if(t=Jm(o),t===null)return ao;if(s++,o=o[bo],t.injectorIndex!==-1)return t.injectorIndex|s<<16}return ao}function dc(n,r,s){L1(n,r,s)}function Xm(n,r,s){if(s&xt.Optional||n!==void 0)return n;Gc(r,"NodeInjector")}function Zm(n,r,s,t){if(s&xt.Optional&&t===void 0&&(t=null),!(s&(xt.Self|xt.Host))){let o=n[ho],y=Ir(void 0);try{return o?o.get(r,t,s&xt.Optional):nm(r,t,s&xt.Optional)}finally{Ir(y)}}return Xm(t,r,s)}function Qm(n,r,s,t=xt.Default,o){if(n!==null){if(r[ht]&2048&&!(t&xt.Self)){let i=U1(n,r,s,t,pn);if(i!==pn)return i}let y=Km(n,r,s,t,pn);if(y!==pn)return y}return Zm(r,s,t,o)}function Km(n,r,s,t,o){let y=F1(s);if(typeof y=="function"){if(!Nm(r,n,t))return t&xt.Host?Xm(o,s,t):Zm(r,s,t,o);try{let i;if(i=y(t),i==null&&!(t&xt.Optional))Gc(s);else return i}finally{Vm()}}else if(typeof y=="number"){let i=null,p=Ym(n,r),u=ao,v=t&xt.Host?r[gn][rn]:null;for((p===-1||t&xt.SkipSelf)&&(u=p===-1?td(n,r):r[p+8],u===ao||!Ip(t,!1)?p=-1:(i=r[gt],p=Ba(u),r=Ua(u,r)));p!==-1;){let x=r[gt];if(Tp(y,p,x.data)){let w=N1(p,r,s,i,t,v);if(w!==pn)return w}u=r[p+8],u!==ao&&Ip(t,r[gt].data[p+8]===v)&&Tp(y,p,r)?(i=x,p=Ba(u),r=Ua(u,r)):p=-1}}return o}function N1(n,r,s,t,o,y){let i=r[gt],p=i.data[n+8],u=t==null?nl(p)&&cc:t!=i&&(p.type&3)!==0,v=o&xt.Host&&y===p,x=ja(p,i,s,u,v);return x!==null?Mi(r,i,x,p):pn}function ja(n,r,s,t,o){let y=n.providerIndexes,i=r.data,p=y&1048575,u=n.directiveStart,v=n.directiveEnd,x=y>>20,w=t?p:p+x,c=o?p+x:v;for(let a=w;a<c;a++){let d=i[a];if(a<u&&s===d||a>=u&&d.type===s)return a}if(o){let a=i[u];if(a&&ti(a)&&a.type===s)return u}return null}function Mi(n,r,s,t){let o=n[s],y=r.data;if(I1(o)){let i=o;i.resolving&&ub(lb(y[s]));let p=Va(i.canSeeViewProviders);i.resolving=!0;let u,v=i.injectImpl?Ir(i.injectImpl):null,x=Nm(n,t,xt.Default);try{o=n[s]=i.factory(void 0,y,n,t),r.firstCreatePass&&s>=t.directiveStart&&j1(s,y[s],r)}finally{v!==null&&Ir(v),Va(p),i.resolving=!1,Vm()}}return o}function F1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let r=n.hasOwnProperty(Zo)?n[Zo]:void 0;return typeof r=="number"?r>=0?r&$m:B1:r}function Tp(n,r,s){let t=1<<n;return!!(s[r+(n>>qm)]&t)}function Ip(n,r){return!(n&xt.Self)&&!(n&xt.Host&&r)}var bi=class{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,t){return Qm(this._tNode,this._lView,r,Ja(t),s)}};function B1(){return new bi(jr(),Ft())}function Ai(n){return Qa(()=>{let r=n.prototype.constructor,s=r[Aa]||hc(r),t=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==t;){let y=o[Aa]||hc(o);if(y&&y!==s)return y;o=Object.getPrototypeOf(o)}return y=>new y})}function hc(n){return Qp(n)?()=>{let r=hc(Dr(n));return r&&r()}:xi(n)}function U1(n,r,s,t,o){let y=n,i=r;for(;y!==null&&i!==null&&i[ht]&2048&&!(i[ht]&512);){let p=Km(y,i,s,t|xt.Self,pn);if(p!==pn)return p;let u=y.parent;if(!u){let v=i[xm];if(v){let x=v.get(s,pn,t);if(x!==pn)return x}u=Jm(i),i=i[bo]}y=u}return o}function Jm(n){let r=n[gt],s=r.type;return s===2?r.declTNode:s===1?n[rn]:null}function Ap(n,r=null,s=null,t){let o=eg(n,r,s,t);return o.resolveInjectorInitializers(),o}function eg(n,r=null,s=null,t,o=new Set){let y=[s||Vr,Vb(n)];return t=t||(typeof n=="object"?void 0:Mr(n)),new Jo(y,r||$c(),t||null,o)}var vi=class vi{static create(r,s){if(Array.isArray(r))return Ap({name:""},s,r,"");{let t=r.name??"";return Ap({name:t},r.parent,r.providers,t)}}};vi.THROW_IF_NOT_FOUND=Qo,vi.NULL=new Pa,vi.\u0275prov=ft({token:vi,providedIn:"any",factory:()=>Et(om)}),vi.__NG_ELEMENT_ID__=-1;var ri=vi;var V1=new ct("");V1.__NG_ELEMENT_ID__=n=>{let r=jr();if(r===null)throw new ut(204,!1);if(r.type&2)return r.value;if(n&xt.Optional)return null;throw new ut(204,!1)};var G1="ngOriginalError";function zu(n){return n[G1]}var In=class{constructor(){this._console=console}handleError(r){let s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&zu(r);for(;s&&zu(s);)s=zu(s);return s||null}},tg=new ct("",{providedIn:"root",factory:()=>Je(In).handleError.bind(void 0)}),rg=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=H1,r.__NG_ENV_ID__=t=>t;let n=r;return n})(),fc=class extends rg{constructor(r){super(),this._lView=r}onDestroy(r){return Tm(this._lView,r),()=>c1(this._lView,r)}};function H1(){return new fc(Ft())}function z1(){return xo(jr(),Ft())}function xo(n,r){return new zr(nn(n,r))}var zr=(()=>{let r=class r{constructor(t){this.nativeElement=t}};r.__NG_ELEMENT_ID__=z1;let n=r;return n})();function W1(n){return n instanceof zr?n.nativeElement:n}var wo=(()=>{let r=class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new dr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};r.\u0275prov=ft({token:r,providedIn:"root",factory:()=>new r});let n=r;return n})();var pc=class extends vr{constructor(r=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=r,Kb()&&(this.destroyRef=Je(rg,{optional:!0})??void 0,this.pendingTasks=Je(wo,{optional:!0})??void 0)}emit(r){let s=kt(null);try{super.next(r)}finally{kt(s)}}subscribe(r,s,t){let o=r,y=s||(()=>null),i=t;if(r&&typeof r=="object"){let u=r;o=u.next?.bind(u),y=u.error?.bind(u),i=u.complete?.bind(u)}this.__isAsync&&(y=this.wrapInTimeout(y),o&&(o=this.wrapInTimeout(o)),i&&(i=this.wrapInTimeout(i)));let p=super.subscribe({next:o,error:y,complete:i});return r instanceof lr&&r.add(p),p}wrapInTimeout(r){return s=>{let t=this.pendingTasks?.add();setTimeout(()=>{r(s),t!==void 0&&this.pendingTasks?.remove(t)})}}},Yt=pc;function $1(){return this._results[Symbol.iterator]()}var mc=class n{get changes(){return this._changes??=new Yt}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let s=n.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=$1)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){this.dirty=!1;let t=wb(r);(this._changesDetected=!xb(this._results,t,s))&&(this._results=t,this.length=t.length,this.last=t[this.length-1],this.first=t[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function ng(n){return(n.flags&128)===128}var ig=new Map,q1=0;function Y1(){return q1++}function X1(n){ig.set(n[rl],n)}function Z1(n){ig.delete(n[rl])}var kp="__ngContext__";function ni(n,r){Jn(r)?(n[kp]=r[rl],X1(r)):n[kp]=r}function og(n){return ag(n[es])}function sg(n){return ag(n[Jr])}function ag(n){for(;n!==null&&!Pn(n);)n=n[Jr];return n}var gc;function lg(n){gc=n}function Q1(){if(gc!==void 0)return gc;if(typeof document<"u")return document;throw new ut(210,!1)}var rd=new ct("",{providedIn:"root",factory:()=>K1}),K1="ng",nd=new ct(""),_o=new ct("",{providedIn:"platform",factory:()=>"unknown"});var id=new ct("",{providedIn:"root",factory:()=>Q1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var J1="h",ex="b";var tx=()=>null;function od(n,r,s=!1){return tx(n,r,s)}var ug=!1,rx=new ct("",{providedIn:"root",factory:()=>ug});var yc=class{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${K0})`}};function sd(n){return n instanceof yc?n.changingThisBreaksApplicationSecurity:n}var nx=/^>|^->|<!--|-->|--!>|<!-$/g,ix=/(<|>)/g,ox="\u200B$1\u200B";function sx(n){return n.replace(nx,r=>r.replace(ix,ox))}function cg(n){return n instanceof Function?n():n}var An=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(An||{}),ax;function ad(n,r){return ax(n,r)}function oo(n,r,s,t,o){if(t!=null){let y,i=!1;Pn(t)?y=t:Jn(t)&&(i=!0,t=t[On]);let p=yn(t);n===0&&s!==null?o==null?mg(r,s,p):Ha(r,s,p,o||null,!0):n===1&&s!==null?Ha(r,s,p,o||null,!0):n===2?Sx(r,p,i):n===3&&r.destroyNode(p),y!=null&&Ex(r,n,y,s,o)}}function lx(n,r){return n.createText(r)}function ux(n,r){return n.createComment(sx(r))}function dg(n,r,s){return n.createElement(r,s)}function cx(n,r){hg(n,r),r[On]=null,r[rn]=null}function dx(n,r,s,t,o,y){t[On]=o,t[rn]=r,cl(n,t,s,1,o,y)}function hg(n,r){r[jn].changeDetectionScheduler?.notify(8),cl(n,r,r[mr],2,null,null)}function hx(n){let r=n[es];if(!r)return Wu(n[gt],n);for(;r;){let s=null;if(Jn(r))s=r[es];else{let t=r[Lr];t&&(s=t)}if(!s){for(;r&&!r[Jr]&&r!==n;)Jn(r)&&Wu(r[gt],r),r=r[Er];r===null&&(r=n),Jn(r)&&Wu(r[gt],r),s=r&&r[Jr]}r=s}}function fx(n,r,s,t){let o=Lr+t,y=s.length;t>0&&(s[o-1][Jr]=r),t<y-Lr?(r[Jr]=s[o],im(s,Lr+t,r)):(s.push(r),r[Jr]=null),r[Er]=s;let i=r[_i];i!==null&&s!==i&&fg(i,r);let p=r[Tn];p!==null&&p.insertView(n),ac(r),r[ht]|=128}function fg(n,r){let s=n[fo],t=r[Er];if(Jn(t))n[ht]|=Fa.HasTransplantedViews;else{let o=t[Er][gn];r[gn]!==o&&(n[ht]|=Fa.HasTransplantedViews)}s===null?n[fo]=[r]:s.push(r)}function ld(n,r){let s=n[fo],t=s.indexOf(r);s.splice(t,1)}function vc(n,r){if(n.length<=Lr)return;let s=Lr+r,t=n[s];if(t){let o=t[_i];o!==null&&o!==n&&ld(o,t),r>0&&(n[s-1][Jr]=t[Jr]);let y=Oa(n,Lr+r);cx(t[gt],t);let i=y[Tn];i!==null&&i.detachView(y[gt]),t[Er]=null,t[Jr]=null,t[ht]&=-129}return t}function pg(n,r){if(!(r[ht]&256)){let s=r[mr];s.destroyNode&&cl(n,r,s,3,null,null),hx(r)}}function Wu(n,r){if(r[ht]&256)return;let s=kt(null);try{r[ht]&=-129,r[ht]|=256,r[Gr]&&xu(r[Gr]),mx(n,r),px(n,r),r[gt].type===1&&r[mr].destroy();let t=r[_i];if(t!==null&&Pn(r[Er])){t!==r[Er]&&ld(t,r);let o=r[Tn];o!==null&&o.detachView(n)}Z1(r)}finally{kt(s)}}function px(n,r){let s=n.cleanup,t=r[La];if(s!==null)for(let y=0;y<s.length-1;y+=2)if(typeof s[y]=="string"){let i=s[y+3];i>=0?t[i]():t[-i].unsubscribe(),y+=2}else{let i=t[s[y+1]];s[y].call(i)}t!==null&&(r[La]=null);let o=r[Kn];if(o!==null){r[Kn]=null;for(let y=0;y<o.length;y++){let i=o[y];i()}}}function mx(n,r){let s;if(n!=null&&(s=n.destroyHooks)!=null)for(let t=0;t<s.length;t+=2){let o=r[s[t]];if(!(o instanceof Di)){let y=s[t+1];if(Array.isArray(y))for(let i=0;i<y.length;i+=2){let p=o[y[i]],u=y[i+1];fn(4,p,u);try{u.call(p)}finally{fn(5,p,u)}}else{fn(4,o,y);try{y.call(o)}finally{fn(5,o,y)}}}}}function gx(n,r,s){return yx(n,r.parent,s)}function yx(n,r,s){let t=r;for(;t!==null&&t.type&168;)r=t,t=r.parent;if(t===null)return s[On];{let{componentOffset:o}=t;if(o>-1){let{encapsulation:y}=n.data[t.directiveStart+o];if(y===mn.None||y===mn.Emulated)return null}return nn(t,s)}}function Ha(n,r,s,t,o){n.insertBefore(r,s,t,o)}function mg(n,r,s){n.appendChild(r,s)}function Op(n,r,s,t,o){t!==null?Ha(n,r,s,t,o):mg(n,r,s)}function vx(n,r,s,t){n.removeChild(r,s,t)}function ud(n,r){return n.parentNode(r)}function bx(n,r){return n.nextSibling(r)}function xx(n,r,s){return _x(n,r,s)}function wx(n,r,s){return n.type&40?nn(n,s):null}var _x=wx,Pp;function ul(n,r,s,t){let o=gx(n,t,r),y=r[mr],i=t.parent||r[rn],p=xx(i,t,r);if(o!=null)if(Array.isArray(s))for(let u=0;u<s.length;u++)Op(y,o,s[u],p,!1);else Op(y,o,s,p,!1);Pp!==void 0&&Pp(y,t,r,s,o)}function Ta(n,r){if(r!==null){let s=r.type;if(s&3)return nn(r,n);if(s&4)return bc(-1,n[r.index]);if(s&8){let t=r.child;if(t!==null)return Ta(n,t);{let o=n[r.index];return Pn(o)?bc(-1,o):yn(o)}}else{if(s&32)return ad(r,n)()||yn(n[r.index]);{let t=gg(n,r);if(t!==null){if(Array.isArray(t))return t[0];let o=Ci(n[gn]);return Ta(o,t)}else return Ta(n,r.next)}}}return null}function gg(n,r){if(r!==null){let t=n[gn][rn],o=r.projection;return t.projection[o]}return null}function bc(n,r){let s=Lr+n+1;if(s<r.length){let t=r[s],o=t[gt].firstChild;if(o!==null)return Ta(t,o)}return r[Si]}function Sx(n,r,s){let t=ud(n,r);t&&vx(n,t,r,s)}function cd(n,r,s,t,o,y,i){for(;s!=null;){if(s.type===128){s=s.next;continue}let p=t[s.index],u=s.type;if(i&&r===0&&(p&&ni(yn(p),t),s.flags|=2),(s.flags&32)!==32)if(u&8)cd(n,r,s.child,t,o,y,!1),oo(r,n,o,p,y);else if(u&32){let v=ad(s,t),x;for(;x=v();)oo(r,n,o,x,y);oo(r,n,o,p,y)}else u&16?Cx(n,r,t,s,o,y):oo(r,n,o,p,y);s=i?s.projectionNext:s.next}}function cl(n,r,s,t,o,y){cd(s,t,n.firstChild,r,o,y,!1)}function Cx(n,r,s,t,o,y){let i=s[gn],u=i[rn].projection[t.projection];if(Array.isArray(u))for(let v=0;v<u.length;v++){let x=u[v];oo(r,n,o,x,y)}else{let v=u,x=i[Er];ng(t)&&(v.flags|=128),cd(n,r,v,x,o,y,!0)}}function Ex(n,r,s,t,o){let y=s[Si],i=yn(s);y!==i&&oo(r,n,t,y,o);for(let p=Lr;p<s.length;p++){let u=s[p];cl(u[gt],u,n,r,t,y)}}function Dx(n,r,s,t,o){if(r)o?n.addClass(s,t):n.removeClass(s,t);else{let y=t.indexOf("-")===-1?void 0:An.DashCase;o==null?n.removeStyle(s,t,y):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),y|=An.Important),n.setStyle(s,t,o,y))}}function Mx(n,r,s){n.setAttribute(r,"style",s)}function yg(n,r,s){s===""?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function vg(n,r,s){let{mergedAttrs:t,classes:o,styles:y}=s;t!==null&&tc(n,r,t),o!==null&&yg(n,r,o),y!==null&&Mx(n,r,y)}var ls={};function dl(n=1){bg(xr(),Ft(),as()+n,!1)}function bg(n,r,s,t){if(!t)if((r[ht]&3)===3){let y=n.preOrderCheckHooks;y!==null&&Da(r,y,s)}else{let y=n.preOrderHooks;y!==null&&Ma(r,y,0,s)}Ei(s)}function Bt(n,r=xt.Default){let s=Ft();if(s===null)return Et(n,r);let t=jr();return Qm(t,s,Dr(n),r)}function xg(n,r,s,t,o,y){let i=kt(null);try{let p=null;o&ei.SignalBased&&(p=r[t][En]),p!==null&&p.transformFn!==void 0&&(y=p.transformFn(y)),o&ei.HasDecoratorInputTransform&&(y=n.inputTransforms[t].call(r,y)),n.setInput!==null?n.setInput(r,p,y,s,t):_m(r,p,t,y)}finally{kt(i)}}function jx(n,r){let s=n.hostBindingOpCodes;if(s!==null)try{for(let t=0;t<s.length;t++){let o=s[t];if(o<0)Ei(~o);else{let y=o,i=s[++t],p=s[++t];_1(i,y);let u=r[y];p(2,u)}}}finally{Ei(-1)}}function hl(n,r,s,t,o,y,i,p,u,v,x){let w=r.blueprint.slice();return w[On]=o,w[ht]=t|4|128|8|64,(v!==null||n&&n[ht]&2048)&&(w[ht]|=2048),Mm(w),w[Er]=w[bo]=n,w[en]=s,w[jn]=i||n&&n[jn],w[mr]=p||n&&n[mr],w[ho]=u||n&&n[ho]||null,w[rn]=y,w[rl]=Y1(),w[Ra]=x,w[xm]=v,w[gn]=r.type==2?n[gn]:w,w}function us(n,r,s,t,o){let y=n.data[r];if(y===null)y=Tx(n,r,s,t,o),w1()&&(y.flags|=32);else if(y.type&64){y.type=s,y.value=t,y.attrs=o;let i=y1();y.injectorIndex=i===null?-1:i.injectorIndex}return Ii(y,!0),y}function Tx(n,r,s,t,o){let y=km(),i=Qc(),p=i?y:y&&y.parent,u=n.data[r]=Rx(n,p,s,r,t,o);return n.firstChild===null&&(n.firstChild=u),y!==null&&(i?y.child==null&&u.parent!==null&&(y.child=u):y.next===null&&(y.next=u,u.prev=y)),u}function wg(n,r,s,t){if(s===0)return-1;let o=r.length;for(let y=0;y<s;y++)r.push(t),n.blueprint.push(t),n.data.push(null);return o}function _g(n,r,s,t,o){let y=as(),i=t&2;try{Ei(-1),i&&r.length>tn&&bg(n,r,tn,!1),fn(i?2:0,o),s(t,o)}finally{Ei(y),fn(i?3:1,o)}}function dd(n,r,s){if(qc(r)){let t=kt(null);try{let o=r.directiveStart,y=r.directiveEnd;for(let i=o;i<y;i++){let p=n.data[i];if(p.contentQueries){let u=s[i];p.contentQueries(1,u,i)}}}finally{kt(t)}}}function hd(n,r,s){Am()&&(Vx(n,r,s,nn(s,r)),(s.flags&64)===64&&Dg(n,r,s))}function fd(n,r,s=nn){let t=r.localNames;if(t!==null){let o=r.index+1;for(let y=0;y<t.length;y+=2){let i=t[y+1],p=i===-1?s(r,n):n[i];n[o++]=p}}}function Sg(n){let r=n.tView;return r===null||r.incompleteFirstPass?n.tView=pd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):r}function pd(n,r,s,t,o,y,i,p,u,v,x){let w=tn+t,c=w+o,a=Ix(w,c),d=typeof v=="function"?v():v;return a[gt]={type:n,blueprint:a,template:s,queries:null,viewQuery:p,declTNode:r,data:a.slice().fill(null,w),bindingStartIndex:w,expandoStartIndex:c,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof y=="function"?y():y,pipeRegistry:typeof i=="function"?i():i,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1,ssrId:x}}function Ix(n,r){let s=[];for(let t=0;t<r;t++)s.push(t<n?null:ls);return s}function Ax(n,r,s,t){let y=t.get(rx,ug)||s===mn.ShadowDom,i=n.selectRootElement(r,y);return kx(i),i}function kx(n){Ox(n)}var Ox=()=>null;function Px(n,r,s,t){let o=Tg(r);o.push(s),n.firstCreatePass&&Ig(n).push(t,o.length-1)}function Rx(n,r,s,t,o,y){let i=r?r.injectorIndex:-1,p=0;return p1()&&(p|=128),{type:s,index:t,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:o,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Rp(n,r,s,t,o){for(let y in r){if(!r.hasOwnProperty(y))continue;let i=r[y];if(i===void 0)continue;t??={};let p,u=ei.None;Array.isArray(i)?(p=i[0],u=i[1]):p=i;let v=y;if(o!==null){if(!o.hasOwnProperty(y))continue;v=o[y]}n===0?Lp(t,s,v,p,u):Lp(t,s,v,p)}return t}function Lp(n,r,s,t,o){let y;n.hasOwnProperty(s)?(y=n[s]).push(r,t):y=n[s]=[r,t],o!==void 0&&y.push(o)}function Lx(n,r,s){let t=r.directiveStart,o=r.directiveEnd,y=n.data,i=r.attrs,p=[],u=null,v=null;for(let x=t;x<o;x++){let w=y[x],c=s?s.get(w):null,a=c?c.inputs:null,d=c?c.outputs:null;u=Rp(0,w.inputs,x,u,a),v=Rp(1,w.outputs,x,v,d);let f=u!==null&&i!==null&&!zc(r)?Zx(u,x,i):null;p.push(f)}u!==null&&(u.hasOwnProperty("class")&&(r.flags|=8),u.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=p,r.inputs=u,r.outputs=v}function Nx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Cg(n,r,s,t,o,y,i,p){let u=nn(r,s),v=r.inputs,x;!p&&v!=null&&(x=v[t])?(gd(n,s,x,t,o),nl(r)&&Fx(s,r.index)):r.type&3?(t=Nx(t),o=i!=null?i(o,r.value||"",t):o,y.setProperty(u,t,o)):r.type&12}function Fx(n,r){let s=li(r,n);s[ht]&16||(s[ht]|=64)}function md(n,r,s,t){if(Am()){let o=t===null?null:{"":-1},y=Hx(n,s),i,p;y===null?i=p=null:[i,p]=y,i!==null&&Eg(n,r,s,i,o,p),o&&zx(s,t,o)}s.mergedAttrs=Ko(s.mergedAttrs,s.attrs)}function Eg(n,r,s,t,o,y){for(let v=0;v<t.length;v++)dc(Ga(s,r),n,t[v].type);$x(s,n.data.length,t.length);for(let v=0;v<t.length;v++){let x=t[v];x.providersResolver&&x.providersResolver(x)}let i=!1,p=!1,u=wg(n,r,t.length,null);for(let v=0;v<t.length;v++){let x=t[v];s.mergedAttrs=Ko(s.mergedAttrs,x.hostAttrs),qx(n,s,r,u,x),Wx(u,x,o),x.contentQueries!==null&&(s.flags|=4),(x.hostBindings!==null||x.hostAttrs!==null||x.hostVars!==0)&&(s.flags|=64);let w=x.type.prototype;!i&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),i=!0),!p&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),p=!0),u++}Lx(n,s,y)}function Bx(n,r,s,t,o){let y=o.hostBindings;if(y){let i=n.hostBindingOpCodes;i===null&&(i=n.hostBindingOpCodes=[]);let p=~r.index;Ux(i)!=p&&i.push(p),i.push(s,t,y)}}function Ux(n){let r=n.length;for(;r>0;){let s=n[--r];if(typeof s=="number"&&s<0)return s}return 0}function Vx(n,r,s,t){let o=s.directiveStart,y=s.directiveEnd;nl(s)&&Yx(r,s,n.data[o+s.componentOffset]),n.firstCreatePass||Ga(s,r),ni(t,r);let i=s.initialInputs;for(let p=o;p<y;p++){let u=n.data[p],v=Mi(r,n,p,s);if(ni(v,r),i!==null&&Xx(r,p-o,v,u,s,i),ti(u)){let x=li(s.index,r);x[en]=Mi(r,n,p,s)}}}function Dg(n,r,s){let t=s.directiveStart,o=s.directiveEnd,y=s.index,i=S1();try{Ei(y);for(let p=t;p<o;p++){let u=n.data[p],v=r[p];lc(p),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Gx(u,v)}}finally{Ei(-1),lc(i)}}function Gx(n,r){n.hostBindings!==null&&n.hostBindings(1,r)}function Hx(n,r){let s=n.directiveRegistry,t=null,o=null;if(s)for(let y=0;y<s.length;y++){let i=s[y];if(kb(r,i.selectors,!1))if(t||(t=[]),ti(i))if(i.findHostDirectiveDefs!==null){let p=[];o=o||new Map,i.findHostDirectiveDefs(i,p,o),t.unshift(...p,i);let u=p.length;xc(n,r,u)}else t.unshift(i),xc(n,r,0);else o=o||new Map,i.findHostDirectiveDefs?.(i,t,o),t.push(i)}return t===null?null:[t,o]}function xc(n,r,s){r.componentOffset=s,(n.components??=[]).push(r.index)}function zx(n,r,s){if(r){let t=n.localNames=[];for(let o=0;o<r.length;o+=2){let y=s[r[o+1]];if(y==null)throw new ut(-301,!1);t.push(r[o],y)}}}function Wx(n,r,s){if(s){if(r.exportAs)for(let t=0;t<r.exportAs.length;t++)s[r.exportAs[t]]=n;ti(r)&&(s[""]=n)}}function $x(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function qx(n,r,s,t,o){n.data[t]=o;let y=o.factory||(o.factory=xi(o.type,!0)),i=new Di(y,ti(o),Bt);n.blueprint[t]=i,s[t]=i,Bx(n,r,t,wg(n,s,o.hostVars,ls),o)}function Yx(n,r,s){let t=nn(r,n),o=Sg(s),y=n[jn].rendererFactory,i=16;s.signals?i=4096:s.onPush&&(i=64);let p=fl(n,hl(n,o,null,i,t,r,null,y.createRenderer(t,s),null,null,null));n[r.index]=p}function Xx(n,r,s,t,o,y){let i=y[r];if(i!==null)for(let p=0;p<i.length;){let u=i[p++],v=i[p++],x=i[p++],w=i[p++];xg(t,s,u,v,x,w)}}function Zx(n,r,s){let t=null,o=0;for(;o<s.length;){let y=s[o];if(y===0){o+=4;continue}else if(y===5){o+=2;continue}if(typeof y=="number")break;if(n.hasOwnProperty(y)){t===null&&(t=[]);let i=n[y];for(let p=0;p<i.length;p+=3)if(i[p]===r){t.push(y,i[p+1],i[p+2],s[o+1]);break}}o+=2}return t}function Mg(n,r,s,t){return[n,!0,0,r,null,t,null,s,null,null]}function jg(n,r){let s=n.contentQueries;if(s!==null){let t=kt(null);try{for(let o=0;o<s.length;o+=2){let y=s[o],i=s[o+1];if(i!==-1){let p=n.data[i];Kc(y),p.contentQueries(2,r[i],i)}}}finally{kt(t)}}}function fl(n,r){return n[es]?n[Ep][Jr]=r:n[es]=r,n[Ep]=r,r}function wc(n,r,s){Kc(0);let t=kt(null);try{r(n,s)}finally{kt(t)}}function Tg(n){return n[La]??=[]}function Ig(n){return n.cleanup??=[]}function Ag(n,r){let s=n[ho],t=s?s.get(In,null):null;t&&t.handleError(r)}function gd(n,r,s,t,o){for(let y=0;y<s.length;){let i=s[y++],p=s[y++],u=s[y++],v=r[i],x=n.data[i];xg(x,v,t,p,u,o)}}function Qx(n,r){let s=li(r,n),t=s[gt];Kx(t,s);let o=s[On];o!==null&&s[Ra]===null&&(s[Ra]=od(o,s[ho])),yd(t,s,s[en])}function Kx(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])}function yd(n,r,s){Jc(r);try{let t=n.viewQuery;t!==null&&wc(1,t,s);let o=n.template;o!==null&&_g(n,r,o,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),r[Tn]?.finishViewCreation(n),n.staticContentQueries&&jg(n,r),n.staticViewQueries&&wc(2,n.viewQuery,s);let y=n.components;y!==null&&Jx(r,y)}catch(t){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),t}finally{r[ht]&=-5,ed()}}function Jx(n,r){for(let s=0;s<r.length;s++)Qx(n,r[s])}function ew(n,r,s,t){let o=kt(null);try{let y=r.tView,p=n[ht]&4096?4096:16,u=hl(n,y,s,p,null,r,null,null,t?.injector??null,t?.embeddedViewInjector??null,t?.dehydratedView??null),v=n[r.index];u[_i]=v;let x=n[Tn];return x!==null&&(u[Tn]=x.createEmbeddedView(y)),yd(y,u,s),u}finally{kt(o)}}function Np(n,r){return!r||r.firstChild===null||ng(n)}function tw(n,r,s,t=!0){let o=r[gt];if(fx(o,r,n,s),t){let i=bc(s,n),p=r[mr],u=ud(p,n[Si]);u!==null&&dx(o,n[rn],p,r,u,i)}let y=r[Ra];y!==null&&y.firstChild!==null&&(y.firstChild=null)}function za(n,r,s,t,o=!1){for(;s!==null;){if(s.type===128){s=o?s.projectionNext:s.next;continue}let y=r[s.index];y!==null&&t.push(yn(y)),Pn(y)&&rw(y,t);let i=s.type;if(i&8)za(n,r,s.child,t);else if(i&32){let p=ad(s,r),u;for(;u=p();)t.push(u)}else if(i&16){let p=gg(r,s);if(Array.isArray(p))t.push(...p);else{let u=Ci(r[gn]);za(u[gt],u,p,t,!0)}}s=o?s.projectionNext:s.next}return t}function rw(n,r){for(let s=Lr;s<n.length;s++){let t=n[s],o=t[gt].firstChild;o!==null&&za(t[gt],t,o,r)}n[Si]!==n[On]&&r.push(n[Si])}var kg=[];function nw(n){return n[Gr]??iw(n)}function iw(n){let r=kg.pop()??Object.create(sw);return r.lView=n,r}function ow(n){n.lView[Gr]!==n&&(n.lView=null,kg.push(n))}var sw=St(Qe({},Wo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ol(n.lView)},consumerOnSignalRead(){this.lView[Gr]=this}});function aw(n){let r=n[Gr]??Object.create(lw);return r.lView=n,r}var lw=St(Qe({},Wo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let r=Ci(n.lView);for(;r&&!Og(r[gt]);)r=Ci(r);r&&jm(r)},consumerOnSignalRead(){this.lView[Gr]=this}});function Og(n){return n.type!==2}var uw=100;function Pg(n,r=!0,s=0){let t=n[jn],o=t.rendererFactory,y=!1;y||o.begin?.();try{cw(n,s)}catch(i){throw r&&Ag(n,i),i}finally{y||(o.end?.(),t.inlineEffectRunner?.flush())}}function cw(n,r){let s=Pm();try{Mp(!0),_c(n,r);let t=0;for(;ts(n);){if(t===uw)throw new ut(103,!1);t++,_c(n,1)}}finally{Mp(s)}}function dw(n,r,s,t){let o=r[ht];if((o&256)===256)return;let y=!1,i=!1;!y&&r[jn].inlineEffectRunner?.flush(),Jc(r);let p=!0,u=null,v=null;y||(Og(n)?(v=nw(r),u=Js(v)):If()===null?(p=!1,v=aw(r),u=Js(v)):r[Gr]&&(xu(r[Gr]),r[Gr]=null));try{Mm(r),b1(n.bindingStartIndex),s!==null&&_g(n,r,s,2,t);let x=(o&3)===3;if(!y)if(x){let a=n.preOrderCheckHooks;a!==null&&Da(r,a,null)}else{let a=n.preOrderHooks;a!==null&&Ma(r,a,0,null),Vu(r,0)}if(i||hw(r),Rg(r,0),n.contentQueries!==null&&jg(n,r),!y)if(x){let a=n.contentCheckHooks;a!==null&&Da(r,a)}else{let a=n.contentHooks;a!==null&&Ma(r,a,1),Vu(r,1)}jx(n,r);let w=n.components;w!==null&&Ng(r,w,0);let c=n.viewQuery;if(c!==null&&wc(2,c,t),!y)if(x){let a=n.viewCheckHooks;a!==null&&Da(r,a)}else{let a=n.viewHooks;a!==null&&Ma(r,a,2),Vu(r,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),r[Uu]){for(let a of r[Uu])a();r[Uu]=null}y||(r[ht]&=-73)}catch(x){throw y||ol(r),x}finally{v!==null&&(vu(v,u),p&&ow(v)),ed()}}function Rg(n,r){for(let s=og(n);s!==null;s=sg(s))for(let t=Lr;t<s.length;t++){let o=s[t];Lg(o,r)}}function hw(n){for(let r=og(n);r!==null;r=sg(r)){if(!(r[ht]&Fa.HasTransplantedViews))continue;let s=r[fo];for(let t=0;t<s.length;t++){let o=s[t];jm(o)}}}function fw(n,r,s){let t=li(r,n);Lg(t,s)}function Lg(n,r){Yc(n)&&_c(n,r)}function _c(n,r){let t=n[gt],o=n[ht],y=n[Gr],i=!!(r===0&&o&16);if(i||=!!(o&64&&r===0),i||=!!(o&1024),i||=!!(y?.dirty&&bu(y)),i||=!1,y&&(y.dirty=!1),n[ht]&=-9217,i)dw(t,n,t.template,n[en]);else if(o&8192){Rg(n,1);let p=t.components;p!==null&&Ng(n,p,1)}}function Ng(n,r,s){for(let t=0;t<r.length;t++)fw(n,r[t],s)}function vd(n,r){let s=Pm()?64:1088;for(n[jn].changeDetectionScheduler?.notify(r);n;){n[ht]|=s;let t=Ci(n);if(oc(n)&&!t)return n;n=t}return null}var ji=class{get rootNodes(){let r=this._lView,s=r[gt];return za(s,r,s.firstChild,[])}constructor(r,s,t=!0){this._lView=r,this._cdRefInjectingView=s,this.notifyErrorHandler=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[en]}set context(r){this._lView[en]=r}get destroyed(){return(this._lView[ht]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let r=this._lView[Er];if(Pn(r)){let s=r[Na],t=s?s.indexOf(this):-1;t>-1&&(vc(r,t),Oa(s,t))}this._attachedToViewContainer=!1}pg(this._lView[gt],this._lView)}onDestroy(r){Tm(this._lView,r)}markForCheck(){vd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ht]&=-129}reattach(){ac(this._lView),this._lView[ht]|=128}detectChanges(){this._lView[ht]|=1024,Pg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ut(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let r=oc(this._lView),s=this._lView[_i];s!==null&&!r&&ld(s,this._lView),hg(this._lView[gt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ut(902,!1);this._appRef=r;let s=oc(this._lView),t=this._lView[_i];t!==null&&!s&&fg(t,this._lView),ac(this._lView)}},mo=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=gw;let n=r;return n})(),pw=mo,mw=class extends pw{constructor(r,s,t){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=t}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,s){return this.createEmbeddedViewImpl(r,s)}createEmbeddedViewImpl(r,s,t){let o=ew(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:s,dehydratedView:t});return new ji(o)}};function gw(){return bd(jr(),Ft())}function bd(n,r){return n.type&4?new mw(r,n,xo(n,r)):null}var yA=new RegExp(`^(\\d+)*(${ex}|${J1})*(.*)`);var yw=()=>null;function Fp(n,r){return yw(n,r)}var rs=class{},xd=new ct("",{providedIn:"root",factory:()=>!1});var Fg=new ct(""),Sc=class{},Wa=class{};function vw(n){let r=Error(`No component factory found for ${Mr(n)}.`);return r[bw]=n,r}var bw="ngComponent";var Cc=class{resolveComponentFactory(r){throw vw(r)}},kd=class kd{};kd.NULL=new Cc;var go=kd,yo=class{},So=(()=>{let r=class r{constructor(){this.destroyNode=null}};r.__NG_ELEMENT_ID__=()=>xw();let n=r;return n})();function xw(){let n=Ft(),r=jr(),s=li(r.index,n);return(Jn(s)?s:n)[mr]}var ww=(()=>{let r=class r{};r.\u0275prov=ft({token:r,providedIn:"root",factory:()=>null});let n=r;return n})();var Bp=new Set;function cs(n){Bp.has(n)||(Bp.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Bg(n){let r=!0;return setTimeout(()=>{r&&(r=!1,n())}),typeof Ku.requestAnimationFrame=="function"&&Ku.requestAnimationFrame(()=>{r&&(r=!1,n())}),()=>{r=!1}}function Up(n){let r=!0;return queueMicrotask(()=>{r&&n()}),()=>{r=!1}}function Vp(...n){}var Jt=class n{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1),typeof Zone>"u")throw new ut(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!t&&s,o.shouldCoalesceRunChangeDetection=t,o.callbackScheduled=!1,Cw(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new ut(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new ut(909,!1)}run(r,s,t){return this._inner.run(r,s,t)}runTask(r,s,t,o){let y=this._inner,i=y.scheduleEventTask("NgZoneEvent: "+o,r,_w,Vp,Vp);try{return y.runTask(i,s,t)}finally{y.cancelTask(i)}}runGuarded(r,s,t){return this._inner.runGuarded(r,s,t)}runOutsideAngular(r){return this._outer.run(r)}},_w={};function wd(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sw(n){n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,Zone.root.run(()=>{Bg(()=>{n.callbackScheduled=!1,Ec(n),n.isCheckStableRunning=!0,wd(n),n.isCheckStableRunning=!1})}),Ec(n))}function Cw(n){let r=()=>{Sw(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,t,o,y,i,p)=>{if(Ew(p))return s.invokeTask(o,y,i,p);try{return Gp(n),s.invokeTask(o,y,i,p)}finally{(n.shouldCoalesceEventChangeDetection&&y.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&r(),Hp(n)}},onInvoke:(s,t,o,y,i,p,u)=>{try{return Gp(n),s.invoke(o,y,i,p,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Dw(p)&&r(),Hp(n)}},onHasTask:(s,t,o,y)=>{s.hasTask(o,y),t===o&&(y.change=="microTask"?(n._hasPendingMicrotasks=y.microTask,Ec(n),wd(n)):y.change=="macroTask"&&(n.hasPendingMacrotasks=y.macroTask))},onHandleError:(s,t,o,y)=>(s.handleError(o,y),n.runOutsideAngular(()=>n.onError.emit(y)),!1)})}function Ec(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Gp(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Hp(n){n._nesting--,wd(n)}var Dc=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(r,s,t){return r.apply(s,t)}runGuarded(r,s,t){return r.apply(s,t)}runOutsideAngular(r){return r()}runTask(r,s,t,o){return r.apply(s,t)}};function Ew(n){return Ug(n,"__ignore_ng_zone__")}function Dw(n){return Ug(n,"__scheduler_tick__")}function Ug(n,r){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[r]===!0}var Vg=(()=>{let r=class r{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let o of t)o()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};r.\u0275prov=ft({token:r,providedIn:"root",factory:()=>new r});let n=r;return n})();function $a(n,r,s){let t=s?n.styles:null,o=s?n.classes:null,y=0;if(r!==null)for(let i=0;i<r.length;i++){let p=r[i];if(typeof p=="number")y=p;else if(y==1)o=mp(o,p);else if(y==2){let u=p,v=r[++i];t=mp(t,u+": "+v+";")}}s?n.styles=t:n.stylesWithoutHost=t,s?n.classes=o:n.classesWithoutHost=o}var qa=class extends go{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){let s=wi(r);return new ns(s,this.ngModule)}};function zp(n,r){let s=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let o=n[t];if(o===void 0)continue;let y=Array.isArray(o),i=y?o[0]:o,p=y?o[1]:ei.None;r?s.push({propName:i,templateName:t,isSignal:(p&ei.SignalBased)!==0}):s.push({propName:i,templateName:t})}return s}function Mw(n){let r=n.toLowerCase();return r==="svg"?n1:r==="math"?i1:null}var ns=class extends Wa{get inputs(){let r=this.componentDef,s=r.inputTransforms,t=zp(r.inputs,!0);if(s!==null)for(let o of t)s.hasOwnProperty(o.propName)&&(o.transform=s[o.propName]);return t}get outputs(){return zp(this.componentDef.outputs,!1)}constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=Lb(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}create(r,s,t,o){let y=kt(null);try{o=o||this.ngModule;let i=o instanceof Hr?o:o?.injector;i&&this.componentDef.getStandaloneInjector!==null&&(i=this.componentDef.getStandaloneInjector(i)||i);let p=i?new uc(r,i):r,u=p.get(yo,null);if(u===null)throw new ut(407,!1);let v=p.get(ww,null),x=p.get(Vg,null),w=p.get(rs,null),c={rendererFactory:u,sanitizer:v,inlineEffectRunner:null,afterRenderEventManager:x,changeDetectionScheduler:w},a=u.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",f=t?Ax(a,t,this.componentDef.encapsulation,p):dg(a,d,Mw(d)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let l=null;f!==null&&(l=od(f,p,!0));let h=pd(0,null,null,1,0,null,null,null,null,null,null),g=hl(null,h,null,m,null,null,c,a,p,null,l);Jc(g);let b,_;try{let A=this.componentDef,P,j=null;A.findHostDirectiveDefs?(P=[],j=new Map,A.findHostDirectiveDefs(A,P,j),P.push(A)):P=[A];let E=jw(g,f),k=Tw(E,f,A,P,g,c,a);_=Dm(h,tn),f&&kw(a,A,f,t),s!==void 0&&Ow(_,this.ngContentSelectors,s),b=Aw(k,A,P,j,g,[Pw]),yd(h,g,null)}finally{ed()}return new Mc(this.componentType,b,xo(_,g),g,_)}finally{kt(y)}}},Mc=class extends Sc{constructor(r,s,t,o,y){super(),this.location=t,this._rootLView=o,this._tNode=y,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new ji(o,void 0,!1),this.componentType=r}setInput(r,s){let t=this._tNode.inputs,o;if(t!==null&&(o=t[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),s))return;let y=this._rootLView;gd(y[gt],y,o,r,s),this.previousInputValues.set(r,s);let i=li(this._tNode.index,y);vd(i,1)}}get injector(){return new bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}};function jw(n,r){let s=n[gt],t=tn;return n[t]=r,us(s,t,2,"#host",null)}function Tw(n,r,s,t,o,y,i){let p=o[gt];Iw(t,n,r,i);let u=null;r!==null&&(u=od(r,o[ho]));let v=y.rendererFactory.createRenderer(r,s),x=16;s.signals?x=4096:s.onPush&&(x=64);let w=hl(o,Sg(s),null,x,o[n.index],n,y,v,null,null,u);return p.firstCreatePass&&xc(p,n,t.length-1),fl(o,w),o[n.index]=w}function Iw(n,r,s,t){for(let o of n)r.mergedAttrs=Ko(r.mergedAttrs,o.hostAttrs);r.mergedAttrs!==null&&($a(r,r.mergedAttrs,!0),s!==null&&vg(t,s,r))}function Aw(n,r,s,t,o,y){let i=jr(),p=o[gt],u=nn(i,o);Eg(p,o,i,s,null,t);for(let x=0;x<s.length;x++){let w=i.directiveStart+x,c=Mi(o,p,w,i);ni(c,o)}Dg(p,o,i),u&&ni(u,o);let v=Mi(o,p,i.directiveStart+i.componentOffset,i);if(n[en]=o[en]=v,y!==null)for(let x of y)x(v,r);return dd(p,i,o),v}function kw(n,r,s,t){if(t)tc(n,s,["ng-version","18.1.1"]);else{let{attrs:o,classes:y}=Nb(r.selectors[0]);o&&tc(n,s,o),y&&y.length>0&&yg(n,s,y.join(" "))}}function Ow(n,r,s){let t=n.projection=[];for(let o=0;o<r.length;o++){let y=s[o];t.push(y!=null?Array.from(y):null)}}function Pw(){let n=jr();ll(Ft()[gt],n)}var ki=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=Rw;let n=r;return n})();function Rw(){let n=jr();return Hg(n,Ft())}var Lw=ki,Gg=class extends Lw{constructor(r,s,t){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=t}get element(){return xo(this._hostTNode,this._hostLView)}get injector(){return new bi(this._hostTNode,this._hostLView)}get parentInjector(){let r=td(this._hostTNode,this._hostLView);if(Wm(r)){let s=Ua(r,this._hostLView),t=Ba(r),o=s[gt].data[t+8];return new bi(o,s)}else return new bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){let s=Wp(this._lContainer);return s!==null&&s[r]||null}get length(){return this._lContainer.length-Lr}createEmbeddedView(r,s,t){let o,y;typeof t=="number"?o=t:t!=null&&(o=t.index,y=t.injector);let i=Fp(this._lContainer,r.ssrId),p=r.createEmbeddedViewImpl(s||{},y,i);return this.insertImpl(p,o,Np(this._hostTNode,i)),p}createComponent(r,s,t,o,y){let i=r&&!Jb(r),p;if(i)p=s;else{let d=s||{};p=d.index,t=d.injector,o=d.projectableNodes,y=d.environmentInjector||d.ngModuleRef}let u=i?r:new ns(wi(r)),v=t||this.parentInjector;if(!y&&u.ngModule==null){let f=(i?v:this.parentInjector).get(Hr,null);f&&(y=f)}let x=wi(u.componentType??{}),w=Fp(this._lContainer,x?.id??null),c=w?.firstChild??null,a=u.create(v,o,c,y);return this.insertImpl(a.hostView,p,Np(this._hostTNode,w)),a}insert(r,s){return this.insertImpl(r,s,!0)}insertImpl(r,s,t){let o=r._lView;if(l1(o)){let p=this.indexOf(r);if(p!==-1)this.detach(p);else{let u=o[Er],v=new Gg(u,u[rn],u[Er]);v.detach(v.indexOf(r))}}let y=this._adjustIndex(s),i=this._lContainer;return tw(i,o,y,t),r.attachToViewContainerRef(),im($u(i),y,r),r}move(r,s){return this.insert(r,s)}indexOf(r){let s=Wp(this._lContainer);return s!==null?s.indexOf(r):-1}remove(r){let s=this._adjustIndex(r,-1),t=vc(this._lContainer,s);t&&(Oa($u(this._lContainer),s),pg(t[gt],t))}detach(r){let s=this._adjustIndex(r,-1),t=vc(this._lContainer,s);return t&&Oa($u(this._lContainer),s)!=null?new ji(t):null}_adjustIndex(r,s=0){return r??this.length+s}};function Wp(n){return n[Na]}function $u(n){return n[Na]||(n[Na]=[])}function Hg(n,r){let s,t=r[n.index];return Pn(t)?s=t:(s=Mg(t,r,null,n),r[n.index]=s,fl(r,s)),Fw(s,r,n,t),new Gg(s,n,r)}function Nw(n,r){let s=n[mr],t=s.createComment(""),o=nn(r,n),y=ud(s,o);return Ha(s,y,t,bx(s,o),!1),t}var Fw=Vw,Bw=()=>!1;function Uw(n,r,s){return Bw(n,r,s)}function Vw(n,r,s,t){if(n[Si])return;let o;s.type&8?o=yn(t):o=Nw(r,s),n[Si]=o}var jc=class n{constructor(r){this.queryList=r,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Tc=class n{constructor(r=[]){this.queries=r}createEmbeddedView(r){let s=r.queries;if(s!==null){let t=r.contentQueries!==null?r.contentQueries[0]:s.length,o=[];for(let y=0;y<t;y++){let i=s.getByIndex(y),p=this.queries[i.indexInDeclarationView];o.push(p.clone())}return new n(o)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)_d(r,s).matches!==null&&this.queries[s].setDirty()}},Ic=class{constructor(r,s,t=null){this.flags=s,this.read=t,typeof r=="string"?this.predicate=Xw(r):this.predicate=r}},Ac=class n{constructor(r=[]){this.queries=r}elementStart(r,s){for(let t=0;t<this.queries.length;t++)this.queries[t].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let t=0;t<this.length;t++){let o=s!==null?s.length:0,y=this.getByIndex(t).embeddedTView(r,o);y&&(y.indexInDeclarationView=t,s!==null?s.push(y):s=[y])}return s!==null?new n(s):null}template(r,s){for(let t=0;t<this.queries.length;t++)this.queries[t].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}},kc=class n{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new n(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let s=this._declarationNodeIndex,t=r.parent;for(;t!==null&&t.type&8&&t.index!==s;)t=t.parent;return s===(t!==null?t.index:-1)}return this._appliesToNextNode}matchTNode(r,s){let t=this.metadata.predicate;if(Array.isArray(t))for(let o=0;o<t.length;o++){let y=t[o];this.matchTNodeWithReadOption(r,s,Gw(s,y)),this.matchTNodeWithReadOption(r,s,ja(s,r,y,!1,!1))}else t===mo?s.type&4&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ja(s,r,t,!1,!1))}matchTNodeWithReadOption(r,s,t){if(t!==null){let o=this.metadata.read;if(o!==null)if(o===zr||o===ki||o===mo&&s.type&4)this.addMatch(s.index,-2);else{let y=ja(s,r,o,!1,!1);y!==null&&this.addMatch(s.index,y)}else this.addMatch(s.index,t)}}addMatch(r,s){this.matches===null?this.matches=[r,s]:this.matches.push(r,s)}};function Gw(n,r){let s=n.localNames;if(s!==null){for(let t=0;t<s.length;t+=2)if(s[t]===r)return s[t+1]}return null}function Hw(n,r){return n.type&11?xo(n,r):n.type&4?bd(n,r):null}function zw(n,r,s,t){return s===-1?Hw(r,n):s===-2?Ww(n,r,t):Mi(n,n[gt],s,r)}function Ww(n,r,s){if(s===zr)return xo(r,n);if(s===mo)return bd(r,n);if(s===ki)return Hg(r,n)}function zg(n,r,s,t){let o=r[Tn].queries[t];if(o.matches===null){let y=n.data,i=s.matches,p=[];for(let u=0;i!==null&&u<i.length;u+=2){let v=i[u];if(v<0)p.push(null);else{let x=y[v];p.push(zw(r,x,i[u+1],s.metadata.read))}}o.matches=p}return o.matches}function Oc(n,r,s,t){let o=n.queries.getByIndex(s),y=o.matches;if(y!==null){let i=zg(n,r,o,s);for(let p=0;p<y.length;p+=2){let u=y[p];if(u>0)t.push(i[p/2]);else{let v=y[p+1],x=r[-u];for(let w=Lr;w<x.length;w++){let c=x[w];c[_i]===c[Er]&&Oc(c[gt],c,v,t)}if(x[fo]!==null){let w=x[fo];for(let c=0;c<w.length;c++){let a=w[c];Oc(a[gt],a,v,t)}}}}}return t}function $w(n,r){return n[Tn].queries[r].queryList}function qw(n,r,s){let t=new mc((s&4)===4);return Px(n,r,t,t.destroy),(r[Tn]??=new Tc).queries.push(new jc(t))-1}function Yw(n,r,s){let t=xr();return t.firstCreatePass&&(Zw(t,new Ic(n,r,s),-1),(r&2)===2&&(t.staticViewQueries=!0)),qw(t,Ft(),r)}function Xw(n){return n.split(",").map(r=>r.trim())}function Zw(n,r,s){n.queries===null&&(n.queries=new Ac),n.queries.track(new kc(r,s))}function _d(n,r){return n.queries.getByIndex(r)}function Qw(n,r){let s=n[gt],t=_d(s,r);return t.crossesNgTemplate?Oc(s,n,r,[]):zg(s,n,t,r)}function Kw(n){return typeof n=="function"&&n[En]!==void 0}function ds(n,r){cs("NgSignals");let s=Vf(n),t=s[En];return r?.equal&&(t.equal=r.equal),s.set=o=>wu(t,o),s.update=o=>Gf(t,o),s.asReadonly=Jw.bind(s),s}function Jw(){let n=this[En];if(n.readonlyFn===void 0){let r=()=>this();r[En]=n,n.readonlyFn=r}return n.readonlyFn}function Wg(n){return Kw(n)&&typeof n.set=="function"}function e_(n){return Object.getPrototypeOf(n.prototype).constructor}function bn(n){let r=e_(n.type),s=!0,t=[n];for(;r;){let o;if(ti(n))o=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ut(903,!1);o=r.\u0275dir}if(o){if(s){t.push(o);let i=n;i.inputs=Sa(n.inputs),i.inputTransforms=Sa(n.inputTransforms),i.declaredInputs=Sa(n.declaredInputs),i.outputs=Sa(n.outputs);let p=o.hostBindings;p&&o_(n,p);let u=o.viewQuery,v=o.contentQueries;if(u&&n_(n,u),v&&i_(n,v),t_(n,o),J0(n.outputs,o.outputs),ti(o)&&o.data.animation){let x=n.data;x.animation=(x.animation||[]).concat(o.data.animation)}}let y=o.features;if(y)for(let i=0;i<y.length;i++){let p=y[i];p&&p.ngInherit&&p(n),p===bn&&(s=!1)}}r=Object.getPrototypeOf(r)}r_(t)}function t_(n,r){for(let s in r.inputs){if(!r.inputs.hasOwnProperty(s)||n.inputs.hasOwnProperty(s))continue;let t=r.inputs[s];if(t!==void 0&&(n.inputs[s]=t,n.declaredInputs[s]=r.declaredInputs[s],r.inputTransforms!==null)){let o=Array.isArray(t)?t[0]:t;if(!r.inputTransforms.hasOwnProperty(o))continue;n.inputTransforms??={},n.inputTransforms[o]=r.inputTransforms[o]}}}function r_(n){let r=0,s=null;for(let t=n.length-1;t>=0;t--){let o=n[t];o.hostVars=r+=o.hostVars,o.hostAttrs=Ko(o.hostAttrs,s=Ko(s,o.hostAttrs))}}function Sa(n){return n===lo?{}:n===Vr?[]:n}function n_(n,r){let s=n.viewQuery;s?n.viewQuery=(t,o)=>{r(t,o),s(t,o)}:n.viewQuery=r}function i_(n,r){let s=n.contentQueries;s?n.contentQueries=(t,o,y)=>{r(t,o,y),s(t,o,y)}:n.contentQueries=r}function o_(n,r){let s=n.hostBindings;s?n.hostBindings=(t,o)=>{r(t,o),s(t,o)}:n.hostBindings=r}var ii=class{},is=class{};var Pc=class extends ii{constructor(r,s,t){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qa(this);let o=fm(r);this._bootstrapComponents=cg(o.bootstrap),this._r3Injector=eg(r,s,[{provide:ii,useValue:this},{provide:go,useValue:this.componentFactoryResolver},...t],Mr(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){let r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}},Rc=class extends is{constructor(r){super(),this.moduleType=r}create(r){return new Pc(this.moduleType,r,[])}};var Ya=class extends ii{constructor(r){super(),this.componentFactoryResolver=new qa(this),this.instance=null;let s=new Jo([...r.providers,{provide:ii,useValue:this},{provide:go,useValue:this.componentFactoryResolver}],r.parent||$c(),r.debugName,new Set(["environment"]));this.injector=s,r.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}};function Sd(n,r,s=null){return new Ya({providers:n,parent:r,debugName:s,runEnvironmentInitializers:!0}).injector}function s_(n,r,s){return n[r]=s}function pl(n,r,s){let t=n[r];return Object.is(t,s)?!1:(n[r]=s,!0)}function a_(n){return(n.flags&32)===32}function l_(n,r,s,t,o,y,i,p,u){let v=r.consts,x=us(r,n,4,i||null,p||null);md(r,s,x,po(v,u)),ll(r,x);let w=x.tView=pd(2,x,t,o,y,r.directiveRegistry,r.pipeRegistry,null,r.schemas,v,null);return r.queries!==null&&(r.queries.template(r,x),w.queries=r.queries.embeddedTView(x)),x}function u_(n,r,s,t,o,y,i,p,u,v){let x=s+tn,w=r.firstCreatePass?l_(x,r,n,t,o,y,i,p,u):r.data[x];Ii(w,!1);let c=c_(r,n,w,s);sl()&&ul(r,n,c,w),ni(c,n);let a=Mg(c,n,c,w);return n[x]=a,fl(n,a),Uw(a,w,n),il(w)&&hd(r,n,w),u!=null&&fd(n,w,v),w}function hs(n,r,s,t,o,y,i,p){let u=Ft(),v=xr(),x=po(v.consts,y);return u_(u,v,n,r,s,t,o,x,i,p),hs}var c_=d_;function d_(n,r,s,t){return al(!0),r[mr].createComment("")}function Ca(n,r){return n<<17|r<<2}function Ti(n){return n>>17&32767}function h_(n){return(n&2)==2}function f_(n,r){return n&131071|r<<17}function Lc(n){return n|2}function vo(n){return(n&131068)>>2}function qu(n,r){return n&-131069|r<<2}function p_(n){return(n&1)===1}function Nc(n){return n|1}function m_(n,r,s,t,o,y){let i=y?r.classBindings:r.styleBindings,p=Ti(i),u=vo(i);n[t]=s;let v=!1,x;if(Array.isArray(s)){let w=s;x=w[1],(x===null||ss(w,x)>0)&&(v=!0)}else x=s;if(o)if(u!==0){let c=Ti(n[p+1]);n[t+1]=Ca(c,p),c!==0&&(n[c+1]=qu(n[c+1],t)),n[p+1]=f_(n[p+1],t)}else n[t+1]=Ca(p,0),p!==0&&(n[p+1]=qu(n[p+1],t)),p=t;else n[t+1]=Ca(u,0),p===0?p=t:n[u+1]=qu(n[u+1],t),u=t;v&&(n[t+1]=Lc(n[t+1])),$p(n,x,t,!0),$p(n,x,t,!1),g_(r,x,n,t,y),i=Ca(p,u),y?r.classBindings=i:r.styleBindings=i}function g_(n,r,s,t,o){let y=o?n.residualClasses:n.residualStyles;y!=null&&typeof r=="string"&&ss(y,r)>=0&&(s[t+1]=Nc(s[t+1]))}function $p(n,r,s,t){let o=n[s+1],y=r===null,i=t?Ti(o):vo(o),p=!1;for(;i!==0&&(p===!1||y);){let u=n[i],v=n[i+1];y_(u,r)&&(p=!0,n[i+1]=t?Nc(v):Lc(v)),i=t?Ti(v):vo(v)}p&&(n[s+1]=t?Lc(o):Nc(o))}function y_(n,r){return n===null||r==null||(Array.isArray(n)?n[1]:n)===r?!0:Array.isArray(n)&&typeof r=="string"?ss(n,r)>=0:!1}function Ln(n,r,s){let t=Ft(),o=Rm();if(pl(t,o,r)){let y=xr(),i=Gm();Cg(y,i,t,n,r,t[mr],s,!1)}return Ln}function qp(n,r,s,t,o){let y=r.inputs,i=o?"class":"style";gd(n,s,y[i],i,t)}function ml(n,r){return v_(n,r,null,!0),ml}function v_(n,r,s,t){let o=Ft(),y=xr(),i=x1(2);if(y.firstUpdatePass&&x_(y,n,i,t),r!==ls&&pl(o,i,r)){let p=y.data[as()];E_(y,p,o,o[mr],n,o[i+1]=D_(r,s),t,i)}}function b_(n,r){return r>=n.expandoStartIndex}function x_(n,r,s,t){let o=n.data;if(o[s+1]===null){let y=o[as()],i=b_(n,s);M_(y,t)&&r===null&&!i&&(r=!1),r=w_(o,y,r,t),m_(o,y,r,s,i,t)}}function w_(n,r,s,t){let o=C1(n),y=t?r.residualClasses:r.residualStyles;if(o===null)(t?r.classBindings:r.styleBindings)===0&&(s=Yu(null,n,r,s,t),s=os(s,r.attrs,t),y=null);else{let i=r.directiveStylingLast;if(i===-1||n[i]!==o)if(s=Yu(o,n,r,s,t),y===null){let u=__(n,r,t);u!==void 0&&Array.isArray(u)&&(u=Yu(null,n,r,u[1],t),u=os(u,r.attrs,t),S_(n,r,t,u))}else y=C_(n,r,t)}return y!==void 0&&(t?r.residualClasses=y:r.residualStyles=y),s}function __(n,r,s){let t=s?r.classBindings:r.styleBindings;if(vo(t)!==0)return n[Ti(t)]}function S_(n,r,s,t){let o=s?r.classBindings:r.styleBindings;n[Ti(o)]=t}function C_(n,r,s){let t,o=r.directiveEnd;for(let y=1+r.directiveStylingLast;y<o;y++){let i=n[y].hostAttrs;t=os(t,i,s)}return os(t,r.attrs,s)}function Yu(n,r,s,t,o){let y=null,i=s.directiveEnd,p=s.directiveStylingLast;for(p===-1?p=s.directiveStart:p++;p<i&&(y=r[p],t=os(t,y.hostAttrs,o),y!==n);)p++;return n!==null&&(s.directiveStylingLast=p),t}function os(n,r,s){let t=s?1:2,o=-1;if(r!==null)for(let y=0;y<r.length;y++){let i=r[y];typeof i=="number"?o=i:o===t&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Sb(n,i,s?!0:r[++y]))}return n===void 0?null:n}function E_(n,r,s,t,o,y,i,p){if(!(r.type&3))return;let u=n.data,v=u[p+1],x=p_(v)?Yp(u,r,s,o,vo(v),i):void 0;if(!Xa(x)){Xa(y)||h_(v)&&(y=Yp(u,null,s,o,p,i));let w=o1(as(),s);Dx(t,i,w,o,y)}}function Yp(n,r,s,t,o,y){let i=r===null,p;for(;o>0;){let u=n[o],v=Array.isArray(u),x=v?u[1]:u,w=x===null,c=s[o+1];c===ls&&(c=w?Vr:void 0);let a=w?Fu(c,t):x===t?c:void 0;if(v&&!Xa(a)&&(a=Fu(u,t)),Xa(a)&&(p=a,i))return p;let d=n[o+1];o=i?Ti(d):vo(d)}if(r!==null){let u=y?r.residualClasses:r.residualStyles;u!=null&&(p=Fu(u,t))}return p}function Xa(n){return n!==void 0}function D_(n,r){return n==null||n===""||(typeof r=="string"?n=n+r:typeof n=="object"&&(n=Mr(sd(n)))),n}function M_(n,r){return(n.flags&(r?8:16))!==0}function j_(n,r,s,t,o,y){let i=r.consts,p=po(i,o),u=us(r,n,2,t,p);return md(r,s,u,po(i,y)),u.attrs!==null&&$a(u,u.attrs,!1),u.mergedAttrs!==null&&$a(u,u.mergedAttrs,!0),r.queries!==null&&r.queries.elementStart(r,u),u}function gr(n,r,s,t){let o=Ft(),y=xr(),i=tn+n,p=o[mr],u=y.firstCreatePass?j_(i,y,o,r,s,t):y.data[i],v=T_(y,o,u,p,r,n);o[i]=v;let x=il(u);return Ii(u,!0),vg(p,v,u),!a_(u)&&sl()&&ul(y,o,v,u),d1()===0&&ni(v,o),h1(),x&&(hd(y,o,u),dd(y,u,o)),t!==null&&fd(o,u),gr}function qt(){let n=jr();Qc()?Om():(n=n.parent,Ii(n,!1));let r=n;m1(r)&&g1(),f1();let s=xr();return s.firstCreatePass&&(ll(s,n),qc(n)&&s.queries.elementEnd(n)),r.classesWithoutHost!=null&&A1(r)&&qp(s,r,Ft(),r.classesWithoutHost,!0),r.stylesWithoutHost!=null&&k1(r)&&qp(s,r,Ft(),r.stylesWithoutHost,!1),qt}function kr(n,r,s,t){return gr(n,r,s,t),qt(),kr}var T_=(n,r,s,t,o,y)=>(al(!0),dg(t,o,M1()));function I_(n,r,s,t,o){let y=r.consts,i=po(y,t),p=us(r,n,8,"ng-container",i);i!==null&&$a(p,i,!0);let u=po(y,o);return md(r,s,p,u),r.queries!==null&&r.queries.elementStart(r,p),p}function Cd(n,r,s){let t=Ft(),o=xr(),y=n+tn,i=o.firstCreatePass?I_(y,o,t,r,s):o.data[y];Ii(i,!0);let p=A_(o,t,i,n);return t[y]=p,sl()&&ul(o,t,p,i),ni(p,t),il(i)&&(hd(o,t,i),dd(o,i,t)),s!=null&&fd(t,i),Cd}function Ed(){let n=jr(),r=xr();return Qc()?Om():(n=n.parent,Ii(n,!1)),r.firstCreatePass&&(ll(r,n),qc(n)&&r.queries.elementEnd(n)),Ed}var A_=(n,r,s,t)=>(al(!0),ux(r[mr],""));function $g(){return Ft()}var Za="en-US";var k_=Za;function O_(n){typeof n=="string"&&(k_=n.toLowerCase().replace(/_/g,"-"))}var P_=(n,r,s)=>{};function Nn(n,r,s,t){let o=Ft(),y=xr(),i=jr();return qg(y,o,o[mr],i,n,r,t),Nn}function R_(n,r,s,t){let o=n.cleanup;if(o!=null)for(let y=0;y<o.length-1;y+=2){let i=o[y];if(i===s&&o[y+1]===t){let p=r[La],u=o[y+2];return p.length>u?p[u]:null}typeof i=="string"&&(y+=2)}return null}function qg(n,r,s,t,o,y,i){let p=il(t),v=n.firstCreatePass&&Ig(n),x=r[en],w=Tg(r),c=!0;if(t.type&3||i){let f=nn(t,r),m=i?i(f):f,l=w.length,h=i?b=>i(yn(b[t.index])):t.index,g=null;if(!i&&p&&(g=R_(n,r,o,t.index)),g!==null){let b=g.__ngLastListenerFn__||g;b.__ngNextListenerFn__=y,g.__ngLastListenerFn__=y,c=!1}else{y=Zp(t,r,x,y),P_(f,o,y);let b=s.listen(m,o,y);w.push(y,b),v&&v.push(o,h,l,l+1)}}else y=Zp(t,r,x,y);let a=t.outputs,d;if(c&&a!==null&&(d=a[o])){let f=d.length;if(f)for(let m=0;m<f;m+=2){let l=d[m],h=d[m+1],_=r[l][h].subscribe(y),A=w.length;w.push(y,_),v&&v.push(o,t.index,A,-(A+1))}}}function Xp(n,r,s,t){let o=kt(null);try{return fn(6,r,s),s(t)!==!1}catch(y){return Ag(n,y),!1}finally{fn(7,r,s),kt(o)}}function Zp(n,r,s,t){return function o(y){if(y===Function)return t;let i=n.componentOffset>-1?li(n.index,r):r;vd(i,5);let p=Xp(r,s,t,y),u=o.__ngNextListenerFn__;for(;u;)p=Xp(r,s,u,y)&&p,u=u.__ngNextListenerFn__;return p}}function gl(n=1){return D1(n)}function yl(n,r,s){Yw(n,r,s)}function fs(n){let r=Ft(),s=xr(),t=Lm();Kc(t+1);let o=_d(s,t);if(n.dirty&&a1(r)===((o.metadata.flags&2)===2)){if(o.matches===null)n.reset([]);else{let y=Qw(r,t);n.reset(y,W1),n.notifyOnChanges()}return!0}return!1}function ps(){return $w(Ft(),Lm())}function L_(n,r,s,t){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=t}function Nr(n,r=""){let s=Ft(),t=xr(),o=n+tn,y=t.firstCreatePass?us(t,o,1,r,null):t.data[o],i=N_(t,s,y,r,n);s[o]=i,sl()&&ul(t,s,i,y),Ii(y,!1)}var N_=(n,r,s,t,o)=>(al(!0),lx(r[mr],t));function Dd(n,r,s){Wg(r)&&(r=r());let t=Ft(),o=Rm();if(pl(t,o,r)){let y=xr(),i=Gm();Cg(y,i,t,n,r,t[mr],s,!1)}return Dd}function Yg(n,r){let s=Wg(n);return s&&n.set(r),s}function Md(n,r){let s=Ft(),t=xr(),o=jr();return qg(t,s,s[mr],o,n,r),Md}function F_(n,r,s){let t=xr();if(t.firstCreatePass){let o=ti(n);Fc(s,t.data,t.blueprint,o,!0),Fc(r,t.data,t.blueprint,o,!1)}}function Fc(n,r,s,t,o){if(n=Dr(n),Array.isArray(n))for(let y=0;y<n.length;y++)Fc(n[y],r,s,t,o);else{let y=xr(),i=Ft(),p=jr(),u=co(n)?n:Dr(n.provide),v=bm(n),x=p.providerIndexes&1048575,w=p.directiveStart,c=p.providerIndexes>>20;if(co(n)||!n.multi){let a=new Di(v,o,Bt),d=Zu(u,r,o?x:x+c,w);d===-1?(dc(Ga(p,i),y,u),Xu(y,n,r.length),r.push(u),p.directiveStart++,p.directiveEnd++,o&&(p.providerIndexes+=1048576),s.push(a),i.push(a)):(s[d]=a,i[d]=a)}else{let a=Zu(u,r,x+c,w),d=Zu(u,r,x,x+c),f=a>=0&&s[a],m=d>=0&&s[d];if(o&&!m||!o&&!f){dc(Ga(p,i),y,u);let l=V_(o?U_:B_,s.length,o,t,v);!o&&m&&(s[d].providerFactory=l),Xu(y,n,r.length,0),r.push(u),p.directiveStart++,p.directiveEnd++,o&&(p.providerIndexes+=1048576),s.push(l),i.push(l)}else{let l=Xg(s[o?d:a],v,!o&&t);Xu(y,n,a>-1?a:d,l)}!o&&t&&m&&s[d].componentProviders++}}}function Xu(n,r,s,t){let o=co(r),y=Wb(r);if(o||y){let u=(y?Dr(r.useClass):r).prototype.ngOnDestroy;if(u){let v=n.destroyHooks||(n.destroyHooks=[]);if(!o&&r.multi){let x=v.indexOf(s);x===-1?v.push(s,[t,u]):v[x+1].push(t,u)}else v.push(s,u)}}}function Xg(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function Zu(n,r,s,t){for(let o=s;o<t;o++)if(r[o]===n)return o;return-1}function B_(n,r,s,t){return Bc(this.multi,[])}function U_(n,r,s,t){let o=this.multi,y;if(this.providerFactory){let i=this.providerFactory.componentProviders,p=Mi(s,s[gt],this.providerFactory.index,t);y=p.slice(0,i),Bc(o,y);for(let u=i;u<p.length;u++)y.push(p[u])}else y=[],Bc(o,y);return y}function Bc(n,r){for(let s=0;s<n.length;s++){let t=n[s];r.push(t())}return r}function V_(n,r,s,t,o){let y=new Di(n,s,Bt);return y.multi=[],y.index=r,y.componentProviders=0,Xg(y,o,t&&!s),y}function Co(n,r=[]){return s=>{s.providersResolver=(t,o)=>F_(t,o?o(n):n,r)}}var G_=(()=>{let r=class r{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let o=gm(!1,t.type),y=o.length>0?Sd([o],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,y)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}};r.\u0275prov=ft({token:r,providedIn:"environment",factory:()=>new r(Et(Hr))});let n=r;return n})();function ui(n){cs("NgStandalone"),n.getStandaloneInjector=r=>r.get(G_).getOrCreateStandaloneInjector(n)}function H_(n,r){let s=n[r];return s===ls?void 0:s}function z_(n,r,s,t,o,y){let i=r+s;return pl(n,i,o)?s_(n,i+1,y?t.call(y,o):t(o)):H_(n,i+1)}function vl(n,r){let s=xr(),t,o=n+tn;s.firstCreatePass?(t=W_(r,s.pipeRegistry),s.data[o]=t,t.onDestroy&&(s.destroyHooks??=[]).push(o,t.onDestroy)):t=s.data[o];let y=t.factory||(t.factory=xi(t.type,!0)),i,p=Ir(Bt);try{let u=Va(!1),v=y();return Va(u),L_(s,Ft(),o,v),v}finally{Ir(p)}}function W_(n,r){if(r)for(let s=r.length-1;s>=0;s--){let t=r[s];if(n===t.name)return t}}function bl(n,r,s){let t=n+tn,o=Ft(),y=s1(o,t);return $_(o,t)?z_(o,v1(),r,y.transform,s,y):y.transform(s)}function $_(n,r){return n[gt].data[r].pure}var xl=(()=>{let r=class r{log(t){console.log(t)}warn(t){console.warn(t)}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"platform"});let n=r;return n})();var Zg=new ct("");function ci(n){return!!n&&typeof n.then=="function"}function jd(n){return!!n&&typeof n.subscribe=="function"}var Qg=new ct(""),Kg=(()=>{let r=class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,o)=>{this.resolve=t,this.reject=o}),this.appInits=Je(Qg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let y of this.appInits){let i=y();if(ci(i))t.push(i);else if(jd(i)){let p=new Promise((u,v)=>{i.subscribe({complete:u,error:v})});t.push(p)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{o()}).catch(y=>{this.reject(y)}),t.length===0&&o(),this.initialized=!0}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),Td=new ct("");function q_(){Uf(()=>{throw new ut(600,!1)})}function Y_(n){return n.isBoundToModule}var X_=10;function Z_(n,r,s){try{let t=s();return ci(t)?t.catch(o=>{throw r.runOutsideAngular(()=>n.handleError(o)),o}):t}catch(t){throw r.runOutsideAngular(()=>n.handleError(t)),t}}var Eo=(()=>{let r=class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Je(tg),this.afterRenderEffectManager=Je(Vg),this.zonelessEnabled=Je(xd),this.externalTestViews=new Set,this.beforeRender=new vr,this.afterTick=new vr,this.componentTypes=[],this.components=[],this.isStable=Je(wo).hasPendingTasks.pipe(pt(t=>!t)),this._injector=Je(Hr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,o){let y=t instanceof Wa;if(!this._injector.get(Kg).done){let a=!y&&hm(t),d=!1;throw new ut(405,d)}let p;y?p=t:p=this._injector.get(go).resolveComponentFactory(t),this.componentTypes.push(p.componentType);let u=Y_(p)?void 0:this._injector.get(ii),v=o||p.selector,x=p.create(ri.NULL,[],v,u),w=x.location.nativeElement,c=x.injector.get(Zg,null);return c?.registerApplication(w),x.onDestroy(()=>{this.detachView(x.hostView),Qu(this.components,x),c?.unregisterApplication(w)}),this._loadComponent(x),x}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new ut(101,!1);let o=kt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(y){this.internalErrorHandler(y)}finally{this._runningTick=!1,kt(o),this.afterTick.next()}}detectChangesInAttachedViews(t){let o=null;this._injector.destroyed||(o=this._injector.get(yo,null,{optional:!0}));let y=0,i=this.afterRenderEffectManager;for(;y<X_;){let p=y===0;if(t||!p){this.beforeRender.next(p);for(let{_lView:u,notifyErrorHandler:v}of this._views)Q_(u,v,p,this.zonelessEnabled)}else o?.begin?.(),o?.end?.();if(y++,i.executeInternalCallbacks(),!this.allViews.some(({_lView:u})=>ts(u))&&(i.execute(),!this.allViews.some(({_lView:u})=>ts(u))))break}}attachView(t){let o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){let o=t;Qu(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let o=this._injector.get(Td,[]);[...this._bootstrapListeners,...o].forEach(y=>y(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Qu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new ut(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function Qu(n,r){let s=n.indexOf(r);s>-1&&n.splice(s,1)}function Q_(n,r,s,t){if(!s&&!ts(n))return;Pg(n,r,s&&!t?0:1)}var Uc=class{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}},Id=(()=>{let r=class r{compileModuleSync(t){return new Rc(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let o=this.compileModuleSync(t),y=fm(t),i=cg(y.declarations).reduce((p,u)=>{let v=wi(u);return v&&p.push(new ns(v)),p},[]);return new Uc(o,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var K_=(()=>{let r=class r{constructor(){this.zone=Je(Jt),this.changeDetectionScheduler=Je(rs),this.applicationRef=Je(Eo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),J_=new ct("",{factory:()=>!1});function Jg({ngZoneFactory:n,ignoreChangesOutsideZone:r}){return n??=()=>new Jt(ty()),[{provide:Jt,useFactory:n},{provide:uo,multi:!0,useFactory:()=>{let s=Je(K_,{optional:!0});return()=>s.initialize()}},{provide:uo,multi:!0,useFactory:()=>{let s=Je(tS);return()=>{s.initialize()}}},{provide:tg,useFactory:eS},r===!0?{provide:Fg,useValue:!0}:[]]}function eS(){let n=Je(Jt),r=Je(In);return s=>n.runOutsideAngular(()=>r.handleError(s))}function ey(n){let r=n?.ignoreChangesOutsideZone,s=Jg({ngZoneFactory:()=>{let t=ty(n);return t.shouldCoalesceEventChangeDetection&&cs("NgZone_CoalesceEvent"),new Jt(t)},ignoreChangesOutsideZone:r});return el([{provide:J_,useValue:!0},{provide:xd,useValue:!1},s])}function ty(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var tS=(()=>{let r=class r{constructor(){this.subscription=new lr,this.initialized=!1,this.zone=Je(Jt),this.pendingTasks=Je(wo)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Jt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Jt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var rS=(()=>{let r=class r{constructor(){this.appRef=Je(Eo),this.taskService=Je(wo),this.ngZone=Je(Jt),this.zonelessEnabled=Je(xd),this.disableScheduling=Je(Fg,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new lr,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let o=this.useMicrotaskScheduler?Up:Bg;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=o(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=o(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Jt.isInAngularZone())}tick(t){if(this.runningTick||this.appRef.destroyed)return;let o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(t)},void 0,this.schedulerTickApplyArgs)}catch(y){throw this.taskService.remove(o),y}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Up(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function nS(){return typeof $localize<"u"&&$localize.locale||Za}var Ad=new ct("",{providedIn:"root",factory:()=>Je(Ad,xt.Optional|xt.SkipSelf)||nS()});var ry=new ct("");var Ia=null;function iS(n=[],r){return ri.create({name:r,providers:[{provide:tl,useValue:"platform"},{provide:ry,useValue:new Set([()=>Ia=null])},...n]})}function oS(n=[]){if(Ia)return Ia;let r=iS(n);return Ia=r,q_(),sS(r),r}function sS(n){n.get(nd,null)?.forEach(s=>s())}var Oi=(()=>{let r=class r{};r.__NG_ELEMENT_ID__=aS;let n=r;return n})();function aS(n){return lS(jr(),Ft(),(n&16)===16)}function lS(n,r,s){if(nl(n)&&!s){let t=li(n.index,r);return new ji(t,t)}else if(n.type&175){let t=r[gn];return new ji(t,r)}return null}function ny(n){try{let{rootComponent:r,appProviders:s,platformProviders:t}=n,o=oS(t),y=[Jg({}),{provide:rs,useExisting:rS},...s||[]],p=new Ya({providers:y,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,u=p.get(Jt);return u.run(()=>{p.resolveInjectorInitializers();let v=p.get(In,null),x;u.runOutsideAngular(()=>{x=u.onError.subscribe({next:a=>{v.handleError(a)}})});let w=()=>p.destroy(),c=o.get(ry);return c.add(w),p.onDestroy(()=>{x.unsubscribe(),c.delete(w)}),Z_(v,u,()=>{let a=p.get(Kg);return a.runInitializers(),a.donePromise.then(()=>{let d=p.get(Ad,Za);O_(d||Za);let f=p.get(Eo);return r!==void 0&&f.bootstrap(r),f})})})}catch(r){return Promise.reject(r)}}var iy=new ct("");function ms(n,r){cs("NgSignals");let s=Nf(n);return r?.equal&&(s[En].equal=r.equal),s}function on(n){let r=kt(null);try{return n()}finally{kt(r)}}var uy=null;function Bn(){return uy}function cy(n){uy??=n}var wl=class{};var Fr=new ct(""),dy=(()=>{let r=class r{historyGo(t){throw new Error("")}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:()=>Je(hS),providedIn:"platform"});let n=r;return n})();var hS=(()=>{let r=class r extends dy{constructor(){super(),this._doc=Je(Fr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bn().getBaseHref(this._doc)}onPopState(t){let o=Bn().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){let o=Bn().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,o,y){this._history.pushState(t,o,y)}replaceState(t,o,y){this._history.replaceState(t,o,y)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:()=>new r,providedIn:"platform"});let n=r;return n})();function hy(n,r){if(n.length==0)return r;if(r.length==0)return n;let s=0;return n.endsWith("/")&&s++,r.startsWith("/")&&s++,s==2?n+r.substring(1):s==1?n+r:n+"/"+r}function oy(n){let r=n.match(/#|\?|$/),s=r&&r.index||n.length,t=s-(n[s-1]==="/"?1:0);return n.slice(0,t)+n.slice(s)}function Pi(n){return n&&n[0]!=="?"?"?"+n:n}var Sl=(()=>{let r=class r{historyGo(t){throw new Error("")}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:()=>Je(fy),providedIn:"root"});let n=r;return n})(),fS=new ct(""),fy=(()=>{let r=class r extends Sl{constructor(t,o){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??Je(Fr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return hy(this._baseHref,t)}path(t=!1){let o=this._platformLocation.pathname+Pi(this._platformLocation.search),y=this._platformLocation.hash;return y&&t?`${o}${y}`:o}pushState(t,o,y,i){let p=this.prepareExternalUrl(y+Pi(i));this._platformLocation.pushState(t,o,p)}replaceState(t,o,y,i){let p=this.prepareExternalUrl(y+Pi(i));this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}};r.\u0275fac=function(o){return new(o||r)(Et(dy),Et(fS,8))},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var gs=(()=>{let r=class r{constructor(t){this._subject=new Yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let o=this._locationStrategy.getBaseHref();this._basePath=gS(oy(sy(o))),this._locationStrategy.onPopState(y=>{this._subject.emit({url:this.path(!0),pop:!0,state:y.state,type:y.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+Pi(o))}normalize(t){return r.stripTrailingSlash(mS(this._basePath,sy(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",y=null){this._locationStrategy.pushState(y,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pi(o)),y)}replaceState(t,o="",y=null){this._locationStrategy.replaceState(y,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pi(o)),y)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(y=>y(t,o))}subscribe(t,o,y){return this._subject.subscribe({next:t,error:o,complete:y})}};r.normalizeQueryParams=Pi,r.joinWithSlash=hy,r.stripTrailingSlash=oy,r.\u0275fac=function(o){return new(o||r)(Et(Sl))},r.\u0275prov=ft({token:r,factory:()=>pS(),providedIn:"root"});let n=r;return n})();function pS(){return new gs(Et(Sl))}function mS(n,r){if(!n||!r.startsWith(n))return r;let s=r.substring(n.length);return s===""||["/",";","?","#"].includes(s[0])?s:r}function sy(n){return n.replace(/\/index.html$/,"")}function gS(n){if(new RegExp("^(https?:)?//").test(n)){let[,s]=n.split(/\/\/[^\/]+/);return s}return n}function py(n,r){r=encodeURIComponent(r);for(let s of n.split(";")){let t=s.indexOf("="),[o,y]=t==-1?[s,""]:[s.slice(0,t),s.slice(t+1)];if(o.trim()===r)return decodeURIComponent(y)}return null}var Cl=(()=>{let r=class r{constructor(t,o){this._viewContainer=t,this._context=new Od,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ay("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ay("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}};r.\u0275fac=function(o){return new(o||r)(Bt(ki),Bt(mo))},r.\u0275dir=Ar({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=r;return n})(),Od=class{constructor(){this.$implicit=null,this.ngIf=null}};function ay(n,r){if(!!!(!r||r.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Mr(r)}'.`)}function yS(n,r){return new ut(2100,!1)}var Pd=class{createSubscription(r,s){return on(()=>r.subscribe({next:s,error:t=>{throw t}}))}dispose(r){on(()=>r.unsubscribe())}},Rd=class{createSubscription(r,s){return r.then(s,t=>{throw t})}dispose(r){}},vS=new Rd,bS=new Pd,El=(()=>{let r=class r{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,o=>this._updateLatestValue(t,o))}_selectStrategy(t){if(ci(t))return vS;if(jd(t))return bS;throw yS(r,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,o){t===this._obj&&(this._latestValue=o,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};r.\u0275fac=function(o){return new(o||r)(Bt(Oi,16))},r.\u0275pipe=um({name:"async",type:r,pure:!1,standalone:!0});let n=r;return n})();var my="browser",xS="server";function Nd(n){return n===xS}var _l=class{};var Ud=class extends wl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vd=class n extends Ud{static makeCurrent(){cy(new n)}onAndCancel(r,s,t){return r.addEventListener(s,t),()=>{r.removeEventListener(s,t)}}dispatchEvent(r,s){r.dispatchEvent(s)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,s){return s=s||this.getDefaultDocument(),s.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,s){return s==="window"?window:s==="document"?r:s==="body"?r.body:null}getBaseHref(r){let s=_S();return s==null?null:SS(s)}resetBaseElement(){ys=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return py(document.cookie,r)}},ys=null;function _S(){return ys=ys||document.querySelector("base"),ys?ys.getAttribute("href"):null}function SS(n){return new URL(n,document.baseURI).pathname}var CS=(()=>{let r=class r{build(){return new XMLHttpRequest}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac});let n=r;return n})(),Dl=new ct(""),by=(()=>{let r=class r{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(y=>{y.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,o,y){return this._findPluginFor(o).addEventListener(t,o,y)}getZone(){return this._zone}_findPluginFor(t){let o=this._eventNameToPlugin.get(t);if(o)return o;if(o=this._plugins.find(i=>i.supports(t)),!o)throw new ut(5101,!1);return this._eventNameToPlugin.set(t,o),o}};r.\u0275fac=function(o){return new(o||r)(Et(Dl),Et(Jt))},r.\u0275prov=ft({token:r,factory:r.\u0275fac});let n=r;return n})(),vs=class{constructor(r){this._doc=r}},Fd="ng-app-id",xy=(()=>{let r=class r{constructor(t,o,y,i={}){this.doc=t,this.appId=o,this.nonce=y,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Nd(i),this.resetHostNodes()}addStyles(t){for(let o of t)this.changeUsageCount(o,1)===1&&this.onStyleAdded(o)}removeStyles(t){for(let o of t)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(o=>o.remove()),t.clear());for(let o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let o of this.getAllStyles())this.addStyleToHost(t,o)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let o of this.hostNodes)this.addStyleToHost(o,t)}onStyleRemoved(t){let o=this.styleRef;o.get(t)?.elements?.forEach(y=>y.remove()),o.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Fd}="${this.appId}"]`);if(t?.length){let o=new Map;return t.forEach(y=>{y.textContent!=null&&o.set(y.textContent,y)}),o}return null}changeUsageCount(t,o){let y=this.styleRef;if(y.has(t)){let i=y.get(t);return i.usage+=o,i.usage}return y.set(t,{usage:o,elements:[]}),o}getStyleElement(t,o){let y=this.styleNodesInDOM,i=y?.get(o);if(i?.parentNode===t)return y.delete(o),i.removeAttribute(Fd),i;{let p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=o,this.platformIsServer&&p.setAttribute(Fd,this.appId),t.appendChild(p),p}}addStyleToHost(t,o){let y=this.getStyleElement(t,o),i=this.styleRef,p=i.get(o)?.elements;p?p.push(y):i.set(o,{elements:[y],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};r.\u0275fac=function(o){return new(o||r)(Et(Fr),Et(rd),Et(id,8),Et(_o))},r.\u0275prov=ft({token:r,factory:r.\u0275fac});let n=r;return n})(),Bd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hd=/%COMP%/g,wy="%COMP%",ES=`_nghost-${wy}`,DS=`_ngcontent-${wy}`,MS=!0,jS=new ct("",{providedIn:"root",factory:()=>MS});function TS(n){return DS.replace(Hd,n)}function IS(n){return ES.replace(Hd,n)}function _y(n,r){return r.map(s=>s.replace(Hd,n))}var gy=(()=>{let r=class r{constructor(t,o,y,i,p,u,v,x=null){this.eventManager=t,this.sharedStylesHost=o,this.appId=y,this.removeStylesOnCompDestroy=i,this.doc=p,this.platformId=u,this.ngZone=v,this.nonce=x,this.rendererByCompId=new Map,this.platformIsServer=Nd(u),this.defaultRenderer=new bs(t,p,v,this.platformIsServer)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===mn.ShadowDom&&(o=St(Qe({},o),{encapsulation:mn.Emulated}));let y=this.getOrCreateRenderer(t,o);return y instanceof Ml?y.applyToHost(t):y instanceof xs&&y.applyStyles(),y}getOrCreateRenderer(t,o){let y=this.rendererByCompId,i=y.get(o.id);if(!i){let p=this.doc,u=this.ngZone,v=this.eventManager,x=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,c=this.platformIsServer;switch(o.encapsulation){case mn.Emulated:i=new Ml(v,x,o,this.appId,w,p,u,c);break;case mn.ShadowDom:return new Gd(v,x,t,o,p,u,this.nonce,c);default:i=new xs(v,x,o,w,p,u,c);break}y.set(o.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}};r.\u0275fac=function(o){return new(o||r)(Et(by),Et(xy),Et(rd),Et(jS),Et(Fr),Et(_o),Et(Jt),Et(id))},r.\u0275prov=ft({token:r,factory:r.\u0275fac});let n=r;return n})(),bs=class{constructor(r,s,t,o){this.eventManager=r,this.doc=s,this.ngZone=t,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,s){return s?this.doc.createElementNS(Bd[s]||s,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,s){(yy(r)?r.content:r).appendChild(s)}insertBefore(r,s,t){r&&(yy(r)?r.content:r).insertBefore(s,t)}removeChild(r,s){r&&r.removeChild(s)}selectRootElement(r,s){let t=typeof r=="string"?this.doc.querySelector(r):r;if(!t)throw new ut(-5104,!1);return s||(t.textContent=""),t}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,s,t,o){if(o){s=o+":"+s;let y=Bd[o];y?r.setAttributeNS(y,s,t):r.setAttribute(s,t)}else r.setAttribute(s,t)}removeAttribute(r,s,t){if(t){let o=Bd[t];o?r.removeAttributeNS(o,s):r.removeAttribute(`${t}:${s}`)}else r.removeAttribute(s)}addClass(r,s){r.classList.add(s)}removeClass(r,s){r.classList.remove(s)}setStyle(r,s,t,o){o&(An.DashCase|An.Important)?r.style.setProperty(s,t,o&An.Important?"important":""):r.style[s]=t}removeStyle(r,s,t){t&An.DashCase?r.style.removeProperty(s):r.style[s]=""}setProperty(r,s,t){r!=null&&(r[s]=t)}setValue(r,s){r.nodeValue=s}listen(r,s,t){if(typeof r=="string"&&(r=Bn().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${s}`);return this.eventManager.addEventListener(r,s,this.decoratePreventDefault(t))}decoratePreventDefault(r){return s=>{if(s==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(s)):r(s))===!1&&s.preventDefault()}}};function yy(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Gd=class extends bs{constructor(r,s,t,o,y,i,p,u){super(r,y,i,u),this.sharedStylesHost=s,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let v=_y(o.id,o.styles);for(let x of v){let w=document.createElement("style");p&&w.setAttribute("nonce",p),w.textContent=x,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,s){return super.appendChild(this.nodeOrShadowRoot(r),s)}insertBefore(r,s,t){return super.insertBefore(this.nodeOrShadowRoot(r),s,t)}removeChild(r,s){return super.removeChild(this.nodeOrShadowRoot(r),s)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xs=class extends bs{constructor(r,s,t,o,y,i,p,u){super(r,y,i,p),this.sharedStylesHost=s,this.removeStylesOnCompDestroy=o,this.styles=u?_y(u,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ml=class extends xs{constructor(r,s,t,o,y,i,p,u){let v=o+"-"+t.id;super(r,s,t,y,i,p,u,v),this.contentAttr=TS(v),this.hostAttr=IS(v)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,s){let t=super.createElement(r,s);return super.setAttribute(t,this.contentAttr,""),t}},AS=(()=>{let r=class r extends vs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,y){return t.addEventListener(o,y,!1),()=>this.removeEventListener(t,o,y)}removeEventListener(t,o,y){return t.removeEventListener(o,y)}};r.\u0275fac=function(o){return new(o||r)(Et(Fr))},r.\u0275prov=ft({token:r,factory:r.\u0275fac});let n=r;return n})(),kS=(()=>{let r=class r extends vs{constructor(t){super(t),this.delegate=Je(iy,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,o,y){return this.delegate.addEventListener(t,o,y)}removeEventListener(t,o,y){return this.delegate.removeEventListener(t,o,y)}};r.\u0275fac=function(o){return new(o||r)(Et(Fr))},r.\u0275prov=ft({token:r,factory:r.\u0275fac});let n=r;return n})(),vy=["alt","control","meta","shift"],OS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PS={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},RS=(()=>{let r=class r extends vs{constructor(t){super(t)}supports(t){return r.parseEventName(t)!=null}addEventListener(t,o,y){let i=r.parseEventName(o),p=r.eventCallback(i.fullKey,y,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bn().onAndCancel(t,i.domEventName,p))}static parseEventName(t){let o=t.toLowerCase().split("."),y=o.shift();if(o.length===0||!(y==="keydown"||y==="keyup"))return null;let i=r._normalizeKey(o.pop()),p="",u=o.indexOf("code");if(u>-1&&(o.splice(u,1),p="code."),vy.forEach(x=>{let w=o.indexOf(x);w>-1&&(o.splice(w,1),p+=x+".")}),p+=i,o.length!=0||i.length===0)return null;let v={};return v.domEventName=y,v.fullKey=p,v}static matchEventFullKeyCode(t,o){let y=OS[t.key]||t.key,i="";return o.indexOf("code.")>-1&&(y=t.code,i="code."),y==null||!y?!1:(y=y.toLowerCase(),y===" "?y="space":y==="."&&(y="dot"),vy.forEach(p=>{if(p!==y){let u=PS[p];u(t)&&(i+=p+".")}}),i+=y,i===o)}static eventCallback(t,o,y){return i=>{r.matchEventFullKeyCode(i,t)&&y.runGuarded(()=>o(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}};r.\u0275fac=function(o){return new(o||r)(Et(Fr))},r.\u0275prov=ft({token:r,factory:r.\u0275fac});let n=r;return n})();function Sy(n,r){return ny(Qe({rootComponent:n},LS(r)))}function LS(n){return{appProviders:[...VS,...n?.providers??[]],platformProviders:US}}function NS(){Vd.makeCurrent()}function FS(){return new In}function BS(){return lg(document),document}var US=[{provide:_o,useValue:my},{provide:nd,useValue:NS,multi:!0},{provide:Fr,useFactory:BS,deps:[]}];var VS=[{provide:tl,useValue:"root"},{provide:In,useFactory:FS,deps:[]},{provide:Dl,useClass:AS,multi:!0,deps:[Fr,Jt,_o]},{provide:Dl,useClass:RS,multi:!0,deps:[Fr]},{provide:Dl,useClass:kS,multi:!0},gy,xy,by,{provide:yo,useExisting:gy},{provide:_l,useClass:CS,deps:[]},[]];var Cy=(()=>{let r=class r{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};r.\u0275fac=function(o){return new(o||r)(Et(Fr))},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var yt="primary",Ns=Symbol("RouteTitle"),Yd=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let s=this.params[r];return Array.isArray(s)?s[0]:s}return null}getAll(r){if(this.has(r)){let s=this.params[r];return Array.isArray(s)?s:[s]}return[]}get keys(){return Object.keys(this.params)}};function Ao(n){return new Yd(n)}function zS(n,r,s){let t=s.path.split("/");if(t.length>n.length||s.pathMatch==="full"&&(r.hasChildren()||t.length<n.length))return null;let o={};for(let y=0;y<t.length;y++){let i=t[y],p=n[y];if(i[0]===":")o[i.substring(1)]=p;else if(i!==p.path)return null}return{consumed:n.slice(0,t.length),posParams:o}}function WS(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(!xn(n[s],r[s]))return!1;return!0}function xn(n,r){let s=n?Xd(n):void 0,t=r?Xd(r):void 0;if(!s||!t||s.length!=t.length)return!1;let o;for(let y=0;y<s.length;y++)if(o=s[y],!ky(n[o],r[o]))return!1;return!0}function Xd(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ky(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;let s=[...n].sort(),t=[...r].sort();return s.every((o,y)=>t[y]===o)}else return n===r}function Oy(n){return n.length>0?n[n.length-1]:null}function di(n){return Au(n)?n:ci(n)?rr(Promise.resolve(n)):mt(n)}var $S={exact:Ry,subset:Ly},Py={exact:qS,subset:YS,ignored:()=>!0};function Ey(n,r,s){return $S[s.paths](n.root,r.root,s.matrixParams)&&Py[s.queryParams](n.queryParams,r.queryParams)&&!(s.fragment==="exact"&&n.fragment!==r.fragment)}function qS(n,r){return xn(n,r)}function Ry(n,r,s){if(!Li(n.segments,r.segments)||!Il(n.segments,r.segments,s)||n.numberOfChildren!==r.numberOfChildren)return!1;for(let t in r.children)if(!n.children[t]||!Ry(n.children[t],r.children[t],s))return!1;return!0}function YS(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(s=>ky(n[s],r[s]))}function Ly(n,r,s){return Ny(n,r,r.segments,s)}function Ny(n,r,s,t){if(n.segments.length>s.length){let o=n.segments.slice(0,s.length);return!(!Li(o,s)||r.hasChildren()||!Il(o,s,t))}else if(n.segments.length===s.length){if(!Li(n.segments,s)||!Il(n.segments,s,t))return!1;for(let o in r.children)if(!n.children[o]||!Ly(n.children[o],r.children[o],t))return!1;return!0}else{let o=s.slice(0,n.segments.length),y=s.slice(n.segments.length);return!Li(n.segments,o)||!Il(n.segments,o,t)||!n.children[yt]?!1:Ny(n.children[yt],r,y,t)}}function Il(n,r,s){return r.every((t,o)=>Py[s](n[o].parameters,t.parameters))}var Vn=class{constructor(r=new Lt([],{}),s={},t=null){this.root=r,this.queryParams=s,this.fragment=t}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){return QS.serialize(this)}},Lt=class{constructor(r,s){this.segments=r,this.children=s,this.parent=null,Object.values(s).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Al(this)}},Ri=class{constructor(r,s){this.path=r,this.parameters=s}get parameterMap(){return this._parameterMap??=Ao(this.parameters),this._parameterMap}toString(){return By(this)}};function XS(n,r){return Li(n,r)&&n.every((s,t)=>xn(s.parameters,r[t].parameters))}function Li(n,r){return n.length!==r.length?!1:n.every((s,t)=>s.path===r[t].path)}function ZS(n,r){let s=[];return Object.entries(n.children).forEach(([t,o])=>{t===yt&&(s=s.concat(r(o,t)))}),Object.entries(n.children).forEach(([t,o])=>{t!==yt&&(s=s.concat(r(o,t)))}),s}var wh=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:()=>new Ms,providedIn:"root"});let n=r;return n})(),Ms=class{parse(r){let s=new Qd(r);return new Vn(s.parseRootSegment(),s.parseQueryParams(),s.parseFragment())}serialize(r){let s=`/${ws(r.root,!0)}`,t=eC(r.queryParams),o=typeof r.fragment=="string"?`#${KS(r.fragment)}`:"";return`${s}${t}${o}`}},QS=new Ms;function Al(n){return n.segments.map(r=>By(r)).join("/")}function ws(n,r){if(!n.hasChildren())return Al(n);if(r){let s=n.children[yt]?ws(n.children[yt],!1):"",t=[];return Object.entries(n.children).forEach(([o,y])=>{o!==yt&&t.push(`${o}:${ws(y,!1)}`)}),t.length>0?`${s}(${t.join("//")})`:s}else{let s=ZS(n,(t,o)=>o===yt?[ws(n.children[yt],!1)]:[`${o}:${ws(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[yt]!=null?`${Al(n)}/${s[0]}`:`${Al(n)}/(${s.join("//")})`}}function Fy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jl(n){return Fy(n).replace(/%3B/gi,";")}function KS(n){return encodeURI(n)}function Zd(n){return Fy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kl(n){return decodeURIComponent(n)}function Dy(n){return kl(n.replace(/\+/g,"%20"))}function By(n){return`${Zd(n.path)}${JS(n.parameters)}`}function JS(n){return Object.entries(n).map(([r,s])=>`;${Zd(r)}=${Zd(s)}`).join("")}function eC(n){let r=Object.entries(n).map(([s,t])=>Array.isArray(t)?t.map(o=>`${jl(s)}=${jl(o)}`).join("&"):`${jl(s)}=${jl(t)}`).filter(s=>s);return r.length?`?${r.join("&")}`:""}var tC=/^[^\/()?;#]+/;function zd(n){let r=n.match(tC);return r?r[0]:""}var rC=/^[^\/()?;=#]+/;function nC(n){let r=n.match(rC);return r?r[0]:""}var iC=/^[^=?&#]+/;function oC(n){let r=n.match(iC);return r?r[0]:""}var sC=/^[^&#]+/;function aC(n){let r=n.match(sC);return r?r[0]:""}var Qd=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let s={};this.peekStartsWith("/(")&&(this.capture("/"),s=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(r.length>0||Object.keys(s).length>0)&&(t[yt]=new Lt(r,s)),t}parseSegment(){let r=zd(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new ut(4009,!1);return this.capture(r),new Ri(kl(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let s=nC(this.remaining);if(!s)return;this.capture(s);let t="";if(this.consumeOptional("=")){let o=zd(this.remaining);o&&(t=o,this.capture(t))}r[kl(s)]=kl(t)}parseQueryParam(r){let s=oC(this.remaining);if(!s)return;this.capture(s);let t="";if(this.consumeOptional("=")){let i=aC(this.remaining);i&&(t=i,this.capture(t))}let o=Dy(s),y=Dy(t);if(r.hasOwnProperty(o)){let i=r[o];Array.isArray(i)||(i=[i],r[o]=i),i.push(y)}else r[o]=y}parseParens(r){let s={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=zd(this.remaining),o=this.remaining[t.length];if(o!=="/"&&o!==")"&&o!==";")throw new ut(4010,!1);let y;t.indexOf(":")>-1?(y=t.slice(0,t.indexOf(":")),this.capture(y),this.capture(":")):r&&(y=yt);let i=this.parseChildren();s[y]=Object.keys(i).length===1?i[yt]:new Lt([],i),this.consumeOptional("//")}return s}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new ut(4011,!1)}};function Uy(n){return n.segments.length>0?new Lt([],{[yt]:n}):n}function Vy(n){let r={};for(let[t,o]of Object.entries(n.children)){let y=Vy(o);if(t===yt&&y.segments.length===0&&y.hasChildren())for(let[i,p]of Object.entries(y.children))r[i]=p;else(y.segments.length>0||y.hasChildren())&&(r[t]=y)}let s=new Lt(n.segments,r);return lC(s)}function lC(n){if(n.numberOfChildren===1&&n.children[yt]){let r=n.children[yt];return new Lt(n.segments.concat(r.segments),r.children)}return n}function js(n){return n instanceof Vn}function uC(n,r,s=null,t=null){let o=Gy(n);return Hy(o,r,s,t)}function Gy(n){let r;function s(y){let i={};for(let u of y.children){let v=s(u);i[u.outlet]=v}let p=new Lt(y.url,i);return y===n&&(r=p),p}let t=s(n.root),o=Uy(t);return r??o}function Hy(n,r,s,t){let o=n;for(;o.parent;)o=o.parent;if(r.length===0)return Wd(o,o,o,s,t);let y=cC(r);if(y.toRoot())return Wd(o,o,new Lt([],{}),s,t);let i=dC(y,o,n),p=i.processChildren?Cs(i.segmentGroup,i.index,y.commands):Wy(i.segmentGroup,i.index,y.commands);return Wd(o,i.segmentGroup,p,s,t)}function Ol(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ts(n){return typeof n=="object"&&n!=null&&n.outlets}function Wd(n,r,s,t,o){let y={};t&&Object.entries(t).forEach(([u,v])=>{y[u]=Array.isArray(v)?v.map(x=>`${x}`):`${v}`});let i;n===r?i=s:i=zy(n,r,s);let p=Uy(Vy(i));return new Vn(p,y,o)}function zy(n,r,s){let t={};return Object.entries(n.children).forEach(([o,y])=>{y===r?t[o]=s:t[o]=zy(y,r,s)}),new Lt(n.segments,t)}var Pl=class{constructor(r,s,t){if(this.isAbsolute=r,this.numberOfDoubleDots=s,this.commands=t,r&&t.length>0&&Ol(t[0]))throw new ut(4003,!1);let o=t.find(Ts);if(o&&o!==Oy(t))throw new ut(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cC(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Pl(!0,0,n);let r=0,s=!1,t=n.reduce((o,y,i)=>{if(typeof y=="object"&&y!=null){if(y.outlets){let p={};return Object.entries(y.outlets).forEach(([u,v])=>{p[u]=typeof v=="string"?v.split("/"):v}),[...o,{outlets:p}]}if(y.segmentPath)return[...o,y.segmentPath]}return typeof y!="string"?[...o,y]:i===0?(y.split("/").forEach((p,u)=>{u==0&&p==="."||(u==0&&p===""?s=!0:p===".."?r++:p!=""&&o.push(p))}),o):[...o,y]},[]);return new Pl(s,r,t)}var jo=class{constructor(r,s,t){this.segmentGroup=r,this.processChildren=s,this.index=t}};function dC(n,r,s){if(n.isAbsolute)return new jo(r,!0,0);if(!s)return new jo(r,!1,NaN);if(s.parent===null)return new jo(s,!0,0);let t=Ol(n.commands[0])?0:1,o=s.segments.length-1+t;return hC(s,o,n.numberOfDoubleDots)}function hC(n,r,s){let t=n,o=r,y=s;for(;y>o;){if(y-=o,t=t.parent,!t)throw new ut(4005,!1);o=t.segments.length}return new jo(t,!1,o-y)}function fC(n){return Ts(n[0])?n[0].outlets:{[yt]:n}}function Wy(n,r,s){if(n??=new Lt([],{}),n.segments.length===0&&n.hasChildren())return Cs(n,r,s);let t=pC(n,r,s),o=s.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let y=new Lt(n.segments.slice(0,t.pathIndex),{});return y.children[yt]=new Lt(n.segments.slice(t.pathIndex),n.children),Cs(y,0,o)}else return t.match&&o.length===0?new Lt(n.segments,{}):t.match&&!n.hasChildren()?Kd(n,r,s):t.match?Cs(n,0,o):Kd(n,r,s)}function Cs(n,r,s){if(s.length===0)return new Lt(n.segments,{});{let t=fC(s),o={};if(Object.keys(t).some(y=>y!==yt)&&n.children[yt]&&n.numberOfChildren===1&&n.children[yt].segments.length===0){let y=Cs(n.children[yt],r,s);return new Lt(n.segments,y.children)}return Object.entries(t).forEach(([y,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(o[y]=Wy(n.children[y],r,i))}),Object.entries(n.children).forEach(([y,i])=>{t[y]===void 0&&(o[y]=i)}),new Lt(n.segments,o)}}function pC(n,r,s){let t=0,o=r,y={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(t>=s.length)return y;let i=n.segments[o],p=s[t];if(Ts(p))break;let u=`${p}`,v=t<s.length-1?s[t+1]:null;if(o>0&&u===void 0)break;if(u&&v&&typeof v=="object"&&v.outlets===void 0){if(!jy(u,v,i))return y;t+=2}else{if(!jy(u,{},i))return y;t++}o++}return{match:!0,pathIndex:o,commandIndex:t}}function Kd(n,r,s){let t=n.segments.slice(0,r),o=0;for(;o<s.length;){let y=s[o];if(Ts(y)){let u=mC(y.outlets);return new Lt(t,u)}if(o===0&&Ol(s[0])){let u=n.segments[r];t.push(new Ri(u.path,My(s[0]))),o++;continue}let i=Ts(y)?y.outlets[yt]:`${y}`,p=o<s.length-1?s[o+1]:null;i&&p&&Ol(p)?(t.push(new Ri(i,My(p))),o+=2):(t.push(new Ri(i,{})),o++)}return new Lt(t,{})}function mC(n){let r={};return Object.entries(n).forEach(([s,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(r[s]=Kd(new Lt([],{}),0,t))}),r}function My(n){let r={};return Object.entries(n).forEach(([s,t])=>r[s]=`${t}`),r}function jy(n,r,s){return n==s.path&&xn(r,s.parameters)}var Es="imperative",wr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(wr||{}),Wr=class{constructor(r,s){this.id=r,this.url=s}},Is=class extends Wr{constructor(r,s,t="imperative",o=null){super(r,s),this.type=wr.NavigationStart,this.navigationTrigger=t,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ni=class extends Wr{constructor(r,s,t){super(r,s),this.urlAfterRedirects=t,this.type=wr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ur=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ur||{}),Jd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Jd||{}),Un=class extends Wr{constructor(r,s,t,o){super(r,s),this.reason=t,this.code=o,this.type=wr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fi=class extends Wr{constructor(r,s,t,o){super(r,s),this.reason=t,this.code=o,this.type=wr.NavigationSkipped}},As=class extends Wr{constructor(r,s,t,o){super(r,s),this.error=t,this.target=o,this.type=wr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rl=class extends Wr{constructor(r,s,t,o){super(r,s),this.urlAfterRedirects=t,this.state=o,this.type=wr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},eh=class extends Wr{constructor(r,s,t,o){super(r,s),this.urlAfterRedirects=t,this.state=o,this.type=wr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},th=class extends Wr{constructor(r,s,t,o,y){super(r,s),this.urlAfterRedirects=t,this.state=o,this.shouldActivate=y,this.type=wr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rh=class extends Wr{constructor(r,s,t,o){super(r,s),this.urlAfterRedirects=t,this.state=o,this.type=wr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nh=class extends Wr{constructor(r,s,t,o){super(r,s),this.urlAfterRedirects=t,this.state=o,this.type=wr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ih=class{constructor(r){this.route=r,this.type=wr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},oh=class{constructor(r){this.route=r,this.type=wr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sh=class{constructor(r){this.snapshot=r,this.type=wr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ah=class{constructor(r){this.snapshot=r,this.type=wr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lh=class{constructor(r){this.snapshot=r,this.type=wr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uh=class{constructor(r){this.snapshot=r,this.type=wr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ks=class{},ko=class{constructor(r,s){this.url=r,this.navigationBehaviorOptions=s}};function gC(n,r){return n.providers&&!n._injector&&(n._injector=Sd(n.providers,r,`Route: ${n.path}`)),n._injector??r}function sn(n){return n.outlet||yt}function yC(n,r){let s=n.filter(t=>sn(t)===r);return s.push(...n.filter(t=>sn(t)!==r)),s}function Fs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){let s=r.routeConfig;if(s?._loadedInjector)return s._loadedInjector;if(s?._injector)return s._injector}return null}var ch=class{get injector(){return Fs(this.route?.snapshot)??this.rootInjector}set injector(r){}constructor(r){this.rootInjector=r,this.outlet=null,this.route=null,this.children=new Gl(this.rootInjector),this.attachRef=null}},Gl=(()=>{let r=class r{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,o){let y=this.getOrCreateContext(t);y.outlet=o,this.contexts.set(t,y)}onChildOutletDestroyed(t){let o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new ch(this.rootInjector),this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}};r.\u0275fac=function(o){return new(o||r)(Et(Hr))},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),Ll=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let s=this.pathFromRoot(r);return s.length>1?s[s.length-2]:null}children(r){let s=dh(r,this._root);return s?s.children.map(t=>t.value):[]}firstChild(r){let s=dh(r,this._root);return s&&s.children.length>0?s.children[0].value:null}siblings(r){let s=hh(r,this._root);return s.length<2?[]:s[s.length-2].children.map(o=>o.value).filter(o=>o!==r)}pathFromRoot(r){return hh(r,this._root).map(s=>s.value)}};function dh(n,r){if(n===r.value)return r;for(let s of r.children){let t=dh(n,s);if(t)return t}return null}function hh(n,r){if(n===r.value)return[r];for(let s of r.children){let t=hh(n,s);if(t.length)return t.unshift(r),t}return[]}var Br=class{constructor(r,s){this.value=r,this.children=s}toString(){return`TreeNode(${this.value})`}};function Mo(n){let r={};return n&&n.children.forEach(s=>r[s.value.outlet]=s),r}var Nl=class extends Ll{constructor(r,s){super(r),this.snapshot=s,_h(this,r)}toString(){return this.snapshot.toString()}};function $y(n){let r=vC(n),s=new dr([new Ri("",{})]),t=new dr({}),o=new dr({}),y=new dr({}),i=new dr(""),p=new Oo(s,t,y,i,o,yt,n,r.root);return p.snapshot=r.root,new Nl(new Br(p,[]),r)}function vC(n){let r={},s={},t={},o="",y=new To([],r,t,o,s,yt,n,null,{});return new Bl("",new Br(y,[]))}var Oo=class{constructor(r,s,t,o,y,i,p,u){this.urlSubject=r,this.paramsSubject=s,this.queryParamsSubject=t,this.fragmentSubject=o,this.dataSubject=y,this.outlet=i,this.component=p,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(pt(v=>v[Ns]))??mt(void 0),this.url=r,this.params=s,this.queryParams=t,this.fragment=o,this.data=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(pt(r=>Ao(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(pt(r=>Ao(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fl(n,r,s="emptyOnly"){let t,{routeConfig:o}=n;return r!==null&&(s==="always"||o?.path===""||!r.component&&!r.routeConfig?.loadComponent)?t={params:Qe(Qe({},r.params),n.params),data:Qe(Qe({},r.data),n.data),resolve:Qe(Qe(Qe(Qe({},n.data),r.data),o?.data),n._resolvedData)}:t={params:Qe({},n.params),data:Qe({},n.data),resolve:Qe(Qe({},n.data),n._resolvedData??{})},o&&Yy(o)&&(t.resolve[Ns]=o.title),t}var To=class{get title(){return this.data?.[Ns]}constructor(r,s,t,o,y,i,p,u,v){this.url=r,this.params=s,this.queryParams=t,this.fragment=o,this.data=y,this.outlet=i,this.component=p,this.routeConfig=u,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ao(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ao(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(t=>t.toString()).join("/"),s=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${s}')`}},Bl=class extends Ll{constructor(r,s){super(s),this.url=r,_h(this,s)}toString(){return qy(this._root)}};function _h(n,r){r.value._routerState=n,r.children.forEach(s=>_h(n,s))}function qy(n){let r=n.children.length>0?` { ${n.children.map(qy).join(", ")} } `:"";return`${n.value}${r}`}function $d(n){if(n.snapshot){let r=n.snapshot,s=n._futureSnapshot;n.snapshot=s,xn(r.queryParams,s.queryParams)||n.queryParamsSubject.next(s.queryParams),r.fragment!==s.fragment&&n.fragmentSubject.next(s.fragment),xn(r.params,s.params)||n.paramsSubject.next(s.params),WS(r.url,s.url)||n.urlSubject.next(s.url),xn(r.data,s.data)||n.dataSubject.next(s.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fh(n,r){let s=xn(n.params,r.params)&&XS(n.url,r.url),t=!n.parent!=!r.parent;return s&&!t&&(!n.parent||fh(n.parent,r.parent))}function Yy(n){return typeof n.title=="string"||n.title===null}var bC=(()=>{let r=class r{constructor(){this.activated=null,this._activatedRoute=null,this.name=yt,this.activateEvents=new Yt,this.deactivateEvents=new Yt,this.attachEvents=new Yt,this.detachEvents=new Yt,this.parentContexts=Je(Gl),this.location=Je(ki),this.changeDetector=Je(Oi),this.inputBinder=Je(Sh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:o,previousValue:y}=t.name;if(o)return;this.isTrackedInParentContexts(y)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(y)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ut(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ut(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ut(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new ut(4013,!1);this._activatedRoute=t;let y=this.location,p=t.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,v=new ph(t,u,y.injector);this.activated=y.createComponent(p,{index:y.length,injector:v,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};r.\u0275fac=function(o){return new(o||r)},r.\u0275dir=Ar({type:r,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rn]});let n=r;return n})(),ph=class n{__ngOutletInjector(r){return new n(this.route,this.childContexts,r)}constructor(r,s,t){this.route=r,this.childContexts=s,this.parent=t}get(r,s){return r===Oo?this.route:r===Gl?this.childContexts:this.parent.get(r,s)}},Sh=new ct("");function xC(n,r,s){let t=Os(n,r._root,s?s._root:void 0);return new Nl(t,r)}function Os(n,r,s){if(s&&n.shouldReuseRoute(r.value,s.value.snapshot)){let t=s.value;t._futureSnapshot=r.value;let o=wC(n,r,s);return new Br(t,o)}else{if(n.shouldAttach(r.value)){let y=n.retrieve(r.value);if(y!==null){let i=y.route;return i.value._futureSnapshot=r.value,i.children=r.children.map(p=>Os(n,p)),i}}let t=_C(r.value),o=r.children.map(y=>Os(n,y));return new Br(t,o)}}function wC(n,r,s){return r.children.map(t=>{for(let o of s.children)if(n.shouldReuseRoute(t.value,o.value.snapshot))return Os(n,t,o);return Os(n,t)})}function _C(n){return new Oo(new dr(n.url),new dr(n.params),new dr(n.queryParams),new dr(n.fragment),new dr(n.data),n.outlet,n.component,n)}var Ps=class{constructor(r,s){this.redirectTo=r,this.navigationBehaviorOptions=s}},Xy="ngNavigationCancelingError";function Ul(n,r){let{redirectTo:s,navigationBehaviorOptions:t}=js(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,o=Zy(!1,Ur.Redirect);return o.url=s,o.navigationBehaviorOptions=t,o}function Zy(n,r){let s=new Error(`NavigationCancelingError: ${n||""}`);return s[Xy]=!0,s.cancellationCode=r,s}function SC(n){return Qy(n)&&js(n.url)}function Qy(n){return!!n&&n[Xy]}var CC=(n,r,s,t)=>pt(o=>(new mh(r,o.targetRouterState,o.currentRouterState,s,t).activate(n),o)),mh=class{constructor(r,s,t,o,y){this.routeReuseStrategy=r,this.futureState=s,this.currState=t,this.forwardEvent=o,this.inputBindingEnabled=y}activate(r){let s=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(s,t,r),$d(this.futureState.root),this.activateChildRoutes(s,t,r)}deactivateChildRoutes(r,s,t){let o=Mo(s);r.children.forEach(y=>{let i=y.value.outlet;this.deactivateRoutes(y,o[i],t),delete o[i]}),Object.values(o).forEach(y=>{this.deactivateRouteAndItsChildren(y,t)})}deactivateRoutes(r,s,t){let o=r.value,y=s?s.value:null;if(o===y)if(o.component){let i=t.getContext(o.outlet);i&&this.deactivateChildRoutes(r,s,i.children)}else this.deactivateChildRoutes(r,s,t);else y&&this.deactivateRouteAndItsChildren(s,t)}deactivateRouteAndItsChildren(r,s){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,s):this.deactivateRouteAndOutlet(r,s)}detachAndStoreRouteSubtree(r,s){let t=s.getContext(r.value.outlet),o=t&&r.value.component?t.children:s,y=Mo(r);for(let i of Object.values(y))this.deactivateRouteAndItsChildren(i,o);if(t&&t.outlet){let i=t.outlet.detach(),p=t.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:i,route:r,contexts:p})}}deactivateRouteAndOutlet(r,s){let t=s.getContext(r.value.outlet),o=t&&r.value.component?t.children:s,y=Mo(r);for(let i of Object.values(y))this.deactivateRouteAndItsChildren(i,o);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(r,s,t){let o=Mo(s);r.children.forEach(y=>{this.activateRoutes(y,o[y.value.outlet],t),this.forwardEvent(new uh(y.value.snapshot))}),r.children.length&&this.forwardEvent(new ah(r.value.snapshot))}activateRoutes(r,s,t){let o=r.value,y=s?s.value:null;if($d(o),o===y)if(o.component){let i=t.getOrCreateContext(o.outlet);this.activateChildRoutes(r,s,i.children)}else this.activateChildRoutes(r,s,t);else if(o.component){let i=t.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(p.contexts),i.attachRef=p.componentRef,i.route=p.route.value,i.outlet&&i.outlet.attach(p.componentRef,p.route.value),$d(p.route.value),this.activateChildRoutes(r,null,i.children)}else i.attachRef=null,i.route=o,i.outlet&&i.outlet.activateWith(o,i.injector),this.activateChildRoutes(r,null,i.children)}else this.activateChildRoutes(r,null,t)}},Vl=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},Io=class{constructor(r,s){this.component=r,this.route=s}};function EC(n,r,s){let t=n._root,o=r?r._root:null;return _s(t,o,s,[t.value])}function DC(n){let r=n.routeConfig?n.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:n,guards:r}}function Ro(n,r){let s=Symbol(),t=r.get(n,s);return t===s?typeof n=="function"&&!Kp(n)?n:r.get(n):t}function _s(n,r,s,t,o={canDeactivateChecks:[],canActivateChecks:[]}){let y=Mo(r);return n.children.forEach(i=>{MC(i,y[i.value.outlet],s,t.concat([i.value]),o),delete y[i.value.outlet]}),Object.entries(y).forEach(([i,p])=>Ds(p,s.getContext(i),o)),o}function MC(n,r,s,t,o={canDeactivateChecks:[],canActivateChecks:[]}){let y=n.value,i=r?r.value:null,p=s?s.getContext(n.value.outlet):null;if(i&&y.routeConfig===i.routeConfig){let u=jC(i,y,y.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Vl(t)):(y.data=i.data,y._resolvedData=i._resolvedData),y.component?_s(n,r,p?p.children:null,t,o):_s(n,r,s,t,o),u&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new Io(p.outlet.component,i))}else i&&Ds(r,p,o),o.canActivateChecks.push(new Vl(t)),y.component?_s(n,null,p?p.children:null,t,o):_s(n,null,s,t,o);return o}function jC(n,r,s){if(typeof s=="function")return s(n,r);switch(s){case"pathParamsChange":return!Li(n.url,r.url);case"pathParamsOrQueryParamsChange":return!Li(n.url,r.url)||!xn(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fh(n,r)||!xn(n.queryParams,r.queryParams);case"paramsChange":default:return!fh(n,r)}}function Ds(n,r,s){let t=Mo(n),o=n.value;Object.entries(t).forEach(([y,i])=>{o.component?r?Ds(i,r.children.getContext(y),s):Ds(i,null,s):Ds(i,r,s)}),o.component?r&&r.outlet&&r.outlet.isActivated?s.canDeactivateChecks.push(new Io(r.outlet.component,o)):s.canDeactivateChecks.push(new Io(null,o)):s.canDeactivateChecks.push(new Io(null,o))}function Bs(n){return typeof n=="function"}function TC(n){return typeof n=="boolean"}function IC(n){return n&&Bs(n.canLoad)}function AC(n){return n&&Bs(n.canActivate)}function kC(n){return n&&Bs(n.canActivateChild)}function OC(n){return n&&Bs(n.canDeactivate)}function PC(n){return n&&Bs(n.canMatch)}function Ky(n){return n instanceof Dn||n?.name==="EmptyError"}var Tl=Symbol("INITIAL_VALUE");function Po(){return Qr(n=>Ji(n.map(r=>r.pipe(Mn(1),yi(Tl)))).pipe(pt(r=>{for(let s of r)if(s!==!0){if(s===Tl)return Tl;if(s===!1||RC(s))return s}return!0}),Zr(r=>r!==Tl),Mn(1)))}function RC(n){return js(n)||n instanceof Ps}function LC(n,r){return nr(s=>{let{targetSnapshot:t,currentSnapshot:o,guards:{canActivateChecks:y,canDeactivateChecks:i}}=s;return i.length===0&&y.length===0?mt(St(Qe({},s),{guardsResult:!0})):NC(i,t,o,n).pipe(nr(p=>p&&TC(p)?FC(t,y,n,r):mt(p)),pt(p=>St(Qe({},s),{guardsResult:p})))})}function NC(n,r,s,t){return rr(n).pipe(nr(o=>HC(o.component,o.route,s,r,t)),hn(o=>o!==!0,!0))}function FC(n,r,s,t){return rr(r).pipe(to(o=>eo(UC(o.route.parent,t),BC(o.route,t),GC(n,o.path,s),VC(n,o.route,s))),hn(o=>o!==!0,!0))}function BC(n,r){return n!==null&&r&&r(new lh(n)),mt(!0)}function UC(n,r){return n!==null&&r&&r(new sh(n)),mt(!0)}function VC(n,r,s){let t=r.routeConfig?r.routeConfig.canActivate:null;if(!t||t.length===0)return mt(!0);let o=t.map(y=>wa(()=>{let i=Fs(r)??s,p=Ro(y,i),u=AC(p)?p.canActivate(r,n):kn(i,()=>p(r,n));return di(u).pipe(hn())}));return mt(o).pipe(Po())}function GC(n,r,s){let t=r[r.length-1],y=r.slice(0,r.length-1).reverse().map(i=>DC(i)).filter(i=>i!==null).map(i=>wa(()=>{let p=i.guards.map(u=>{let v=Fs(i.node)??s,x=Ro(u,v),w=kC(x)?x.canActivateChild(t,n):kn(v,()=>x(t,n));return di(w).pipe(hn())});return mt(p).pipe(Po())}));return mt(y).pipe(Po())}function HC(n,r,s,t,o){let y=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!y||y.length===0)return mt(!0);let i=y.map(p=>{let u=Fs(r)??o,v=Ro(p,u),x=OC(v)?v.canDeactivate(n,r,s,t):kn(u,()=>v(n,r,s,t));return di(x).pipe(hn())});return mt(i).pipe(Po())}function zC(n,r,s,t){let o=r.canLoad;if(o===void 0||o.length===0)return mt(!0);let y=o.map(i=>{let p=Ro(i,n),u=IC(p)?p.canLoad(r,s):kn(n,()=>p(r,s));return di(u)});return mt(y).pipe(Po(),Jy(t))}function Jy(n){return Mu(br(r=>{if(typeof r!="boolean")throw Ul(n,r)}),pt(r=>r===!0))}function WC(n,r,s,t){let o=r.canMatch;if(!o||o.length===0)return mt(!0);let y=o.map(i=>{let p=Ro(i,n),u=PC(p)?p.canMatch(r,s):kn(n,()=>p(r,s));return di(u)});return mt(y).pipe(Po(),Jy(t))}var Rs=class{constructor(r){this.segmentGroup=r||null}},Ls=class extends Error{constructor(r){super(),this.urlTree=r}};function Do(n){return Qi(new Rs(n))}function $C(n){return Qi(new ut(4e3,!1))}function qC(n){return Qi(Zy(!1,Ur.GuardRejected))}var gh=class{constructor(r,s){this.urlSerializer=r,this.urlTree=s}lineralizeSegments(r,s){let t=[],o=s.root;for(;;){if(t=t.concat(o.segments),o.numberOfChildren===0)return mt(t);if(o.numberOfChildren>1||!o.children[yt])return $C(`${r.redirectTo}`);o=o.children[yt]}}applyRedirectCommands(r,s,t,o,y){if(typeof s!="string"){let p=s,{queryParams:u,fragment:v,routeConfig:x,url:w,outlet:c,params:a,data:d,title:f}=o,m=kn(y,()=>p({params:a,data:d,queryParams:u,fragment:v,routeConfig:x,url:w,outlet:c,title:f}));if(m instanceof Vn)throw new Ls(m);s=m}let i=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),r,t);if(s[0]==="/")throw new Ls(i);return i}applyRedirectCreateUrlTree(r,s,t,o){let y=this.createSegmentGroup(r,s.root,t,o);return new Vn(y,this.createQueryParams(s.queryParams,this.urlTree.queryParams),s.fragment)}createQueryParams(r,s){let t={};return Object.entries(r).forEach(([o,y])=>{if(typeof y=="string"&&y[0]===":"){let p=y.substring(1);t[o]=s[p]}else t[o]=y}),t}createSegmentGroup(r,s,t,o){let y=this.createSegments(r,s.segments,t,o),i={};return Object.entries(s.children).forEach(([p,u])=>{i[p]=this.createSegmentGroup(r,u,t,o)}),new Lt(y,i)}createSegments(r,s,t,o){return s.map(y=>y.path[0]===":"?this.findPosParam(r,y,o):this.findOrReturn(y,t))}findPosParam(r,s,t){let o=t[s.path.substring(1)];if(!o)throw new ut(4001,!1);return o}findOrReturn(r,s){let t=0;for(let o of s){if(o.path===r.path)return s.splice(t),o;t++}return r}},yh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YC(n,r,s,t,o){let y=Ch(n,r,s);return y.matched?(t=gC(r,t),WC(t,r,s,o).pipe(pt(i=>i===!0?y:Qe({},yh)))):mt(y)}function Ch(n,r,s){if(r.path==="**")return XC(s);if(r.path==="")return r.pathMatch==="full"&&(n.hasChildren()||s.length>0)?Qe({},yh):{matched:!0,consumedSegments:[],remainingSegments:s,parameters:{},positionalParamSegments:{}};let o=(r.matcher||zS)(s,n,r);if(!o)return Qe({},yh);let y={};Object.entries(o.posParams??{}).forEach(([p,u])=>{y[p]=u.path});let i=o.consumed.length>0?Qe(Qe({},y),o.consumed[o.consumed.length-1].parameters):y;return{matched:!0,consumedSegments:o.consumed,remainingSegments:s.slice(o.consumed.length),parameters:i,positionalParamSegments:o.posParams??{}}}function XC(n){return{matched:!0,parameters:n.length>0?Oy(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ty(n,r,s,t){return s.length>0&&KC(n,s,t)?{segmentGroup:new Lt(r,QC(t,new Lt(s,n.children))),slicedSegments:[]}:s.length===0&&JC(n,s,t)?{segmentGroup:new Lt(n.segments,ZC(n,s,t,n.children)),slicedSegments:s}:{segmentGroup:new Lt(n.segments,n.children),slicedSegments:s}}function ZC(n,r,s,t){let o={};for(let y of s)if(Hl(n,r,y)&&!t[sn(y)]){let i=new Lt([],{});o[sn(y)]=i}return Qe(Qe({},t),o)}function QC(n,r){let s={};s[yt]=r;for(let t of n)if(t.path===""&&sn(t)!==yt){let o=new Lt([],{});s[sn(t)]=o}return s}function KC(n,r,s){return s.some(t=>Hl(n,r,t)&&sn(t)!==yt)}function JC(n,r,s){return s.some(t=>Hl(n,r,t))}function Hl(n,r,s){return(n.hasChildren()||r.length>0)&&s.pathMatch==="full"?!1:s.path===""}function eE(n,r,s,t){return sn(n)!==t&&(t===yt||!Hl(r,s,n))?!1:Ch(r,n,s).matched}function tE(n,r,s){return r.length===0&&!n.children[s]}var vh=class{};function rE(n,r,s,t,o,y,i="emptyOnly"){return new bh(n,r,s,t,o,i,y).recognize()}var nE=31,bh=class{constructor(r,s,t,o,y,i,p){this.injector=r,this.configLoader=s,this.rootComponentType=t,this.config=o,this.urlTree=y,this.paramsInheritanceStrategy=i,this.urlSerializer=p,this.applyRedirects=new gh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new ut(4002,`'${r.segmentGroup}'`)}recognize(){let r=Ty(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(pt(({children:s,rootSnapshot:t})=>{let o=new Br(t,s),y=new Bl("",o),i=uC(t,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,y.url=this.urlSerializer.serialize(i),{state:y,tree:i}}))}match(r){let s=new To([],Object.freeze({}),Object.freeze(Qe({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),yt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,yt,s).pipe(pt(t=>({children:t,rootSnapshot:s})),Xn(t=>{if(t instanceof Ls)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof Rs?this.noMatchError(t):t}))}processSegmentGroup(r,s,t,o,y){return t.segments.length===0&&t.hasChildren()?this.processChildren(r,s,t,y):this.processSegment(r,s,t,t.segments,o,!0,y).pipe(pt(i=>i instanceof Br?[i]:[]))}processChildren(r,s,t,o){let y=[];for(let i of Object.keys(t.children))i==="primary"?y.unshift(i):y.push(i);return rr(y).pipe(to(i=>{let p=t.children[i],u=yC(s,i);return this.processSegmentGroup(r,u,p,i,o)}),Lu((i,p)=>(i.push(...p),i)),Zn(null),Ru(),nr(i=>{if(i===null)return Do(t);let p=ev(i);return iE(p),mt(p)}))}processSegment(r,s,t,o,y,i,p){return rr(s).pipe(to(u=>this.processSegmentAgainstRoute(u._injector??r,s,u,t,o,y,i,p).pipe(Xn(v=>{if(v instanceof Rs)return mt(null);throw v}))),hn(u=>!!u),Xn(u=>{if(Ky(u))return tE(t,o,y)?mt(new vh):Do(t);throw u}))}processSegmentAgainstRoute(r,s,t,o,y,i,p,u){return eE(t,o,y,i)?t.redirectTo===void 0?this.matchSegmentAgainstRoute(r,o,t,y,i,u):this.allowRedirects&&p?this.expandSegmentAgainstRouteUsingRedirect(r,o,s,t,y,i,u):Do(o):Do(o)}expandSegmentAgainstRouteUsingRedirect(r,s,t,o,y,i,p){let{matched:u,parameters:v,consumedSegments:x,positionalParamSegments:w,remainingSegments:c}=Ch(s,o,y);if(!u)return Do(s);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nE&&(this.allowRedirects=!1));let a=new To(y,v,Object.freeze(Qe({},this.urlTree.queryParams)),this.urlTree.fragment,Iy(o),sn(o),o.component??o._loadedComponent??null,o,Ay(o)),d=Fl(a,p,this.paramsInheritanceStrategy);a.params=Object.freeze(d.params),a.data=Object.freeze(d.data);let f=this.applyRedirects.applyRedirectCommands(x,o.redirectTo,w,a,r);return this.applyRedirects.lineralizeSegments(o,f).pipe(nr(m=>this.processSegment(r,t,s,m.concat(c),i,!1,p)))}matchSegmentAgainstRoute(r,s,t,o,y,i){let p=YC(s,t,o,r,this.urlSerializer);return t.path==="**"&&(s.children={}),p.pipe(Qr(u=>u.matched?(r=t._injector??r,this.getChildConfig(r,t,o).pipe(Qr(({routes:v})=>{let x=t._loadedInjector??r,{parameters:w,consumedSegments:c,remainingSegments:a}=u,d=new To(c,w,Object.freeze(Qe({},this.urlTree.queryParams)),this.urlTree.fragment,Iy(t),sn(t),t.component??t._loadedComponent??null,t,Ay(t)),f=Fl(d,i,this.paramsInheritanceStrategy);d.params=Object.freeze(f.params),d.data=Object.freeze(f.data);let{segmentGroup:m,slicedSegments:l}=Ty(s,c,a,v);if(l.length===0&&m.hasChildren())return this.processChildren(x,v,m,d).pipe(pt(g=>new Br(d,g)));if(v.length===0&&l.length===0)return mt(new Br(d,[]));let h=sn(t)===y;return this.processSegment(x,v,m,l,h?yt:y,!0,d).pipe(pt(g=>new Br(d,g instanceof Br?[g]:[])))}))):Do(s)))}getChildConfig(r,s,t){return s.children?mt({routes:s.children,injector:r}):s.loadChildren?s._loadedRoutes!==void 0?mt({routes:s._loadedRoutes,injector:s._loadedInjector}):zC(r,s,t,this.urlSerializer).pipe(nr(o=>o?this.configLoader.loadChildren(r,s).pipe(br(y=>{s._loadedRoutes=y.routes,s._loadedInjector=y.injector})):qC(s))):mt({routes:[],injector:r})}};function iE(n){n.sort((r,s)=>r.value.outlet===yt?-1:s.value.outlet===yt?1:r.value.outlet.localeCompare(s.value.outlet))}function oE(n){let r=n.value.routeConfig;return r&&r.path===""}function ev(n){let r=[],s=new Set;for(let t of n){if(!oE(t)){r.push(t);continue}let o=r.find(y=>t.value.routeConfig===y.value.routeConfig);o!==void 0?(o.children.push(...t.children),s.add(o)):r.push(t)}for(let t of s){let o=ev(t.children);r.push(new Br(t.value,o))}return r.filter(t=>!s.has(t))}function Iy(n){return n.data||{}}function Ay(n){return n.resolve||{}}function sE(n,r,s,t,o,y){return nr(i=>rE(n,r,s,t,i.extractedUrl,o,y).pipe(pt(({state:p,tree:u})=>St(Qe({},i),{targetSnapshot:p,urlAfterRedirects:u}))))}function aE(n,r){return nr(s=>{let{targetSnapshot:t,guards:{canActivateChecks:o}}=s;if(!o.length)return mt(s);let y=new Set(o.map(u=>u.route)),i=new Set;for(let u of y)if(!i.has(u))for(let v of tv(u))i.add(v);let p=0;return rr(i).pipe(to(u=>y.has(u)?lE(u,t,n,r):(u.data=Fl(u,u.parent,n).resolve,mt(void 0))),br(()=>p++),ro(1),nr(u=>p===i.size?mt(s):Rr))})}function tv(n){let r=n.children.map(s=>tv(s)).flat();return[n,...r]}function lE(n,r,s,t){let o=n.routeConfig,y=n._resolve;return o?.title!==void 0&&!Yy(o)&&(y[Ns]=o.title),uE(y,n,r,t).pipe(pt(i=>(n._resolvedData=i,n.data=Fl(n,n.parent,s).resolve,null)))}function uE(n,r,s,t){let o=Xd(n);if(o.length===0)return mt({});let y={};return rr(o).pipe(nr(i=>cE(n[i],r,s,t).pipe(hn(),br(p=>{if(p instanceof Ps)throw Ul(new Ms,p);y[i]=p}))),ro(1),Pu(y),Xn(i=>Ky(i)?Rr:Qi(i)))}function cE(n,r,s,t){let o=Fs(r)??t,y=Ro(n,o),i=y.resolve?y.resolve(r,s):kn(o,()=>y(r,s));return di(i)}function qd(n){return Qr(r=>{let s=n(r);return s?rr(s).pipe(pt(()=>r)):mt(r)})}var rv=(()=>{let r=class r{buildTitle(t){let o,y=t.root;for(;y!==void 0;)o=this.getResolvedTitleForRoute(y)??o,y=y.children.find(i=>i.outlet===yt);return o}getResolvedTitleForRoute(t){return t.data[Ns]}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:()=>Je(dE),providedIn:"root"});let n=r;return n})(),dE=(()=>{let r=class r extends rv{constructor(t){super(),this.title=t}updateTitle(t){let o=this.buildTitle(t);o!==void 0&&this.title.setTitle(o)}};r.\u0275fac=function(o){return new(o||r)(Et(Cy))},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),Eh=new ct("",{providedIn:"root",factory:()=>({})}),hE=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=vn({type:r,selectors:[["ng-component"]],standalone:!0,features:[ui],decls:1,vars:0,template:function(o,y){o&1&&kr(0,"router-outlet")},dependencies:[bC],encapsulation:2});let n=r;return n})();function Dh(n){let r=n.children&&n.children.map(Dh),s=r?St(Qe({},n),{children:r}):Qe({},n);return!s.component&&!s.loadComponent&&(r||s.loadChildren)&&s.outlet&&s.outlet!==yt&&(s.component=hE),s}var Mh=new ct(""),fE=(()=>{let r=class r{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Je(Id)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let o=di(t.loadComponent()).pipe(pt(nv),br(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),Xo(()=>{this.componentLoaders.delete(t)})),y=new Xi(o,()=>new vr).pipe(Yi());return this.componentLoaders.set(t,y),y}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return mt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let i=pE(o,this.compiler,t,this.onLoadEndListener).pipe(Xo(()=>{this.childrenLoaders.delete(o)})),p=new Xi(i,()=>new vr).pipe(Yi());return this.childrenLoaders.set(o,p),p}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function pE(n,r,s,t){return di(n.loadChildren()).pipe(pt(nv),nr(o=>o instanceof is||Array.isArray(o)?mt(o):rr(r.compileModuleAsync(o))),pt(o=>{t&&t(n);let y,i,p=!1;return Array.isArray(o)?(i=o,p=!0):(y=o.create(s).injector,i=y.get(Mh,[],{optional:!0,self:!0}).flat()),{routes:i.map(Dh),injector:y}}))}function mE(n){return n&&typeof n=="object"&&"default"in n}function nv(n){return mE(n)?n.default:n}var jh=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:()=>Je(gE),providedIn:"root"});let n=r;return n})(),gE=(()=>{let r=class r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,o){return t}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),yE=new ct("");var vE=new ct(""),bE=(()=>{let r=class r{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new vr,this.transitionAbortSubject=new vr,this.configLoader=Je(fE),this.environmentInjector=Je(Hr),this.urlSerializer=Je(wh),this.rootContexts=Je(Gl),this.location=Je(gs),this.inputBindingEnabled=Je(Sh,{optional:!0})!==null,this.titleStrategy=Je(rv),this.options=Je(Eh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Je(jh),this.createViewTransition=Je(yE,{optional:!0}),this.navigationErrorHandler=Je(vE,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>mt(void 0),this.rootComponentType=null;let t=y=>this.events.next(new ih(y)),o=y=>this.events.next(new oh(y));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let o=++this.navigationId;this.transitions?.next(St(Qe(Qe({},this.transitions.value),t),{id:o}))}setupNavigations(t,o,y){return this.transitions=new dr({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Es,restoredState:null,currentSnapshot:y.snapshot,targetSnapshot:null,currentRouterState:y,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zr(i=>i.id!==0),pt(i=>St(Qe({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Qr(i=>{let p=!1,u=!1;return mt(i).pipe(Qr(v=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Ur.SupersededByNewNavigation),Rr;this.currentTransition=i,this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,targetBrowserUrl:typeof v.extras.browserUrl=="string"?this.urlSerializer.parse(v.extras.browserUrl):v.extras.browserUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?St(Qe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let x=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),w=v.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!x&&w!=="reload"){let c="";return this.events.next(new Fi(v.id,this.urlSerializer.serialize(v.rawUrl),c,Jd.IgnoredSameUrlNavigation)),v.resolve(!1),Rr}if(this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return mt(v).pipe(Qr(c=>{let a=this.transitions?.getValue();return this.events.next(new Is(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),a!==this.transitions?.getValue()?Rr:Promise.resolve(c)}),sE(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),br(c=>{i.targetSnapshot=c.targetSnapshot,i.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=St(Qe({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let a=new Rl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(a)}));if(x&&this.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){let{id:c,extractedUrl:a,source:d,restoredState:f,extras:m}=v,l=new Is(c,this.urlSerializer.serialize(a),d,f);this.events.next(l);let h=$y(this.rootComponentType).snapshot;return this.currentTransition=i=St(Qe({},v),{targetSnapshot:h,urlAfterRedirects:a,extras:St(Qe({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=a,mt(i)}else{let c="";return this.events.next(new Fi(v.id,this.urlSerializer.serialize(v.extractedUrl),c,Jd.IgnoredByUrlHandlingStrategy)),v.resolve(!1),Rr}}),br(v=>{let x=new eh(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(x)}),pt(v=>(this.currentTransition=i=St(Qe({},v),{guards:EC(v.targetSnapshot,v.currentSnapshot,this.rootContexts)}),i)),LC(this.environmentInjector,v=>this.events.next(v)),br(v=>{if(i.guardsResult=v.guardsResult,v.guardsResult&&typeof v.guardsResult!="boolean")throw Ul(this.urlSerializer,v.guardsResult);let x=new th(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(x)}),Zr(v=>v.guardsResult?!0:(this.cancelNavigationTransition(v,"",Ur.GuardRejected),!1)),qd(v=>{if(v.guards.canActivateChecks.length)return mt(v).pipe(br(x=>{let w=new rh(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(w)}),Qr(x=>{let w=!1;return mt(x).pipe(aE(this.paramsInheritanceStrategy,this.environmentInjector),br({next:()=>w=!0,complete:()=>{w||this.cancelNavigationTransition(x,"",Ur.NoDataFromResolver)}}))}),br(x=>{let w=new nh(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(w)}))}),qd(v=>{let x=w=>{let c=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(w.routeConfig).pipe(br(a=>{w.component=a}),pt(()=>{})));for(let a of w.children)c.push(...x(a));return c};return Ji(x(v.targetSnapshot.root)).pipe(Zn(null),Mn(1))}),qd(()=>this.afterPreactivation()),Qr(()=>{let{currentSnapshot:v,targetSnapshot:x}=i,w=this.createViewTransition?.(this.environmentInjector,v.root,x.root);return w?rr(w).pipe(pt(()=>i)):mt(i)}),pt(v=>{let x=xC(t.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=i=St(Qe({},v),{targetRouterState:x}),this.currentNavigation.targetRouterState=x,i}),br(()=>{this.events.next(new ks)}),CC(this.rootContexts,t.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),Mn(1),br({next:v=>{p=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ni(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),this.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{p=!0}}),Nu(this.transitionAbortSubject.pipe(br(v=>{throw v}))),Xo(()=>{!p&&!u&&this.cancelNavigationTransition(i,"",Ur.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xn(v=>{if(u=!0,Qy(v))this.events.next(new Un(i.id,this.urlSerializer.serialize(i.extractedUrl),v.message,v.cancellationCode)),SC(v)?this.events.next(new ko(v.url,v.navigationBehaviorOptions)):i.resolve(!1);else{let x=new As(i.id,this.urlSerializer.serialize(i.extractedUrl),v,i.targetSnapshot??void 0);try{let w=kn(this.environmentInjector,()=>this.navigationErrorHandler?.(x));if(w instanceof Ps){let{message:c,cancellationCode:a}=Ul(this.urlSerializer,w);this.events.next(new Un(i.id,this.urlSerializer.serialize(i.extractedUrl),c,a)),this.events.next(new ko(w.redirectTo,w.navigationBehaviorOptions))}else{this.events.next(x);let c=t.errorHandler(v);i.resolve(!!c)}}catch(w){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(w)}}return Rr}))}))}cancelNavigationTransition(t,o,y){let i=new Un(t.id,this.urlSerializer.serialize(t.extractedUrl),o,y);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==o?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function xE(n){return n!==Es}var wE=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:()=>Je(_E),providedIn:"root"});let n=r;return n})(),xh=class{shouldDetach(r){return!1}store(r,s){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,s){return r.routeConfig===s.routeConfig}},_E=(()=>{let r=class r extends xh{};r.\u0275fac=(()=>{let t;return function(y){return(t||(t=Ai(r)))(y||r)}})(),r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),iv=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:()=>Je(SE),providedIn:"root"});let n=r;return n})(),SE=(()=>{let r=class r extends iv{constructor(){super(...arguments),this.location=Je(gs),this.urlSerializer=Je(wh),this.options=Je(Eh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Je(jh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$y(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(o=>{o.type==="popstate"&&t(o.url,o.state)})}handleRouterEvent(t,o){if(t instanceof Is)this.stateMemento=this.createStateMemento();else if(t instanceof Fi)this.rawUrlTree=o.initialUrl;else if(t instanceof Rl){if(this.urlUpdateStrategy==="eager"&&!o.extras.skipLocationChange){let y=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(o.targetBrowserUrl??y,o)}}else t instanceof ks?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(o.targetBrowserUrl??this.rawUrlTree,o)):t instanceof Un&&(t.code===Ur.GuardRejected||t.code===Ur.NoDataFromResolver)?this.restoreHistory(o):t instanceof As?this.restoreHistory(o,!0):t instanceof Ni&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,o){let y=t instanceof Vn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(y)||o.extras.replaceUrl){let i=this.browserPageId,p=Qe(Qe({},o.extras.state),this.generateNgRouterState(o.id,i));this.location.replaceState(y,"",p)}else{let i=Qe(Qe({},o.extras.state),this.generateNgRouterState(o.id,this.browserPageId+1));this.location.go(y,"",i)}}restoreHistory(t,o=!1){if(this.canceledNavigationResolution==="computed"){let y=this.browserPageId,i=this.currentPageId-y;i!==0?this.location.historyGo(i):this.currentUrlTree===t.finalUrl&&i===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,o){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}};r.\u0275fac=(()=>{let t;return function(y){return(t||(t=Ai(r)))(y||r)}})(),r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),Ss=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ss||{});function CE(n,r){n.events.pipe(Zr(s=>s instanceof Ni||s instanceof Un||s instanceof As||s instanceof Fi),pt(s=>s instanceof Ni||s instanceof Fi?Ss.COMPLETE:(s instanceof Un?s.code===Ur.Redirect||s.code===Ur.SupersededByNewNavigation:!1)?Ss.REDIRECTING:Ss.FAILED),Zr(s=>s!==Ss.REDIRECTING),Mn(1)).subscribe(()=>{r()})}function EE(n){throw n}var DE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ME={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ov=(()=>{let r=class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=Je(xl),this.stateManager=Je(iv),this.options=Je(Eh,{optional:!0})||{},this.pendingTasks=Je(wo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Je(bE),this.urlSerializer=Je(wh),this.location=Je(gs),this.urlHandlingStrategy=Je(jh),this._events=new vr,this.errorHandler=this.options.errorHandler||EE,this.navigated=!1,this.routeReuseStrategy=Je(wE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Je(Mh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Je(Sh,{optional:!0}),this.eventsSubscription=new lr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(o=>{try{let y=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(y!==null&&i!==null){if(this.stateManager.handleRouterEvent(o,i),o instanceof Un&&o.code!==Ur.Redirect&&o.code!==Ur.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Ni)this.navigated=!0;else if(o instanceof ko){let p=o.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(o.url,y.currentRawUrl),v=Qe({browserUrl:y.extras.browserUrl,info:y.extras.info,skipLocationChange:y.extras.skipLocationChange,replaceUrl:y.extras.replaceUrl||this.urlUpdateStrategy==="eager"||xE(y.source)},p);this.scheduleNavigation(u,Es,null,v,{resolve:y.resolve,reject:y.reject,promise:y.promise})}}TE(o)&&this._events.next(o)}catch(y){this.navigationTransitions.transitionAbortSubject.next(y)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Es,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",o)},0)})}navigateToSyncWithBrowser(t,o,y){let i={replaceUrl:!0},p=y?.navigationId?y:null;if(y){let v=Qe({},y);delete v.navigationId,delete v.\u0275routerPageId,Object.keys(v).length!==0&&(i.state=v)}let u=this.parseUrl(t);this.scheduleNavigation(u,o,p,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Dh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,o={}){let{relativeTo:y,queryParams:i,fragment:p,queryParamsHandling:u,preserveFragment:v}=o,x=v?this.currentUrlTree.fragment:p,w=null;switch(u){case"merge":w=Qe(Qe({},this.currentUrlTree.queryParams),i);break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=i||null}w!==null&&(w=this.removeEmptyProps(w));let c;try{let a=y?y.snapshot:this.routerState.snapshot.root;c=Gy(a)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),c=this.currentUrlTree.root}return Hy(c,t,w,x??null)}navigateByUrl(t,o={skipLocationChange:!1}){let y=js(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(y,this.rawUrlTree);return this.scheduleNavigation(i,Es,null,o)}navigate(t,o={skipLocationChange:!1}){return jE(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,o){let y;if(o===!0?y=Qe({},DE):o===!1?y=Qe({},ME):y=o,js(t))return Ey(this.currentUrlTree,t,y);let i=this.parseUrl(t);return Ey(this.currentUrlTree,i,y)}removeEmptyProps(t){return Object.entries(t).reduce((o,[y,i])=>(i!=null&&(o[y]=i),o),{})}scheduleNavigation(t,o,y,i,p){if(this.disposed)return Promise.resolve(!1);let u,v,x;p?(u=p.resolve,v=p.reject,x=p.promise):x=new Promise((c,a)=>{u=c,v=a});let w=this.pendingTasks.add();return CE(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:y,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:u,reject:v,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(c=>Promise.reject(c))}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ft({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();function jE(n){for(let r=0;r<n.length;r++)if(n[r]==null)throw new ut(4008,!1)}function TE(n){return!(n instanceof ks)&&!(n instanceof ko)}var IE=new ct("");function sv(n,...r){return el([{provide:Mh,multi:!0,useValue:n},[],{provide:Oo,useFactory:AE,deps:[ov]},{provide:Td,multi:!0,useFactory:kE},r.map(s=>s.\u0275providers)])}function AE(n){return n.routerState.root}function kE(){let n=Je(ri);return r=>{let s=n.get(Eo);if(r!==s.components[0])return;let t=n.get(ov),o=n.get(OE);n.get(PE)===1&&t.initialNavigation(),n.get(RE,null,xt.Optional)?.setUpPreloading(),n.get(IE,null,xt.Optional)?.init(),t.resetRootComponentType(s.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var OE=new ct("",{factory:()=>new vr}),PE=new ct("",{providedIn:"root",factory:()=>1});var RE=new ct("");var av=[];var lv={providers:[ey({eventCoalescing:!0}),sv(av)]};var dv=jf(cv());var zl=class{_p;_featureHeight=100;_canvasWidth;_canvasHeight;_substrate;_numLines=2;_featureWidth;_lineRegions=[];constructor(r,s,t){this._p=r,this._canvasWidth=s,this._canvasHeight=t,this._featureWidth=this._canvasWidth/(this._numLines*2+1),this._substrate=this._canvasHeight/1.25}draw(){this._lineRegions=[];let r=this._featureWidth,s=this._substrate-this._featureHeight;for(let t=0;t<this._numLines*2;t++)this._p.line(r*(t+1),this._substrate,r*(t+1),s);for(let t=0;t<this._numLines*2;t+=2)this._p.line(r*(t+1),s,r*(t+2),s),this._lineRegions.push({x1:r*(t+1),x2:r*(t+2)});for(let t=0;t<this._numLines*2+1;t+=2)this._p.line(r*t,this._substrate,r*(t+1),this._substrate)}getYGeometry(r){return this.findLineRegion(r)?this._substrate-this._featureHeight:this._substrate}isPointInMaterial(r,s){return s>this._substrate?!0:s<this._substrate-this._featureHeight?!1:!!this.findLineRegion(r)}set numLines(r){this._numLines=r,this._featureWidth=this._canvasWidth/(this._numLines*2+1)}findLineRegion(r){return this._lineRegions.find(s=>r>s.x1&&r<s.x2)}};var Wl=class{_p;_canvasWidth;_detections=[];_xPosition=0;constructor(r,s){this._p=r,this._canvasWidth=s,this._detections=Array.from({length:this._canvasWidth},()=>0),this._xPosition=0}draw(){let r=this._xPosition,s=10,t=50;this._p.fill(255),this._p.triangle(r-s,0,r+s,0,r,t)}increment(){this._xPosition++,this._xPosition>this._canvasWidth&&(this._xPosition=0)}setDetectionCount(r,s){this._detections[r]=s}get xPosition(){return this._xPosition}get detections(){return[...this._detections]}};var $l=class{_p;_r;_x;_y;constructor(r,s,t,o,y){this._p=r,this._x=s,this._r=y,this._y=t+o+y}draw(){this._p.fill("#fff"),this._p.circle(this._x,this._y,2*this._r)}get randomPoint(){let r=this._p.random(this._p.TWO_PI),s=this._r*this._p.sqrt(this._p.random()),t=this._x+s*this._p.cos(r),o=this._y+s*this._p.sin(r);return[t,o]}};var ql=(()=>{class n{_detections=new dr([]);detections$=this._detections.asObservable();updateData(s){this._detections.next(s)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=ft({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LE=["sketch"],NE={canvas:{width:600,height:300},numLines:3,interactionVolume:{radius:10,depth:10},secondaryElectrons:{numPerFrame:1e3,energyMean:50,energyStdDev:20}},hv=(()=>{class n{set parameters(s){let t=this._params.canvas.width!==s.canvas.width;this._params=s,this._p5&&(t?(this._p5.remove(),this._p5=null,this._draw()):this._redraw())}_linescanData=Je(ql);_p5;_params=NE;_sketch;ngAfterViewInit(){this._draw()}ngOnDestroy(){this._p5&&(this._p5.remove(),this._p5=null)}_draw(){this._p5=new dv.default(s=>{let t=this._params.canvas.width,o=this._params.canvas.height,y=new Wl(s,t),i=new zl(s,t,o);i.numLines=this._params.numLines,s.setup=()=>{s.createCanvas(t,o)},s.draw=()=>{s.background(220),s.stroke(0),i.numLines=this._params.numLines,i.draw();let p=i.getYGeometry(y.xPosition),u=new $l(s,y.xPosition,p,this._params.interactionVolume.depth,this._params.interactionVolume.radius);u.draw(),y.draw();let v=0;for(let x=0;x<this._params.secondaryElectrons.numPerFrame;x++){let[w,c]=u.randomPoint;if(i.isPointInMaterial(w,c)){s.circle(w,c,3);let a=s.random(s.TWO_PI),d=this._params.secondaryElectrons.energyMean,f=s.randomGaussian(d,20),m=w+f*s.cos(a),l=c+f*s.sin(a);i.isPointInMaterial(m,l)||(v++,s.stroke(42,252,42,50),s.noStroke(),s.ellipse(w,c,2,2),s.stroke(42,252,42,50),s.line(w,c,m,l))}}y.setDetectionCount(y.xPosition,v),y.increment(),this._linescanData.updateData(y.detections)}},this._sketch.nativeElement)}_redraw(){this._p5&&this._p5.redraw()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=vn({type:n,selectors:[["sem-semulate"]],viewQuery:function(t,o){if(t&1&&yl(LE,5),t&2){let y;fs(y=ps())&&(o._sketch=y.first)}},inputs:{parameters:"parameters"},standalone:!0,features:[ui],decls:2,vars:0,consts:[["sketch",""]],template:function(t,o){t&1&&kr(0,"div",null,0)},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})();var xv=(()=>{let r=class r{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=y=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};r.\u0275fac=function(o){return new(o||r)(Bt(So),Bt(zr))},r.\u0275dir=Ar({type:r});let n=r;return n})(),Oh=(()=>{let r=class r extends xv{};r.\u0275fac=(()=>{let t;return function(y){return(t||(t=Ai(r)))(y||r)}})(),r.\u0275dir=Ar({type:r,features:[bn]});let n=r;return n})(),nu=new ct("");var FE={provide:nu,useExisting:oi(()=>iu),multi:!0};function BE(){let n=Bn()?Bn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var UE=new ct(""),iu=(()=>{let r=class r extends xv{constructor(t,o,y){super(t,o),this._compositionMode=y,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!BE())}writeValue(t){let o=t??"";this.setProperty("value",o)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};r.\u0275fac=function(o){return new(o||r)(Bt(So),Bt(zr),Bt(UE,8))},r.\u0275dir=Ar({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,y){o&1&&Nn("input",function(p){return y._handleInput(p.target.value)})("blur",function(){return y.onTouched()})("compositionstart",function(){return y._compositionStart()})("compositionend",function(p){return y._compositionEnd(p.target.value)})},features:[Co([FE]),bn]});let n=r;return n})();var wv=new ct(""),_v=new ct("");function Sv(n){return n!=null}function Cv(n){return ci(n)?rr(n):n}function Ev(n){let r={};return n.forEach(s=>{r=s!=null?Qe(Qe({},r),s):r}),Object.keys(r).length===0?null:r}function Dv(n,r){return r.map(s=>s(n))}function VE(n){return!n.validate}function Mv(n){return n.map(r=>VE(r)?r:s=>r.validate(s))}function GE(n){if(!n)return null;let r=n.filter(Sv);return r.length==0?null:function(s){return Ev(Dv(s,r))}}function jv(n){return n!=null?GE(Mv(n)):null}function HE(n){if(!n)return null;let r=n.filter(Sv);return r.length==0?null:function(s){let t=Dv(s,r).map(Cv);return Ou(t).pipe(pt(Ev))}}function Tv(n){return n!=null?HE(Mv(n)):null}function fv(n,r){return n===null?[r]:Array.isArray(n)?[...n,r]:[n,r]}function Iv(n){return n._rawValidators}function Av(n){return n._rawAsyncValidators}function Ih(n){return n?Array.isArray(n)?n:[n]:[]}function Xl(n,r){return Array.isArray(n)?n.includes(r):n===r}function pv(n,r){let s=Ih(r);return Ih(n).forEach(o=>{Xl(s,o)||s.push(o)}),s}function mv(n,r){return Ih(r).filter(s=>!Xl(n,s))}var Zl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=jv(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Tv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r=void 0){this.control&&this.control.reset(r)}hasError(r,s){return this.control?this.control.hasError(r,s):!1}getError(r,s){return this.control?this.control.getError(r,s):null}},Fo=class extends Zl{get formDirective(){return null}get path(){return null}},zs=class extends Zl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ql=class{constructor(r){this._cd=r}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},zE={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},IO=St(Qe({},zE),{"[class.ng-submitted]":"isSubmitted"}),kv=(()=>{let r=class r extends Ql{constructor(t){super(t)}};r.\u0275fac=function(o){return new(o||r)(Bt(zs,2))},r.\u0275dir=Ar({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,y){o&2&&ml("ng-untouched",y.isUntouched)("ng-touched",y.isTouched)("ng-pristine",y.isPristine)("ng-dirty",y.isDirty)("ng-valid",y.isValid)("ng-invalid",y.isInvalid)("ng-pending",y.isPending)},features:[bn]});let n=r;return n})(),Ov=(()=>{let r=class r extends Ql{constructor(t){super(t)}};r.\u0275fac=function(o){return new(o||r)(Bt(Fo,10))},r.\u0275dir=Ar({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,y){o&2&&ml("ng-untouched",y.isUntouched)("ng-touched",y.isTouched)("ng-pristine",y.isPristine)("ng-dirty",y.isDirty)("ng-valid",y.isValid)("ng-invalid",y.isInvalid)("ng-pending",y.isPending)("ng-submitted",y.isSubmitted)},features:[bn]});let n=r;return n})();var Us="VALID",Yl="INVALID",Lo="PENDING",Vs="DISABLED",hi=class{},Kl=class extends hi{constructor(r,s){super(),this.value=r,this.source=s}},Gs=class extends hi{constructor(r,s){super(),this.pristine=r,this.source=s}},Hs=class extends hi{constructor(r,s){super(),this.touched=r,this.source=s}},No=class extends hi{constructor(r,s){super(),this.status=r,this.source=s}},Ah=class extends hi{constructor(r){super(),this.source=r}},kh=class extends hi{constructor(r){super(),this.source=r}};function Pv(n){return(ou(n)?n.validators:n)||null}function WE(n){return Array.isArray(n)?jv(n):n||null}function Rv(n,r){return(ou(r)?r.asyncValidators:n)||null}function $E(n){return Array.isArray(n)?Tv(n):n||null}function ou(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function qE(n,r,s){let t=n.controls;if(!(r?Object.keys(t):t).length)throw new ut(1e3,"");if(!t[s])throw new ut(1001,"")}function YE(n,r,s){n._forEachChild((t,o)=>{if(s[o]===void 0)throw new ut(1002,"")})}var Jl=class{constructor(r,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ms(()=>this.statusReactive()),this.statusReactive=ds(void 0),this._pristine=ms(()=>this.pristineReactive()),this.pristineReactive=ds(!0),this._touched=ms(()=>this.touchedReactive()),this.touchedReactive=ds(!1),this._events=new vr,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(r),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get status(){return on(this.statusReactive)}set status(r){on(()=>this.statusReactive.set(r))}get valid(){return this.status===Us}get invalid(){return this.status===Yl}get pending(){return this.status==Lo}get disabled(){return this.status===Vs}get enabled(){return this.status!==Vs}get pristine(){return on(this.pristineReactive)}set pristine(r){on(()=>this.pristineReactive.set(r))}get dirty(){return!this.pristine}get touched(){return on(this.touchedReactive)}set touched(r){on(()=>this.touchedReactive.set(r))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._assignValidators(r)}setAsyncValidators(r){this._assignAsyncValidators(r)}addValidators(r){this.setValidators(pv(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(pv(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(mv(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(mv(r,this._rawAsyncValidators))}hasValidator(r){return Xl(this._rawValidators,r)}hasAsyncValidator(r){return Xl(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){let s=this.touched===!1;this.touched=!0;let t=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsTouched(St(Qe({},r),{sourceControl:t})),s&&r.emitEvent!==!1&&this._events.next(new Hs(!0,t))}markAllAsTouched(r={}){this.markAsTouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:this}),this._forEachChild(s=>s.markAllAsTouched(r))}markAsUntouched(r={}){let s=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=r.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:r.emitEvent,sourceControl:t})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,t),s&&r.emitEvent!==!1&&this._events.next(new Hs(!1,t))}markAsDirty(r={}){let s=this.pristine===!0;this.pristine=!1;let t=r.sourceControl??this;this._parent&&!r.onlySelf&&this._parent.markAsDirty(St(Qe({},r),{sourceControl:t})),s&&r.emitEvent!==!1&&this._events.next(new Gs(!1,t))}markAsPristine(r={}){let s=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=r.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:r.emitEvent})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r,t),s&&r.emitEvent!==!1&&this._events.next(new Gs(!0,t))}markAsPending(r={}){this.status=Lo;let s=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new No(this.status,s)),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.markAsPending(St(Qe({},r),{sourceControl:s}))}disable(r={}){let s=this._parentMarkedDirty(r.onlySelf);this.status=Vs,this.errors=null,this._forEachChild(o=>{o.disable(St(Qe({},r),{onlySelf:!0}))}),this._updateValue();let t=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new Kl(this.value,t)),this._events.next(new No(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(St(Qe({},r),{skipPristineCheck:s}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){let s=this._parentMarkedDirty(r.onlySelf);this.status=Us,this._forEachChild(t=>{t.enable(St(Qe({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(St(Qe({},r),{skipPristineCheck:s}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(r,s){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine({},s),this._parent._updateTouched({},s))}setParent(r){this._parent=r}getRawValue(){return this.value}updateValueAndValidity(r={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Us||this.status===Lo)&&this._runAsyncValidator(t,r.emitEvent)}let s=r.sourceControl??this;r.emitEvent!==!1&&(this._events.next(new Kl(this.value,s)),this._events.next(new No(this.status,s)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(St(Qe({},r),{sourceControl:s}))}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vs:Us}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r,s){if(this.asyncValidator){this.status=Lo,this._hasOwnPendingAsyncValidator={emitEvent:s!==!1};let t=Cv(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:s,shouldHaveEmitted:r})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let r=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,r}return!1}setErrors(r,s={}){this.errors=r,this._updateControlsErrors(s.emitEvent!==!1,this,s.shouldHaveEmitted)}get(r){let s=r;return s==null||(Array.isArray(s)||(s=s.split(".")),s.length===0)?null:s.reduce((t,o)=>t&&t._find(o),this)}getError(r,s){let t=s?this.get(s):this;return t&&t.errors?t.errors[r]:null}hasError(r,s){return!!this.getError(r,s)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r,s,t){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),(r||t)&&this._events.next(new No(this.status,s)),this._parent&&this._parent._updateControlsErrors(r,s,t)}_initObservables(){this.valueChanges=new Yt,this.statusChanges=new Yt}_calculateStatus(){return this._allControlsDisabled()?Vs:this.errors?Yl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lo)?Lo:this._anyControlsHaveStatus(Yl)?Yl:Us}_anyControlsHaveStatus(r){return this._anyControls(s=>s.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r,s){let t=!this._anyControlsDirty(),o=this.pristine!==t;this.pristine=t,this._parent&&!r.onlySelf&&this._parent._updatePristine(r,s),o&&this._events.next(new Gs(this.pristine,s))}_updateTouched(r={},s){this.touched=this._anyControlsTouched(),this._events.next(new Hs(this.touched,s)),this._parent&&!r.onlySelf&&this._parent._updateTouched(r,s)}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){ou(r)&&r.updateOn!=null&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){let s=this._parent&&this._parent.dirty;return!r&&!!s&&!this._parent._anyControlsDirty()}_find(r){return null}_assignValidators(r){this._rawValidators=Array.isArray(r)?r.slice():r,this._composedValidatorFn=WE(this._rawValidators)}_assignAsyncValidators(r){this._rawAsyncValidators=Array.isArray(r)?r.slice():r,this._composedAsyncValidatorFn=$E(this._rawAsyncValidators)}},eu=class extends Jl{constructor(r,s,t){super(Pv(s),Rv(t,s)),this.controls=r,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,s){return this.controls[r]?this.controls[r]:(this.controls[r]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(r,s,t={}){this.registerControl(r,s),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(r,s={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(r,s,t={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],s&&this.registerControl(r,s),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,s={}){YE(this,!0,r),Object.keys(r).forEach(t=>{qE(this,!0,t),this.controls[t].setValue(r[t],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(r,s={}){r!=null&&(Object.keys(r).forEach(t=>{let o=this.controls[t];o&&o.patchValue(r[t],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(r={},s={}){this._forEachChild((t,o)=>{t.reset(r?r[o]:null,{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s,this),this._updateTouched(s,this),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(r,s,t)=>(r[t]=s.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(s,t)=>t._syncPendingControls()?!0:s);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(s=>{let t=this.controls[s];t&&r(t,s)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(let[s,t]of Object.entries(this.controls))if(this.contains(s)&&r(t))return!0;return!1}_reduceValue(){let r={};return this._reduceChildren(r,(s,t,o)=>((t.enabled||this.disabled)&&(s[o]=t.value),s))}_reduceChildren(r,s){let t=r;return this._forEachChild((o,y)=>{t=s(t,o,y)}),t}_allControlsDisabled(){for(let r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(r){return this.controls.hasOwnProperty(r)?this.controls[r]:null}};var Lv=new ct("CallSetDisabledState",{providedIn:"root",factory:()=>Ph}),Ph="always";function XE(n,r){return[...r.path,n]}function gv(n,r,s=Ph){Rh(n,r),r.valueAccessor.writeValue(n.value),(n.disabled||s==="always")&&r.valueAccessor.setDisabledState?.(n.disabled),QE(n,r),JE(n,r),KE(n,r),ZE(n,r)}function yv(n,r,s=!0){let t=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(t),r.valueAccessor.registerOnTouched(t)),ru(n,r),n&&(r._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function tu(n,r){n.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(r)})}function ZE(n,r){if(r.valueAccessor.setDisabledState){let s=t=>{r.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(s),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(s)})}}function Rh(n,r){let s=Iv(n);r.validator!==null?n.setValidators(fv(s,r.validator)):typeof s=="function"&&n.setValidators([s]);let t=Av(n);r.asyncValidator!==null?n.setAsyncValidators(fv(t,r.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let o=()=>n.updateValueAndValidity();tu(r._rawValidators,o),tu(r._rawAsyncValidators,o)}function ru(n,r){let s=!1;if(n!==null){if(r.validator!==null){let o=Iv(n);if(Array.isArray(o)&&o.length>0){let y=o.filter(i=>i!==r.validator);y.length!==o.length&&(s=!0,n.setValidators(y))}}if(r.asyncValidator!==null){let o=Av(n);if(Array.isArray(o)&&o.length>0){let y=o.filter(i=>i!==r.asyncValidator);y.length!==o.length&&(s=!0,n.setAsyncValidators(y))}}}let t=()=>{};return tu(r._rawValidators,t),tu(r._rawAsyncValidators,t),s}function QE(n,r){r.valueAccessor.registerOnChange(s=>{n._pendingValue=s,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Nv(n,r)})}function KE(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Nv(n,r),n.updateOn!=="submit"&&n.markAsTouched()})}function Nv(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function JE(n,r){let s=(t,o)=>{r.valueAccessor.writeValue(t),o&&r.viewToModelUpdate(t)};n.registerOnChange(s),r._registerOnDestroy(()=>{n._unregisterOnChange(s)})}function eD(n,r){n==null,Rh(n,r)}function tD(n,r){return ru(n,r)}function rD(n,r){if(!n.hasOwnProperty("model"))return!1;let s=n.model;return s.isFirstChange()?!0:!Object.is(r,s.currentValue)}function nD(n){return Object.getPrototypeOf(n.constructor)===Oh}function iD(n,r){n._syncPendingControls(),r.forEach(s=>{let t=s.control;t.updateOn==="submit"&&t._pendingChange&&(s.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function oD(n,r){if(!r)return null;Array.isArray(r);let s,t,o;return r.forEach(y=>{y.constructor===iu?s=y:nD(y)?t=y:o=y}),o||t||s||null}function sD(n,r){let s=n.indexOf(r);s>-1&&n.splice(s,1)}function vv(n,r){let s=n.indexOf(r);s>-1&&n.splice(s,1)}function bv(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var fi=class extends Jl{constructor(r=null,s,t){super(Pv(s),Rv(t,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ou(s)&&(s.nonNullable||s.initialValueIsDefault)&&(bv(r)?this.defaultValue=r.value:this.defaultValue=r)}setValue(r,s={}){this.value=this._pendingValue=r,this._onChange.length&&s.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,s.emitViewToModelChange!==!1)),this.updateValueAndValidity(s)}patchValue(r,s={}){this.setValue(r,s)}reset(r=this.defaultValue,s={}){this._applyFormState(r),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){vv(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){vv(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(r){bv(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}};var aD=n=>n instanceof fi;var lD={provide:nu,useExisting:oi(()=>Lh),multi:!0},Lh=(()=>{let r=class r extends Oh{writeValue(t){let o=t??"";this.setProperty("value",o)}registerOnChange(t){this.onChange=o=>{t(o==""?null:parseFloat(o))}}};r.\u0275fac=(()=>{let t;return function(y){return(t||(t=Ai(r)))(y||r)}})(),r.\u0275dir=Ar({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(o,y){o&1&&Nn("input",function(p){return y.onChange(p.target.value)})("blur",function(){return y.onTouched()})},features:[Co([lD]),bn]});let n=r;return n})();var uD={provide:nu,useExisting:oi(()=>Nh),multi:!0},Nh=(()=>{let r=class r extends Oh{writeValue(t){this.setProperty("value",parseFloat(t))}registerOnChange(t){this.onChange=o=>{t(o==""?null:parseFloat(o))}}};r.\u0275fac=(()=>{let t;return function(y){return(t||(t=Ai(r)))(y||r)}})(),r.\u0275dir=Ar({type:r,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(o,y){o&1&&Nn("change",function(p){return y.onChange(p.target.value)})("input",function(p){return y.onChange(p.target.value)})("blur",function(){return y.onTouched()})},features:[Co([uD]),bn]});let n=r;return n})(),Fv=new ct("");var cD={provide:Fo,useExisting:oi(()=>Fh)},Fh=(()=>{let r=class r extends Fo{get submitted(){return on(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,o,y){super(),this.callSetDisabledState=y,this._submitted=ms(()=>this._submittedReactive()),this._submittedReactive=ds(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Yt,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ru(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let o=this.form.get(t.path);return gv(o,t,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){yv(t.control||null,t,!1),sD(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this._submittedReactive.set(!0),iD(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ah(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new kh(this.form))}_updateDomValue(){this.directives.forEach(t=>{let o=t.control,y=this.form.get(t.path);o!==y&&(yv(o||null,t),aD(y)&&(gv(y,t,this.callSetDisabledState),t.control=y))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let o=this.form.get(t.path);eD(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let o=this.form.get(t.path);o&&tD(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rh(this.form,this),this._oldForm&&ru(this._oldForm,this)}_checkFormPresent(){this.form}};r.\u0275fac=function(o){return new(o||r)(Bt(wv,10),Bt(_v,10),Bt(Lv,8))},r.\u0275dir=Ar({type:r,selectors:[["","formGroup",""]],hostBindings:function(o,y){o&1&&Nn("submit",function(p){return y.onSubmit(p)})("reset",function(){return y.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Co([cD]),bn,Rn]});let n=r;return n})();var dD={provide:zs,useExisting:oi(()=>Bh)},Bh=(()=>{let r=class r extends zs{set isDisabled(t){}constructor(t,o,y,i,p){super(),this._ngModelWarningConfig=p,this._added=!1,this.name=null,this.update=new Yt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(y),this.valueAccessor=oD(this,i)}ngOnChanges(t){this._added||this._setUpControl(),rD(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return XE(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};r._ngModelWarningSentOnce=!1,r.\u0275fac=function(o){return new(o||r)(Bt(Fo,13),Bt(wv,10),Bt(_v,10),Bt(nu,10),Bt(Fv,8))},r.\u0275dir=Ar({type:r,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Co([dD]),bn,Rn]});let n=r;return n})();var hD=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=ai({type:r}),r.\u0275inj=si({});let n=r;return n})();var Bv=(()=>{let r=class r{static withConfig(t){return{ngModule:r,providers:[{provide:Fv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Lv,useValue:t.callSetDisabledState??Ph}]}}};r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=ai({type:r}),r.\u0275inj=si({imports:[hD]});let n=r;return n})();var Uv=(()=>{let r=class r{constructor(t,o){this.el=t,this._zone=o,this.updateChange=new Yt(!0),this.chartInstance=new Yt}ngOnChanges(t){let o=t.update&&t.update.currentValue;(t.options||o)&&(this.wrappedUpdateOrCreateChart(),o&&this.updateChange.emit(!1))}wrappedUpdateOrCreateChart(){this.runOutsideAngular?this._zone.runOutsideAngular(()=>{this.updateOrCreateChart()}):this.updateOrCreateChart()}updateOrCreateChart(){this.chart&&this.chart.update?this.chart.update(this.options,!0,this.oneToOne||!1):(this.chart=this.Highcharts[this.constructorType||"chart"](this.el.nativeElement,this.options,this.callbackFunction||null),this.chartInstance.emit(this.chart))}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=null,this.chartInstance.emit(this.chart))}};r.\u0275fac=function(o){return new(o||r)(Bt(zr),Bt(Jt))},r.\u0275cmp=vn({type:r,selectors:[["highcharts-chart"]],inputs:{Highcharts:"Highcharts",constructorType:"constructorType",callbackFunction:"callbackFunction",oneToOne:"oneToOne",runOutsideAngular:"runOutsideAngular",options:"options",update:"update"},outputs:{updateChange:"updateChange",chartInstance:"chartInstance"},features:[Rn],decls:0,vars:0,template:function(o,y){},encapsulation:2});let n=r;return n})(),Vv=(()=>{let r=class r{};r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=ai({type:r}),r.\u0275inj=si({});let n=r;return n})();var mD=jf(Hv());function gD(n,r){if(n&1){let s=$g();gr(0,"highcharts-chart",1),Md("updateChange",function(o){Xc(s);let y=gl();return Yg(y.updateFlag,o)||(y.updateFlag=o),Zc(o)}),Nn("chartInstance",function(o){Xc(s);let y=gl();return Zc(y.setChartRef(o))}),qt()}if(n&2){let s=r.ngIf,t=gl();Ln("Highcharts",t.Highcharts)("options",s),Dd("update",t.updateFlag),Ln("oneToOne",!0)("runOutsideAngular",!0)}}var zv=(()=>{class n{Highcharts=mD;_chartRef;_linescanData=Je(ql);updateFlag=!1;_options$=this._linescanData.detections$.pipe(pt(s=>({chart:{animation:!1,spacingTop:0,spacingRight:0,spacingBottom:0,spacingLeft:0},credits:{enabled:!1},title:{text:void 0},yAxis:{labels:{enabled:!1},title:{text:void 0}},xAxis:{labels:{enabled:!1},title:{text:void 0}},legend:{enabled:!1},series:[{data:[...s],type:"line"}]})));setChartRef(s){this._chartRef=s}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=vn({type:n,selectors:[["sem-linescan"]],standalone:!0,features:[ui],decls:2,vars:3,consts:[["constructorType","chart","style","width: 100%; height: 200px; display: block",3,"Highcharts","options","update","oneToOne","runOutsideAngular","updateChange","chartInstance",4,"ngIf"],["constructorType","chart",2,"width","100%","height","200px","display","block",3,"updateChange","chartInstance","Highcharts","options","update","oneToOne","runOutsideAngular"]],template:function(t,o){t&1&&(hs(0,gD,1,5,"highcharts-chart",0),vl(1,"async")),t&2&&Ln("ngIf",bl(1,1,o._options$))},dependencies:[Vv,Uv,El,Cl],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return n})();var yD=["sketchContainer"];function vD(n,r){if(n&1&&(Cd(0),gr(1,"h2",19),Nr(2,"SEM Simulation"),qt(),kr(3,"sem-semulate",21),Ed()),n&2){let s=r.ngIf;dl(3),Ln("parameters",s)}}var Wv=(()=>{class n{formGroup=new eu({numLines:new fi(3),ivRadius:new fi(10),ivDepth:new fi(10),electronsPerFrame:new fi(1e3),energyMean:new fi(50),energyStdDev:new fi(20)});params$;_sketchContainer;ngAfterViewInit(){let s=Yo(window,"resize").pipe(yi(0),pt(()=>this._getSketchWidth())),t=this.formGroup.valueChanges.pipe(yi(this.formGroup.value));this.params$=Ji([t,s]).pipe(pt(([o,y])=>({canvas:{width:y,height:200},numLines:o.numLines,frameRate:60,interactionVolume:{radius:o.ivRadius,depth:o.ivDepth},secondaryElectrons:{numPerFrame:o.electronsPerFrame,energyMean:o.energyMean,energyStdDev:o.energyStdDev}})))}_getSketchWidth(){return this._sketchContainer?.nativeElement?.offsetWidth-64}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=vn({type:n,selectors:[["sem-root"]],viewQuery:function(t,o){if(t&1&&yl(yD,5),t&2){let y;fs(y=ps())&&(o._sketchContainer=y.first)}},standalone:!0,features:[ui],decls:58,vars:4,consts:[["sketchContainer",""],[1,"navbar","bg-base-100","border-b-primary","border-b"],[1,"btn","btn-ghost","text-xl"],[1,"flex","flex-col-reverse","md:flex-row","w-full","h-full","relative","md:h-[calc(100vh-65px)]"],[1,"p-4","grid","grid-cols-1","min-w-[400px]","z-10","divide-y",3,"formGroup"],[1,"py-8"],[1,"text-base","font-semibold","leading-7","text-gray-900"],[1,"form-control","w-full"],[1,"label"],[1,"label-text","text-sm","text-gray-500"],["formControlName","numLines","type","number",1,"input","input-bordered","w-full"],["formControlName","ivDepth","type","range","min","2","max","30","step","2",1,"range"],["formControlName","ivRadius","type","range","min","2","max","20","step","2",1,"range"],["formControlName","electronsPerFrame","type","number",1,"input","input-bordered","w-full"],["formControlName","energyMean","type","range","min","5","max","100","step","5",1,"range"],["formControlName","energyStdDev","type","range","min","2","max","60","step","2",1,"range"],[1,"flex","flex-col","gap-4","bg-gray-200","p-4","w-full"],[1,"card","bg-base-100","shadow-xl"],[1,"card-body"],[1,"card-title","text-base"],[4,"ngIf"],[3,"parameters"]],template:function(t,o){t&1&&(gr(0,"div",1)(1,"a",2),Nr(2,"SEMulate"),qt()(),gr(3,"main",3)(4,"div",4)(5,"div",5)(6,"div")(7,"h2",6),Nr(8," Pattern Geometry "),qt()(),gr(9,"label",7)(10,"div",8)(11,"span",9),Nr(12,"NUMBER OF LINES"),qt()(),kr(13,"input",10),qt()(),gr(14,"div",5)(15,"div")(16,"h2",6),Nr(17," Interaction Volume "),qt()(),gr(18,"label",7)(19,"div",8)(20,"span",9),Nr(21,"DEPTH"),qt()(),kr(22,"input",11),qt(),gr(23,"label",7)(24,"div",8)(25,"span",9),Nr(26,"RADIUS"),qt()(),kr(27,"input",12),qt()(),gr(28,"div",5)(29,"div")(30,"h2",6),Nr(31," Secondary Electrons "),qt()(),gr(32,"label",7)(33,"div",8)(34,"span",9),Nr(35," ELECTRONS PER FRAME "),qt()(),kr(36,"input",13),qt(),gr(37,"label",7)(38,"div",8)(39,"span",9),Nr(40,"ENERGY MEAN"),qt()(),kr(41,"input",14),qt(),gr(42,"label",7)(43,"div",8)(44,"span",9),Nr(45,"ENERGY STD DEV"),qt()(),kr(46,"input",15),qt()()(),gr(47,"div",16)(48,"div",17)(49,"div",18)(50,"h2",19),Nr(51," Secondary Electron Detections vs Position "),qt(),kr(52,"sem-linescan"),qt()(),gr(53,"div",17)(54,"div",18,0),hs(56,vD,4,1,"ng-container",20),vl(57,"async"),qt()()()()),t&2&&(dl(4),Ln("formGroup",o.formGroup),dl(52),Ln("ngIf",bl(57,2,o.params$)))},dependencies:[hv,Bv,iu,Lh,Nh,kv,Ov,Fh,Bh,El,zv,Cl]})}return n})();Sy(Wv,lv).catch(n=>console.error(n));
